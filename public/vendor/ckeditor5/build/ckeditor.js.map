{"version":3,"file":"ckeditor.js","sources":["webpack://DecoupledDocumentEditor/ckeditor.js"],"sourcesContent":["/*!\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\n(function(e){const t=e[\"id\"]=e[\"id\"]||{};t.dictionary=Object.assign(t.dictionary||{},{\"%0 of %1\":\"%0 dari %1\",\"Align center\":\"Rata tengah\",\"Align left\":\"Rata kiri\",\"Align right\":\"Rata kanan\",Aquamarine:\"Biru laut\",Big:\"Besar\",Black:\"Hitam\",\"Block quote\":\"Kutipan\",Blue:\"Biru\",\"Blue marker\":\"Marka biru\",Bold:\"Tebal\",\"Bulleted List\":\"Daftar Tak Berangka\",Cancel:\"Batal\",\"Cannot upload file:\":\"Tidak dapat mengunggah berkas:\",\"Centered image\":\"Gambar rata tengah\",\"Change image text alternative\":\"Ganti alternatif teks gambar\",\"Characters: %0\":\"Karakter: %0\",\"Choose heading\":\"Pilih tajuk\",Code:\"Kode\",Column:\"Kolom\",\"Could not insert image at the current position.\":\"Tidak dapat menyisipkan gambar pada posisi ini.\",\"Could not obtain resized image URL.\":\"Gagal mendapatkan URL gambar terukur\",\"Decrease indent\":\"Kurangi indentasi\",Default:\"Bawaan\",\"Delete column\":\"Hapus kolom\",\"Delete row\":\"Hapus baris\",\"Dim grey\":\"Kelabu gelap\",\"Document colors\":\"Warna dokumen\",Downloadable:\"Dapat diunduh\",\"Dropdown toolbar\":\"Alat dropdown\",\"Edit link\":\"Sunting tautan\",\"Editor toolbar\":\"Alat editor\",\"Enter image caption\":\"Tambahkan deskripsi gambar\",\"Font Color\":\"Warna Huruf\",\"Font Family\":\"Jenis Huruf\",\"Font Size\":\"Ukuran Huruf\",\"Full size image\":\"Gambar ukuran penuh\",Green:\"Hijau\",\"Green marker\":\"Marka hijau\",\"Green pen\":\"Pena hijau\",Grey:\"Kelabu\",\"Header column\":\"Kolom tajuk\",\"Header row\":\"Baris tajuk\",Heading:\"Tajuk\",\"Heading 1\":\"Tajuk 1\",\"Heading 2\":\"Tajuk 2\",\"Heading 3\":\"Tajuk 3\",\"Heading 4\":\"Tajuk 4\",\"Heading 5\":\"Tajuk 5\",\"Heading 6\":\"Tajuk 6\",Highlight:\"Tanda\",\"Horizontal line\":\"Garis horizontal\",Huge:\"Sangat Besar\",\"Image toolbar\":\"Alat gambar\",\"image widget\":\"widget gambar\",\"Increase indent\":\"Tambah indentasi\",\"Insert code block\":\"Sisipkan blok kode\",\"Insert column left\":\"Sisipkan kolom ke kiri\",\"Insert column right\":\"Sisipkan kolom ke kanan\",\"Insert image\":\"Sisipkan gambar\",\"Insert image or file\":\"Sisipkan gambar atau berkas\",\"Insert media\":\"Sisipkan media\",\"Insert paragraph after block\":\"\",\"Insert paragraph before block\":\"\",\"Insert row above\":\"Sisipkan baris ke atas\",\"Insert row below\":\"Sisipkan baris ke bawah\",\"Insert table\":\"Sisipkan tabel\",\"Inserting image failed\":\"Gagal menyisipkan gambar\",Italic:\"Miring\",Justify:\"Rata kanan-kiri\",\"Left aligned image\":\"Gambar rata kiri\",\"Light blue\":\"Biru terang\",\"Light green\":\"Hijau terang\",\"Light grey\":\"Kelabu terang\",Link:\"Tautan\",\"Link URL\":\"URL tautan\",\"Media URL\":\"URL Media\",\"media widget\":\"widget media\",\"Merge cell down\":\"Gabungkan sel ke bawah\",\"Merge cell left\":\"Gabungkan sel ke kiri\",\"Merge cell right\":\"Gabungkan sel ke kanan\",\"Merge cell up\":\"Gabungkan sel ke atas\",\"Merge cells\":\"Gabungkan sel\",\"Navigate editable regions\":\"Posisikan bagian-bagian penyuntingan\",Next:\"Berikutnya\",\"Next editable region\":\"Bagian penyuntingan berikutnya\",\"Numbered List\":\"Daftar Berangka\",\"Open in a new tab\":\"Buka di tab baru\",\"Open link in new tab\":\"Buka tautan di tab baru\",Orange:\"Jingga\",\"Page break\":\"Henti halaman\",Paragraph:\"Paragraf\",\"Paste the media URL in the input.\":\"Tempelkan URL ke dalam bidang masukan.\",\"Pink marker\":\"Marka merah jambu\",\"Plain text\":\"Teks mentah\",Previous:\"Sebelumnya\",\"Previous editable region\":\"Bagian penyuntingan sebelumnya\",Purple:\"Ungu\",Red:\"Merah\",\"Red pen\":\"Pena merah\",Redo:\"Lakukan lagi\",\"Remove color\":\"Hapus warna\",\"Remove highlight\":\"Hapus tanda\",\"Rich Text Editor, %0\":\"Editor Teks Kaya, %0\",\"Right aligned image\":\"Gambar rata kanan\",Row:\"Baris\",Save:\"Simpan\",\"Saving changes\":\"Menyimpan perubahan\",\"Select column\":\"\",\"Select row\":\"\",\"Selecting resized image failed\":\"Gagal memilih gambar terukur\",\"Show more items\":\"\",\"Side image\":\"Gambar sisi\",Small:\"Kecil\",\"Split cell horizontally\":\"Bagikan sel secara horizontal\",\"Split cell vertically\":\"Bagikan sel secara vertikal\",Strikethrough:\"Coret\",Subscript:\"Subskrip\",Superscript:\"Superskrip\",\"Table toolbar\":\"Alat tabel\",\"Text alignment\":\"Perataan teks\",\"Text alignment toolbar\":\"Alat perataan teks\",\"Text alternative\":\"Alternatif teks\",\"Text highlight toolbar\":\"Alat penanda teks\",\"The URL must not be empty.\":\"URL tidak boleh kosong.\",\"This link has no URL\":\"Tautan ini tidak memiliki URL\",\"This media URL is not supported.\":\"URL media ini tidak didukung.\",Tiny:\"Sangat Kecil\",\"Tip: Paste the URL into the content to embed faster.\":\"Tip: Tempelkan URL ke bagian konten untuk sisip cepat.\",\"To-do List\":\"Daftar untuk-dikerjakan\",Turquoise:\"Turkish\",Underline:\"Garis bawah\",Undo:\"Batal\",Unlink:\"Hapus tautan\",\"Upload failed\":\"Gagal mengunggah\",\"Upload in progress\":\"Sedang mengunggah\",White:\"Putih\",\"Widget toolbar\":\"Alat widget\",\"Words: %0\":\"Kata: %0\",Yellow:\"Kuning\",\"Yellow marker\":\"Marka kuning\"});t.getPluralForm=function(e){return 0}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));(function e(t,n){if(typeof exports===\"object\"&&typeof module===\"object\")module.exports=n();else if(typeof define===\"function\"&&define.amd)define([],n);else if(typeof exports===\"object\")exports[\"DecoupledDocumentEditor\"]=n();else t[\"DecoupledDocumentEditor\"]=n()})(window,(function(){return function(e){var t={};function n(i){if(t[i]){return t[i].exports}var r=t[i]={i:i,l:false,exports:{}};e[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=e;n.c=t;n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:i})}};n.r=function(e){if(typeof Symbol!==\"undefined\"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"})}Object.defineProperty(e,\"__esModule\",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e===\"object\"&&e&&e.__esModule)return e;var i=Object.create(null);n.r(i);Object.defineProperty(i,\"default\",{enumerable:true,value:e});if(t&2&&typeof e!=\"string\")for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i};n.n=function(e){var t=e&&e.__esModule?function t(){return e[\"default\"]}:function t(){return e};n.d(t,\"a\",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p=\"\";return n(n.s=487)}([function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return r}));n.d(t,\"a\",(function(){return o}));const i=\"https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html\";class r extends Error{constructor(e,t,n){e=o(e);if(n){e+=\" \"+JSON.stringify(n)}super(e);this.name=\"CKEditorError\";this.context=t;this.data=n}is(e){return e===\"CKEditorError\"}static rethrowUnexpectedError(e,t){if(e.is&&e.is(\"CKEditorError\")){throw e}const n=new r(e.message,t);n.stack=e.stack;throw n}}function o(e){const t=e.match(/^([^:]+):/);if(!t){return e}return e+` Read more: ${i}#error-${t[1]}\\n`}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(11);var r=n(4);class o{constructor(e){this.editor=e;this.set(\"isEnabled\",true);this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e);if(this._disableStack.size==1){this.on(\"set:isEnabled\",s,{priority:\"highest\"});this.isEnabled=false}}clearForceDisabled(e){this._disableStack.delete(e);if(this._disableStack.size==0){this.off(\"set:isEnabled\",s);this.isEnabled=true}}destroy(){this.stopListening()}static get isContextPlugin(){return false}}Object(r[\"a\"])(o,i[\"a\"]);function s(e){e.return=false;e.stop()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(5);var r=n(50);var o=n(0);var s=n(40);class a{constructor(e,t=null){this.start=i[\"a\"]._createAt(e);this.end=t?i[\"a\"]._createAt(t):i[\"a\"]._createAt(e);this.start.stickiness=this.isCollapsed?\"toNone\":\"toNext\";this.end.stickiness=this.isCollapsed?\"toNone\":\"toPrevious\"}*[Symbol.iterator](){yield*new r[\"a\"]({boundaries:this,ignoreElementEnd:true})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath();const t=this.end.getParentPath();return Object(s[\"a\"])(e,t)==\"same\"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=false){if(e.isCollapsed){t=false}const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start);const i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}containsItem(e){const t=i[\"a\"]._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}is(e){return e===\"range\"||e===\"model:range\"}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];if(this.isIntersecting(e)){if(this.containsPosition(e.start)){t.push(new a(this.start,e.start))}if(this.containsPosition(e.end)){t.push(new a(e.end,this.end))}}else{t.push(new a(this.start,this.end))}return t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start;let n=this.end;if(this.containsPosition(e.start)){t=e.start}if(this.containsPosition(e.end)){n=e.end}return new a(t,n)}return null}getJoined(e,t=false){let n=this.isIntersecting(e);if(!n){if(this.start.isBefore(e.start)){n=t?this.end.isTouching(e.start):this.end.isEqual(e.start)}else{n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)}}if(!n){return null}let i=this.start;let r=this.end;if(e.start.isBefore(i)){i=e.start}if(e.end.isAfter(r)){r=e.end}return new a(i,r)}getMinimalFlatRanges(){const e=[];const t=this.start.getCommonPath(this.end).length;const n=i[\"a\"]._createAt(this.start);let r=n.parent;while(n.path.length>t+1){const t=r.maxOffset-n.offset;if(t!==0){e.push(new a(n,n.getShiftedBy(t)))}n.path=n.path.slice(0,-1);n.offset++;r=r.parent}while(n.path.length<=this.end.path.length){const t=this.end.path[n.path.length-1];const i=t-n.offset;if(i!==0){e.push(new a(n,n.getShiftedBy(i)))}n.offset=t;n.path.push(0)}return e}getWalker(e={}){e.boundaries=this;return new r[\"a\"](e)}*getItems(e={}){e.boundaries=this;e.ignoreElementEnd=true;const t=new r[\"a\"](e);for(const e of t){yield e.item}}*getPositions(e={}){e.boundaries=this;const t=new r[\"a\"](e);yield t.position;for(const e of t){yield e.nextPosition}}getTransformedByOperation(e){switch(e.type){case\"insert\":return this._getTransformedByInsertOperation(e);case\"move\":case\"remove\":case\"reinsert\":return this._getTransformedByMoveOperation(e);case\"split\":return[this._getTransformedBySplitOperation(e)];case\"merge\":return[this._getTransformedByMergeOperation(e)]}return[new a(this.start,this.end)]}getTransformedByOperations(e){const t=[new a(this.start,this.end)];for(const n of e){for(let e=0;e<t.length;e++){const i=t[e].getTransformedByOperation(n);t.splice(e,1,...i);e+=i.length-1}}for(let e=0;e<t.length;e++){const n=t[e];for(let i=e+1;i<t.length;i++){const e=t[i];if(n.containsRange(e)||e.containsRange(n)||n.isEqual(e)){t.splice(i,1)}}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}const e=this.start.nodeAfter;const t=this.end.nodeBefore;if(e&&e.is(\"element\")&&e===t){return e}return null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=false){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=false){const n=e.sourcePosition;const i=e.howMany;const r=e.targetPosition;return this._getTransformedByMove(n,r,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);if(this.end.isEqual(e.insertionPosition)){n=this.end.getShiftedBy(1)}if(t.root!=n.root){n=this.end.getShiftedBy(-1)}return new a(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition)){return new a(this.start)}let t=this.start._getTransformedByMergeOperation(e);let n=this.end._getTransformedByMergeOperation(e);if(t.root!=n.root){n=this.end.getShiftedBy(-1)}if(t.isAfter(n)){if(e.sourcePosition.isBefore(e.targetPosition)){t=i[\"a\"]._createAt(n);t.offset=0}else{if(!e.deletionPosition.isEqual(t)){n=e.deletionPosition}t=e.targetPosition}return new a(t,n)}return new a(t,n)}_getTransformedByInsertion(e,t,n=false){if(n&&this.containsPosition(e)){return[new a(this.start,e),new a(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))]}else{const n=new a(this.start,this.end);n.start=n.start._getTransformedByInsertion(e,t);n.end=n.end._getTransformedByInsertion(e,t);return[n]}}_getTransformedByMove(e,t,n,i=false){if(this.isCollapsed){const i=this.start._getTransformedByMove(e,t,n);return[new a(i)]}const r=a._createFromPositionAndShift(e,n);const o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i){if(r.containsPosition(this.start)||r.containsPosition(this.end)){const i=this.start._getTransformedByMove(e,t,n);const r=this.end._getTransformedByMove(e,t,n);return[new a(i,r)]}}let s;const c=this.getDifference(r);let l=null;const d=this.getIntersection(r);if(c.length==1){l=new a(c[0].start._getTransformedByDeletion(e,n),c[0].end._getTransformedByDeletion(e,n))}else if(c.length==2){l=new a(this.start,this.end._getTransformedByDeletion(e,n))}if(l){s=l._getTransformedByInsertion(o,n,d!==null||i)}else{s=[]}if(d){const e=new a(d.start._getCombined(r.start,o),d.end._getCombined(r.start,o));if(s.length==2){s.splice(1,0,e)}else{s.push(e)}}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t);let i=this.end._getTransformedByDeletion(e,t);if(n==null&&i==null){return null}if(n==null){n=e}if(i==null){i=e}return new a(n,i)}static _createFromPositionAndShift(e,t){const n=e;const i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return new this(i[\"a\"]._createAt(e,0),i[\"a\"]._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(i[\"a\"]._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0){throw new o[\"b\"](\"range-create-from-ranges-empty-array: At least one range has to be passed.\",null)}else if(e.length==1){return e[0].clone()}const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const n=e.indexOf(t);const r=new this(t.start,t.end);if(n>0){for(let t=n-1;true;t++){if(e[t].end.isEqual(r.start)){r.start=i[\"a\"]._createAt(e[t].start)}else{break}}}for(let t=n+1;t<e.length;t++){if(e[t].start.isEqual(r.end)){r.end=i[\"a\"]._createAt(e[t].end)}else{break}}return r}static fromJSON(e,t){return new this(i[\"a\"].fromJSON(e.start,t),i[\"a\"].fromJSON(e.end,t))}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var i=n(0);var r=n(58);var o=n(61);var s=n(56);var a=n(11);var c=n(12);var l=n(4);var d=n(35);var u=n(277);var h=n.n(u);class f{constructor(e){this.element=null;this.isRendered=false;this.locale=e;this.t=e&&e.t;this._viewCollections=new c[\"a\"];this._unboundChildren=this.createCollection();this._viewCollections.on(\"add\",(t,n)=>{n.locale=e});this.decorate(\"render\")}get bindTemplate(){if(this._bindTemplate){return this._bindTemplate}return this._bindTemplate=o[\"a\"].bind(this,this)}createCollection(e){const t=new r[\"a\"](e);this._viewCollections.add(t);return t}registerChild(e){if(!Object(d[\"a\"])(e)){e=[e]}for(const t of e){this._unboundChildren.add(t)}}deregisterChild(e){if(!Object(d[\"a\"])(e)){e=[e]}for(const t of e){this._unboundChildren.remove(t)}}setTemplate(e){this.template=new o[\"a\"](e)}extendTemplate(e){o[\"a\"].extend(this.template,e)}render(){if(this.isRendered){throw new i[\"b\"](\"ui-view-render-already-rendered: This View has already been rendered.\",this)}if(this.template){this.element=this.template.render();this.registerChild(this.template.getViews())}this.isRendered=true}destroy(){this.stopListening();this._viewCollections.map(e=>e.destroy());if(this.template&&this.template._revertData){this.template.revert(this.element)}}}Object(l[\"a\"])(f,s[\"a\"]);Object(l[\"a\"])(f,a[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e,...t){t.forEach(t=>{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(n=>{if(n in e.prototype){return}const i=Object.getOwnPropertyDescriptor(t,n);i.enumerable=false;Object.defineProperty(e.prototype,n,i)})})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));n.d(t,\"d\",(function(){return c}));n.d(t,\"b\",(function(){return l}));n.d(t,\"c\",(function(){return d}));var i=n(50);var r=n(40);var o=n(0);var s=n(144);class a{constructor(e,t,n=\"toNone\"){if(!e.is(\"element\")&&!e.is(\"documentFragment\")){throw new o[\"b\"](\"model-position-root-invalid: Position root invalid.\",e)}if(!(t instanceof Array)||t.length===0){throw new o[\"b\"](\"model-position-path-incorrect-format: Position path must be an array with at least one item.\",e,{path:t})}if(e.is(\"rootElement\")){t=t.slice()}else{t=[...e.getPath(),...t];e=e.root}this.root=e;this.path=t;this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++){e=e.getChild(e.offsetToIndex(this.path[t]));if(!e){throw new o[\"b\"](\"model-position-path-incorrect: The position's path is incorrect.\",this,{position:this})}}if(e.is(\"$text\")){throw new o[\"b\"](\"model-position-path-incorrect: The position's path is incorrect.\",this,{position:this})}return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return c(this,this.parent)}get nodeAfter(){const e=this.parent;return l(this,e,c(this,e))}get nodeBefore(){const e=this.parent;return d(this,e,c(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root){return\"different\"}const t=Object(r[\"a\"])(this.path,e.path);switch(t){case\"same\":return\"same\";case\"prefix\":return\"before\";case\"extension\":return\"after\";default:return this.path[t]<e.path[t]?\"before\":\"after\"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new i[\"a\"](t);n.skip(e);return n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;if(e.is(\"documentFragment\")){return[e]}else{return e.getAncestors({includeSelf:true})}}findAncestor(e){const t=this.parent;if(t.is(\"element\")){return t.findAncestor(e,{includeSelf:true})}return null}getCommonPath(e){if(this.root!=e.root){return[]}const t=Object(r[\"a\"])(this.path,e.path);const n=typeof t==\"string\"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors();const n=e.getAncestors();let i=0;while(t[i]==n[i]&&t[i]){i++}return i===0?null:t[i-1]}getShiftedBy(e){const t=this.clone();const n=t.offset+e;t.offset=n<0?0:n;return t}isAfter(e){return this.compareWith(e)==\"after\"}isBefore(e){return this.compareWith(e)==\"before\"}isEqual(e){return this.compareWith(e)==\"same\"}isTouching(e){let t=null;let n=null;const i=this.compareWith(e);switch(i){case\"same\":return true;case\"before\":t=a._createAt(this);n=a._createAt(e);break;case\"after\":t=a._createAt(e);n=a._createAt(this);break;default:return false}let r=t.parent;while(t.path.length+n.path.length){if(t.isEqual(n)){return true}if(t.path.length>n.path.length){if(t.offset!==r.maxOffset){return false}t.path=t.path.slice(0,-1);r=r.parent;t.offset++}else{if(n.offset!==0){return false}n.path=n.path.slice(0,-1)}}}is(e){return e===\"position\"||e===\"model:position\"}hasSameParentAs(e){if(this.root!==e.root){return false}const t=this.getParentPath();const n=e.getParentPath();return Object(r[\"a\"])(t,n)==\"same\"}getTransformedByOperation(e){let t;switch(e.type){case\"insert\":t=this._getTransformedByInsertOperation(e);break;case\"move\":case\"remove\":case\"reinsert\":t=this._getTransformedByMoveOperation(e);break;case\"split\":t=this._getTransformedBySplitOperation(e);break;case\"merge\":t=this._getTransformedByMergeOperation(e);break;default:t=a._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;const n=t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness==\"toNext\";if(n){return this._getCombined(e.splitPosition,e.moveTargetPosition)}else{if(e.graveyardPosition){return this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1)}else{return this._getTransformedByInsertion(e.insertionPosition,1)}}}_getTransformedByMergeOperation(e){const t=e.movedRange;const n=t.containsPosition(this)||t.start.isEqual(this);let i;if(n){i=this._getCombined(e.sourcePosition,e.targetPosition);if(e.sourcePosition.isBefore(e.targetPosition)){i=i._getTransformedByDeletion(e.deletionPosition,1)}}else if(this.isEqual(e.deletionPosition)){i=a._createAt(e.deletionPosition)}else{i=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1)}return i}_getTransformedByDeletion(e,t){const n=a._createAt(this);if(this.root!=e.root){return n}if(Object(r[\"a\"])(e.getParentPath(),this.getParentPath())==\"same\"){if(e.offset<this.offset){if(e.offset+t>this.offset){return null}else{n.offset-=t}}}else if(Object(r[\"a\"])(e.getParentPath(),this.getParentPath())==\"prefix\"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i]){return null}else{n.path[i]-=t}}}return n}_getTransformedByInsertion(e,t){const n=a._createAt(this);if(this.root!=e.root){return n}if(Object(r[\"a\"])(e.getParentPath(),this.getParentPath())==\"same\"){if(e.offset<this.offset||e.offset==this.offset&&this.stickiness!=\"toPrevious\"){n.offset+=t}}else if(Object(r[\"a\"])(e.getParentPath(),this.getParentPath())==\"prefix\"){const i=e.path.length-1;if(e.offset<=this.path[i]){n.path[i]+=t}}return n}_getTransformedByMove(e,t,n){t=t._getTransformedByDeletion(e,n);if(e.isEqual(t)){return a._createAt(this)}const i=this._getTransformedByDeletion(e,n);const r=i===null||e.isEqual(this)&&this.stickiness==\"toNext\"||e.getShiftedBy(n).isEqual(this)&&this.stickiness==\"toPrevious\";if(r){return this._getCombined(e,t)}else{return i._getTransformedByInsertion(t,n)}}_getCombined(e,t){const n=e.path.length-1;const i=a._createAt(t);i.stickiness=this.stickiness;i.offset=i.offset+this.path[n]-e.offset;i.path=[...i.path,...this.path.slice(n+1)];return i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n=\"toNone\"){if(e instanceof a){return new a(e.root,e.path,e.stickiness)}else{const i=e;if(t==\"end\"){t=i.maxOffset}else if(t==\"before\"){return this._createBefore(i,n)}else if(t==\"after\"){return this._createAfter(i,n)}else if(t!==0&&!t){throw new o[\"b\"](\"model-createPositionAt-offset-required: \"+\"Model#createPositionAt() requires the offset when the first parameter is a model item.\",[this,e])}if(!i.is(\"element\")&&!i.is(\"documentFragment\")){throw new o[\"b\"](\"model-position-parent-incorrect: Position parent have to be a element or document fragment.\",[this,e])}const r=i.getPath();r.push(t);return new this(i.root,r,n)}}static _createAfter(e,t){if(!e.parent){throw new o[\"b\"](\"model-position-after-root: You cannot make a position after root.\",[this,e],{root:e})}return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent){throw new o[\"b\"](\"model-position-before-root: You cannot make a position before root.\",e,{root:e})}return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root===\"$graveyard\"){const n=new a(t.graveyard,e.path);n.stickiness=e.stickiness;return n}if(!t.getRoot(e.root)){throw new o[\"b\"](\"model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.\",t,{rootName:e.root})}return new a(t.getRoot(e.root),e.path,e.stickiness)}}function c(e,t){const n=t.getChild(t.offsetToIndex(e.offset));if(n&&n.is(\"$text\")&&n.startOffset<e.offset){return n}return null}function l(e,t,n){if(n!==null){return null}return t.getChild(t.offsetToIndex(e.offset))}function d(e,t,n){if(n!==null){return null}return t.getChild(t.offsetToIndex(e.offset)-1)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(11);var r=n(4);class o{constructor(e){this.editor=e;this.set(\"value\",undefined);this.set(\"isEnabled\",false);this._disableStack=new Set;this.decorate(\"execute\");this.listenTo(this.editor.model.document,\"change\",()=>{this.refresh()});this.on(\"execute\",e=>{if(!this.isEnabled){e.stop()}},{priority:\"high\"});this.listenTo(e,\"change:isReadOnly\",(e,t,n)=>{if(n){this.forceDisabled(\"readOnlyMode\")}else{this.clearForceDisabled(\"readOnlyMode\")}})}refresh(){this.isEnabled=true}forceDisabled(e){this._disableStack.add(e);if(this._disableStack.size==1){this.on(\"set:isEnabled\",s,{priority:\"highest\"});this.isEnabled=false}}clearForceDisabled(e){this._disableStack.delete(e);if(this._disableStack.size==0){this.off(\"set:isEnabled\",s);this.refresh()}}execute(){}destroy(){this.stopListening()}}Object(r[\"a\"])(o,i[\"a\"]);function s(e){e.return=false;e.stop()}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(3);var r=n(100);var o=n(129);var s=n(17);var a=n(10);var c=n(287);var l=n.n(c);class d extends i[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;const n=Object(s[\"a\"])();this.set(\"class\");this.set(\"labelStyle\");this.set(\"icon\");this.set(\"isEnabled\",true);this.set(\"isOn\",false);this.set(\"isVisible\",true);this.set(\"isToggleable\",false);this.set(\"keystroke\");this.set(\"label\");this.set(\"tabindex\",-1);this.set(\"tooltip\");this.set(\"tooltipPosition\",\"s\");this.set(\"type\",\"button\");this.set(\"withText\",false);this.set(\"withKeystroke\",false);this.children=this.createCollection();this.tooltipView=this._createTooltipView();this.labelView=this._createLabelView(n);this.iconView=new r[\"a\"];this.iconView.extendTemplate({attributes:{class:\"ck-button__icon\"}});this.keystrokeView=this._createKeystrokeView();this.bind(\"_tooltipString\").to(this,\"tooltip\",this,\"label\",this,\"keystroke\",this._getTooltipString.bind(this));this.setTemplate({tag:\"button\",attributes:{class:[\"ck\",\"ck-button\",t.to(\"class\"),t.if(\"isEnabled\",\"ck-disabled\",e=>!e),t.if(\"isVisible\",\"ck-hidden\",e=>!e),t.to(\"isOn\",e=>e?\"ck-on\":\"ck-off\"),t.if(\"withText\",\"ck-button_with-text\"),t.if(\"withKeystroke\",\"ck-button_with-keystroke\")],type:t.to(\"type\",e=>e?e:\"button\"),tabindex:t.to(\"tabindex\"),\"aria-labelledby\":`ck-editor__aria-label_${n}`,\"aria-disabled\":t.if(\"isEnabled\",true,e=>!e),\"aria-pressed\":t.to(\"isOn\",e=>this.isToggleable?String(e):false)},children:this.children,on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(e=>{if(this.isEnabled){this.fire(\"execute\")}else{e.preventDefault()}})}})}render(){super.render();if(this.icon){this.iconView.bind(\"content\").to(this,\"icon\");this.children.add(this.iconView)}this.children.add(this.tooltipView);this.children.add(this.labelView);if(this.withKeystroke){this.children.add(this.keystrokeView)}}focus(){this.element.focus()}_createTooltipView(){const e=new o[\"a\"];e.bind(\"text\").to(this,\"_tooltipString\");e.bind(\"position\").to(this,\"tooltipPosition\");return e}_createLabelView(e){const t=new i[\"a\"];const n=this.bindTemplate;t.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-button__label\"],style:n.to(\"labelStyle\"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to(\"label\")}]});return t}_createKeystrokeView(){const e=new i[\"a\"];e.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-button__keystroke\"]},children:[{text:this.bindTemplate.to(\"keystroke\",e=>Object(a[\"b\"])(e))}]});return e}_getTooltipString(e,t,n){if(e){if(typeof e==\"string\"){return e}else{if(n){n=Object(a[\"b\"])(n)}if(e instanceof Function){return e(t,n)}else{return`${t}${n?` (${n})`:\"\"}`}}}return\"\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(86);var r=n(40);var o=n(0);var s=n(124);var a=n(144);class c{constructor(e,t){this.parent=e;this.offset=t}get nodeAfter(){if(this.parent.is(\"$text\")){return null}return this.parent.getChild(this.offset)||null}get nodeBefore(){if(this.parent.is(\"$text\")){return null}return this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is(\"$text\")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;while(!(e instanceof s[\"a\"])){if(e.parent){e=e.parent}else{return null}}return e}getShiftedBy(e){const t=c._createAt(this);const n=t.offset+e;t.offset=n<0?0:n;return t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new i[\"a\"](t);n.skip(e);return n.position}getAncestors(){if(this.parent.is(\"documentFragment\")){return[this.parent]}else{return this.parent.getAncestors({includeSelf:true})}}getCommonAncestor(e){const t=this.getAncestors();const n=e.getAncestors();let i=0;while(t[i]==n[i]&&t[i]){i++}return i===0?null:t[i-1]}is(e){return e===\"position\"||e===\"view:position\"}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)==\"before\"}isAfter(e){return this.compareWith(e)==\"after\"}compareWith(e){if(this.root!==e.root){return\"different\"}if(this.isEqual(e)){return\"same\"}const t=this.parent.is(\"node\")?this.parent.getPath():[];const n=e.parent.is(\"node\")?e.parent.getPath():[];t.push(this.offset);n.push(e.offset);const i=Object(r[\"a\"])(t,n);switch(i){case\"prefix\":return\"before\";case\"extension\":return\"after\";default:return t[i]<n[i]?\"before\":\"after\"}}getWalker(e={}){e.startPosition=this;return new i[\"a\"](e)}clone(){return new c(this.parent,this.offset)}static _createAt(e,t){if(e instanceof c){return new this(e.parent,e.offset)}else{const n=e;if(t==\"end\"){t=n.is(\"$text\")?n.data.length:n.childCount}else if(t==\"before\"){return this._createBefore(n)}else if(t==\"after\"){return this._createAfter(n)}else if(t!==0&&!t){throw new o[\"b\"](\"view-createPositionAt-offset-required: \"+\"View#createPositionAt() requires the offset when the first parameter is a view item.\",n)}return new c(n,t)}}static _createAfter(e){if(e.is(\"$textProxy\")){return new c(e.textNode,e.offsetInText+e.data.length)}if(!e.parent){throw new o[\"b\"](\"view-position-after-root: You can not make position after root.\",e,{root:e})}return new c(e.parent,e.index+1)}static _createBefore(e){if(e.is(\"$textProxy\")){return new c(e.textNode,e.offsetInText)}if(!e.parent){throw new o[\"b\"](\"view-position-before-root: You can not make position before root.\",e,{root:e})}return new c(e.parent,e.index)}}},function(e,t,n){\"use strict\";var i=function e(){var t;return function e(){if(typeof t===\"undefined\"){t=Boolean(window&&document&&document.all&&!window.atob)}return t}}();var r=function e(){var t={};return function e(n){if(typeof t[n]===\"undefined\"){var i=document.querySelector(n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement){try{i=i.contentDocument.head}catch(e){i=null}}t[n]=i}return t[n]}}();var o=[];function s(e){var t=-1;for(var n=0;n<o.length;n++){if(o[n].identifier===e){t=n;break}}return t}function a(e,t){var n={};var i=[];for(var r=0;r<e.length;r++){var a=e[r];var c=t.base?a[0]+t.base:a[0];var l=n[c]||0;var d=\"\".concat(c,\" \").concat(l);n[c]=l+1;var u=s(d);var h={css:a[1],media:a[2],sourceMap:a[3]};if(u!==-1){o[u].references++;o[u].updater(h)}else{o.push({identifier:d,updater:g(h,t),references:1})}i.push(d)}return i}function c(e){var t=document.createElement(\"style\");var i=e.attributes||{};if(typeof i.nonce===\"undefined\"){var o=true?n.nc:undefined;if(o){i.nonce=o}}Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])}));if(typeof e.insert===\"function\"){e.insert(t)}else{var s=r(e.insert||\"head\");if(!s){throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\")}s.appendChild(t)}return t}function l(e){if(e.parentNode===null){return false}e.parentNode.removeChild(e)}var d=function e(){var t=[];return function e(n,i){t[n]=i;return t.filter(Boolean).join(\"\\n\")}}();function u(e,t,n,i){var r=n?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet){e.styleSheet.cssText=d(t,r)}else{var o=document.createTextNode(r);var s=e.childNodes;if(s[t]){e.removeChild(s[t])}if(s.length){e.insertBefore(o,s[t])}else{e.appendChild(o)}}}function h(e,t,n){var i=n.css;var r=n.media;var o=n.sourceMap;if(r){e.setAttribute(\"media\",r)}else{e.removeAttribute(\"media\")}if(o&&btoa){i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))),\" */\")}if(e.styleSheet){e.styleSheet.cssText=i}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(i))}}var f=null;var m=0;function g(e,t){var n;var i;var r;if(t.singleton){var o=m++;n=f||(f=c(t));i=u.bind(null,n,o,false);r=u.bind(null,n,o,true)}else{n=c(t);i=h.bind(null,n,t);r=function e(){l(n)}}i(e);return function t(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap){return}i(e=n)}else{r()}}}e.exports=function(e,t){t=t||{};if(!t.singleton&&typeof t.singleton!==\"boolean\"){t.singleton=i()}e=e||[];var n=a(e,t);return function e(i){i=i||[];if(Object.prototype.toString.call(i)!==\"[object Array]\"){return}for(var r=0;r<n.length;r++){var c=n[r];var l=s(c);o[l].references--}var d=a(i,t);for(var u=0;u<n.length;u++){var h=n[u];var f=s(h);if(o[f].references===0){o[f].updater();o.splice(f,1)}}n=d}}},function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return a}));n.d(t,\"a\",(function(){return c}));n.d(t,\"g\",(function(){return l}));n.d(t,\"b\",(function(){return d}));n.d(t,\"d\",(function(){return u}));n.d(t,\"c\",(function(){return h}));n.d(t,\"e\",(function(){return f}));var i=n(0);var r=n(38);const o={\"⌘\":\"ctrl\",\"⇧\":\"shift\",\"⌥\":\"alt\"};const s={ctrl:\"⌘\",shift:\"⇧\",alt:\"⌥\"};const a=m();function c(e){let t;if(typeof e==\"string\"){t=a[e.toLowerCase()];if(!t){throw new i[\"b\"](\"keyboard-unknown-key: Unknown key name.\",null,{key:e})}}else{t=e.keyCode+(e.altKey?a.alt:0)+(e.ctrlKey?a.ctrl:0)+(e.shiftKey?a.shift:0)}return t}function l(e){if(typeof e==\"string\"){e=g(e)}return e.map(e=>typeof e==\"string\"?c(e):e).reduce((e,t)=>t+e,0)}function d(e){if(!r[\"a\"].isMac){return e}return g(e).map(e=>s[e.toLowerCase()]||e).reduce((e,t)=>{if(e.slice(-1)in o){return e+t}else{return e+\"+\"+t}})}function u(e){return e==a.arrowright||e==a.arrowleft||e==a.arrowup||e==a.arrowdown}function h(e,t){const n=t===\"ltr\";switch(e){case a.arrowleft:return n?\"left\":\"right\";case a.arrowright:return n?\"right\":\"left\";case a.arrowup:return\"up\";case a.arrowdown:return\"down\"}}function f(e,t){const n=h(e,t);return n===\"down\"||n===\"right\"}function m(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let t=65;t<=90;t++){const n=String.fromCharCode(t);e[n.toLowerCase()]=t}for(let t=48;t<=57;t++){e[t-48]=t}for(let t=112;t<=123;t++){e[\"f\"+(t-111)]=t}return e}function g(e){return e.split(/\\s*\\+\\s*/)}},function(e,t,n){\"use strict\";var i=n(13);var r=n(0);var o=n(28);var s=n(211);const a=Symbol(\"observableProperties\");const c=Symbol(\"boundObservables\");const l=Symbol(\"boundProperties\");const d={set(e,t){if(Object(o[\"a\"])(e)){Object.keys(e).forEach(t=>{this.set(t,e[t])},this);return}u(this);const n=this[a];if(e in this&&!n.has(e)){throw new r[\"b\"](\"observable-set-cannot-override: Cannot override an existing property.\",this)}Object.defineProperty(this,e,{enumerable:true,configurable:true,get(){return n.get(e)},set(t){const i=n.get(e);let r=this.fire(\"set:\"+e,e,t,i);if(r===undefined){r=t}if(i!==r||!n.has(e)){n.set(e,r);this.fire(\"change:\"+e,e,r,i)}}});this[e]=t},bind(...e){if(!e.length||!g(e)){throw new r[\"b\"](\"observable-bind-wrong-properties: All properties must be strings.\",this)}if(new Set(e).size!==e.length){throw new r[\"b\"](\"observable-bind-duplicate-properties: Properties must be unique.\",this)}u(this);const t=this[l];e.forEach(e=>{if(t.has(e)){throw new r[\"b\"](\"observable-bind-rebind: Cannot bind the same property more than once.\",this)}});const n=new Map;e.forEach(e=>{const i={property:e,to:[]};t.set(e,i);n.set(e,i)});return{to:h,toMany:f,_observable:this,_bindProperties:e,_to:[],_bindings:n}},unbind(...e){if(!this[a]){return}const t=this[l];const n=this[c];if(e.length){if(!g(e)){throw new r[\"b\"](\"observable-unbind-wrong-properties: Properties must be strings.\",this)}e.forEach(e=>{const i=t.get(e);if(!i){return}let r,o,s,a;i.to.forEach(e=>{r=e[0];o=e[1];s=n.get(r);a=s[o];a.delete(i);if(!a.size){delete s[o]}if(!Object.keys(s).length){n.delete(r);this.stopListening(r,\"change\")}});t.delete(e)})}else{n.forEach((e,t)=>{this.stopListening(t,\"change\")});n.clear();t.clear()}},decorate(e){const t=this[e];if(!t){throw new r[\"b\"](\"observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.\",this,{object:this,methodName:e})}this.on(e,(e,n)=>{e.return=t.apply(this,n)});this[e]=function(...t){return this.fire(e,t)}}};Object(s[\"a\"])(d,i[\"c\"]);t[\"a\"]=d;function u(e){if(e[a]){return}Object.defineProperty(e,a,{value:new Map});Object.defineProperty(e,c,{value:new Map});Object.defineProperty(e,l,{value:new Map})}function h(...e){const t=p(...e);const n=Array.from(this._bindings.keys());const i=n.length;if(!t.callback&&t.to.length>1){throw new r[\"b\"](\"observable-bind-to-no-callback: Binding multiple observables only possible with callback.\",this)}if(i>1&&t.callback){throw new r[\"b\"](\"observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.\",this)}t.to.forEach(e=>{if(e.properties.length&&e.properties.length!==i){throw new r[\"b\"](\"observable-bind-to-properties-length: The number of properties must match.\",this)}if(!e.properties.length){e.properties=this._bindProperties}});this._to=t.to;if(t.callback){this._bindings.get(n[0]).callback=t.callback}v(this._observable,this._to);_(this);this._bindProperties.forEach(e=>{w(this._observable,e)})}function f(e,t,n){if(this._bindings.size>1){throw new r[\"b\"](\"observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().\",this)}this.to(...m(e,t),n)}function m(e,t){const n=e.map(e=>[e,t]);return Array.prototype.concat.apply([],n)}function g(e){return e.every(e=>typeof e==\"string\")}function p(...e){if(!e.length){throw new r[\"b\"](\"observable-bind-to-parse-error: Invalid argument syntax in `to()`.\",null)}const t={to:[]};let n;if(typeof e[e.length-1]==\"function\"){t.callback=e.pop()}e.forEach(e=>{if(typeof e==\"string\"){n.properties.push(e)}else if(typeof e==\"object\"){n={observable:e,properties:[]};t.to.push(n)}else{throw new r[\"b\"](\"observable-bind-to-parse-error: Invalid argument syntax in `to()`.\",null)}});return t}function b(e,t,n,i){const r=e[c];const o=r.get(n);const s=o||{};if(!s[i]){s[i]=new Set}s[i].add(t);if(!o){r.set(n,s)}}function _(e){let t;e._bindings.forEach((n,i)=>{e._to.forEach(r=>{t=r.properties[n.callback?0:e._bindProperties.indexOf(i)];n.to.push([r.observable,t]);b(e._observable,n,r.observable,t)})})}function w(e,t){const n=e[l];const i=n.get(t);let r;if(i.callback){r=i.callback.apply(e,i.to.map(e=>e[0][e[1]]))}else{r=i.to[0];r=r[0][r[1]]}if(Object.prototype.hasOwnProperty.call(e,t)){e[t]=r}else{e.set(t,r)}}function v(e,t){t.forEach(t=>{const n=e[c];let i;if(!n.get(t.observable)){e.listenTo(t.observable,\"change\",(r,o)=>{i=n.get(t.observable)[o];if(i){i.forEach(t=>{w(e,t.property)})}})}})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(13);var r=n(0);var o=n(17);var s=n(35);var a=n(4);class c{constructor(e={},t={}){const n=Object(s[\"a\"])(e);if(!n){t=e}this._items=[];this._itemMap=new Map;this._idProperty=t.idProperty||\"id\";this._bindToExternalToInternalMap=new WeakMap;this._bindToInternalToExternalMap=new WeakMap;this._skippedIndexesFromExternal=[];if(n){for(const t of e){this._items.push(t);this._itemMap.set(this._getItemIdBeforeAdding(t),t)}}}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===undefined){t=this._items.length}else if(t>this._items.length||t<0){throw new r[\"b\"](\"collection-add-item-invalid-index\",this)}for(let n=0;n<e.length;n++){const i=e[n];const r=this._getItemIdBeforeAdding(i);const o=t+n;this._items.splice(o,0,i);this._itemMap.set(r,i);this.fire(\"add\",i,o)}this.fire(\"change\",{added:e,removed:[],index:t});return this}get(e){let t;if(typeof e==\"string\"){t=this._itemMap.get(e)}else if(typeof e==\"number\"){t=this._items[e]}else{throw new r[\"b\"](\"collection-get-invalid-arg: Index or id must be given.\",this)}return t||null}has(e){if(typeof e==\"string\"){return this._itemMap.has(e)}else{const t=this._idProperty;const n=e[t];return this._itemMap.has(n)}}getIndex(e){let t;if(typeof e==\"string\"){t=this._itemMap.get(e)}else{t=e}return this._items.indexOf(t)}remove(e){const[t,n]=this._remove(e);this.fire(\"change\",{added:[],removed:[t],index:n});return t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){if(this._bindToCollection){this.stopListening(this._bindToCollection);this._bindToCollection=null}const e=Array.from(this._items);while(this.length){this._remove(0)}this.fire(\"change\",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection){throw new r[\"b\"](\"collection-bind-to-rebind: The collection cannot be bound more than once.\",this)}this._bindToCollection=e;return{as:e=>{this._setUpBindToBinding(t=>new e(t))},using:e=>{if(typeof e==\"function\"){this._setUpBindToBinding(t=>e(t))}else{this._setUpBindToBinding(t=>t[e])}}}}_setUpBindToBinding(e){const t=this._bindToCollection;const n=(n,i,r)=>{const o=t._bindToCollection==this;const s=t._bindToInternalToExternalMap.get(i);if(o&&s){this._bindToExternalToInternalMap.set(i,s);this._bindToInternalToExternalMap.set(s,i)}else{const n=e(i);if(!n){this._skippedIndexesFromExternal.push(r);return}let o=r;for(const e of this._skippedIndexesFromExternal){if(r>e){o--}}for(const e of t._skippedIndexesFromExternal){if(o>=e){o++}}this._bindToExternalToInternalMap.set(i,n);this._bindToInternalToExternalMap.set(n,i);this.add(n,o);for(let e=0;e<t._skippedIndexesFromExternal.length;e++){if(o<=t._skippedIndexesFromExternal[e]){t._skippedIndexesFromExternal[e]++}}}};for(const e of t){n(null,e,t.getIndex(e))}this.listenTo(t,\"add\",n);this.listenTo(t,\"remove\",(e,t,n)=>{const i=this._bindToExternalToInternalMap.get(t);if(i){this.remove(i)}this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>{if(n<t){e.push(t-1)}if(n>t){e.push(t)}return e},[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){n=e[t];if(typeof n!=\"string\"){throw new r[\"b\"](\"collection-add-invalid-id\",this)}if(this.get(n)){throw new r[\"b\"](\"collection-add-item-already-exists\",this)}}else{e[t]=n=Object(o[\"a\"])()}return n}_remove(e){let t,n,i;let o=false;const s=this._idProperty;if(typeof e==\"string\"){n=e;i=this._itemMap.get(n);o=!i;if(i){t=this._items.indexOf(i)}}else if(typeof e==\"number\"){t=e;i=this._items[t];o=!i;if(i){n=i[s]}}else{i=e;n=i[s];t=this._items.indexOf(i);o=t==-1||!this._itemMap.get(n)}if(o){throw new r[\"b\"](\"collection-remove-404: Item not found.\",this)}this._items.splice(t,1);this._itemMap.delete(n);const a=this._bindToInternalToExternalMap.get(i);this._bindToInternalToExternalMap.delete(i);this._bindToExternalToInternalMap.delete(a);this.fire(\"remove\",i,t);return[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Object(a[\"a\"])(c,i[\"c\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));n.d(t,\"b\",(function(){return h}));var i=n(108);var r=n(17);var o=n(39);var s=n(144);var a=n(0);const c=Symbol(\"listeningTo\");const l=Symbol(\"emitterId\");const d={on(e,t,n={}){this.listenTo(this,e,t,n)},once(e,t,n){let i=false;const r=function(e,...n){if(!i){i=true;e.off();t.call(this,e,...n)}};this.listenTo(this,e,r,n)},off(e,t){this.stopListening(this,e,t)},listenTo(e,t,n,i={}){let r,s;if(!this[c]){this[c]={}}const a=this[c];if(!f(e)){h(e)}const l=f(e);if(!(r=a[l])){r=a[l]={emitter:e,callbacks:{}}}if(!(s=r.callbacks[t])){s=r.callbacks[t]=[]}s.push(n);p(e,t);const d=b(e,t);const u=o[\"a\"].get(i.priority);const m={callback:n,priority:u};for(const e of d){let t=false;for(let n=0;n<e.length;n++){if(e[n].priority<u){e.splice(n,0,m);t=true;break}}if(!t){e.push(m)}}},stopListening(e,t,n){const i=this[c];let r=e&&f(e);const o=i&&r&&i[r];const s=o&&t&&o.callbacks[t];if(!i||e&&!o||t&&!s){return}if(n){v(e,t,n)}else if(s){while(n=s.pop()){v(e,t,n)}delete o.callbacks[t]}else if(o){for(t in o.callbacks){this.stopListening(e,t)}delete i[r]}else{for(r in i){this.stopListening(i[r].emitter)}delete this[c]}},fire(e,...t){try{const n=e instanceof i[\"a\"]?e:new i[\"a\"](this,e);const r=n.name;let o=_(this,r);n.path.push(this);if(o){const e=[n,...t];o=Array.from(o);for(let t=0;t<o.length;t++){o[t].callback.apply(this,e);if(n.off.called){delete n.off.called;v(this,r,o[t].callback)}if(n.stop.called){break}}}if(this._delegations){const e=this._delegations.get(r);const i=this._delegations.get(\"*\");if(e){w(e,n,t)}if(i){w(i,n,t)}}return n.return}catch(e){a[\"b\"].rethrowUnexpectedError(e,this)}},delegate(...e){return{to:(t,n)=>{if(!this._delegations){this._delegations=new Map}e.forEach(e=>{const i=this._delegations.get(e);if(!i){this._delegations.set(e,new Map([[t,n]]))}else{i.set(t,n)}})}}},stopDelegating(e,t){if(!this._delegations){return}if(!e){this._delegations.clear()}else if(!t){this._delegations.delete(e)}else{const n=this._delegations.get(e);if(n){n.delete(t)}}}};t[\"c\"]=d;function u(e,t){if(e[c]&&e[c][t]){return e[c][t].emitter}return null}function h(e,t){if(!e[l]){e[l]=t||Object(r[\"a\"])()}}function f(e){return e[l]}function m(e){if(!e._events){Object.defineProperty(e,\"_events\",{value:{}})}return e._events}function g(){return{callbacks:[],childEvents:[]}}function p(e,t){const n=m(e);if(n[t]){return}let i=t;let r=null;const o=[];while(i!==\"\"){if(n[i]){break}n[i]=g();o.push(n[i]);if(r){n[i].childEvents.push(r)}r=i;i=i.substr(0,i.lastIndexOf(\":\"))}if(i!==\"\"){for(const e of o){e.callbacks=n[i].callbacks.slice()}n[i].childEvents.push(r)}}function b(e,t){const n=m(e)[t];if(!n){return[]}let i=[n.callbacks];for(let t=0;t<n.childEvents.length;t++){const r=b(e,n.childEvents[t]);i=i.concat(r)}return i}function _(e,t){let n;if(!e._events||!(n=e._events[t])||!n.callbacks.length){if(t.indexOf(\":\")>-1){return _(e,t.substr(0,t.lastIndexOf(\":\")))}else{return null}}return n.callbacks}function w(e,t,n){for(let[r,o]of e){if(!o){o=t.name}else if(typeof o==\"function\"){o=o(t.name)}const e=new i[\"a\"](t.source,o);e.path=[...t.path];r.fire(e,...n)}}function v(e,t,n){const i=b(e,t);for(const e of i){for(let t=0;t<e.length;t++){if(e[t].callback==n){e.splice(t,1);t--}}}}},function(e,t,n){\"use strict\";(function(e,i){n.d(t,\"a\",(function(){return o}));const r=!(\"undefined\"==typeof e||!e[\"versions\"]||!e[\"versions\"][\"node\"]);class o{static get[\"TYPES\"](){return{BUFFER:1,STRING:2,NUMBER:3,OBJECT:4}}static[\"getPacketType\"](...e){let t=0;for(let n=0;n<e[\"length\"];n++){const i=e[n];t+=(\"number\"==typeof i?i:String(i)[\"toUpperCase\"]())*Math[\"pow\"](10,e[\"length\"]-n-1)}return t}static[\"getTypeName\"](e){if(o[\"isBuffer\"](e))return o[\"TYPES\"][\"BUFFER\"];const t=typeof e;return\"string\"===t?o[\"TYPES\"][\"STRING\"]:\"number\"===t?o[\"TYPES\"][\"NUMBER\"]:o[\"TYPES\"][\"OBJECT\"]}static[\"isBuffer\"](e){return r&&i[\"isBuffer\"](e)||e instanceof ArrayBuffer||e instanceof Uint8Array||function(e){return\"function\"==typeof ArrayBuffer[\"isView\"]?ArrayBuffer[\"isView\"](e):e[\"buffer\"]instanceof ArrayBuffer}(e)}}}).call(this,n(145),n(146).Buffer)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(8);var r=n(86);class o{constructor(e,t=null){this.start=e.clone();this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new r[\"a\"]({boundaries:this,ignoreElementEnd:true})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(s,{direction:\"backward\"});let t=this.end.getLastMatchingPosition(s);if(e.parent.is(\"$text\")&&e.isAtStart){e=i[\"a\"]._createBefore(e.parent)}if(t.parent.is(\"$text\")&&t.isAtEnd){t=i[\"a\"]._createAfter(t.parent)}return new o(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(s);if(e.isAfter(this.end)||e.isEqual(this.end)){return new o(e,e)}let t=this.end.getLastMatchingPosition(s,{direction:\"backward\"});const n=e.nodeAfter;const r=t.nodeBefore;if(n&&n.is(\"$text\")){e=new i[\"a\"](n,0)}if(r&&r.is(\"$text\")){t=new i[\"a\"](r,r.data.length)}return new o(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=false){if(e.isCollapsed){t=false}const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start);const i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}getDifference(e){const t=[];if(this.isIntersecting(e)){if(this.containsPosition(e.start)){t.push(new o(this.start,e.start))}if(this.containsPosition(e.end)){t.push(new o(e.end,this.end))}}else{t.push(this.clone())}return t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start;let n=this.end;if(this.containsPosition(e.start)){t=e.start}if(this.containsPosition(e.end)){n=e.end}return new o(t,n)}return null}getWalker(e={}){e.boundaries=this;return new r[\"a\"](e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}let e=this.start.nodeAfter;let t=this.end.nodeBefore;if(this.start.parent.is(\"$text\")&&this.start.isAtEnd&&this.start.parent.nextSibling){e=this.start.parent.nextSibling}if(this.end.parent.is(\"$text\")&&this.end.isAtStart&&this.end.parent.previousSibling){t=this.end.parent.previousSibling}if(e&&e.is(\"element\")&&e===t){return e}return null}clone(){return new o(this.start,this.end)}*getItems(e={}){e.boundaries=this;e.ignoreElementEnd=true;const t=new r[\"a\"](e);for(const e of t){yield e.item}}*getPositions(e={}){e.boundaries=this;const t=new r[\"a\"](e);yield t.position;for(const e of t){yield e.nextPosition}}is(e){return e===\"range\"||e===\"view:range\"}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,r){return new this(new i[\"a\"](e,t),new i[\"a\"](n,r))}static _createFromPositionAndShift(e,t){const n=e;const i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is(\"$textProxy\")?e.offsetSize:1;return this._createFromPositionAndShift(i[\"a\"]._createBefore(e),t)}}function s(e){if(e.item.is(\"attributeElement\")||e.item.is(\"uiElement\")){return true}return false}},,function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));const i=new Array(256).fill().map((e,t)=>(\"0\"+t.toString(16)).slice(-2));function r(){const e=Math.random()*4294967296>>>0;const t=Math.random()*4294967296>>>0;const n=Math.random()*4294967296>>>0;const r=Math.random()*4294967296>>>0;return\"e\"+i[e>>0&255]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+i[t>>0&255]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+i[n>>0&255]+i[n>>8&255]+i[n>>16&255]+i[n>>24&255]+i[r>>0&255]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(110);var r=n(141);var o=n(172);var s=n(41);var a=n(226);const c=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\"];class l{constructor(e){const t=Object(i[\"a\"])(e);Object.defineProperty(this,\"_source\",{value:e._source||e,writable:true,enumerable:false});if(Object(a[\"a\"])(e)||t){if(t){d(this,l.getDomRangeRects(e)[0])}else{d(this,e.getBoundingClientRect())}}else if(Object(r[\"a\"])(e)){const{innerWidth:t,innerHeight:n}=e;d(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else{d(this,e)}}clone(){return new l(this)}moveTo(e,t){this.top=t;this.right=e+this.width;this.bottom=t+this.height;this.left=e;return this}moveBy(e,t){this.top+=t;this.right+=e;this.left+=e;this.bottom+=t;return this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};t.width=t.right-t.left;t.height=t.bottom-t.top;if(t.width<0||t.height<0){return null}else{return new l(t)}}getIntersectionArea(e){const t=this.getIntersection(e);if(t){return t.getArea()}else{return 0}}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!u(e)){let n=e.parentNode||e.commonAncestorContainer;while(n&&!u(n)){const e=new l(n);const i=t.getIntersection(e);if(i){if(i.getArea()<t.getArea()){t=i}}else{return null}n=n.parentNode}}return t}isEqual(e){for(const t of c){if(this[t]!==e[t]){return false}}return true}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,i;if(Object(r[\"a\"])(e)){t=e.innerWidth-e.document.documentElement.clientWidth;n=e.innerHeight-e.document.documentElement.clientHeight;i=e.getComputedStyle(e.document.documentElement).direction}else{const r=Object(o[\"a\"])(this._source);t=e.offsetWidth-e.clientWidth-r.left-r.right;n=e.offsetHeight-e.clientHeight-r.top-r.bottom;i=e.ownerDocument.defaultView.getComputedStyle(e).direction;this.left+=r.left;this.top+=r.top;this.right-=r.right;this.bottom-=r.bottom;this.width=this.right-this.left;this.height=this.bottom-this.top}this.width-=t;if(i===\"ltr\"){this.right-=t}else{this.left+=t}this.height-=n;this.bottom-=n;return this}static getDomRangeRects(e){const t=[];const n=Array.from(e.getClientRects());if(n.length){for(const e of n){t.push(new l(e))}}else{let n=e.startContainer;if(Object(s[\"a\"])(n)){n=n.parentNode}const i=new l(n.getBoundingClientRect());i.right=i.left;i.width=0;t.push(i)}return t}}function d(e,t){for(const n of c){e[n]=t[n]}}function u(e){if(!Object(a[\"a\"])(e)){return false}return e===e.ownerDocument.body}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){const t=e.next();if(t.done){return null}return t.value}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(81);var r=n(85);var o=n(24);var s=n(59);var a=n(35);class c extends i[\"a\"]{constructor(e,t,n){super(t);this.name=e;this._children=new r[\"a\"];if(n){this._insertChild(0,n)}}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}is(e,t=null){if(!t){return e===\"element\"||e===\"model:element\"||e===\"node\"||e===\"model:node\"}return t===this.name&&(e===\"element\"||e===\"model:element\")}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e){t=t.getChild(t.offsetToIndex(n))}return t}findAncestor(e,t={includeSelf:false}){let n=t.includeSelf?this:this.parent;while(n){if(n.name===e){return n}n=n.parent}return null}toJSON(){const e=super.toJSON();e.name=this.name;if(this._children.length>0){e.children=[];for(const t of this._children){e.children.push(t.toJSON())}}return e}_clone(e=false){const t=e?Array.from(this._children).map(e=>e._clone(true)):null;return new c(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=l(t);for(const e of n){if(e.parent!==null){e._remove()}e.parent=this}this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n){e.parent=null}return n}static fromJSON(e){let t=null;if(e.children){t=[];for(const n of e.children){if(n.name){t.push(c.fromJSON(n))}else{t.push(o[\"a\"].fromJSON(n))}}}return new c(e.name,e.attributes,t)}}function l(e){if(typeof e==\"string\"){return[new o[\"a\"](e)]}if(!Object(a[\"a\"])(e)){e=[e]}return Array.from(e).map(e=>{if(typeof e==\"string\"){return new o[\"a\"](e)}if(e instanceof s[\"a\"]){return new o[\"a\"](e.data,e.getAttributes())}return e})}},function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return o}));n.d(t,\"a\",(function(){return s}));n.d(t,\"c\",(function(){return a}));n.d(t,\"b\",(function(){return c}));n.d(t,\"h\",(function(){return l}));n.d(t,\"g\",(function(){return d}));n.d(t,\"e\",(function(){return u}));n.d(t,\"f\",(function(){return h}));var i=n(10);var r=n(41);const o=e=>e.createTextNode(\" \");const s=e=>{const t=e.createElement(\"br\");t.dataset.ckeFiller=true;return t};const a=7;const c=(()=>{let e=\"\";for(let t=0;t<a;t++){e+=\"​\"}return e})();function l(e){return Object(r[\"a\"])(e)&&e.data.substr(0,a)===c}function d(e){return e.data.length==a&&l(e)}function u(e){if(l(e)){return e.data.slice(a)}else{return e.data}}function h(e){e.document.on(\"keydown\",f)}function f(e,t){if(t.keyCode==i[\"f\"].arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer;const n=e.getRangeAt(0).startOffset;if(l(t)&&n<=a){e.collapse(t,0)}}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(36);var r=n(5);var o=n(2);var s=n(0);var a=n(40);var c=n(60);class l extends i[\"a\"]{constructor(e,t,n,i){super(i);this.sourcePosition=e.clone();this.sourcePosition.stickiness=\"toNext\";this.howMany=t;this.targetPosition=n.clone();this.targetPosition.stickiness=\"toNone\"}get type(){if(this.targetPosition.root.rootName==\"$graveyard\"){return\"remove\"}else if(this.sourcePosition.root.rootName==\"$graveyard\"){return\"reinsert\"}return\"move\"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent;const t=this.targetPosition.parent;const n=this.sourcePosition.offset;const i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset){throw new s[\"b\"](\"move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.\",this)}else if(e===t&&n<i&&i<n+this.howMany){throw new s[\"b\"](\"move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.\",this)}else if(this.sourcePosition.root==this.targetPosition.root){if(Object(a[\"a\"])(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())==\"prefix\"){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany){throw new s[\"b\"](\"move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.\",this)}}}}_execute(){Object(c[\"b\"])(o[\"a\"]._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();e.sourcePosition=this.sourcePosition.toJSON();e.targetPosition=this.targetPosition.toJSON();return e}static get className(){return\"MoveOperation\"}static fromJSON(e,t){const n=r[\"a\"].fromJSON(e.sourcePosition,t);const i=r[\"a\"].fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(73);class r extends i[\"a\"]{constructor(e,t){super(e);this._textData=t}is(e){return e===\"$text\"||e===\"view:$text\"||e===\"text\"||e===\"view:text\"||e===\"node\"||e===\"view:node\"}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange(\"text\",this);this._textData=e}isSimilar(e){if(!(e instanceof r)){return false}return this===e||this.data===e.data}_clone(){return new r(this.document,this.data)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(81);class r extends i[\"a\"]{constructor(e,t){super(t);this._data=e||\"\"}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return e===\"$text\"||e===\"model:$text\"||e===\"text\"||e===\"model:text\"||e===\"node\"||e===\"model:node\"}toJSON(){const e=super.toJSON();e.data=this.data;return e}_clone(){return new r(this.data,this.getAttributes())}static fromJSON(e){return new r(e.data,e.attributes)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(36);var r=n(33);var o=n(5);var s=n(2);var a=n(60);var c=n(0);class l extends i[\"a\"]{constructor(e,t,n,i){super(i);this.splitPosition=e.clone();this.splitPosition.stickiness=\"toNext\";this.howMany=t;this.insertionPosition=l.getInsertionPosition(e);this.insertionPosition.stickiness=\"toNone\";this.graveyardPosition=n?n.clone():null;if(this.graveyardPosition){this.graveyardPosition.stickiness=\"toNext\"}}get type(){return\"split\"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();e.push(0);return new o[\"a\"](this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new s[\"a\"](this.splitPosition,e)}clone(){const e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);e.insertionPosition=this.insertionPosition;return e}getReversed(){const e=this.splitPosition.root.document.graveyard;const t=new o[\"a\"](e,[0]);return new r[\"a\"](this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;const t=this.splitPosition.offset;if(!e||e.maxOffset<t){throw new c[\"b\"](\"split-operation-position-invalid: Split position is invalid.\",this)}else if(!e.parent){throw new c[\"b\"](\"split-operation-split-in-root: Cannot split root element.\",this)}else if(this.howMany!=e.maxOffset-this.splitPosition.offset){throw new c[\"b\"](\"split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.\",this)}else if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter){throw new c[\"b\"](\"split-operation-graveyard-position-invalid: Graveyard position invalid.\",this)}}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition){Object(a[\"b\"])(s[\"a\"]._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition)}else{const t=e._clone();Object(a[\"a\"])(this.insertionPosition,t)}const t=new s[\"a\"](o[\"a\"]._createAt(e,this.splitPosition.offset),o[\"a\"]._createAt(e,e.maxOffset));Object(a[\"b\"])(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();e.splitPosition=this.splitPosition.toJSON();e.insertionPosition=this.insertionPosition.toJSON();if(this.graveyardPosition){e.graveyardPosition=this.graveyardPosition.toJSON()}return e}static get className(){return\"SplitOperation\"}static getInsertionPosition(e){const t=e.path.slice(0,-1);t[t.length-1]++;return new o[\"a\"](e.root,t)}static fromJSON(e,t){const n=o[\"a\"].fromJSON(e.splitPosition,t);const i=o[\"a\"].fromJSON(e.insertionPosition,t);const r=e.graveyardPosition?o[\"a\"].fromJSON(e.graveyardPosition,t):null;const s=new this(n,e.howMany,r,e.baseVersion);s.insertionPosition=i;return s}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(56);var r=n(11);var o=n(0);var s=n(4);class a{constructor(){this.set(\"isFocused\",false);this.set(\"focusedElement\",null);this._elements=new Set;this._nextEventLoopTimeout=null}add(e){if(this._elements.has(e)){throw new o[\"b\"](\"focusTracker-add-element-already-exist\",this)}this.listenTo(e,\"focus\",()=>this._focus(e),{useCapture:true});this.listenTo(e,\"blur\",()=>this._blur(),{useCapture:true});this._elements.add(e)}remove(e){if(e===this.focusedElement){this._blur(e)}if(this._elements.has(e)){this.stopListening(e);this._elements.delete(e)}}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout);this.focusedElement=e;this.isFocused=true}_blur(){clearTimeout(this._nextEventLoopTimeout);this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null;this.isFocused=false},0)}}Object(s[\"a\"])(a,i[\"a\"]);Object(s[\"a\"])(a,r[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(11);var r=n(4);class o{constructor(e){this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return true}}Object(r[\"a\"])(o,i[\"a\"])},function(e,t,n){\"use strict\";function i(e){var t=typeof e;return e!=null&&(t==\"object\"||t==\"function\")}t[\"a\"]=i},function(e,t,n){\"use strict\";t[\"a\"]={window:window,document:document}},function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return s}));n.d(t,\"e\",(function(){return a}));n.d(t,\"f\",(function(){return c}));n.d(t,\"g\",(function(){return l}));n.d(t,\"d\",(function(){return d}));n.d(t,\"a\",(function(){return u}));n.d(t,\"b\",(function(){return h}));var i=n(104);var r=n(7);function o(e){const t=e.createContainerElement(\"li\");t.getFillerOffset=f;return t}function s(e,t){const n=t.mapper;const i=t.writer;const r=e.getAttribute(\"listType\")==\"numbered\"?\"ol\":\"ul\";const s=o(i);const a=i.createContainerElement(r,null);i.insert(i.createPositionAt(a,0),s);n.bindElements(e,s);return s}function a(e,t,n,i){const r=t.parent;const o=n.mapper;const s=n.writer;let a=o.toViewPosition(i.createPositionBefore(e));const u=d(e.previousSibling,{sameIndent:true,smallerIndent:true,listIndent:e.getAttribute(\"listIndent\")});const f=e.previousSibling;if(u&&u.getAttribute(\"listIndent\")==e.getAttribute(\"listIndent\")){const e=o.toViewElement(u);a=s.breakContainer(s.createPositionAfter(e))}else{if(f&&f.name==\"listItem\"){a=o.toViewPosition(i.createPositionAt(f,\"end\"));const e=o.findMappedViewAncestor(a);const t=h(e);if(t){a=s.createPositionBefore(t)}else{a=s.createPositionAt(e,\"end\")}}else{a=o.toViewPosition(i.createPositionBefore(e))}}a=l(a);s.insert(a,r);if(f&&f.name==\"listItem\"){const e=o.toViewElement(f);const n=s.createRange(s.createPositionAt(e,0),a);const i=n.getWalker({ignoreElementEnd:true});for(const e of i){if(e.item.is(\"element\",\"li\")){const n=s.breakContainer(s.createPositionBefore(e.item));const r=e.item.parent;const o=s.createPositionAt(t,\"end\");c(s,o.nodeBefore,o.nodeAfter);s.move(s.createRangeOn(r),o);i.position=n}}}else{const n=r.nextSibling;if(n&&(n.is(\"element\",\"ul\")||n.is(\"element\",\"ol\"))){let i=null;for(const t of n.getChildren()){const n=o.toModelElement(t);if(n&&n.getAttribute(\"listIndent\")>e.getAttribute(\"listIndent\")){i=t}else{break}}if(i){s.breakContainer(s.createPositionAfter(i));s.move(s.createRangeOn(i.parent),s.createPositionAt(t,\"end\"))}}}c(s,r,r.nextSibling);c(s,r.previousSibling,r)}function c(e,t,n){if(!t||!n||t.name!=\"ul\"&&t.name!=\"ol\"){return null}if(t.name!=n.name||t.getAttribute(\"class\")!==n.getAttribute(\"class\")){return null}return e.mergeContainers(e.createPositionAfter(t))}function l(e){return e.getLastMatchingPosition(e=>e.item.is(\"uiElement\"))}function d(e,t){const n=!!t.sameIndent;const i=!!t.smallerIndent;const r=t.listIndent;let o=e;while(o&&o.name==\"listItem\"){const e=o.getAttribute(\"listIndent\");if(n&&r==e||i&&r>e){return o}o=o.previousSibling}return null}function u(e,t,n,i){e.ui.componentFactory.add(t,o=>{const s=e.commands.get(t);const a=new r[\"a\"](o);a.set({label:n,icon:i,tooltip:true,isToggleable:true});a.bind(\"isOn\",\"isEnabled\").to(s,\"value\",\"isEnabled\");a.on(\"execute\",()=>{e.execute(t);e.editing.view.focus()});return a})}function h(e){for(const t of e.getChildren()){if(t.name==\"ul\"||t.name==\"ol\"){return t}}return null}function f(){const e=!this.isEmpty&&(this.getChild(0).name==\"ul\"||this.getChild(0).name==\"ol\");if(this.isEmpty||e){return 0}return i[\"b\"].call(this)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(56);var r=n(10);class o{constructor(){this._listener=Object.create(i[\"a\"])}listenTo(e){this._listener.listenTo(e,\"keydown\",(e,t)=>{this._listener.fire(\"_keydown:\"+Object(r[\"a\"])(t),t)})}set(e,t,n={}){const i=Object(r[\"g\"])(e);const o=n.priority;this._listener.listenTo(this._listener,\"_keydown:\"+i,(e,n)=>{t(n,()=>{n.preventDefault();n.stopPropagation();e.stop()});e.return=true},{priority:o})}press(e){return!!this._listener.fire(\"_keydown:\"+Object(r[\"a\"])(e),e)}destroy(){this._listener.stopListening()}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(2);var r=n(13);var o=n(4);class s extends i[\"a\"]{constructor(e,t){super(e,t);a.call(this)}detach(){this.stopListening()}is(e){return e===\"liveRange\"||e===\"model:liveRange\"||e==\"range\"||e===\"model:range\"}toRange(){return new i[\"a\"](this.start,this.end)}static fromRange(e){return new s(e.start,e.end)}}function a(){this.listenTo(this.root.document.model,\"applyOperation\",(e,t)=>{const n=t[0];if(!n.isDocumentOperation){return}c.call(this,n)},{priority:\"low\"})}function c(e){const t=this.getTransformedByOperation(e);const n=i[\"a\"]._createFromRanges(t);const r=!n.isEqual(this);const o=l(this,e);let s=null;if(r){if(n.root.rootName==\"$graveyard\"){if(e.type==\"remove\"){s=e.sourcePosition}else{s=e.deletionPosition}}const t=this.toRange();this.start=n.start;this.end=n.end;this.fire(\"change:range\",t,{deletionPosition:s})}else if(o){this.fire(\"change:content\",this.toRange(),{deletionPosition:s})}}function l(e,t){switch(t.type){case\"insert\":return e.containsPosition(t.position);case\"move\":case\"remove\":case\"reinsert\":case\"merge\":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case\"split\":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return false}Object(o[\"a\"])(s,r[\"c\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(36);var r=n(25);var o=n(5);var s=n(2);var a=n(60);var c=n(0);class l extends i[\"a\"]{constructor(e,t,n,i,r){super(r);this.sourcePosition=e.clone();this.sourcePosition.stickiness=\"toPrevious\";this.howMany=t;this.targetPosition=n.clone();this.targetPosition.stickiness=\"toNext\";this.graveyardPosition=i.clone()}get type(){return\"merge\"}get deletionPosition(){return new o[\"a\"](this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new s[\"a\"](this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this);const t=this.sourcePosition.path.slice(0,-1);const n=new o[\"a\"](this.sourcePosition.root,t)._getTransformedByMergeOperation(this);const i=new r[\"a\"](e,this.howMany,this.graveyardPosition,this.baseVersion+1);i.insertionPosition=n;return i}_validate(){const e=this.sourcePosition.parent;const t=this.targetPosition.parent;if(!e.parent){throw new c[\"b\"](\"merge-operation-source-position-invalid: Merge source position is invalid.\",this)}else if(!t.parent){throw new c[\"b\"](\"merge-operation-target-position-invalid: Merge target position is invalid.\",this)}else if(this.howMany!=e.maxOffset){throw new c[\"b\"](\"merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.\",this)}}_execute(){const e=this.sourcePosition.parent;const t=s[\"a\"]._createIn(e);Object(a[\"b\"])(t,this.targetPosition);Object(a[\"b\"])(s[\"a\"]._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();e.sourcePosition=e.sourcePosition.toJSON();e.targetPosition=e.targetPosition.toJSON();e.graveyardPosition=e.graveyardPosition.toJSON();return e}static get className(){return\"MergeOperation\"}static fromJSON(e,t){const n=o[\"a\"].fromJSON(e.sourcePosition,t);const i=o[\"a\"].fromJSON(e.targetPosition,t);const r=o[\"a\"].fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,r,e.baseVersion)}}},function(e,t,n){\"use strict\";function i(e){return e!=null&&typeof e==\"object\"}t[\"a\"]=i},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){return!!(e&&e[Symbol.iterator])}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));class i{constructor(e){this.baseVersion=e;this.isDocumentOperation=this.baseVersion!==null;this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);e.__className=this.constructor.className;delete e.batch;delete e.isDocumentOperation;return e}static get className(){return\"Operation\"}static fromJSON(e){return new this(e.baseVersion)}}},function(e,t,n){\"use strict\";var i=n(158);var r=typeof self==\"object\"&&self&&self.Object===Object&&self;var o=i[\"a\"]||r||Function(\"return this\")();t[\"a\"]=o},function(e,t,n){\"use strict\";const i=navigator.userAgent.toLowerCase();const r={isMac:o(i),isGecko:s(i),isSafari:a(i),isAndroid:c(i),features:{isRegExpUnicodePropertySupported:l()}};t[\"a\"]=r;function o(e){return e.indexOf(\"macintosh\")>-1}function s(e){return!!e.match(/gecko\\/\\d+/)}function a(e){return e.indexOf(\" applewebkit/\")>-1&&e.indexOf(\"chrome\")===-1}function c(e){return e.indexOf(\"android\")>-1}function l(){let e=false;try{e=\"ć\".search(new RegExp(\"[\\\\p{L}]\",\"u\"))===0}catch(e){}return e}},function(e,t,n){\"use strict\";const i={get(e){if(typeof e!=\"number\"){return this[e]||this.normal}else{return e}},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};t[\"a\"]=i},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){if(e[i]!=t[i]){return i}}if(e.length==t.length){return\"same\"}else if(e.length<t.length){return\"prefix\"}else{return\"extension\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){return Object.prototype.toString.call(e)==\"[object Text]\"}},function(e,t,n){\"use strict\";var i=Array.isArray;t[\"a\"]=i},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return v}));var i=n(27);var r=n(3);var o=n(26);var s=n(31);var a=n(17);var c=n(185);const l=[\"clear\",\"isDirty\",\"focusTracker\",\"clientHeight\",\"targetRect\",\"div\",\"keystrokes\",\"isActive\",\"focus\",\"content\",\"add\",\"destroy\",\"type\",\"customView\",\"createCollection\",\"set\",\"length\",\"setTemplate\",\"attach\",\"height\",\"ck-annotation-wrapper--active\",\"Esc\",\"ck-annotation-wrapper\",\"element\",\"render\",\"first\",\"bindTemplate\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(l,466);const d=function(e,t){e=e-0;let n=l[e];return n};class u extends r[\"a\"]{constructor(e,t){super(e),this[\"id\"]=Object(a[\"a\"])(),this[d(\"0x16\")]=new o[\"a\"],this[d(\"0x1a\")]=new s[\"a\"],this[d(\"0x1a\")][\"set\"](d(\"0xe\"),(e,t)=>this[\"fire\"](d(\"0xe\"),t)),this[\"set\"](d(\"0x18\"),{top:0,right:0,bottom:0,left:0}),this[d(\"0x8\")](\"height\",0),this[\"set\"](d(\"0x0\"),!1),this[d(\"0x8\")](d(\"0x15\"),!1),this[\"set\"](d(\"0x9\"),0),this[d(\"0x8\")](d(\"0x5\"),\"\"),this[\"O\"]=Object(c[\"a\"])(()=>this[\"P\"]()),this[d(\"0x2\")]=this[d(\"0x7\")](),this[d(\"0x2\")][\"add\"](t);const n=this[d(\"0x13\")];this[d(\"0xa\")]({tag:d(\"0x19\"),attributes:{class:[\"ck\",d(\"0xf\"),\"ck-rounded-corners\",n[\"if\"](d(\"0x0\"),d(\"0xd\"))],tabindex:-1},children:this[d(\"0x2\")]})}get[d(\"0x6\")](){return this[\"content\"][d(\"0x12\")]}[\"render\"](){super[d(\"0x11\")](),this[d(\"0x16\")][d(\"0x3\")](this[\"element\"]),this[d(\"0x1a\")][\"listenTo\"](this[\"element\"]),this[\"O\"][d(\"0xb\")](this[\"element\"])}[d(\"0x4\")](){this[d(\"0x2\")][d(\"0x14\")](),this[\"keystrokes\"][d(\"0x4\")](),this[d(\"0x16\")][d(\"0x4\")](),this[\"O\"][\"detach\"](),super[d(\"0x4\")]()}[d(\"0x1\")](){this[\"element\"][d(\"0x1\")]()}[\"P\"](){const e=this[d(\"0x10\")][d(\"0x17\")];e&&(this[d(\"0xc\")]=e)}}var h=n(12);var f=n(18);var m=n(0);var g=n(489);var p=n(226);var b=n(423);const _=[\"from\",\"annotations-register-invalid-interface: UI plugin must implement #attach and #detach methods.\",\"annotations-register-already-registered: UI of a given name already registered.\",\"refresh\",\"resize\",\"get\",\"getIndex\",\"function\",\"activeView\",\"set\",\"Annotations\",\"left\",\"items\",\"focusTracker\",\"addEventListener\",\"destroy\",\"getTarget\",\"change:isFocused\",\"annotations-invalid-target: Invalid target.\",\"element\",\"remove\",\"cancel\",\"map\",\"init\",\"getAnnotationView\",\"locale\",\"targetRect\",\"pluginName\",\"switchTo\",\"max\",\"add\",\"fire\",\"selectedViews\",\"change:activeView\",\"_throttledOrderUpdate\",\"length\",\"removeEventListener\",\"detach\",\"uiType\",\"render\",\"isActive\",\"top\",\"has\",\"sort\",\"delete\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(_,278);const w=function(e,t){e=e-0;let n=_[e];return n};class v extends i[\"a\"]{static get[w(\"0x13\")](){return w(\"0x2\")}constructor(e){super(e),this[w(\"0x4\")]=new h[\"a\"],this[w(\"0x1\")](w(\"0x18\"),[]),this[w(\"0x1\")](w(\"0x0\"),null),this[\"on\"](w(\"0x19\"),(e,t,n,i)=>{n&&(this[\"i\"][\"get\"](n)[w(\"0x20\")]=!0);const r=this[\"i\"][w(\"0x2a\")](i);i&&r&&(r[\"isActive\"]=!1)}),this[w(\"0x5\")]=new o[\"a\"],this[w(\"0x5\")][\"on\"](w(\"0x9\"),(e,t,n)=>{n||(this[w(\"0x0\")]=null)}),this[w(\"0x1e\")]=\"\",this[\"s\"]=new Map,this[\"i\"]=new Map,this[\"o\"]=new Map,this[\"_throttledOrderUpdate\"]=Object(g[\"a\"])(()=>{this[\"h\"](),this[\"u\"]()},400,{leading:!1})}[w(\"0xf\")](){window[w(\"0x6\")](w(\"0x29\"),this[w(\"0x1a\")])}[\"register\"](e,t){if(this[\"s\"][w(\"0x22\")](e))throw new m[\"b\"](w(\"0x27\"));if(w(\"0x2c\")!=typeof t[\"attach\"]||w(\"0x2c\")!=typeof t[w(\"0x1d\")])throw new m[\"b\"](w(\"0x26\"));this[\"s\"][\"set\"](e,t)}[w(\"0x14\")](e){if(!this[\"s\"][w(\"0x22\")](e))throw new m[\"b\"](\"annotations-switchto-missing-ui: UI of a given name has been not registered.\",this);this[w(\"0x1e\")]!==e&&(this[w(\"0x1e\")]&&this[\"s\"][w(\"0x2a\")](this[w(\"0x1e\")])[w(\"0x1d\")](),this[w(\"0x1e\")]=e,this[\"s\"][w(\"0x2a\")](this[w(\"0x1e\")])[\"attach\"]())}[w(\"0x16\")](e,t){if(this[\"i\"][w(\"0x22\")](e))throw new m[\"b\"](\"annotations-duplicated-item: Given view was already added to the annotations repository.\",this);const n=new u(this[\"context\"][w(\"0x11\")],e);n[w(\"0x1f\")](),this[w(\"0x5\")][w(\"0x16\")](n[w(\"0xb\")]),n[\"focusTracker\"][\"on\"](\"change:isFocused\",(t,n,i)=>{i&&(this[w(\"0x0\")]=e)}),this[\"o\"][\"set\"](e,t),this[\"l\"](n);const i=this[\"m\"](n[w(\"0x12\")]);return this[w(\"0x4\")][w(\"0x16\")](n,i),this[\"i\"][w(\"0x1\")](e,n),n}[w(\"0xc\")](e){if(!this[\"i\"][\"has\"](e))return;const t=this[\"i\"][w(\"0x2a\")](e);this[w(\"0x5\")][w(\"0xc\")](t[w(\"0xb\")]),this[w(\"0x0\")]===e&&(this[w(\"0x0\")]=null),this[w(\"0x4\")][w(\"0xc\")](t),t[\"destroy\"](),this[\"o\"][\"delete\"](e),this[\"i\"][w(\"0x24\")](e)}[\"getTarget\"](e){const t=this[\"o\"][w(\"0x2a\")](e);return w(\"0x2c\")==typeof t?t():t}[w(\"0x10\")](e){return this[\"i\"][w(\"0x2a\")](e)}[\"refresh\"](){this[w(\"0x17\")](w(\"0x28\")),this[w(\"0x1a\")]()}[w(\"0x7\")](){super[w(\"0x7\")](),window[w(\"0x1c\")](w(\"0x29\"),this[w(\"0x1a\")]),this[w(\"0x1a\")][w(\"0xd\")](),this[w(\"0x4\")][w(\"0xe\")](e=>e[w(\"0x7\")]())}[\"h\"](){for(const e of this[w(\"0x4\")])this[\"l\"](e)}[\"l\"](e){const t=this[w(\"0x8\")](e[\"customView\"]);if(!(t instanceof f[\"a\"]||Object(p[\"a\"])(t)))throw new m[\"b\"](w(\"0xa\"));e[\"targetRect\"]=new f[\"a\"](t)}[\"u\"](){const e=Array[w(\"0x25\")](this[w(\"0x4\")])[w(\"0x23\")]((e,t)=>k(e[w(\"0x12\")],t[w(\"0x12\")]));for(let t=e[w(\"0x1b\")]-1;t>0;t--){const n=e[t];t!==this[w(\"0x4\")][w(\"0x2b\")](n)&&(this[w(\"0x4\")][w(\"0xc\")](n),this[w(\"0x4\")][\"add\"](n,t))}}[\"m\"](e){let t=0;for(const n of this[\"items\"]){const i=this[w(\"0x8\")](n[\"customView\"]);if(k(e,new f[\"a\"](i))<0)return t;t++}return Math[w(\"0x15\")](0,t)}}function k(e,t){const n=e[w(\"0x21\")]-t[w(\"0x21\")];return 0==n?e[w(\"0x3\")]-t[w(\"0x3\")]:n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var i=n(36);var r=n(5);var o=n(85);var s=n(22);var a=n(60);var c=n(24);var l=n(20);var d=n(0);class u extends i[\"a\"]{constructor(e,t,n){super(n);this.position=e.clone();this.position.stickiness=\"toNone\";this.nodes=new o[\"a\"](Object(a[\"c\"])(t));this.shouldReceiveAttributes=false}get type(){return\"insert\"}get howMany(){return this.nodes.maxOffset}clone(){const e=new o[\"a\"]([...this.nodes].map(e=>e._clone(true)));const t=new u(this.position,e,this.baseVersion);t.shouldReceiveAttributes=this.shouldReceiveAttributes;return t}getReversed(){const e=this.position.root.document.graveyard;const t=new r[\"a\"](e,[0]);return new s[\"a\"](this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset){throw new d[\"b\"](\"insert-operation-position-invalid: Insertion position is invalid.\",this)}}_execute(){const e=this.nodes;this.nodes=new o[\"a\"]([...e].map(e=>e._clone(true)));Object(a[\"a\"])(this.position,e)}toJSON(){const e=super.toJSON();e.position=this.position.toJSON();e.nodes=this.nodes.toJSON();return e}static get className(){return\"InsertOperation\"}static fromJSON(e,t){const n=[];for(const t of e.nodes){if(t.name){n.push(l[\"a\"].fromJSON(t))}else{n.push(c[\"a\"].fromJSON(t))}}const i=new u(r[\"a\"].fromJSON(e.position,t),n,e.baseVersion);i.shouldReceiveAttributes=e.shouldReceiveAttributes;return i}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(36);var r=n(2);var o=n(0);var s=n(60);var a=n(274);class c extends i[\"a\"]{constructor(e,t,n,i,r){super(r);this.range=e.clone();this.key=t;this.oldValue=n===undefined?null:n;this.newValue=i===undefined?null:i}get type(){if(this.oldValue===null){return\"addAttribute\"}else if(this.newValue===null){return\"removeAttribute\"}else{return\"changeAttribute\"}}clone(){return new c(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new c(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();e.range=this.range.toJSON();return e}_validate(){if(!this.range.isFlat){throw new o[\"b\"](\"attribute-operation-range-not-flat: The range to change is not flat.\",this)}for(const e of this.range.getItems({shallow:true})){if(this.oldValue!==null&&!Object(a[\"a\"])(e.getAttribute(this.key),this.oldValue)){throw new o[\"b\"](\"attribute-operation-wrong-old-value: Changed node has different attribute value than operation's \"+\"old attribute value.\",this,{item:e,key:this.key,value:this.oldValue})}if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key)){throw new o[\"b\"](\"attribute-operation-attribute-exists: The attribute with given key already exists.\",this,{node:e,key:this.key})}}}_execute(){if(!Object(a[\"a\"])(this.oldValue,this.newValue)){Object(s[\"e\"])(this.range,this.key,this.newValue)}}static get className(){return\"AttributeOperation\"}static fromJSON(e,t){return new c(r[\"a\"].fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}},function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return B}));var _ckeditor_ckeditor5_core_src_context__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(107);var _ckeditor_ckeditor5_core_src_contextplugin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27);var _ckeditor_ckeditor5_core_src_pendingactions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(70);var _annotations_annotations__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43);var _ckeditor_ckeditor5_collaboration_core_src_users__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(52);var _ckeditor_ckeditor5_utils_src_collection__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12);var _ui_commentthreadcontroller__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(186);var _utils_getdatetimeformatter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(187);var _ckeditor_ckeditor5_utils_src_uid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17);var _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0);var _ckeditor_ckeditor5_utils_src_observablemixin__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(11);var _ckeditor_ckeditor5_utils_src_mix__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4);var _ui_view_commentthreadview__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(272);var _ui_view_commentview__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(270);var _utils_common_translations__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(142);var _theme_comment_css__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(437);var _theme_comment_css__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_theme_comment_css__WEBPACK_IMPORTED_MODULE_15__);var _theme_commentthread_css__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(439);var _theme_commentthread_css__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_theme_commentthread_css__WEBPACK_IMPORTED_MODULE_16__);var _theme_commentinput_css__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(441);var _theme_commentinput_css__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_theme_commentinput_css__WEBPACK_IMPORTED_MODULE_17__);const _0x2891=[\"activeCommentThread\",\"PENDING_ACTION_COMMENT_THREAD\",\"then\",\"isFromAdapter\",\"getUser\",\"getCommentThreads\",\"commentThreadInputView\",\"destroy\",\"slice\",\"config\",\"remove\",\"comments.CommentThreadView\",\"lowest\",\"addComment\",\"update\",\"charAt\",\"commentsrepository-remove-comment-missing-comment-thread: Cannot remove comment from not existing CommentThread.\",\"CommentThreadView\",\"commentInputView\",\"_add\",\"createElement\",\"view\",\"toJSON\",'commentsrepository-missing-thread-and-adapter: Comment thread with \"',\"getCommentThread\",\"assign\",\"attachTo\",\"map\",\"comments.maxCommentCharsWhenCollapsed\",\"isActive\",\"createdAt\",\"activeView\",\"comment\",\"comments.maxCommentsWhenCollapsed\",\"updateComment\",\"_viewToController\",\"string\",\"commentsrepository-remove-missing-comment-thread: Cannot remove not existing comment thread.\",\"_remove\",\"getTime\",\"context\",\"comments.editorConfig\",\"catch\",\"Annotations\",\"afterInit\",\"commentsrepository-invalid-comment-authorId: Comment author id has to be a string.\",\"author\",\"stopListening\",\"addCommentThread\",\"hasCommentThread\",'\" id is not added to the editor nor adapter is defined.',\"CommentView\",\"fire\",\"selectedViews\",\"isAttached\",\"channelId\",\"comments.maxThreadTotalWeight\",\"length\",\"error\",\"replace\",\"max\",\"getIndex\",\"parse\",\"indexOf\",\"commentsrepository-update-comment-invalid-content: Comment content has to be a string.\",\"setActiveCommentThread\",\"commentsrepository-duplicated-comment-thread-id: CommentThread with a given id is already added.\",\"removeCommentThread\",\"bind\",\"commentsrepository-add-comment-to-missing-comment-thread: Cannot add Comment to not existing CommentThread.\",\"listenTo\",\"trim\",\"delete\",\"charCodeAt\",\"type\",'commentsrepository-missing-thread-and-adapter-method: Comment thread with \"',\"noChannel\",\"set\",\"_isAttached\",\"textContent\",\"commentsrepository-invalid-comment-thread-id: CommentThread id has to be a string.\",\"define\",\"div\",\"init\",\"removeComment\",\"Users\",\"plugins\",\"isDirty\",\"commentsrepository-adapter-already-set: Cannot set adapter more than once.\",\"comments\",\"PendingActions\",\"join\",\"licenseKey\",\"fromCharCode\",\"from\",\"resolve\",\"locale\",\"find\",\"commentsrepository-add-comment-internal-error: Adding comment result in an error.\",\"commentsrepository-invalid-commentId: Comment id has to be a string.\",\"push\",\"threadId\",\"change:isDirty\",\"_detachCommentThread\",\"isReadOnly\",\"isEditable\",\"_threads\",\"commentUpdated\",\"commentsrepository-active-missing-comment-thread: Cannot set not existing comment thread as active.\",\"commentsrepository-update-missing-comment: Cannot update not existing Comment.\",\"innerHTML\",\"focus\",\"reduce\",\"has\",\"commentsrepository-fetch-comment-thread: Fetching a comment thread failed.\",\"add\",\"commentsrepository-remove-comment-internal-error: Removing comment result in an error.\",\"commentsrepository-active-not-attached: Cannot set not attached comment thread as an active.\",\"_createCommentThreadView\",\"substring\",\"fetchCommentThread\",\"commentsrepository-remove-missing-comment: Cannot remove not existing Comment.\",\"values\",\"switchReadOnly\",\"openNewCommentThread\",\"adapter\",\"commentsrepository-get-comment-invalid-id: Comment id has to be a string.\",\"pop\",\"commentsrepository-missing-target: Missing target.\",\"content\",\"commentsrepository-add-comment-user-not-exists: Comment author is not defined in Users plugin.\",\"_model\",\"commentsrepository-attach-missing-comment-thread: Cannot attach not existing comment thread.\",\"once\",\"_threadToController\",\"function\",\"getComment\",\"get\",\"weight\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(_0x2891,334);const _0x2769=function(e,t){e=e-0;let n=_0x2891[e];return n};const noChannel=Symbol(_0x2769(\"0x14\"));class B extends _ckeditor_ckeditor5_core_src_contextplugin__WEBPACK_IMPORTED_MODULE_1__[\"a\"]{static get[\"requires\"](){return[_annotations_annotations__WEBPACK_IMPORTED_MODULE_3__[\"a\"],_ckeditor_ckeditor5_collaboration_core_src_users__WEBPACK_IMPORTED_MODULE_4__[\"a\"],_ckeditor_ckeditor5_core_src_pendingactions__WEBPACK_IMPORTED_MODULE_2__[\"a\"]]}static get[\"pluginName\"](){return\"CommentsRepository\"}constructor(e){super(e),this[_0x2769(\"0x32\")]=new Map,this[_0x2769(\"0x4e\")]=new Map,this[_0x2769(\"0x76\")]=new Map,this[\"et\"]=new Set,this[_0x2769(\"0x24\")]=this[_0x2769(\"0x7b\")][\"config\"][\"get\"](_0x2769(\"0x24\"));const t=this[\"context\"][_0x2769(\"0x5c\")];t[\"define\"](_0x2769(\"0x74\"),2),t[_0x2769(\"0x19\")](\"comments.maxThreadTotalWeight\",500),t[_0x2769(\"0x19\")](_0x2769(\"0x6f\"),140),t[_0x2769(\"0x19\")](_0x2769(\"0x5e\"),_ui_view_commentthreadview__WEBPACK_IMPORTED_MODULE_12__[\"a\"]),t[_0x2769(\"0x19\")](\"comments.CommentView\",_ui_view_commentview__WEBPACK_IMPORTED_MODULE_13__[\"a\"])}[_0x2769(\"0x1b\")](){const e=this[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][\"get\"](_0x2769(\"0x7e\"));this[\"set\"](_0x2769(\"0x53\"),null),this[\"on\"](_0x2769(\"0x83\"),(e,t)=>this[\"nt\"](t)),this[\"on\"](_0x2769(\"0xb\"),(e,t)=>this[\"rt\"](t)),this[\"on\"](_0x2769(\"0x60\"),(e,t)=>this[\"ot\"](t)),this[\"on\"](\"updateComment\",(e,t)=>this[\"st\"](t)),this[\"on\"](_0x2769(\"0x1c\"),(e,t)=>this[\"it\"](t)),this[\"on\"](_0x2769(\"0x60\"),(e,{threadId:t,isFromAdapter:n})=>{if(n)return;const i=this[\"getCommentThread\"](t),r=this[_0x2769(\"0x4e\")][\"get\"](i);r&&r[_0x2769(\"0x68\")][_0x2769(\"0x37\")]()},{priority:_0x2769(\"0x5f\")}),this[_0x2769(\"0xe\")](e,\"change:activeView\",(e,t,n,i)=>{i&&(i[_0x2769(\"0x70\")]=!1),n?(n[_0x2769(\"0x70\")]=!0,this[\"activeCommentThread\"]=n[_0x2769(\"0x4b\")]):this[_0x2769(\"0x53\")]=null})}[_0x2769(\"0x7f\")](){x8eE(this[_0x2769(\"0x7b\")])}set[_0x2769(\"0x45\")](e){if(this[\"at\"])throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x20\"));this[\"at\"]=e}get[_0x2769(\"0x45\")](){return this[\"at\"]}[_0x2769(\"0x83\")]({channelId:e=noChannel,threadId:t=Object(_ckeditor_ckeditor5_utils_src_uid__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(),comments:n=[],target:i,isFromAdapter:r}={}){return this[_0x2769(\"0x87\")](toEventName(_0x2769(\"0x83\"),e),{channelId:e,threadId:t,comments:n,target:i,isFromAdapter:r}),this[\"getCommentThread\"](t)}[_0x2769(\"0x44\")]({channelId:e=noChannel,threadId:t=Object(_ckeditor_ckeditor5_utils_src_uid__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(),target:n}){if(this[\"et\"][_0x2769(\"0x39\")](e)||this[\"et\"][_0x2769(\"0x39\")](void 0))return;if(!n)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x48\"));const i=this[\"addCommentThread\"]({channelId:e,threadId:t,target:n});if(!i)return null;const r=this[_0x2769(\"0x4e\")][_0x2769(\"0x51\")](i),o=r[\"view\"][_0x2769(\"0x59\")][_0x2769(\"0x65\")],s=this[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][_0x2769(\"0x51\")](_0x2769(\"0x7e\"));return s[_0x2769(\"0x72\")]=r[_0x2769(\"0x68\")],s[_0x2769(\"0x88\")]=[r[_0x2769(\"0x68\")],...s[_0x2769(\"0x88\")]],o[_0x2769(\"0x4d\")](\"editorReady\",()=>o[_0x2769(\"0x37\")]()),i}[_0x2769(\"0x84\")](e){if(_0x2769(\"0x77\")!=typeof e)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x18\"));return this[_0x2769(\"0x32\")][_0x2769(\"0x39\")](e)}[\"getCommentThread\"](e){if(\"string\"!=typeof e)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x18\"));return this[_0x2769(\"0x32\")][_0x2769(\"0x51\")](e)}[_0x2769(\"0x40\")]({channelId:e,threadId:t}={}){const n=this[_0x2769(\"0x6b\")](t);if(n)return Promise[_0x2769(\"0x27\")](n);if(!this[_0x2769(\"0x45\")])throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x6a\")+t+_0x2769(\"0x85\"),this[_0x2769(\"0x7b\")]);if(\"function\"!=typeof this[_0x2769(\"0x45\")][_0x2769(\"0x6b\")])throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x13\")+t+'\" id is not added to the editor nor adapter.getCommentThread() is defined.',this[\"context\"]);return this[_0x2769(\"0x45\")][\"getCommentThread\"]({channelId:e,threadId:t})[_0x2769(\"0x55\")](n=>this[_0x2769(\"0x84\")](t)?this[\"getCommentThread\"](t):n?this[_0x2769(\"0x83\")](Object[_0x2769(\"0x6c\")]({isFromAdapter:!0,channelId:e},n)):void 0)[\"catch\"](e=>{throw console[_0x2769(\"0x2\")](e),new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x3a\"),this[_0x2769(\"0x7b\")])})}[_0x2769(\"0x58\")]({channelId:e,skipNotAttached:t=!1,skipEmpty:n=!1,toJSON:i=!1}={}){const r=[];for(const i of this[\"_threads\"][_0x2769(\"0x42\")]())e&&i[_0x2769(\"0x8a\")]!==e||t&&!i[_0x2769(\"0x89\")]||n&&0===i[\"length\"]||r[_0x2769(\"0x2c\")](i);return i?r[_0x2769(\"0x6e\")](e=>e[\"toJSON\"]()):r}[_0x2769(\"0x9\")](e){const t=this[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][_0x2769(\"0x51\")](_0x2769(\"0x7e\"));if(!e)return void(this[_0x2769(\"0x53\")]&&(t[_0x2769(\"0x72\")]=null));const n=this[_0x2769(\"0x6b\")](e);if(!n)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x34\"),null,{threadId:e});if(!this[_0x2769(\"0x4e\")][\"has\"](n))throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x3d\"),null,{threadId:e});t[_0x2769(\"0x72\")]=this[_0x2769(\"0x4e\")][_0x2769(\"0x51\")](n)[\"view\"]}[_0x2769(\"0x43\")](e,t){e?this[\"et\"][_0x2769(\"0x3b\")](t):this[\"et\"][_0x2769(\"0x10\")](t);for(const n of this[_0x2769(\"0x58\")]({channelId:t}))n[_0x2769(\"0x30\")]=!!e}[\"nt\"]({channelId:e,threadId:t,comments:n,target:i,isFromAdapter:r}){if(_0x2769(\"0x77\")!=typeof t)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](\"commentsrepository-invalid-comment-thread-id: CommentThread id has to be a string.\",null,{threadId:t});if(this[\"hasCommentThread\"](t))throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0xa\"),null,{threadId:t});const o=new CommentThread(this,{channelId:e,id:t});(this[\"et\"][_0x2769(\"0x39\")](e)||this[\"et\"][\"has\"](void 0))&&(o[_0x2769(\"0x30\")]=!0),this[_0x2769(\"0x32\")][_0x2769(\"0x15\")](t,o);for(const e of n)o[_0x2769(\"0x60\")](Object[_0x2769(\"0x6c\")]({isFromAdapter:r},e));i&&o[_0x2769(\"0x6d\")](i)}[\"_attachCommentThread\"]({threadId:e,target:t}){const n=this[_0x2769(\"0x6b\")](e);if(!n)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x4c\"),this);const i=this[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][_0x2769(\"0x51\")](\"PendingActions\"),r=this[_0x2769(\"0x7b\")][\"plugins\"][_0x2769(\"0x51\")](\"Annotations\"),o=this[_0x2769(\"0x3e\")](n),s=new _ui_commentthreadcontroller__WEBPACK_IMPORTED_MODULE_6__[\"a\"](n,o);let a=null;o[\"on\"](_0x2769(\"0x2e\"),(e,t,n)=>{n?a=i[_0x2769(\"0x3b\")](Object(_utils_common_translations__WEBPACK_IMPORTED_MODULE_14__[\"a\"])(this[_0x2769(\"0x7b\")][\"locale\"],_0x2769(\"0x54\"))):(i[_0x2769(\"0x5d\")](a),a=null)}),this[_0x2769(\"0x4e\")][\"set\"](n,s),this[_0x2769(\"0x76\")][\"set\"](o,s);const c=r[_0x2769(\"0x3b\")](o,t);c[_0x2769(\"0x12\")]=_0x2769(\"0x73\"),c[_0x2769(\"0xc\")](\"length\")[\"to\"](o),c[_0x2769(\"0xc\")](_0x2769(\"0x1f\"))[\"to\"](o,_0x2769(\"0x1f\"),o,_0x2769(\"0x1\"),(e,t)=>e||!t),c[\"bind\"](_0x2769(\"0x70\"))[\"to\"](o)}[_0x2769(\"0x3e\")](e){const t=this[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][_0x2769(\"0x51\")](_0x2769(\"0x1d\")),{config:n,locale:i}=this[\"context\"],r=Object(_utils_getdatetimeformatter__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(n[\"get\"](_0x2769(\"0x28\")));return new(0,n[_0x2769(\"0x51\")](\"comments\")[_0x2769(\"0x64\")])(i,e,t[\"me\"],{editorConfig:n[_0x2769(\"0x51\")](_0x2769(\"0x7c\")),maxCommentsWhenCollapsed:n[_0x2769(\"0x51\")](_0x2769(\"0x74\")),maxThreadTotalWeight:n[_0x2769(\"0x51\")](_0x2769(\"0x0\")),maxCommentCharsWhenCollapsed:n[_0x2769(\"0x51\")](_0x2769(\"0x6f\")),formatDateTime:r,CommentView:n[\"get\"](\"comments\")[_0x2769(\"0x86\")]})}[\"rt\"]({threadId:e,isFromAdapter:t}){const n=this[\"getCommentThread\"](e);if(!n)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x78\"),this);if(this[_0x2769(\"0x2f\")](e),this[_0x2769(\"0x32\")][_0x2769(\"0x10\")](e),!n[\"length\"]||t||!this[\"adapter\"]||_0x2769(\"0x4f\")!=typeof this[_0x2769(\"0x45\")][_0x2769(\"0xb\")])return Promise[\"resolve\"]();const i=this[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][_0x2769(\"0x51\")](_0x2769(\"0x22\")),{channelId:r}=n,o=i[_0x2769(\"0x3b\")](Object(_utils_common_translations__WEBPACK_IMPORTED_MODULE_14__[\"a\"])(this[_0x2769(\"0x7b\")][_0x2769(\"0x28\")],_0x2769(\"0x54\")));return this[_0x2769(\"0x45\")][_0x2769(\"0xb\")]({channelId:r,threadId:e})[_0x2769(\"0x55\")](()=>i[_0x2769(\"0x5d\")](o))[_0x2769(\"0x7d\")](e=>{throw console[\"error\"](e),new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](\"commentsrepository-remove-comment-thread-internal-error: Removing comment thread result in an error.\",this)})}[_0x2769(\"0x2f\")](e){const t=this[\"context\"][_0x2769(\"0x1e\")][\"get\"](\"Annotations\"),n=this[_0x2769(\"0x6b\")](e);if(this[_0x2769(\"0x4e\")][_0x2769(\"0x39\")](n)){const e=this[_0x2769(\"0x4e\")][_0x2769(\"0x51\")](n),i=e[_0x2769(\"0x68\")];this[\"_threadToController\"][_0x2769(\"0x10\")](n),this[_0x2769(\"0x76\")][\"delete\"](i),t[_0x2769(\"0x5d\")](i),e[_0x2769(\"0x5a\")](),i[_0x2769(\"0x5a\")]()}}[\"ot\"]({threadId:e,commentId:t=Object(_ckeditor_ckeditor5_utils_src_uid__WEBPACK_IMPORTED_MODULE_8__[\"a\"])(),content:n,authorId:i,createdAt:r,isFromAdapter:o}){if(_0x2769(\"0x77\")!=typeof t)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x2b\"));if(_0x2769(\"0x77\")!=typeof i)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x80\"));if(\"string\"!=typeof n||!n[_0x2769(\"0xf\")]())throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](\"commentsrepository-invalid-comment-content: Comment content has to be a string.\");const s=this[_0x2769(\"0x6b\")](e);if(!s)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0xd\"),this);const a=this[_0x2769(\"0x7b\")][\"plugins\"][_0x2769(\"0x51\")](_ckeditor_ckeditor5_collaboration_core_src_users__WEBPACK_IMPORTED_MODULE_4__[\"a\"])[_0x2769(\"0x57\")](i);if(!a)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x4a\"),null,{authorId:i});const c=new Comment(this,{threadId:e,id:t,author:a,content:n,createdAt:r||new Date});if(s[_0x2769(\"0x66\")](c),o||!this[_0x2769(\"0x45\")]||_0x2769(\"0x4f\")!=typeof this[_0x2769(\"0x45\")][_0x2769(\"0x60\")])return Promise[_0x2769(\"0x27\")]();const l=this[_0x2769(\"0x7b\")][\"plugins\"][_0x2769(\"0x51\")](_0x2769(\"0x22\")),{channelId:d}=s,u=l[_0x2769(\"0x3b\")](Object(_utils_common_translations__WEBPACK_IMPORTED_MODULE_14__[\"a\"])(this[_0x2769(\"0x7b\")][_0x2769(\"0x28\")],\"PENDING_ACTION_COMMENT_THREAD\"));return this[\"adapter\"][\"addComment\"]({channelId:d,threadId:e,commentId:t,content:n})[_0x2769(\"0x55\")](i=>{if(l[_0x2769(\"0x5d\")](u),this[\"hasCommentThread\"](e))i&&i[_0x2769(\"0x71\")]&&this[\"st\"]({threadId:e,commentId:t,createdAt:i[\"createdAt\"],isFromAdapter:!0});else{const o={threadId:e,commentId:t,content:n,createdAt:i&&i[_0x2769(\"0x71\")]?i[\"createdAt\"]:r,authorId:a[\"id\"]};this[_0x2769(\"0x83\")]({channelId:d,threadId:e,comments:[o],isFromAdapter:!0})}})[_0x2769(\"0x7d\")](e=>{throw console[\"error\"](e),new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x2a\"),this)})}[\"st\"]({threadId:e,commentId:t,content:n,createdAt:i,isFromAdapter:r}){if(void 0!==n&&(_0x2769(\"0x77\")!=typeof n||!n[_0x2769(\"0xf\")]()[\"length\"]))throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x8\"));const o=this[_0x2769(\"0x6b\")](e),s=o[_0x2769(\"0x50\")](t);if(!s)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x35\"),this);let a=!1;if(n&&n!==s[_0x2769(\"0x49\")]&&(s[_0x2769(\"0x49\")]=n,a=!0),i&&i!==s[_0x2769(\"0x71\")]&&(s[\"createdAt\"]=i,a=!0),!a)return Promise[_0x2769(\"0x27\")]();if(o[_0x2769(\"0x87\")](_0x2769(\"0x33\")),r||!this[\"adapter\"]||_0x2769(\"0x4f\")!=typeof this[_0x2769(\"0x45\")][_0x2769(\"0x75\")])return Promise[_0x2769(\"0x27\")]();const c=this[_0x2769(\"0x7b\")][\"plugins\"][_0x2769(\"0x51\")](_0x2769(\"0x22\")),{channelId:l}=this[_0x2769(\"0x6b\")](s[_0x2769(\"0x2d\")]),d=c[_0x2769(\"0x3b\")](Object(_utils_common_translations__WEBPACK_IMPORTED_MODULE_14__[\"a\"])(this[\"context\"][_0x2769(\"0x28\")],_0x2769(\"0x54\")));return this[_0x2769(\"0x45\")][\"updateComment\"]({channelId:l,threadId:e,commentId:t,content:n})[\"then\"](()=>c[_0x2769(\"0x5d\")](d))[_0x2769(\"0x7d\")](e=>{throw console[\"error\"](e),new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](\"commentsrepository-update-comment-internal-error: Updating comment resulted in an error\",this)})}[\"it\"]({threadId:e,commentId:t,isFromAdapter:n}){const i=this[_0x2769(\"0x6b\")](e),r=i[_0x2769(\"0x50\")](t);if(!r)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x41\"),this);if(i[_0x2769(\"0x79\")](r),n||!this[_0x2769(\"0x45\")]||_0x2769(\"0x4f\")!=typeof this[_0x2769(\"0x45\")][_0x2769(\"0x1c\")])return Promise[\"resolve\"]();const o=this[_0x2769(\"0x7b\")][\"plugins\"][\"get\"](_0x2769(\"0x22\")),{channelId:s}=i,a=o[_0x2769(\"0x3b\")](Object(_utils_common_translations__WEBPACK_IMPORTED_MODULE_14__[\"a\"])(this[\"context\"][\"locale\"],_0x2769(\"0x54\")));return this[_0x2769(\"0x45\")][\"removeComment\"]({channelId:s,threadId:e,commentId:t})[_0x2769(\"0x55\")](()=>o[_0x2769(\"0x5d\")](a))[_0x2769(\"0x7d\")](e=>{throw console[\"error\"](e),new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x3c\"),this)})}}class CommentThread{constructor(e,t){this[_0x2769(\"0x8a\")]=t[_0x2769(\"0x8a\")],this[\"id\"]=t[\"id\"],this[_0x2769(\"0x15\")](_0x2769(\"0x30\"),!1),this[_0x2769(\"0x21\")]=new _ckeditor_ckeditor5_utils_src_collection__WEBPACK_IMPORTED_MODULE_5__[\"a\"],this[\"dt\"]=e,this[\"_isAttached\"]=!1}get[_0x2769(\"0x52\")](){return Array[_0x2769(\"0x26\")](this[_0x2769(\"0x21\")])[_0x2769(\"0x38\")]((e,t)=>e+t[_0x2769(\"0x52\")],0)}get[_0x2769(\"0x1\")](){return this[_0x2769(\"0x21\")][_0x2769(\"0x1\")]}get[_0x2769(\"0x89\")](){return this[_0x2769(\"0x16\")]}[\"remove\"]({isFromAdapter:e=!1}={}){const{channelId:t,id:n}=this;this[\"dt\"][_0x2769(\"0x87\")](toEventName(_0x2769(\"0xb\"),t),{channelId:t,threadId:n,isFromAdapter:e})}[_0x2769(\"0x6d\")](e){this[\"dt\"][\"_attachCommentThread\"]({threadId:this[\"id\"],target:e})}[_0x2769(\"0x60\")](e){const{channelId:t,id:n}=this;this[\"dt\"][_0x2769(\"0x87\")](toEventName(_0x2769(\"0x60\"),t,n),Object[_0x2769(\"0x6c\")]({channelId:t,threadId:n},e))}[_0x2769(\"0x50\")](e){if(\"string\"!=typeof e)throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x46\"),null,{commentId:e});return this[_0x2769(\"0x21\")][_0x2769(\"0x51\")](e)}[_0x2769(\"0x69\")](){return{threadId:this[\"id\"],comments:this[_0x2769(\"0x21\")][_0x2769(\"0x6e\")](e=>e[\"toJSON\"]())}}[_0x2769(\"0x66\")](e){return this[_0x2769(\"0xe\")](e,\"change:createdAt\",()=>{const t=this[\"ht\"](e),n=this[_0x2769(\"0x21\")];t-1!=n[_0x2769(\"0x5\")](e)&&t+1!=n[\"getIndex\"](e)&&(this[_0x2769(\"0x79\")](e),this[_0x2769(\"0x66\")](e))}),e[_0x2769(\"0x71\")]?this[_0x2769(\"0x21\")][_0x2769(\"0x3b\")](e,this[\"ht\"](e)):this[_0x2769(\"0x21\")][\"add\"](e)}[_0x2769(\"0x79\")](e){return this[_0x2769(\"0x82\")](e),e[_0x2769(\"0x5a\")](),this[\"comments\"][_0x2769(\"0x5d\")](e)}[\"ht\"](e){const t=this[_0x2769(\"0x21\")][_0x2769(\"0x29\")](t=>new Date(t[_0x2769(\"0x71\")])[_0x2769(\"0x7a\")]()>new Date(e[\"createdAt\"])[\"getTime\"]());return t?this[_0x2769(\"0x21\")][_0x2769(\"0x5\")](t):this[_0x2769(\"0x1\")]}}Object(_ckeditor_ckeditor5_utils_src_mix__WEBPACK_IMPORTED_MODULE_11__[\"a\"])(CommentThread,_ckeditor_ckeditor5_utils_src_observablemixin__WEBPACK_IMPORTED_MODULE_10__[\"a\"]);const MIN_WEIGHT=200;function getContentLength(e){const t=document[_0x2769(\"0x67\")](_0x2769(\"0x1a\"));return t[_0x2769(\"0x36\")]=e,t[_0x2769(\"0x17\")][\"length\"]}class Comment{constructor(e,t){const n=e[_0x2769(\"0x7b\")][_0x2769(\"0x1e\")][_0x2769(\"0x51\")](_0x2769(\"0x1d\"))[\"me\"],i=e[_0x2769(\"0x6b\")](t[_0x2769(\"0x2d\")]);this[\"id\"]=t[\"id\"],this[\"threadId\"]=t[\"threadId\"],this[\"author\"]=t[_0x2769(\"0x81\")],this[_0x2769(\"0x15\")](\"content\",t[_0x2769(\"0x49\")]),this[\"set\"](_0x2769(\"0x71\"),t[_0x2769(\"0x71\")]),this[_0x2769(\"0x15\")](\"isEditable\",n===t[_0x2769(\"0x81\")]),this[_0x2769(\"0x15\")](\"isRemovable\",n===t[_0x2769(\"0x81\")]),this[_0x2769(\"0xc\")](\"isReadOnly\")[\"to\"](i,_0x2769(\"0x30\")),this[\"dt\"]=e}get[_0x2769(\"0x52\")](){return Math[_0x2769(\"0x4\")](getContentLength(this[_0x2769(\"0x49\")]),MIN_WEIGHT)}[_0x2769(\"0x61\")](e){if(!e[_0x2769(\"0x56\")]&&!this[_0x2769(\"0x31\")])return;const{threadId:t,id:n}=this;if(!this[\"dt\"][_0x2769(\"0x84\")](t))throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](\"commentsrepository-update-comment-missing-comment-thread: Cannot update comment of not existing CommentThread.\",this);const i=this[\"dt\"][_0x2769(\"0x6b\")](t),{channelId:r}=i;this[\"dt\"][_0x2769(\"0x87\")](toEventName(\"updateComment\",r,t),Object[_0x2769(\"0x6c\")]({channelId:r,threadId:t,commentId:n},e))}[_0x2769(\"0x5d\")](e={}){if(!e[_0x2769(\"0x56\")]&&!this[\"isRemovable\"])return;const{threadId:t,id:n}=this;if(!this[\"dt\"][_0x2769(\"0x84\")](t))throw new _ckeditor_ckeditor5_utils_src_ckeditorerror__WEBPACK_IMPORTED_MODULE_9__[\"b\"](_0x2769(\"0x63\"),this);const i=this[\"dt\"][\"getCommentThread\"](t),{channelId:r}=i;this[\"dt\"][\"fire\"](toEventName(_0x2769(\"0x1c\"),r,t),Object[_0x2769(\"0x6c\")]({channelId:r,threadId:t,commentId:n},e))}[_0x2769(\"0x69\")](){return{commentId:this[\"id\"],content:this[\"content\"],createdAt:this[\"createdAt\"],authorId:this[_0x2769(\"0x81\")][\"id\"]}}[_0x2769(\"0x5a\")](){this[_0x2769(\"0x82\")]()}}function toEventName(e,...t){for(const n of t)_0x2769(\"0x77\")==typeof n&&(e+=\":\"+n);return e}function x8eE(_0x26cbb3){const _0x281f5e=_0x26cbb3 instanceof _ckeditor_ckeditor5_core_src_context__WEBPACK_IMPORTED_MODULE_0__[\"a\"],_0x1b5265=[1,85,78,115,198,255,50,112,83,87,161],_0x265ec5=_0x2c0363([52,48,52,48,49,52,53,56]),_0x2d9dd3=[127,34,6,211,167,86,146,199,132,160,18],_0xddd7ef=_0x2c0363([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57]),_0x59b233=_0x52706a(_0x26cbb3[_0x2769(\"0x5c\")][\"get\"](_0x2c0363([108,105,99,101,110,115,101,75,101,121])));function _0x52706a(_0x28d3cc){if(_0x26cbb3[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([104,97,115])](_0x2c0363([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))&&_0x26cbb3[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([103,101,116])](_0x2c0363([87,101,98,83,111,99,107,101,116,71,97,116,101,119,97,121]))[_0x2c0363([115,116,97,116,101])]==_0x2c0363([99,111,110,110,101,99,116,101,100]))return _0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]));try{const _0x43eed2=_0x472cbe(_0x28d3cc),_0x1a6a51=JSON[_0x2769(\"0x6\")](_0x43eed2),_0x33c179=parseInt(_0x1a6a51[_0x2c0363([49])]),_0x385a08=parseInt(_0x1a6a51[_0x2c0363([51])]),_0x5359c5=parseInt(_0x1a6a51[_0x2c0363([52])])||0,_0x5f3208=parseInt(_0x1a6a51[_0x2c0363([53])])||0,_0x51fa29=1,_0x242567=2;if(!(_0x5359c5&_0x51fa29)||_0x26cbb3[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([104,97,115])](_0x2c0363([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))&&!(_0x5359c5&_0x242567))return _0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(_0x5f3208&&!eval(_0x2c0363([119,105,110,100,111,119]))[_0x2c0363([111,112,101,110])][_0x2c0363([99,108,111,115,101,100])])return _0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(parseInt(_0x265ec5)/2>_0x33c179)return _0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]));if(_0x26cbb3[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([104,97,115])](_0x2c0363([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]))){const e=_0x26cbb3[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([103,101,116])](_0x2c0363([84,114,97,99,107,67,104,97,110,103,101,115,69,100,105,116,105,110,103]));if(parseInt(e[_0x2c0363([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])])/2>_0x33c179)return _0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}return _0xe8abc7(_0x385a08?_0x2c0363([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108]):_0x2c0363([108,105,99,101,110,115,101,75,101,121,86,97,108,105,100]))}catch(e){return _0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100]))}}function _0x472cbe(_0x2b8939){const _0x41829a=[29,221,175,90,231,133,239,240,75,180],_0x16523d=new(eval(_0x2c0363([119,105,110,100,111,119]))[_0x2c0363([85,105,110,116,56,65,114,114,97,121])])([..._0x1b5265,..._0x41829a,..._0x2d9dd3]);return _0x50d333(_0x2b8939,_0x16523d)}function _0x50d333(e,t){const n=_0x346c3b(e),i=Array[_0x2769(\"0x26\")](_0x206254(n)),r=i[_0x2769(\"0x47\")](),o=i[_0x2769(\"0x47\")]();return _0x5bc4aa(_0x23e5f3(i,t,o+256*r))}function _0xe8abc7(e){const t=_0x1161dd();return _0x26cbb3[t]=e,e}function _0x1161dd(){const _0x3c3e9e=String(eval(_0x2c0363([119,105,110,100,111,119]))[_0x2c0363([112,101,114,102,111,114,109,97,110,99,101])][_0x2c0363([110,111,119])]())[\"replace\"](_0x2c0363([46]),\"\");let _0x53062e=\"\";for(let e=0;e<_0x3c3e9e[_0x2769(\"0x1\")];e+=2){let t=parseInt(_0x3c3e9e[_0x2769(\"0x3f\")](e,e+2));t>=_0xddd7ef[\"length\"]&&(t-=_0xddd7ef[_0x2769(\"0x1\")]),_0x53062e+=_0xddd7ef[t]}return _0x53062e}function _0x3af114(e){for(const t of e[_0x2c0363([101,100,105,116,111,114,115])])_0x2ba921(t);e[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([103,101,116])](_0x2c0363([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[_0x2c0363([115,119,105,116,99,104,82,101,97,100,79,110,108,121])](!0),e[_0x2c0363([112,108,117,103,105,110,115])][_0x2c0363([103,101,116])](_0x2c0363([67,111,109,109,101,110,116,115,82,101,112,111,115,105,116,111,114,121]))[_0x2c0363([115,119,105,116,99,104,82,101,97,100,79,110,108,121])]=_0x464d36}function _0x2ba921(e){function t(){e[_0x2c0363([109,111,100,101,108])][_0x2c0363([99,104,97,110,103,101])]=_0x464d36,e[_0x2c0363([109,111,100,101,108])][_0x2c0363([101,110,113,117,101,117,101,67,104,97,110,103,101])]=_0x464d36,e[_0x2c0363([105,115,82,101,97,100,79,110,108,121])]=!0}e[_0x2c0363([115,116,97,116,101])]==_0x2c0363([114,101,97,100,121])?t():e[_0x2c0363([111,110,99,101])](_0x2c0363([114,101,97,100,121]),()=>t())}function _0x464d36(){return null}function _0x206254(e){const t=new Uint8Array(e[_0x2769(\"0x1\")]);for(let n=0;n<e[\"length\"];n++)t[n]=e[_0x2769(\"0x11\")](n);return t}function _0x5bc4aa(e){let t=\"\";for(const n of e)t+=String[_0x2769(\"0x25\")](n);return t}function _0x346c3b(e){const t=_0xddd7ef+_0x2c0363([43,47,61]);if(e=String(e)[_0x2769(\"0x3\")](/[\\t\\n\\f\\r ]+/g,\"\"),!/^(?:[A-Za-z\\d+/]{4})*?(?:[A-Za-z\\d+/]{2}(?:==)?|[A-Za-z\\d+/]{3}=?)?$/[\"test\"](e))throw new TypeError(_0x2c0363([70,97,105,108,101,100,32,116,111,32,112,97,114,115,101,32,98,97,115,101,54,52,32,116,111,32,115,116,114,105,110,103,46]));e+=_0x2c0363([61,61])[_0x2769(\"0x5b\")](2-(3&e[_0x2769(\"0x1\")]));let n,i,r,o=\"\";for(let s=0;s<e[\"length\"];)n=t[_0x2769(\"0x7\")](e[_0x2769(\"0x62\")](s++))<<18|t[\"indexOf\"](e[_0x2769(\"0x62\")](s++))<<12|(i=t[_0x2769(\"0x7\")](e[_0x2769(\"0x62\")](s++)))<<6|(r=t[_0x2769(\"0x7\")](e[_0x2769(\"0x62\")](s++))),o+=64===i?String[_0x2769(\"0x25\")](n>>16&255):64===r?String[_0x2769(\"0x25\")](n>>16&255,n>>8&255):String[_0x2769(\"0x25\")](n>>16&255,n>>8&255,255&n);return o}function _0x23e5f3(e,t,n){const i={};i[_0x2c0363([110,117,109,98,101,114,79,102,82,111,117,110,100,115])]={16:10,24:12,32:14},i[_0x2c0363([114,99,111,110])]=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],i[_0x2c0363([83])]=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],i[_0x2c0363([84,49])]=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],i[_0x2c0363([84,50])]=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],i[_0x2c0363([84,51])]=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],i[_0x2c0363([84,52])]=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],i[_0x2c0363([85,49])]=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],i[_0x2c0363([85,50])]=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],i[_0x2c0363([85,51])]=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],i[_0x2c0363([85,52])]=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];const r=new Uint8Array(16);for(let e=15;e>=0;--e)r[e]=n%256,n=parseInt(n/256);let o=null,s=16;const a=new Uint8Array(t),c=[],l=[];!function(){const e=i[_0x2c0363([110,117,109,98,101,114,79,102,82,111,117,110,100,115])][a[_0x2769(\"0x1\")]];for(let t=0;t<=e;t++)c[_0x2769(\"0x2c\")]([0,0,0,0]),l[_0x2769(\"0x2c\")]([0,0,0,0]);const t=4*(e+1),n=a[_0x2769(\"0x1\")]/4,r=d(a);let o;for(let t=0;t<n;t++)o=t>>2,c[o][t%4]=r[t],l[e-o][t%4]=r[t];let s,u=0,h=n;for(;h<t;){s=r[n-1],r[0]^=i[_0x2c0363([83])][s>>16&255]<<24^i[_0x2c0363([83])][s>>8&255]<<16^i[_0x2c0363([83])][255&s]<<8^i[_0x2c0363([83])][s>>24&255]^i[_0x2c0363([114,99,111,110])][u]<<24,u+=1;for(let e=1;e<n/2;e++)r[e]^=r[e-1];s=r[n/2-1],r[n/2]^=i[_0x2c0363([83])][255&s]^i[_0x2c0363([83])][s>>8&255]<<8^i[_0x2c0363([83])][s>>16&255]<<16^i[_0x2c0363([83])][s>>24&255]<<24;for(let e=n/2+1;e<n;e++)r[e]^=r[e-1];let o,a,d=0;for(;d<n&&h<t;)o=h>>2,a=h%4,c[o][a]=r[d],l[e-o][a]=r[d++],h++}for(let t=1;t<e;t++)for(let e=0;e<4;e++)s=l[t][e],l[t][e]=i[_0x2c0363([85,49])][s>>24&255]^i[_0x2c0363([85,50])][s>>16&255]^i[_0x2c0363([85,51])][s>>8&255]^i[_0x2c0363([85,52])][255&s]}();for(let t=0;t<e[_0x2769(\"0x1\")];t++)16===s&&(o=h(r),s=0,u(r)),e[t]^=o[s++];return e;function d(e){const t=[];for(let n=0;n<e[_0x2769(\"0x1\")];n+=4)t[_0x2769(\"0x2c\")](e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}function u(e){for(let t=15;t>=0;t--){if(255!==e[t]){e[t]++;break}e[t]=0}}function h(e){const t=c[\"length\"]-1,n=[0,0,0,0];let r=d(e);for(let e=0;e<4;e++)r[e]^=c[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)n[t]=i[_0x2c0363([84,49])][r[t]>>24&255]^i[_0x2c0363([84,50])][r[(t+1)%4]>>16&255]^i[_0x2c0363([84,51])][r[(t+2)%4]>>8&255]^i[_0x2c0363([84,52])][255&r[(t+3)%4]]^c[e][t];r=n[_0x2769(\"0x5b\")]()}const o=new Uint8Array(16);let s;for(let e=0;e<4;e++)s=c[t][e],o[4*e]=255&(i[_0x2c0363([83])][r[e]>>24&255]^s>>24),o[4*e+1]=255&(i[_0x2c0363([83])][r[(e+1)%4]>>16&255]^s>>16),o[4*e+2]=255&(i[_0x2c0363([83])][r[(e+2)%4]>>8&255]^s>>8),o[4*e+3]=255&(i[_0x2c0363([83])][255&r[(e+3)%4]]^s);return o}}function _0x2c0363(e){return e[\"map\"](e=>String[_0x2769(\"0x25\")](e))[_0x2769(\"0x23\")](\"\")}_0x281f5e?(_0x59b233==_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])?_0x3af114(_0x26cbb3):_0x59b233==_0x2c0363([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&eval(_0x2c0363([119,105,110,100,111,119]))[_0x2c0363([115,101,116,84,105,109,101,111,117,116])](()=>{_0x3af114(_0x26cbb3),_0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116]))},_0x2d9dd3[6]*_0x1b5265[8]*_0x1b5265[6]),_0x26cbb3[_0x2c0363([101,100,105,116,111,114,115])][_0x2c0363([111,110])](_0x2c0363([97,100,100]),(e,t)=>{_0x59b233!=_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])&&_0x59b233!=_0x2c0363([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116])||_0x2ba921(t)})):_0x59b233==_0x2c0363([108,105,99,101,110,115,101,75,101,121,73,110,118,97,108,105,100])?_0x2ba921(_0x26cbb3):_0x59b233==_0x2c0363([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108])&&_0x26cbb3[_0x2c0363([111,110])](_0x2c0363([114,101,97,100,121]),()=>{let e=0;_0x26cbb3[_0x2c0363([109,111,100,101,108])][_0x2c0363([111,110])](_0x2c0363([97,112,112,108,121,79,112,101,114,97,116,105,111,110]),(t,n)=>{n[0][_0x2c0363([105,115,68,111,99,117,109,101,110,116,79,112,101,114,97,116,105,111,110])]&&e++,504===e&&(_0x2ba921(_0x26cbb3),_0xe8abc7(_0x2c0363([108,105,99,101,110,115,101,75,101,121,84,114,105,97,108,76,105,109,105,116])),t[_0x2c0363([111,102,102])]())},{priority:_0x2c0363([104,105,103,104,101,115,116])})})}Object(_ckeditor_ckeditor5_utils_src_mix__WEBPACK_IMPORTED_MODULE_11__[\"a\"])(Comment,_ckeditor_ckeditor5_utils_src_observablemixin__WEBPACK_IMPORTED_MODULE_10__[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(5);var r=n(13);var o=n(4);var s=n(0);class a extends i[\"a\"]{constructor(e,t,n=\"toNone\"){super(e,t,n);if(!this.root.is(\"rootElement\")){throw new s[\"b\"](\"model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.\",e)}c.call(this)}detach(){this.stopListening()}is(e){return e===\"livePosition\"||e===\"model:livePosition\"||e==\"position\"||e===\"model:position\"}toPosition(){return new i[\"a\"](this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t?t:e.stickiness)}}function c(){this.listenTo(this.root.document.model,\"applyOperation\",(e,t)=>{const n=t[0];if(!n.isDocumentOperation){return}l.call(this,n)},{priority:\"low\"})}function l(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path;this.root=t.root;this.fire(\"change\",e)}}Object(o[\"a\"])(a,r[\"c\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(29);class r{constructor(e){Object.assign(this,e);if(e.actions&&e.keystrokeHandler){for(const t in e.actions){let n=e.actions[t];if(typeof n==\"string\"){n=[n]}for(const i of n){e.keystrokeHandler.set(i,(e,n)=>{this[t]();n()})}}}}get first(){return this.focusables.find(o)||null}get last(){return this.focusables.filter(o).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;if(this.focusTracker.focusedElement===null){return null}this.focusables.find((t,n)=>{const i=t.element===this.focusTracker.focusedElement;if(i){e=n}return i});return e}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){if(e){e.focus()}}_getFocusableItem(e){const t=this.current;const n=this.focusables.length;if(!n){return null}if(t===null){return this[e===1?\"first\":\"last\"]}let i=(t+n+e)%n;do{const t=this.focusables.get(i);if(o(t)){return t}i=(i+n+e)%n}while(i!==t);return null}}function o(e){return!!(e.focus&&i[\"a\"].window.getComputedStyle(e.element).display!=\"none\")}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(73);var r=n(23);var o=n(79);var s=n(53);var a=n(35);var c=n(65);var l=n(191);class d extends i[\"a\"]{constructor(e,t,n,i){super(e);this.name=t;this._attrs=u(n);this._children=[];if(i){this._insertChild(0,i)}this._classes=new Set;if(this._attrs.has(\"class\")){const e=this._attrs.get(\"class\");h(this._classes,e);this._attrs.delete(\"class\")}this._styles=new l[\"b\"](this.document.stylesProcessor);if(this._attrs.has(\"style\")){this._styles.setTo(this._attrs.get(\"style\"));this._attrs.delete(\"style\")}this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}is(e,t=null){if(!t){return e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"element\"||e===\"view:element\")}}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){if(this._classes.size>0){yield\"class\"}if(!this._styles.isEmpty){yield\"style\"}yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries();if(this._classes.size>0){yield[\"class\",this.getAttribute(\"class\")]}if(!this._styles.isEmpty){yield[\"style\",this.getAttribute(\"style\")]}}getAttribute(e){if(e==\"class\"){if(this._classes.size>0){return[...this._classes].join(\" \")}return undefined}if(e==\"style\"){const e=this._styles.toString();return e==\"\"?undefined:e}return this._attrs.get(e)}hasAttribute(e){if(e==\"class\"){return this._classes.size>0}if(e==\"style\"){return!this._styles.isEmpty}return this._attrs.has(e)}isSimilar(e){if(!(e instanceof d)){return false}if(this===e){return true}if(this.name!=e.name){return false}if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size){return false}for(const[t,n]of this._attrs){if(!e._attrs.has(t)||e._attrs.get(t)!==n){return false}}for(const t of this._classes){if(!e._classes.has(t)){return false}}for(const t of this._styles.getStyleNames()){if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t)){return false}}return true}hasClass(...e){for(const t of e){if(!this._classes.has(t)){return false}}return true}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...e){for(const t of e){if(!this._styles.has(t)){return false}}return true}findAncestor(...e){const t=new c[\"a\"](...e);let n=this.parent;while(n){if(t.match(n)){return n}n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(\",\");const t=this._styles.toString();const n=Array.from(this._attrs).map(e=>`${e[0]}=\"${e[1]}\"`).sort().join(\" \");return this.name+(e==\"\"?\"\":` class=\"${e}\"`)+(!t?\"\":` style=\"${t}\"`)+(n==\"\"?\"\":` ${n}`)}_clone(e=false){const t=[];if(e){for(const n of this.getChildren()){t.push(n._clone(e))}}const n=new this.constructor(this.document,this.name,this._attrs,t);n._classes=new Set(this._classes);n._styles.set(this._styles.getNormalized());n._customProperties=new Map(this._customProperties);n.getFillerOffset=this.getFillerOffset;return n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange(\"children\",this);let n=0;const i=f(this.document,t);for(const t of i){if(t.parent!==null){t._remove()}t.parent=this;t.document=this.document;this._children.splice(e,0,t);e++;n++}return n}_removeChildren(e,t=1){this._fireChange(\"children\",this);for(let n=e;n<e+t;n++){this._children[n].parent=null}return this._children.splice(e,t)}_setAttribute(e,t){t=String(t);this._fireChange(\"attributes\",this);if(e==\"class\"){h(this._classes,t)}else if(e==\"style\"){this._styles.setTo(t)}else{this._attrs.set(e,t)}}_removeAttribute(e){this._fireChange(\"attributes\",this);if(e==\"class\"){if(this._classes.size>0){this._classes.clear();return true}return false}if(e==\"style\"){if(!this._styles.isEmpty){this._styles.clear();return true}return false}return this._attrs.delete(e)}_addClass(e){this._fireChange(\"attributes\",this);e=Array.isArray(e)?e:[e];e.forEach(e=>this._classes.add(e))}_removeClass(e){this._fireChange(\"attributes\",this);e=Array.isArray(e)?e:[e];e.forEach(e=>this._classes.delete(e))}_setStyle(e,t){this._fireChange(\"attributes\",this);this._styles.set(e,t)}_removeStyle(e){this._fireChange(\"attributes\",this);e=Array.isArray(e)?e:[e];e.forEach(e=>this._styles.remove(e))}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function u(e){e=Object(s[\"a\"])(e);for(const[t,n]of e){if(n===null){e.delete(t)}else if(typeof n!=\"string\"){e.set(t,String(n))}}return e}function h(e,t){const n=t.split(/\\s+/);e.clear();n.forEach(t=>e.add(t))}function f(e,t){if(typeof t==\"string\"){return[new r[\"a\"](e,t)]}if(!Object(a[\"a\"])(t)){t=[t]}return Array.from(t).map(t=>{if(typeof t==\"string\"){return new r[\"a\"](e,t)}if(t instanceof o[\"a\"]){return new r[\"a\"](e,t.data)}return t})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(24);var r=n(59);var o=n(20);var s=n(5);var a=n(0);class c{constructor(e={}){if(!e.boundaries&&!e.startPosition){throw new a[\"b\"](\"model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.\",null)}const t=e.direction||\"forward\";if(t!=\"forward\"&&t!=\"backward\"){throw new a[\"b\"](\"model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.\",e,{direction:t})}this.direction=t;this.boundaries=e.boundaries||null;if(e.startPosition){this.position=e.startPosition.clone()}else{this.position=s[\"a\"]._createAt(this.boundaries[this.direction==\"backward\"?\"end\":\"start\"])}this.position.stickiness=\"toNone\";this.singleCharacters=!!e.singleCharacters;this.shallow=!!e.shallow;this.ignoreElementEnd=!!e.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let t,n,i,r;do{i=this.position;r=this._visitedParent;({done:t,value:n}=this.next())}while(!t&&e(n));if(!t){this.position=i;this._visitedParent=r}}next(){if(this.direction==\"forward\"){return this._next()}else{return this._previous()}}_next(){const e=this.position;const t=this.position.clone();const n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset){return{done:true}}if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset){return{done:true}}const a=t.parent;const c=Object(s[\"d\"])(t,a);const d=c?c:Object(s[\"b\"])(t,a,c);if(d instanceof o[\"a\"]){if(!this.shallow){t.path.push(0);this._visitedParent=d}else{t.offset++}this.position=t;return l(\"elementStart\",d,e,t,1)}else if(d instanceof i[\"a\"]){let i;if(this.singleCharacters){i=1}else{let e=d.endOffset;if(this._boundaryEndParent==n&&this.boundaries.end.offset<e){e=this.boundaries.end.offset}i=e-t.offset}const o=t.offset-d.startOffset;const s=new r[\"a\"](d,o,i);t.offset+=i;this.position=t;return l(\"text\",s,e,t,i)}else{t.path.pop();t.offset++;this.position=t;this._visitedParent=n.parent;if(this.ignoreElementEnd){return this._next()}else{return l(\"elementEnd\",n,e,t)}}}_previous(){const e=this.position;const t=this.position.clone();const n=this._visitedParent;if(n.parent===null&&t.offset===0){return{done:true}}if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset){return{done:true}}const a=t.parent;const c=Object(s[\"d\"])(t,a);const d=c?c:Object(s[\"c\"])(t,a,c);if(d instanceof o[\"a\"]){t.offset--;if(!this.shallow){t.path.push(d.maxOffset);this.position=t;this._visitedParent=d;if(this.ignoreElementEnd){return this._previous()}else{return l(\"elementEnd\",d,e,t)}}else{this.position=t;return l(\"elementStart\",d,e,t,1)}}else if(d instanceof i[\"a\"]){let i;if(this.singleCharacters){i=1}else{let e=d.startOffset;if(this._boundaryStartParent==n&&this.boundaries.start.offset>e){e=this.boundaries.start.offset}i=t.offset-e}const o=t.offset-d.startOffset;const s=new r[\"a\"](d,o-i,i);t.offset-=i;this.position=t;return l(\"text\",s,e,t,i)}else{t.path.pop();this.position=t;this._visitedParent=n.parent;return l(\"elementStart\",n,e,t,1)}}}function l(e,t,n,i,r){return{done:false,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));var i=n(4);var r=n(13);var o=n(76);var s=n(32);var a=n(24);var c=n(59);var l=n(53);var d=n(12);var u=n(0);var h=n(17);const f=\"selection:\";class m{constructor(e){this._selection=new g(e);this._selection.delegate(\"change:range\").to(this);this._selection.delegate(\"change:attribute\").to(this);this._selection.delegate(\"change:marker\").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers();this._selection._updateAttributes(false)}is(e){return e===\"selection\"||e==\"model:selection\"||e==\"documentSelection\"||e==\"model:documentSelection\"}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return f+e}static _isStoreAttributeKey(e){return e.startsWith(f)}}Object(i[\"a\"])(m,r[\"c\"]);class g extends o[\"a\"]{constructor(e){super();this.markers=new d[\"a\"]({idProperty:\"name\"});this._model=e.model;this._document=e;this._attributePriority=new Map;this._selectionRestorePosition=null;this._hasChangedRange=false;this._overriddenGravityRegister=new Set;this.listenTo(this._model,\"applyOperation\",(e,t)=>{const n=t[0];if(!n.isDocumentOperation||n.type==\"marker\"||n.type==\"rename\"||n.type==\"noop\"){return}if(this._ranges.length==0&&this._selectionRestorePosition){this._fixGraveyardSelection(this._selectionRestorePosition)}this._selectionRestorePosition=null;if(this._hasChangedRange){this._hasChangedRange=false;this.fire(\"change:range\",{directChange:false})}},{priority:\"lowest\"});this.on(\"change:range\",()=>{for(const e of this.getRanges()){if(!this._document._validateSelectionRange(e)){throw new u[\"b\"](\"document-selection-wrong-position: Range from document selection starts or ends at incorrect position.\",this,{range:e})}}});this.listenTo(this._model.markers,\"update\",()=>this._updateMarkers());this.listenTo(this._document,\"change\",(e,t)=>{b(this._model,t)})}get isCollapsed(){const e=this._ranges.length;return e===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++){this._ranges[e].detach()}this.stopListening()}*getRanges(){if(this._ranges.length){yield*super.getRanges()}else{yield this._document._getDefaultRange()}}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,n){super.setTo(e,t,n);this._updateAttributes(true);this._updateMarkers()}setFocus(e,t){super.setFocus(e,t);this._updateAttributes(true);this._updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire(\"change:attribute\",{attributeKeys:t,directChange:true})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire(\"change:attribute\",{attributeKeys:t,directChange:true})}}overrideGravity(){const e=Object(h[\"a\"])();this._overriddenGravityRegister.add(e);if(this._overriddenGravityRegister.size===1){this._updateAttributes(true)}return e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e)){throw new u[\"b\"](\"document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.\",this,{uid:e})}this._overriddenGravityRegister.delete(e);if(!this.isGravityOverridden){this._updateAttributes(true)}}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);if(t){this._ranges.push(t)}}_prepareRange(e){this._checkRange(e);if(e.root==this._document.graveyard){return}const t=s[\"a\"].fromRange(e);t.on(\"change:range\",(e,n,i)=>{this._hasChangedRange=true;if(t.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1);t.detach()}});return t}_updateMarkers(){const e=[];let t=false;for(const t of this._model.markers){const n=t.getRange();for(const i of this.getRanges()){if(n.containsRange(i,!i.isCollapsed)){e.push(t)}}}const n=Array.from(this.markers);for(const n of e){if(!this.markers.has(n)){this.markers.add(n);t=true}}for(const n of Array.from(this.markers)){if(!e.includes(n)){this.markers.remove(n);t=true}}if(t){this.fire(\"change:marker\",{oldMarkers:n,directChange:false})}}_updateAttributes(e){const t=Object(l[\"a\"])(this._getSurroundingAttributes());const n=Object(l[\"a\"])(this.getAttributes());if(e){this._attributePriority=new Map;this._attrs=new Map}else{for(const[e,t]of this._attributePriority){if(t==\"low\"){this._attrs.delete(e);this._attributePriority.delete(e)}}}this._setAttributesTo(t);const i=[];for(const[e,t]of this.getAttributes()){if(!n.has(e)||n.get(e)!==t){i.push(e)}}for(const[e]of n){if(!this.hasAttribute(e)){i.push(e)}}if(i.length>0){this.fire(\"change:attribute\",{attributeKeys:i,directChange:false})}}_setAttribute(e,t,n=true){const i=n?\"normal\":\"low\";if(i==\"low\"&&this._attributePriority.get(e)==\"normal\"){return false}const r=super.getAttribute(e);if(r===t){return false}this._attrs.set(e,t);this._attributePriority.set(e,i);return true}_removeAttribute(e,t=true){const n=t?\"normal\":\"low\";if(n==\"low\"&&this._attributePriority.get(e)==\"normal\"){return false}this._attributePriority.set(e,n);if(!super.hasAttribute(e)){return false}this._attrs.delete(e);return true}_setAttributesTo(e){const t=new Set;for(const[t,n]of this.getAttributes()){if(e.get(t)===n){continue}this._removeAttribute(t,false)}for(const[n,i]of e){const e=this._setAttribute(n,i,false);if(e){t.add(n)}}return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty){for(const t of e.getAttributeKeys()){if(t.startsWith(f)){const n=t.substr(f.length);yield[n,e.getAttribute(t)]}}}}_getSurroundingAttributes(){const e=this.getFirstPosition();const t=this._model.schema;let n=null;if(!this.isCollapsed){const e=this.getFirstRange();for(const i of e){if(i.item.is(\"element\")&&t.isObject(i.item)){break}if(i.type==\"text\"){n=i.item.getAttributes();break}}}else{const t=e.textNode?e.textNode:e.nodeBefore;const i=e.textNode?e.textNode:e.nodeAfter;if(!this.isGravityOverridden){n=p(t)}if(!n){n=p(i)}if(!this.isGravityOverridden&&!n){let e=t;while(e&&!n){e=e.previousSibling;n=p(e)}}if(!n){let e=i;while(e&&!n){e=e.nextSibling;n=p(e)}}if(!n){n=this._getStoredAttributes()}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);if(t){this._pushRange(t)}}}function p(e){if(e instanceof c[\"a\"]||e instanceof a[\"a\"]){return e.getAttributes()}return null}function b(e,t){const n=e.document.differ;for(const i of n.getChanges()){if(i.type!=\"insert\"){continue}const n=i.position.parent;const r=i.length===n.maxOffset;if(r){e.enqueueChange(t,e=>{const t=Array.from(n.getAttributeKeys()).filter(e=>e.startsWith(f));for(const i of t){e.removeAttribute(i,n)}})}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(27);var r=n(12);var o=n(417);var s=n.n(o);var a=n(0);class c extends i[\"a\"]{static get[\"pluginName\"](){return\"Users\"}constructor(e){super(e),e[\"config\"][\"define\"](\"users.anonymousUserId\",\"anonymous-user\"),e[\"config\"][\"define\"](\"users.colorsCount\",8),this[\"users\"]=new r[\"a\"],this[\"s\"]=e[\"locale\"],this[\"i\"]=null,this[\"o\"]=0,this[\"l\"]=null,this[\"decorate\"](\"getOperationAuthor\")}[\"init\"](){const e=this[\"context\"];this[\"licenseKey\"]=e[\"config\"][\"get\"](\"licenseKey\"),this[\"i\"]=setInterval(()=>{let t;for(const n in e){const i=e[n];if(\"licenseKeyTrial\"===i||\"licenseKeyInvalid\"===i||\"licenseKeyValid\"===i||\"licenseKeyTrialLimit\"==i){delete e[n],t=i;break}}if(\"licenseKeyInvalid\"===t)throw clearInterval(this[\"i\"]),new a[\"b\"](\"invalid-license-key: Invalid license key. Please contact our customer support at https://ckeditor.com/contact/.\",null);if(\"licenseKeyTrial\"===t&&console[\"info\"](\"You are using the trial version of CKEditor 5 collaboration plugin with limited usage. Make sure you will not use it in the production environment.\"),\"licenseKeyTrialLimit\"===t)throw clearInterval(this[\"i\"]),new a[\"b\"](\"trial-license-key-reached-limit: You have exhausted the trial usage limit. You need to restart the editor now. Please contact our customer support to get a full access at https://ckeditor.com/contact/.\",null);\"licenseKeyValid\"===t&&clearInterval(this[\"i\"])},1e3)}get[\"me\"](){return null==this[\"l\"]?null:this[\"getUser\"](this[\"l\"])}[\"addUser\"](e){if(!(e=Object[\"assign\"]({},e,{color:this[\"u\"]()}))[\"id\"]||\"string\"!=typeof e[\"id\"])throw new a[\"b\"](\"users-add-invalid-id: The id must be a string.\");if(this[\"users\"][\"has\"](e[\"id\"]))throw new a[\"b\"](\"users-add-duplicated-id: User with a given id is already added.\",null,{id:e[\"id\"]});e[\"name\"]=function(e,t=\"\"){const{t:n}=e;return\"\"==(t=t[\"trim\"]())?n(\"Anonymous\"):t}(this[\"s\"],e[\"name\"]);const t=new l(e);return this[\"users\"][\"add\"](t),t}[\"getUser\"](e){return this[\"users\"][\"get\"](e)}[\"useAnonymousUser\"](){const e=this[\"context\"][\"config\"][\"get\"](\"users.anonymousUserId\"),{t:t}=this[\"s\"];if(this[\"users\"][\"has\"](e))return;this[\"addUser\"]({id:e,name:t(\"Anonymous\")})[\"_isAnonymous\"]=!0,this[\"defineMe\"](e)}[\"defineMe\"](e){if(this[\"l\"])throw new a[\"b\"](\"users-me-already-defined: Cannot add a local user more than once.\",null);if(!this[\"getUser\"](e))throw new a[\"b\"](\"users-me-missing-user: Cannot add an undefined user as a local user.\",null);this[\"l\"]=e}[\"getOperationAuthor\"](){return this[\"me\"]}[\"destroy\"](){super[\"destroy\"](),clearInterval(this[\"i\"])}[\"u\"](){const e=this[\"context\"][\"config\"][\"get\"](\"users.colorsCount\");return this[\"o\"]>=e&&(this[\"o\"]=0),new d(this[\"o\"]++)}}class l{constructor(e){this[\"id\"]=e[\"id\"],this[\"color\"]=e[\"color\"],this[\"name\"]=e[\"name\"],this[\"avatar\"]=e[\"avatar\"],this[\"_isAnonymous\"]=!1}get[\"isAnonymous\"](){return this[\"_isAnonymous\"]}get[\"initials\"](){return this[\"name\"][\"split\"](\" \")[\"map\"](e=>e[\"charAt\"](0))[\"slice\"](0,2)[\"join\"](\"\")[\"toUpperCase\"]()}}class d{constructor(e){this[\"h\"]=e}[\"getBackgroundColorClass\"](){return\"ck-user__bg-color--\"+this[\"h\"]}[\"getSelectionClass\"](){return\"ck-user__selection--\"+this[\"h\"]}[\"getMarkerClass\"](){return\"ck-user__marker--\"+this[\"h\"]}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));function i(e){const t=new Map;for(const n in e){t.set(n,e[n])}return t}var r=n(35);function o(e){if(Object(r[\"a\"])(e)){return new Map(e)}else{return i(e)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(36);class r extends i[\"a\"]{get type(){return\"noop\"}clone(){return new r(this.baseVersion)}getReversed(){return new r(this.baseVersion+1)}_execute(){}static get className(){return\"NoOperation\"}}},function(e,t,n){\"use strict\";var i=e.exports=n(87);var r=n(244);var o,s;i.codegen=n(409);i.fetch=n(410);i.path=n(411);i.fs=i.inquire(\"fs\");i.toArray=function e(t){if(t){var n=Object.keys(t),i=new Array(n.length),r=0;while(r<n.length)i[r]=t[n[r++]];return i}return[]};i.toObject=function e(t){var n={},i=0;while(i<t.length){var r=t[i++],o=t[i++];if(o!==undefined)n[r]=o}return n};var a=/\\\\/g,c=/\"/g;i.isReserved=function e(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)};i.safeProp=function e(t){if(!/^[$\\w_]+$/.test(t)||i.isReserved(t))return'[\"'+t.replace(a,\"\\\\\\\\\").replace(c,'\\\\\"')+'\"]';return\".\"+t};i.ucFirst=function e(t){return t.charAt(0).toUpperCase()+t.substring(1)};var l=/_([a-z])/g;i.camelCase=function e(t){return t.substring(0,1)+t.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))};i.compareFieldsById=function e(t,n){return t.id-n.id};i.decorateType=function e(t,r){if(t.$type){if(r&&t.$type.name!==r){i.decorateRoot.remove(t.$type);t.$type.name=r;i.decorateRoot.add(t.$type)}return t.$type}if(!o)o=n(246);var s=new o(r||t.name);i.decorateRoot.add(s);s.ctor=t;Object.defineProperty(t,\"$type\",{value:s,enumerable:false});Object.defineProperty(t.prototype,\"$type\",{value:s,enumerable:false});return s};var d=0;i.decorateEnum=function e(t){if(t.$type)return t.$type;if(!s)s=n(88);var r=new s(\"Enum\"+d++,t);i.decorateRoot.add(r);Object.defineProperty(t,\"$type\",{value:r,enumerable:false});return r};i.setProperty=function e(t,n,i){function r(e,t,n){var i=t.shift();if(t.length>0){e[i]=r(e[i]||{},t,n)}else{var o=e[i];if(o)n=[].concat(o).concat(n);e[i]=n}return e}if(typeof t!==\"object\")throw TypeError(\"dst must be an object\");if(!n)throw TypeError(\"path must be specified\");n=n.split(\".\");return r(t,n,i)};Object.defineProperty(i,\"decorateRoot\",{get:function(){return r[\"decorated\"]||(r[\"decorated\"]=new(n(254)))}})},function(e,t,n){\"use strict\";var i=n(13);var r=n(17);var o=n(94);var s=n(141);var a=n(211);const c=Object(a[\"a\"])({},i[\"c\"],{listenTo(e,...t){if(Object(o[\"a\"])(e)||Object(s[\"a\"])(e)){const n=this._getProxyEmitter(e)||new l(e);n.attach(...t);e=n}i[\"c\"].listenTo.call(this,e,...t)},stopListening(e,t,n){if(Object(o[\"a\"])(e)||Object(s[\"a\"])(e)){const t=this._getProxyEmitter(e);if(!t){return}e=t}i[\"c\"].stopListening.call(this,e,t,n);if(e instanceof l){e.detach(t)}},_getProxyEmitter(e){return Object(i[\"a\"])(this,d(e))}});t[\"a\"]=c;class l{constructor(e){Object(i[\"b\"])(this,d(e));this._domNode=e}}Object(a[\"a\"])(l.prototype,i[\"c\"],{attach(e,t,n={}){if(this._domListeners&&this._domListeners[e]){return}const i=this._createDomListener(e,!!n.useCapture);this._domNode.addEventListener(e,i,!!n.useCapture);if(!this._domListeners){this._domListeners={}}this._domListeners[e]=i},detach(e){let t;if(this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)){this._domListeners[e].removeListener()}},_createDomListener(e,t){const n=t=>{this.fire(e,t)};n.removeListener=()=>{this._domNode.removeEventListener(e,n,t);delete this._domListeners[e]};return n}});function d(e){return e[\"data-ck-expando\"]||(e[\"data-ck-expando\"]=Object(r[\"a\"])())}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(67);var r=n(127);class o extends i[\"a\"]{constructor(e){super(e);this.useCapture=false}observe(e){const t=typeof this.domEventType==\"string\"?[this.domEventType]:this.domEventType;t.forEach(t=>{this.listenTo(e,t,(e,t)=>{if(this.isEnabled){this.onDomEvent(t)}},{useCapture:this.useCapture})})}fire(e,t,n){if(this.isEnabled){this.document.fire(e,new r[\"a\"](this.view,t,n))}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(0);var r=n(12);class o extends r[\"a\"]{constructor(e=[]){super(e,{idProperty:\"viewUid\"});this.on(\"add\",(e,t,n)=>{this._renderViewIntoCollectionParent(t,n)});this.on(\"remove\",(e,t)=>{if(t.element&&this._parentElement){t.element.remove()}});this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const e of this){this._renderViewIntoCollectionParent(e)}}delegate(...e){if(!e.length||!s(e)){throw new i[\"b\"](\"ui-viewcollection-delegate-wrong-events: All event names must be strings.\",this)}return{to:t=>{for(const n of this){for(const i of e){n.delegate(i).to(t)}}this.on(\"add\",(n,i)=>{for(const n of e){i.delegate(n).to(t)}});this.on(\"remove\",(n,i)=>{for(const n of e){i.stopDelegating(n,t)}})}}}_renderViewIntoCollectionParent(e,t){if(!e.isRendered){e.render()}if(e.element&&this._parentElement){this._parentElement.insertBefore(e.element,this._parentElement.children[t])}}}function s(e){return e.every(e=>typeof e==\"string\")}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(0);class r{constructor(e,t,n){this.textNode=e;if(t<0||t>e.offsetSize){throw new i[\"b\"](\"model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.\",this)}if(n<0||t+n>e.offsetSize){throw new i[\"b\"](\"model-textproxy-wrong-length: Given length value is incorrect.\",this)}this.data=e.data.substring(t,t+n);this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(e){return e===\"$textProxy\"||e===\"model:$textProxy\"||e===\"textProxy\"||e===\"model:textProxy\"}getPath(){const e=this.textNode.getPath();if(e.length>0){e[e.length-1]+=this.offsetInText}return e}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let n=e.includeSelf?this:this.parent;while(n){t[e.parentFirst?\"push\":\"unshift\"](n);n=n.parent}return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));n.d(t,\"d\",(function(){return u}));n.d(t,\"b\",(function(){return h}));n.d(t,\"e\",(function(){return f}));n.d(t,\"c\",(function(){return m}));var i=n(81);var r=n(24);var o=n(59);var s=n(2);var a=n(97);var c=n(85);var l=n(0);function d(e,t){t=m(t);const n=t.reduce((e,t)=>e+t.offsetSize,0);const i=e.parent;p(e);const r=e.index;i._insertChild(r,t);g(i,r+t.length);g(i,r);return new s[\"a\"](e,e.getShiftedBy(n))}function u(e){if(!e.isFlat){throw new l[\"b\"](\"operation-utils-remove-range-not-flat: \"+\"Trying to remove a range which starts and ends in different element.\",this)}const t=e.start.parent;p(e.start);p(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);g(t,e.start.index);return n}function h(e,t){if(!e.isFlat){throw new l[\"b\"](\"operation-utils-move-range-not-flat: \"+\"Trying to move a range which starts and ends in different element.\",this)}const n=u(e);t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset);return d(t,n)}function f(e,t,n){p(e.start);p(e.end);for(const i of e.getItems({shallow:true})){const e=i.is(\"$textProxy\")?i.textNode:i;if(n!==null){e._setAttribute(t,n)}else{e._removeAttribute(t)}g(e.parent,e.index)}g(e.end.parent,e.end.index)}function m(e){const t=[];if(!(e instanceof Array)){e=[e]}for(let n=0;n<e.length;n++){if(typeof e[n]==\"string\"){t.push(new r[\"a\"](e[n]))}else if(e[n]instanceof o[\"a\"]){t.push(new r[\"a\"](e[n].data,e[n].getAttributes()))}else if(e[n]instanceof a[\"a\"]||e[n]instanceof c[\"a\"]){for(const i of e[n]){t.push(i)}}else if(e[n]instanceof i[\"a\"]){t.push(e[n])}}for(let e=1;e<t.length;e++){const n=t[e];const i=t[e-1];if(n instanceof r[\"a\"]&&i instanceof r[\"a\"]&&b(n,i)){t.splice(e-1,2,new r[\"a\"](i.data+n.data,i.getAttributes()));e--}}return t}function g(e,t){const n=e.getChild(t-1);const i=e.getChild(t);if(n&&i&&n.is(\"$text\")&&i.is(\"$text\")&&b(n,i)){const o=new r[\"a\"](n.data+i.data,n.getAttributes());e._removeChildren(t-1,2);e._insertChild(t-1,o)}}function p(e){const t=e.textNode;const n=e.parent;if(t){const i=e.offset-t.startOffset;const o=t.index;n._removeChildren(o,1);const s=new r[\"a\"](t.data.substr(0,i),t.getAttributes());const a=new r[\"a\"](t.data.substr(i),t.getAttributes());n._insertChild(o,[s,a])}}function b(e,t){const n=e.getAttributes();const i=t.getAttributes();for(const e of n){if(e[1]!==t.getAttribute(e[0])){return false}i.next()}return i.next().done}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var i=n(0);var r=n(4);var o=n(13);var s=n(3);var a=n(58);var c=n(94);var l=n(28);var d=n(273);const u=\"http://www.w3.org/1999/xhtml\";class h{constructor(e){Object.assign(this,y(x(e)));this._isRendered=false;this._revertData=null}render(){const e=this._renderNode({intoFragment:true});this._isRendered=true;return e}apply(e){this._revertData=D();this._renderNode({node:e,isApplying:true,revertData:this._revertData});return e}revert(e){if(!this._revertData){throw new i[\"b\"](\"ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.\",[this,e])}this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children){for(const n of t.children){if(R(n)){yield n}else if(N(n)){yield*e(n)}}}}yield*e(this)}static bind(e,t){return{to(n,i){return new m({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if(n,i,r){return new g({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:r})}}}static extend(e,t){if(e._isRendered){throw new i[\"b\"](\"template-extend-render: Attempting to extend a template which has already been rendered.\",[this,e])}P(e,y(x(t)))}_renderNode(e){let t;if(e.node){t=this.tag&&this.text}else{t=this.tag?this.text:!this.text}if(t){throw new i[\"b\"]('ui-template-wrong-syntax: Node definition must have either \"tag\" or \"text\" when rendering a new Node.',this)}if(this.text){return this._renderText(e)}else{return this._renderElement(e)}}_renderElement(e){let t=e.node;if(!t){t=e.node=document.createElementNS(this.ns||u,this.tag)}this._renderAttributes(e);this._renderElementChildren(e);this._setUpListeners(e);return t}_renderText(e){let t=e.node;if(t){e.revertData.text=t.textContent}else{t=e.node=document.createTextNode(\"\")}if(p(this.text)){this._bindToObservable({schema:this.text,updater:w(t),data:e})}else{t.textContent=this.text.join(\"\")}return t}_renderAttributes(e){let t,n,i,r;if(!this.attributes){return}const o=e.node;const s=e.revertData;for(t in this.attributes){i=o.getAttribute(t);n=this.attributes[t];if(s){s.attributes[t]=i}r=Object(l[\"a\"])(n[0])&&n[0].ns?n[0].ns:null;if(p(n)){const a=r?n[0].value:n;if(s&&L(t)){a.unshift(i)}this._bindToObservable({schema:a,updater:v(o,t,r),data:e})}else if(t==\"style\"&&typeof n[0]!==\"string\"){this._renderStyleAttribute(n[0],e)}else{if(s&&i&&L(t)){n.unshift(i)}n=n.map(e=>e?e.value||e:e).reduce((e,t)=>e.concat(t),[]).reduce(O,\"\");if(!M(n)){o.setAttributeNS(r,t,n)}}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const r=e[i];if(p(r)){this._bindToObservable({schema:[r],updater:k(n,i),data:t})}else{n.style[i]=r}}}_renderElementChildren(e){const t=e.node;const n=e.intoFragment?document.createDocumentFragment():t;const i=e.isApplying;let r=0;for(const o of this.children){if(j(o)){if(!i){o.setParent(t);for(const e of o){n.appendChild(e.element)}}}else if(R(o)){if(!i){if(!o.isRendered){o.render()}n.appendChild(o.element)}}else if(Object(c[\"a\"])(o)){n.appendChild(o)}else{if(i){const t=e.revertData;const i=D();t.children.push(i);o._renderNode({node:n.childNodes[r++],isApplying:true,revertData:i})}else{n.appendChild(o.render())}}}if(e.intoFragment){t.appendChild(n)}}_setUpListeners(e){if(!this.eventListeners){return}for(const t in this.eventListeners){const n=this.eventListeners[t].map(n=>{const[i,r]=t.split(\"@\");return n.activateDomEventListener(i,r,e)});if(e.revertData){e.revertData.bindings.push(n)}}}_bindToObservable({schema:e,updater:t,data:n}){const i=n.revertData;_(e,t,n);const r=e.filter(e=>!M(e)).filter(e=>e.observable).map(i=>i.activateAttributeListener(e,t,n));if(i){i.bindings.push(r)}}_revertTemplateFromNode(e,t){for(const e of t.bindings){for(const t of e){t()}}if(t.text){e.textContent=t.text;return}for(const n in t.attributes){const i=t.attributes[n];if(i===null){e.removeAttribute(n)}else{e.setAttribute(n,i)}}for(let n=0;n<t.children.length;++n){this._revertTemplateFromNode(e.childNodes[n],t.children[n])}}}Object(r[\"a\"])(h,o[\"c\"]);class f{constructor(e){Object.assign(this,e)}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>_(e,t,n);this.emitter.listenTo(this.observable,\"change:\"+this.attribute,i);return()=>{this.emitter.stopListening(this.observable,\"change:\"+this.attribute,i)}}}class m extends f{activateDomEventListener(e,t,n){const i=(e,n)=>{if(!t||n.target.matches(t)){if(typeof this.eventNameOrFunction==\"function\"){this.eventNameOrFunction(n)}else{this.observable.fire(this.eventNameOrFunction,n)}}};this.emitter.listenTo(n.node,e,i);return()=>{this.emitter.stopListening(n.node,e,i)}}}class g extends f{getValue(e){const t=super.getValue(e);return M(t)?false:this.valueIfTrue||true}}function p(e){if(!e){return false}if(e.value){e=e.value}if(Array.isArray(e)){return e.some(p)}else if(e instanceof f){return true}return false}function b(e,t){return e.map(e=>{if(e instanceof f){return e.getValue(t)}return e})}function _(e,t,{node:n}){let i=b(e,n);if(e.length==1&&e[0]instanceof g){i=i[0]}else{i=i.reduce(O,\"\")}if(M(i)){t.remove()}else{t.set(i)}}function w(e){return{set(t){e.textContent=t},remove(){e.textContent=\"\"}}}function v(e,t,n){return{set(i){e.setAttributeNS(n,t,i)},remove(){e.removeAttributeNS(n,t)}}}function k(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function x(e){const t=Object(d[\"a\"])(e,e=>{if(e&&(e instanceof f||N(e)||R(e)||j(e))){return e}});return t}function y(e){if(typeof e==\"string\"){e=T(e)}else if(e.text){E(e)}if(e.on){e.eventListeners=A(e.on);delete e.on}if(!e.text){if(e.attributes){C(e.attributes)}const t=[];if(e.children){if(j(e.children)){t.push(e.children)}else{for(const n of e.children){if(N(n)||R(n)||Object(c[\"a\"])(n)){t.push(n)}else{t.push(new h(n))}}}}e.children=t}return e}function C(e){for(const t in e){if(e[t].value){e[t].value=[].concat(e[t].value)}S(e,t)}}function A(e){for(const t in e){S(e,t)}return e}function T(e){return{text:[e]}}function E(e){if(!Array.isArray(e.text)){e.text=[e.text]}}function S(e,t){if(!Array.isArray(e[t])){e[t]=[e[t]]}}function O(e,t){if(M(t)){return e}else if(M(e)){return t}else{return`${e} ${t}`}}function I(e,t){for(const n in t){if(e[n]){e[n].push(...t[n])}else{e[n]=t[n]}}}function P(e,t){if(t.attributes){if(!e.attributes){e.attributes={}}I(e.attributes,t.attributes)}if(t.eventListeners){if(!e.eventListeners){e.eventListeners={}}I(e.eventListeners,t.eventListeners)}if(t.text){e.text.push(...t.text)}if(t.children&&t.children.length){if(e.children.length!=t.children.length){throw new i[\"b\"](\"ui-template-extend-children-mismatch: The number of children in extended definition does not match.\",e)}let n=0;for(const i of t.children){P(e.children[n++],i)}}}function M(e){return!e&&e!==0}function R(e){return e instanceof s[\"a\"]}function N(e){return e instanceof h}function j(e){return e instanceof a[\"a\"]}function D(){return{children:[],bindings:[],attributes:{}}}function L(e){return e==\"class\"||e==\"style\"}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var i=n(0);var r=n(15);var o=n(8);var s=n(4);var a=n(13);var c=n(73);var l=n(150);var d=n(35);var u=n(170);class h{constructor(e=null,t,n){this._ranges=[];this._lastRangeBackward=false;this._isFake=false;this._fakeSelectionLabel=\"\";this.setTo(e,t,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length){return null}const e=this._ranges[this._ranges.length-1];const t=this._lastRangeBackward?e.end:e.start;return t.clone()}get focus(){if(!this._ranges.length){return null}const e=this._ranges[this._ranges.length-1];const t=this._lastRangeBackward?e.start:e.end;return t.clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){if(this.anchor){return this.anchor.editableElement}return null}*getRanges(){for(const e of this._ranges){yield e.clone()}}getFirstRange(){let e=null;for(const t of this._ranges){if(!e||t.start.isBefore(e.start)){e=t}}return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges){if(!e||t.end.isAfter(e.end)){e=t}}return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake){return false}if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel){return false}if(this.rangeCount!=e.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus)){return false}for(const t of this._ranges){let n=false;for(const i of e._ranges){if(t.isEqual(i)){n=true;break}}if(!n){return false}}return true}isSimilar(e){if(this.isBackward!=e.isBackward){return false}const t=Object(l[\"a\"])(this.getRanges());const n=Object(l[\"a\"])(e.getRanges());if(t!=n){return false}if(t==0){return true}for(let t of this.getRanges()){t=t.getTrimmed();let n=false;for(let i of e.getRanges()){i=i.getTrimmed();if(t.start.isEqual(i.start)&&t.end.isEqual(i.end)){n=true;break}}if(!n){return false}}return true}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}setTo(e,t,n){if(e===null){this._setRanges([]);this._setFakeOptions(t)}else if(e instanceof h||e instanceof u[\"a\"]){this._setRanges(e.getRanges(),e.isBackward);this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel})}else if(e instanceof r[\"a\"]){this._setRanges([e],t&&t.backward);this._setFakeOptions(t)}else if(e instanceof o[\"a\"]){this._setRanges([new r[\"a\"](e)]);this._setFakeOptions(t)}else if(e instanceof c[\"a\"]){const s=!!n&&!!n.backward;let a;if(t===undefined){throw new i[\"b\"](\"view-selection-setTo-required-second-parameter: \"+\"selection.setTo requires the second parameter when the first parameter is a node.\",this)}else if(t==\"in\"){a=r[\"a\"]._createIn(e)}else if(t==\"on\"){a=r[\"a\"]._createOn(e)}else{a=new r[\"a\"](o[\"a\"]._createAt(e,t))}this._setRanges([a],s);this._setFakeOptions(n)}else if(Object(d[\"a\"])(e)){this._setRanges(e,t&&t.backward);this._setFakeOptions(t)}else{throw new i[\"b\"](\"view-selection-setTo-not-selectable: Cannot set selection to given place.\",this)}this.fire(\"change\")}setFocus(e,t){if(this.anchor===null){throw new i[\"b\"](\"view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.\",this)}const n=o[\"a\"]._createAt(e,t);if(n.compareWith(this.focus)==\"same\"){return}const s=this.anchor;this._ranges.pop();if(n.compareWith(s)==\"before\"){this._addRange(new r[\"a\"](n,s),true)}else{this._addRange(new r[\"a\"](s,n))}this.fire(\"change\")}is(e){return e===\"selection\"||e===\"view:selection\"}_setRanges(e,t=false){e=Array.from(e);this._ranges=[];for(const t of e){this._addRange(t)}this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake;this._fakeSelectionLabel=e.fake?e.label||\"\":\"\"}_addRange(e,t=false){if(!(e instanceof r[\"a\"])){throw new i[\"b\"](\"view-selection-add-range-not-range: \"+\"Selection range set to an object that is not an instance of view.Range\",this)}this._pushRange(e);this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges){if(e.isIntersecting(t)){throw new i[\"b\"](\"view-selection-range-intersects: Trying to add a range that intersects with another range from selection.\",this,{addedRange:e,intersectingRange:t})}}this._ranges.push(new r[\"a\"](e.start,e.end))}}Object(s[\"a\"])(h,a[\"c\"])},function(e,t,n){\"use strict\";var i=n(64);var r=Object.prototype;var o=r.hasOwnProperty;var s=r.toString;var a=i[\"a\"]?i[\"a\"].toStringTag:undefined;function c(e){var t=o.call(e,a),n=e[a];try{e[a]=undefined;var i=true}catch(e){}var r=s.call(e);if(i){if(t){e[a]=n}else{delete e[a]}}return r}var l=c;var d=Object.prototype;var u=d.toString;function h(e){return u.call(e)}var f=h;var m=\"[object Null]\",g=\"[object Undefined]\";var p=i[\"a\"]?i[\"a\"].toStringTag:undefined;function b(e){if(e==null){return e===undefined?g:m}return p&&p in Object(e)?l(e):f(e)}var _=t[\"a\"]=b},function(e,t,n){\"use strict\";var i=n(37);var r=i[\"a\"].Symbol;t[\"a\"]=r},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));class i{constructor(...e){this._patterns=[];this.add(...e)}add(...e){for(let t of e){if(typeof t==\"string\"||t instanceof RegExp){t={name:t}}if(t.classes&&(typeof t.classes==\"string\"||t.classes instanceof RegExp)){t.classes=[t.classes]}this._patterns.push(t)}}match(...e){for(const t of e){for(const e of this._patterns){const n=r(t,e);if(n){return{element:t,pattern:e,match:n}}}}return null}matchAll(...e){const t=[];for(const n of e){for(const e of this._patterns){const i=r(n,e);if(i){t.push({element:n,pattern:e,match:i})}}}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1){return null}const e=this._patterns[0];const t=e.name;return typeof e!=\"function\"&&t&&!(t instanceof RegExp)?t:null}}function r(e,t){if(typeof t==\"function\"){return t(e)}const n={};if(t.name){n.name=o(t.name,e.name);if(!n.name){return null}}if(t.attributes){n.attributes=s(t.attributes,e);if(!n.attributes){return null}}if(t.classes){n.classes=a(t.classes,e);if(!n.classes){return false}}if(t.styles){n.styles=c(t.styles,e);if(!n.styles){return false}}return n}function o(e,t){if(e instanceof RegExp){return e.test(t)}return e===t}function s(e,t){const n=[];for(const i in e){const r=e[i];if(t.hasAttribute(i)){const e=t.getAttribute(i);if(r===true){n.push(i)}else if(r instanceof RegExp){if(r.test(e)){n.push(i)}else{return null}}else if(e===r){n.push(i)}else{return null}}else{return null}}return n}function a(e,t){const n=[];for(const i of e){if(i instanceof RegExp){const e=t.getClassNames();for(const t of e){if(i.test(t)){n.push(t)}}if(n.length===0){return null}}else if(t.hasClass(i)){n.push(i)}else{return null}}return n}function c(e,t){const n=[];for(const i in e){const r=e[i];if(t.hasStyle(i)){const e=t.getStyle(i);if(r instanceof RegExp){if(r.test(e)){n.push(i)}else{return null}}else if(e===r){n.push(i)}else{return null}}else{return null}}return n}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(36);var r=n(2);class o extends i[\"a\"]{constructor(e,t,n,i,r,o){super(o);this.name=e;this.oldRange=t?t.clone():null;this.newRange=n?n.clone():null;this.affectsData=r;this._markers=i}get type(){return\"marker\"}clone(){return new o(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new o(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const e=this.newRange?\"_set\":\"_remove\";this._markers[e](this.name,this.newRange,true,this.affectsData)}toJSON(){const e=super.toJSON();if(this.oldRange){e.oldRange=this.oldRange.toJSON()}if(this.newRange){e.newRange=this.newRange.toJSON()}delete e._markers;return e}static get className(){return\"MarkerOperation\"}static fromJSON(e,t){return new o(e.name,e.oldRange?r[\"a\"].fromJSON(e.oldRange,t):null,e.newRange?r[\"a\"].fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(56);var r=n(4);class o{constructor(e){this.view=e;this.document=e.document;this.isEnabled=false}enable(){this.isEnabled=true}disable(){this.isEnabled=false}destroy(){this.disable();this.stopListening()}}Object(r[\"a\"])(o,i[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(6);class r extends i[\"a\"]{constructor(e,t){super(e);this.attributeKey=t}refresh(){const e=this.editor.model;const t=e.document;this.value=this._getValueFromFirstAllowedNode();this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model;const n=t.document;const i=n.selection;const r=e.forceValue===undefined?!this.value:e.forceValue;t.change(e=>{if(i.isCollapsed){if(r){e.setSelectionAttribute(this.attributeKey,true)}else{e.removeSelectionAttribute(this.attributeKey)}}else{const n=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const t of n){if(r){e.setAttribute(this.attributeKey,r,t)}else{e.removeAttribute(this.attributeKey,t)}}}})}_getValueFromFirstAllowedNode(){const e=this.editor.model;const t=e.schema;const n=e.document.selection;if(n.isCollapsed){return n.hasAttribute(this.attributeKey)}for(const e of n.getRanges()){for(const n of e.getItems()){if(t.checkAttribute(n,this.attributeKey)){return n.hasAttribute(this.attributeKey)}}}return false}}},function(e,t,n){\"use strict\";var i=n(117);var r=n(37);var o=r[\"a\"][\"__core-js_shared__\"];var s=o;var a=function(){var e=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||\"\");return e?\"Symbol(src)_1.\"+e:\"\"}();function c(e){return!!a&&a in e}var l=c;var d=n(28);var u=n(96);var h=/[\\\\^$.*+?()[\\]{}|]/g;var f=/^\\[object .+?Constructor\\]$/;var m=Function.prototype,g=Object.prototype;var p=m.toString;var b=g.hasOwnProperty;var _=RegExp(\"^\"+p.call(b).replace(h,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function w(e){if(!Object(d[\"a\"])(e)||l(e)){return false}var t=Object(i[\"a\"])(e)?_:f;return t.test(Object(u[\"a\"])(e))}var v=w;function k(e,t){return e==null?undefined:e[t]}var x=k;function y(e,t){var n=x(e,t);return v(n)?n:undefined}var C=t[\"a\"]=y},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(27);var r=n(11);var o=n(12);var s=n(0);class a extends i[\"a\"]{static get pluginName(){return\"PendingActions\"}init(){this.set(\"hasAny\",false);this._actions=new o[\"a\"]({idProperty:\"_id\"});this._actions.delegate(\"add\",\"remove\").to(this)}add(e){if(typeof e!==\"string\"){throw new s[\"b\"](\"pendingactions-add-invalid-message: The message must be a string.\",this)}const t=Object.create(r[\"a\"]);t.set(\"message\",e);this._actions.add(t);this.hasAny=true;return t}remove(e){this._actions.remove(e);this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(36);var r=n(20);var o=n(0);var s=n(5);class a extends i[\"a\"]{constructor(e,t,n,i){super(i);this.position=e;this.position.stickiness=\"toNext\";this.oldName=t;this.newName=n}get type(){return\"rename\"}clone(){return new a(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new a(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof r[\"a\"])){throw new o[\"b\"](\"rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.\",this)}else if(e.name!==this.oldName){throw new o[\"b\"](\"rename-operation-wrong-name: Element to change has different name than operation's old name.\",this)}}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();e.position=this.position.toJSON();return e}static get className(){return\"RenameOperation\"}static fromJSON(e,t){return new a(s[\"a\"].fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}},function(e,t,n){\"use strict\";var i=n(120);var r=n(119);function o(e,t,n,o){var s=!n;n||(n={});var a=-1,c=t.length;while(++a<c){var l=t[a];var d=o?o(n[l],e[l],l,n,e):undefined;if(d===undefined){d=e[l]}if(s){Object(r[\"a\"])(n,l,d)}else{Object(i[\"a\"])(n,l,d)}}return n}t[\"a\"]=o},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(0);var r=n(13);var o=n(4);var s=n(40);var a=n(488);var c=n(144);class l{constructor(e){this.document=e;this.parent=null}get index(){let e;if(!this.parent){return null}if((e=this.parent.getChildIndex(this))==-1){throw new i[\"b\"](\"view-node-not-found-in-parent: The node's parent does not contain this node.\",this)}return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;while(e.parent){e=e.parent}return e}isAttached(){return this.root.is(\"rootElement\")}getPath(){const e=[];let t=this;while(t.parent){e.unshift(t.index);t=t.parent}return e}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let n=e.includeSelf?this:this.parent;while(n){t[e.parentFirst?\"push\":\"unshift\"](n);n=n.parent}return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t);const i=e.getAncestors(t);let r=0;while(n[r]==i[r]&&n[r]){r++}return r===0?null:n[r-1]}isBefore(e){if(this==e){return false}if(this.root!==e.root){return false}const t=this.getPath();const n=e.getPath();const i=Object(s[\"a\"])(t,n);switch(i){case\"prefix\":return true;case\"extension\":return false;default:return t[i]<n[i]}}isAfter(e){if(this==e){return false}if(this.root!==e.root){return false}return!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(\"change:\"+e,t);if(this.parent){this.parent._fireChange(e,t)}}toJSON(){const e=Object(a[\"a\"])(this);delete e.parent;return e}is(e){return e===\"node\"||e===\"view:node\"}}Object(o[\"a\"])(l,r[\"c\"])},function(e,t,n){\"use strict\";t[\"a\"]='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z\"/></svg>'},function(e,t,n){\"use strict\";t[\"a\"]='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z\"/></svg>'},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(5);var r=n(81);var o=n(2);var s=n(13);var a=n(0);var c=n(4);var l=n(35);class d{constructor(e,t,n){this._lastRangeBackward=false;this._ranges=[];this._attrs=new Map;if(e){this.setTo(e,t,n)}}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){const e=this._ranges.length;if(e===1){return this._ranges[0].isCollapsed}else{return false}}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus)){return false}for(const t of this._ranges){let n=false;for(const i of e._ranges){if(t.isEqual(i)){n=true;break}}if(!n){return false}}return true}*getRanges(){for(const e of this._ranges){yield new o[\"a\"](e.start,e.end)}}getFirstRange(){let e=null;for(const t of this._ranges){if(!e||t.start.isBefore(e.start)){e=t}}return e?new o[\"a\"](e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges){if(!e||t.end.isAfter(e.end)){e=t}}return e?new o[\"a\"](e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(e,t,n){if(e===null){this._setRanges([])}else if(e instanceof d){this._setRanges(e.getRanges(),e.isBackward)}else if(e&&typeof e.getRanges==\"function\"){this._setRanges(e.getRanges(),e.isBackward)}else if(e instanceof o[\"a\"]){this._setRanges([e],!!t&&!!t.backward)}else if(e instanceof i[\"a\"]){this._setRanges([new o[\"a\"](e)])}else if(e instanceof r[\"a\"]){const r=!!n&&!!n.backward;let s;if(t==\"in\"){s=o[\"a\"]._createIn(e)}else if(t==\"on\"){s=o[\"a\"]._createOn(e)}else if(t!==undefined){s=new o[\"a\"](i[\"a\"]._createAt(e,t))}else{throw new a[\"b\"](\"model-selection-setTo-required-second-parameter: \"+\"selection.setTo requires the second parameter when the first parameter is a node.\",[this,e])}this._setRanges([s],r)}else if(Object(l[\"a\"])(e)){this._setRanges(e,t&&!!t.backward)}else{throw new a[\"b\"](\"model-selection-setTo-not-selectable: Cannot set the selection to the given place.\",[this,e])}}_setRanges(e,t=false){e=Array.from(e);const n=e.some(t=>{if(!(t instanceof o[\"a\"])){throw new a[\"b\"](\"model-selection-set-ranges-not-range: \"+\"Selection range set to an object that is not an instance of model.Range.\",[this,e])}return this._ranges.every(e=>!e.isEqual(t))});if(e.length===this._ranges.length&&!n){return}this._removeAllRanges();for(const t of e){this._pushRange(t)}this._lastRangeBackward=!!t;this.fire(\"change:range\",{directChange:true})}setFocus(e,t){if(this.anchor===null){throw new a[\"b\"](\"model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.\",[this,e])}const n=i[\"a\"]._createAt(e,t);if(n.compareWith(this.focus)==\"same\"){return}const r=this.anchor;if(this._ranges.length){this._popRange()}if(n.compareWith(r)==\"before\"){this._pushRange(new o[\"a\"](n,r));this._lastRangeBackward=true}else{this._pushRange(new o[\"a\"](r,n));this._lastRangeBackward=false}this.fire(\"change:range\",{directChange:true})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){if(this.hasAttribute(e)){this._attrs.delete(e);this.fire(\"change:attribute\",{attributeKeys:[e],directChange:true})}}setAttribute(e,t){if(this.getAttribute(e)!==t){this._attrs.set(e,t);this.fire(\"change:attribute\",{attributeKeys:[e],directChange:true})}}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}is(e){return e===\"selection\"||e===\"model:selection\"}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=f(t.start,e);if(n&&m(n,t)){yield n}for(const n of t.getWalker()){const i=n.item;if(n.type==\"elementEnd\"&&h(i,e,t)){yield i}}const r=f(t.end,e);if(r&&!t.end.isTouching(i[\"a\"]._createAt(r,0))&&m(r,t)){yield r}}}containsEntireContent(e=this.anchor.root){const t=i[\"a\"]._createAt(e,0);const n=i[\"a\"]._createAt(e,\"end\");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e);this._ranges.push(new o[\"a\"](e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++){if(e.isIntersecting(this._ranges[t])){throw new a[\"b\"](\"model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.\",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}}}_removeAllRanges(){while(this._ranges.length>0){this._popRange()}}_popRange(){this._ranges.pop()}}Object(c[\"a\"])(d,s[\"c\"]);function u(e,t){if(t.has(e)){return false}t.add(e);return e.root.document.model.schema.isBlock(e)&&e.parent}function h(e,t,n){return u(e,t)&&m(e,n)}function f(e,t){const n=e.parent;const i=n.root.document.model.schema;const r=e.parent.getAncestors({parentFirst:true,includeSelf:true});let o=false;const s=r.find(e=>{if(o){return false}o=i.isLimit(e);return!o&&u(e,t)});r.forEach(e=>t.add(e));return s}function m(e,t){const n=g(e);if(!n){return true}const i=t.containsRange(o[\"a\"]._createOn(n),true);return!i}function g(e){const t=e.root.document.model.schema;let n=e.parent;while(n){if(t.isBlock(n)){return n}n=n.parent}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return g}));var i=n(1);var r=n(57);var o=n(108);class s{constructor(e){this.files=a(e);this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}}function a(e){const t=e.files?Array.from(e.files):[];const n=e.items?Array.from(e.items):[];if(t.length){return t}return n.filter(e=>e.kind===\"file\").map(e=>e.getAsFile())}class c extends r[\"a\"]{constructor(e){super(e);const t=this.document;this.domEventType=[\"paste\",\"copy\",\"cut\",\"drop\",\"dragover\"];this.listenTo(t,\"paste\",n,{priority:\"low\"});this.listenTo(t,\"drop\",n,{priority:\"low\"});function n(e,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(t.selection.getRanges());const r=new o[\"a\"](t,\"clipboardInput\");t.fire(r,{dataTransfer:n.dataTransfer,targetRanges:i});if(r.stop.called){n.stopPropagation()}}}onDomEvent(e){const t={dataTransfer:new s(e.clipboardData?e.clipboardData:e.dataTransfer)};if(e.type==\"drop\"){t.dropRange=l(this.view,e)}this.fire(e.type,e,t)}}function l(e,t){const n=t.target.ownerDocument;const i=t.clientX;const r=t.clientY;let o;if(n.caretRangeFromPoint&&n.caretRangeFromPoint(i,r)){o=n.caretRangeFromPoint(i,r)}else if(t.rangeParent){o=n.createRange();o.setStart(t.rangeParent,t.rangeOffset);o.collapse(true)}if(o){return e.domConverter.domRangeToView(o)}else{return e.document.selection.getFirstRange()}}function d(e){e=e.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\\n/g,\"</p><p>\").replace(/^\\s/,\"&nbsp;\").replace(/\\s$/,\"&nbsp;\").replace(/\\s\\s/g,\" &nbsp;\");if(e.indexOf(\"</p><p>\")>-1){e=`<p>${e}</p>`}return e}function u(e){return e.replace(/<span(?: class=\"Apple-converted-space\"|)>(\\s+)<\\/span>/g,(e,t)=>{if(t.length==1){return\" \"}return t})}const h=[\"figcaption\",\"li\"];function f(e){let t=\"\";if(e.is(\"$text\")||e.is(\"$textProxy\")){t=e.data}else if(e.is(\"element\",\"img\")&&e.hasAttribute(\"alt\")){t=e.getAttribute(\"alt\")}else{let n=null;for(const i of e.getChildren()){const e=f(i);if(n&&(n.is(\"containerElement\")||i.is(\"containerElement\"))){if(h.includes(n.name)||h.includes(i.name)){t+=\"\\n\"}else{t+=\"\\n\\n\"}}t+=e;n=i}}return t}var m=n(91);class g extends i[\"a\"]{static get pluginName(){return\"Clipboard\"}init(){const e=this.editor;const t=e.model.document;const n=e.editing.view;const i=n.document;this._htmlDataProcessor=new m[\"a\"](i);n.addObserver(c);this.listenTo(i,\"clipboardInput\",t=>{if(e.isReadOnly){t.stop()}},{priority:\"highest\"});this.listenTo(i,\"clipboardInput\",(e,t)=>{const i=t.dataTransfer;let r=\"\";if(i.getData(\"text/html\")){r=u(i.getData(\"text/html\"))}else if(i.getData(\"text/plain\")){r=d(i.getData(\"text/plain\"))}r=this._htmlDataProcessor.toView(r);const s=new o[\"a\"](this,\"inputTransformation\");this.fire(s,{content:r,dataTransfer:i});if(s.stop.called){e.stop()}n.scrollToTheSelection()},{priority:\"low\"});this.listenTo(this,\"inputTransformation\",(e,t)=>{if(!t.content.isEmpty){const n=this.editor.data;const i=this.editor.model;const r=n.toModel(t.content,\"$clipboardHolder\");if(r.childCount==0){return}i.insertContent(r);e.stop()}},{priority:\"low\"});function r(n,r){const o=r.dataTransfer;r.preventDefault();const s=e.data.toView(e.model.getSelectedContent(t.selection));i.fire(\"clipboardOutput\",{dataTransfer:o,content:s,method:n.name})}this.listenTo(i,\"copy\",r,{priority:\"low\"});this.listenTo(i,\"cut\",(t,n)=>{if(e.isReadOnly){n.preventDefault()}else{r(t,n)}},{priority:\"low\"});this.listenTo(i,\"clipboardOutput\",(n,i)=>{if(!i.content.isEmpty){i.dataTransfer.setData(\"text/html\",this._htmlDataProcessor.toData(i.content));i.dataTransfer.setData(\"text/plain\",f(i.content))}if(i.method==\"cut\"){e.model.deleteContent(t.selection)}},{priority:\"low\"})}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(171);function r(e,t,n){n=n||function(e,t){return e===t};const i=e.length;const o=t.length;if(i>200||o>200||i+o>300){return r.fastDiff(e,t,n,true)}let s,a;if(o<i){const n=e;e=t;t=n;s=\"delete\";a=\"insert\"}else{s=\"insert\";a=\"delete\"}const c=e.length;const l=t.length;const d=l-c;const u={};const h={};function f(i){const r=(h[i-1]!==undefined?h[i-1]:-1)+1;const o=h[i+1]!==undefined?h[i+1]:-1;const d=r>o?-1:1;if(u[i+d]){u[i]=u[i+d].slice(0)}if(!u[i]){u[i]=[]}u[i].push(r>o?s:a);let f=Math.max(r,o);let m=f-i;while(m<c&&f<l&&n(e[m],t[f])){m++;f++;u[i].push(\"equal\")}return f}let m=0;let g;do{for(g=-m;g<d;g++){h[g]=f(g)}for(g=d+m;g>d;g--){h[g]=f(g)}h[d]=f(d);m++}while(h[d]!==l);return u[d].slice(1)}r.fastDiff=i[\"a\"]},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(0);class r{constructor(e,t,n){this.textNode=e;if(t<0||t>e.data.length){throw new i[\"b\"](\"view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.\",this)}if(n<0||t+n>e.data.length){throw new i[\"b\"](\"view-textproxy-wrong-length: Given length value is incorrect.\",this)}this.data=e.data.substring(t,t+n);this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return e===\"$textProxy\"||e===\"view:$textProxy\"||e===\"textProxy\"||e===\"view:textProxy\"}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let n=e.includeSelf?this.textNode:this.parent;while(n!==null){t[e.parentFirst?\"push\":\"unshift\"](n);n=n.parent}return t}}},function(e,t,n){\"use strict\";function i(e,t){return e===t||e!==e&&t!==t}t[\"a\"]=i},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(53);var r=n(0);var o=n(40);var s=n(144);class a{constructor(e){this.parent=null;this._attrs=Object(i[\"a\"])(e)}get index(){let e;if(!this.parent){return null}if((e=this.parent.getChildIndex(this))===null){throw new r[\"b\"](\"model-node-not-found-in-parent: The node's parent does not contain this node.\",this)}return e}get startOffset(){let e;if(!this.parent){return null}if((e=this.parent.getChildStartOffset(this))===null){throw new r[\"b\"](\"model-node-not-found-in-parent: The node's parent does not contain this node.\",this)}return e}get offsetSize(){return 1}get endOffset(){if(!this.parent){return null}return this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;while(e.parent){e=e.parent}return e}isAttached(){return this.root.is(\"rootElement\")}getPath(){const e=[];let t=this;while(t.parent){e.unshift(t.startOffset);t=t.parent}return e}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let n=e.includeSelf?this:this.parent;while(n){t[e.parentFirst?\"push\":\"unshift\"](n);n=n.parent}return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t);const i=e.getAncestors(t);let r=0;while(n[r]==i[r]&&n[r]){r++}return r===0?null:n[r-1]}isBefore(e){if(this==e){return false}if(this.root!==e.root){return false}const t=this.getPath();const n=e.getPath();const i=Object(o[\"a\"])(t,n);switch(i){case\"prefix\":return true;case\"extension\":return false;default:return t[i]<n[i]}}isAfter(e){if(this==e){return false}if(this.root!==e.root){return false}return!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};if(this._attrs.size){e.attributes=Array.from(this._attrs).reduce((e,t)=>{e[t[0]]=t[1];return e},{})}return e}is(e){return e===\"node\"||e===\"model:node\"}_clone(){return new a(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Object(i[\"a\"])(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(3);var r=n(421);var o=n.n(r);const s=[\"ck-user__anonymous\",\"name\",\"avatar\",\"initials\",\"ck ck-user__name ck-user__name--hidden\",\"div\",\"push\",\"ck-user__avatar\",\"url('\",\"ck-user__img\",\"ck-user\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(s,219);const a=function(e,t){e=e-0;let n=s[e];return n};class c extends i[\"a\"]{constructor(e,t){super(e),this[a(\"0x2\")]=t[a(\"0x2\")];const n=[\"ck\",a(\"0xa\")];t[\"isAnonymous\"]&&n[a(\"0x7\")](a(\"0x1\")),t[\"avatar\"]&&n[a(\"0x7\")](a(\"0x8\")),this[\"setTemplate\"]({tag:a(\"0x6\"),attributes:{class:[\"ck\",a(\"0x0\")],\"data-user-id\":t[\"id\"]},children:[{tag:a(\"0x6\"),attributes:{class:n,style:{\"background-image\":t[a(\"0x3\")]?a(\"0x9\")+t[\"avatar\"]+\"')\":\"\"}}},{tag:a(\"0x6\"),attributes:{class:t[\"avatar\"]?a(\"0x5\"):\"ck ck-user__name\"},children:[{text:t[a(\"0x4\")]}]}]})}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return _}));var i=n(23);var r=n(49);var o=n(8);var s=n(15);var a=n(62);var c=n(90);var l=n(86);var d=n(21);var u=n(29);function h(e){let t=0;while(e.previousSibling){e=e.previousSibling;t++}return t}function f(e){const t=[];while(e&&e.nodeType!=Node.DOCUMENT_NODE){t.unshift(e);e=e.parentNode}return t}function m(e,t){const n=f(e);const i=f(t);let r=0;while(n[r]==i[r]&&n[r]){r++}return r===0?null:n[r-1]}var g=n(41);var p=n(226);const b=Object(d[\"a\"])(document);class _{constructor(e,t={}){this.document=e;this.blockFillerMode=t.blockFillerMode||\"br\";this.preElements=[\"pre\"];this.blockElements=[\"p\",\"div\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"li\",\"dd\",\"dt\",\"figcaption\",\"td\",\"th\"];this._blockFiller=this.blockFillerMode==\"br\"?d[\"a\"]:d[\"d\"];this._domToViewMapping=new WeakMap;this._viewToDomMapping=new WeakMap;this._fakeSelectionMapping=new WeakMap}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new a[\"a\"](t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t);this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e);this._viewToDomMapping.delete(t);for(const t of e.childNodes){this.unbindDomElement(t)}}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t);this._viewToDomMapping.set(t,e)}viewToDom(e,t,n={}){if(e.is(\"$text\")){const n=this._processDataFromViewText(e);return t.createTextNode(n)}else{if(this.mapViewToDom(e)){return this.mapViewToDom(e)}let i;if(e.is(\"documentFragment\")){i=t.createDocumentFragment();if(n.bind){this.bindDocumentFragments(i,e)}}else if(e.is(\"uiElement\")){i=e.render(t);if(n.bind){this.bindElements(i,e)}return i}else{if(e.hasAttribute(\"xmlns\")){i=t.createElementNS(e.getAttribute(\"xmlns\"),e.name)}else{i=t.createElement(e.name)}if(e.is(\"rawElement\")){e.render(i)}if(n.bind){this.bindElements(i,e)}for(const t of e.getAttributeKeys()){i.setAttribute(t,e.getAttribute(t))}}if(n.withChildren||n.withChildren===undefined){for(const r of this.viewChildrenToDom(e,t,n)){i.appendChild(r)}}return i}}*viewChildrenToDom(e,t,n={}){const i=e.getFillerOffset&&e.getFillerOffset();let r=0;for(const o of e.getChildren()){if(i===r){yield this._blockFiller(t)}yield this.viewToDom(o,t,n);r++}if(i===r){yield this._blockFiller(t)}}viewRangeToDom(e){const t=this.viewPositionToDom(e.start);const n=this.viewPositionToDom(e.end);const i=document.createRange();i.setStart(t.parent,t.offset);i.setEnd(n.parent,n.offset);return i}viewPositionToDom(e){const t=e.parent;if(t.is(\"$text\")){const n=this.findCorrespondingDomText(t);if(!n){return null}let i=e.offset;if(Object(d[\"h\"])(n)){i+=d[\"c\"]}return{parent:n,offset:i}}else{let n,i,r;if(e.offset===0){n=this.mapViewToDom(t);if(!n){return null}r=n.childNodes[0]}else{const t=e.nodeBefore;i=t.is(\"$text\")?this.findCorrespondingDomText(t):this.mapViewToDom(e.nodeBefore);if(!i){return null}n=i.parentNode;r=i.nextSibling}if(Object(g[\"a\"])(r)&&Object(d[\"h\"])(r)){return{parent:r,offset:d[\"c\"]}}const o=i?h(i)+1:0;return{parent:n,offset:o}}}domToView(e,t={}){if(this.isBlockFiller(e,this.blockFillerMode)){return null}const n=this.getHostViewElement(e,this._domToViewMapping);if(n){return n}if(Object(g[\"a\"])(e)){if(Object(d[\"g\"])(e)){return null}else{const t=this._processDataFromDomText(e);return t===\"\"?null:new i[\"a\"](this.document,t)}}else if(this.isComment(e)){return null}else{if(this.mapDomToView(e)){return this.mapDomToView(e)}let n;if(this.isDocumentFragment(e)){n=new c[\"a\"](this.document);if(t.bind){this.bindDocumentFragments(e,n)}}else{const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new r[\"a\"](this.document,i);if(t.bind){this.bindElements(e,n)}const o=e.attributes;for(let e=o.length-1;e>=0;e--){n._setAttribute(o[e].name,o[e].value)}}if(t.withChildren||t.withChildren===undefined){for(const i of this.domChildrenToView(e,t)){n._appendChild(i)}}return n}}*domChildrenToView(e,t={}){for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];const r=this.domToView(i,t);if(r!==null){yield r}}}domSelectionToView(e){if(e.rangeCount===1){let t=e.getRangeAt(0).startContainer;if(Object(g[\"a\"])(t)){t=t.parentNode}const n=this.fakeSelectionToView(t);if(n){return n}}const t=this.isDomSelectionBackward(e);const n=[];for(let t=0;t<e.rangeCount;t++){const i=e.getRangeAt(t);const r=this.domRangeToView(i);if(r){n.push(r)}}return new a[\"a\"](n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset);const n=this.domPositionToView(e.endContainer,e.endOffset);if(t&&n){return new s[\"a\"](t,n)}return null}domPositionToView(e,t){if(this.isBlockFiller(e,this.blockFillerMode)){return this.domPositionToView(e.parentNode,h(e))}const n=this.mapDomToView(e);if(n&&(n.is(\"uiElement\")||n.is(\"rawElement\"))){return o[\"a\"]._createBefore(n)}if(Object(g[\"a\"])(e)){if(Object(d[\"g\"])(e)){return this.domPositionToView(e.parentNode,h(e))}const n=this.findCorrespondingViewText(e);let i=t;if(!n){return null}if(Object(d[\"h\"])(e)){i-=d[\"c\"];i=i<0?0:i}return new o[\"a\"](n,i)}else{if(t===0){const t=this.mapDomToView(e);if(t){return new o[\"a\"](t,0)}}else{const n=e.childNodes[t-1];const i=Object(g[\"a\"])(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent){return new o[\"a\"](i.parent,i.index+1)}}return null}}mapDomToView(e){const t=this.getHostViewElement(e);return t||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Object(d[\"g\"])(e)){return null}const t=this.getHostViewElement(e);if(t){return t}const n=e.previousSibling;if(n){if(!this.isElement(n)){return null}const e=this.mapDomToView(n);if(e){const t=e.nextSibling;if(t instanceof i[\"a\"]){return e.nextSibling}else{return null}}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);if(e instanceof i[\"a\"]){return e}else{return null}}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;if(t&&this.mapViewToDom(t)){return this.mapViewToDom(t).nextSibling}if(!t&&e.parent&&this.mapViewToDom(e.parent)){return this.mapViewToDom(e.parent).childNodes[0]}return null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=u[\"a\"].window;const i=[];v(t,e=>{const{scrollLeft:t,scrollTop:n}=e;i.push([t,n])});t.focus();v(t,e=>{const[t,n]=i.shift();e.scrollLeft=t;e.scrollTop=n});u[\"a\"].window.scrollTo(e,n)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isBlockFiller(e){if(this.blockFillerMode==\"br\"){return e.isEqualNode(b)}if(e.tagName===\"BR\"&&x(e,this.blockElements)&&e.parentNode.childNodes.length===1){return true}return k(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed){return false}const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset);t.setEnd(e.focusNode,e.focusOffset);const n=t.collapsed;t.detach();return n}getHostViewElement(e){const t=f(e);t.pop();while(t.length){const e=t.pop();const n=this._domToViewMapping.get(e);if(n&&(n.is(\"uiElement\")||n.is(\"rawElement\"))){return n}}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(Object(g[\"a\"])(e)&&Object(d[\"h\"])(e)&&t<d[\"c\"]){return false}if(this.isElement(e)&&Object(d[\"h\"])(e.childNodes[t])){return false}const n=this.mapDomToView(e);if(n&&(n.is(\"uiElement\")||n.is(\"rawElement\"))){return false}return true}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(e=>this.preElements.includes(e.name))){return t}if(t.charAt(0)==\" \"){const n=this._getTouchingViewTextNode(e,false);const i=n&&this._nodeEndsWithSpace(n);if(i||!n){t=\" \"+t.substr(1)}}if(t.charAt(t.length-1)==\" \"){const n=this._getTouchingViewTextNode(e,true);if(t.charAt(t.length-2)==\" \"||!n||n.data.charAt(0)==\" \"){t=t.substr(0,t.length-1)+\" \"}}return t.replace(/ {2}/g,\"  \")}_nodeEndsWithSpace(e){if(e.getAncestors().some(e=>this.preElements.includes(e.name))){return false}const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==\" \"}_processDataFromDomText(e){let t=e.data;if(w(e,this.preElements)){return Object(d[\"e\"])(e)}t=t.replace(/[ \\n\\t\\r]{1,}/g,\" \");const n=this._getTouchingInlineDomNode(e,false);const i=this._getTouchingInlineDomNode(e,true);const r=this._checkShouldLeftTrimDomText(n);const o=this._checkShouldRightTrimDomText(e,i);if(r){t=t.replace(/^ /,\"\")}if(o){t=t.replace(/ $/,\"\")}t=Object(d[\"e\"])(new Text(t));t=t.replace(/ \\u00A0/g,\"  \");if(/( |\\u00A0)\\u00A0$/.test(t)||!i||i.data&&i.data.charAt(0)==\" \"){t=t.replace(/\\u00A0$/,\" \")}if(r){t=t.replace(/^\\u00A0/,\" \")}return t}_checkShouldLeftTrimDomText(e){if(!e){return true}if(Object(p[\"a\"])(e)){return true}return/[^\\S\\u00A0]/.test(e.data.charAt(e.data.length-1))}_checkShouldRightTrimDomText(e,t){if(t){return false}return!Object(d[\"h\"])(e)}_getTouchingViewTextNode(e,t){const n=new l[\"a\"]({startPosition:t?o[\"a\"]._createAfter(e):o[\"a\"]._createBefore(e),direction:t?\"forward\":\"backward\"});for(const e of n){if(e.item.is(\"containerElement\")){return null}else if(e.item.is(\"element\",\"br\")){return null}else if(e.item.is(\"$textProxy\")){return e.item}}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode){return null}const n=t?\"nextNode\":\"previousNode\";const i=e.ownerDocument;const r=f(e)[0];const o=i.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(e){if(Object(g[\"a\"])(e)){return NodeFilter.FILTER_ACCEPT}if(e.tagName==\"BR\"){return NodeFilter.FILTER_ACCEPT}return NodeFilter.FILTER_SKIP}});o.currentNode=e;const s=o[n]();if(s!==null){const t=m(e,s);if(t&&!w(e,this.blockElements,t)&&!w(s,this.blockElements,t)){return s}}return null}}function w(e,t,n){let i=f(e);if(n){i=i.slice(i.indexOf(n)+1)}return i.some(e=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function v(e,t){while(e&&e!=u[\"a\"].document){t(e);e=e.parentNode}}function k(e,t){const n=Object(g[\"a\"])(e)&&e.data==\" \";return n&&x(e,t)&&e.parentNode.childNodes.length===1}function x(e,t){const n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}},function(e,t,n){\"use strict\";var i=n(206);var r=n(28);var o=n(118);function s(e){var t=[];if(e!=null){for(var n in Object(e)){t.push(n)}}return t}var a=s;var c=Object.prototype;var l=c.hasOwnProperty;function d(e){if(!Object(r[\"a\"])(e)){return a(e)}var t=Object(o[\"a\"])(e),n=[];for(var i in e){if(!(i==\"constructor\"&&(t||!l.call(e,i)))){n.push(i)}}return n}var u=d;var h=n(98);function f(e){return Object(h[\"a\"])(e)?Object(i[\"a\"])(e,true):u(e)}var m=t[\"a\"]=f},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(81);var r=n(0);class o{constructor(e){this._nodes=[];if(e){this._insertNodes(0,e)}}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length){return this.maxOffset}const t=this._nodes[e];if(!t){throw new r[\"b\"](\"model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.\",this)}return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize){return this.getNodeIndex(n)}t+=n.offsetSize}if(t!=e){throw new r[\"b\"](\"model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.\",this,{offset:e,nodeList:this})}return this.length}_insertNodes(e,t){for(const e of t){if(!(e instanceof i[\"a\"])){throw new r[\"b\"](\"model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.\",this)}}this._nodes.splice(e,0,...t)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(49);var r=n(23);var o=n(79);var s=n(8);var a=n(0);class c{constructor(e={}){if(!e.boundaries&&!e.startPosition){throw new a[\"b\"](\"view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.\",null)}if(e.direction&&e.direction!=\"forward\"&&e.direction!=\"backward\"){throw new a[\"b\"](\"view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.\",e.startPosition,{direction:e.direction})}this.boundaries=e.boundaries||null;if(e.startPosition){this.position=s[\"a\"]._createAt(e.startPosition)}else{this.position=s[\"a\"]._createAt(e.boundaries[e.direction==\"backward\"?\"end\":\"start\"])}this.direction=e.direction||\"forward\";this.singleCharacters=!!e.singleCharacters;this.shallow=!!e.shallow;this.ignoreElementEnd=!!e.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let t,n,i;do{i=this.position;({done:t,value:n}=this.next())}while(!t&&e(n));if(!t){this.position=i}}next(){if(this.direction==\"forward\"){return this._next()}else{return this._previous()}}_next(){let e=this.position.clone();const t=this.position;const n=e.parent;if(n.parent===null&&e.offset===n.childCount){return{done:true}}if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset){return{done:true}}let a;if(n instanceof r[\"a\"]){if(e.isAtEnd){this.position=s[\"a\"]._createAfter(n);return this._next()}a=n.data[e.offset]}else{a=n.getChild(e.offset)}if(a instanceof i[\"a\"]){if(!this.shallow){e=new s[\"a\"](a,0)}else{e.offset++}this.position=e;return this._formatReturnValue(\"elementStart\",a,t,e,1)}else if(a instanceof r[\"a\"]){if(this.singleCharacters){e=new s[\"a\"](a,0);this.position=e;return this._next()}else{let n=a.data.length;let i;if(a==this._boundaryEndParent){n=this.boundaries.end.offset;i=new o[\"a\"](a,0,n);e=s[\"a\"]._createAfter(i)}else{i=new o[\"a\"](a,0,a.data.length);e.offset++}this.position=e;return this._formatReturnValue(\"text\",i,t,e,n)}}else if(typeof a==\"string\"){let i;if(this.singleCharacters){i=1}else{const t=n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length;i=t-e.offset}const r=new o[\"a\"](n,e.offset,i);e.offset+=i;this.position=e;return this._formatReturnValue(\"text\",r,t,e,i)}else{e=s[\"a\"]._createAfter(n);this.position=e;if(this.ignoreElementEnd){return this._next()}else{return this._formatReturnValue(\"elementEnd\",n,t,e)}}}_previous(){let e=this.position.clone();const t=this.position;const n=e.parent;if(n.parent===null&&e.offset===0){return{done:true}}if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset){return{done:true}}let a;if(n instanceof r[\"a\"]){if(e.isAtStart){this.position=s[\"a\"]._createBefore(n);return this._previous()}a=n.data[e.offset-1]}else{a=n.getChild(e.offset-1)}if(a instanceof i[\"a\"]){if(!this.shallow){e=new s[\"a\"](a,a.childCount);this.position=e;if(this.ignoreElementEnd){return this._previous()}else{return this._formatReturnValue(\"elementEnd\",a,t,e)}}else{e.offset--;this.position=e;return this._formatReturnValue(\"elementStart\",a,t,e,1)}}else if(a instanceof r[\"a\"]){if(this.singleCharacters){e=new s[\"a\"](a,a.data.length);this.position=e;return this._previous()}else{let n=a.data.length;let i;if(a==this._boundaryStartParent){const t=this.boundaries.start.offset;i=new o[\"a\"](a,t,a.data.length-t);n=i.data.length;e=s[\"a\"]._createBefore(i)}else{i=new o[\"a\"](a,0,a.data.length);e.offset--}this.position=e;return this._formatReturnValue(\"text\",i,t,e,n)}}else if(typeof a==\"string\"){let i;if(!this.singleCharacters){const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-t}else{i=1}e.offset-=i;const r=new o[\"a\"](n,e.offset,i);this.position=e;return this._formatReturnValue(\"text\",r,t,e,i)}else{e=s[\"a\"]._createBefore(n);this.position=e;return this._formatReturnValue(\"elementStart\",n,t,e,1)}}_formatReturnValue(e,t,n,i,r){if(t instanceof o[\"a\"]){if(t.offsetInText+t.data.length==t.textNode.data.length){if(this.direction==\"forward\"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))){i=s[\"a\"]._createAfter(t.textNode);this.position=i}else{n=s[\"a\"]._createAfter(t.textNode)}}if(t.offsetInText===0){if(this.direction==\"backward\"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))){i=s[\"a\"]._createBefore(t.textNode);this.position=i}else{n=s[\"a\"]._createBefore(t.textNode)}}}return{done:false,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:r}}}}},function(e,t,n){\"use strict\";(function(e){var i=t;i.asPromise=n(241);i.base64=n(400);i.EventEmitter=n(401);i.float=n(402);i.inquire=n(242);i.utf8=n(403);i.pool=n(404);i.LongBits=n(405);i.isNode=Boolean(typeof e!==\"undefined\"&&e&&e.process&&e.process.versions&&e.process.versions.node);i.global=i.isNode&&e||typeof window!==\"undefined\"&&window||typeof self!==\"undefined\"&&self||this;i.emptyArray=Object.freeze?Object.freeze([]):[];i.emptyObject=Object.freeze?Object.freeze({}):{};i.isInteger=Number.isInteger||function e(t){return typeof t===\"number\"&&isFinite(t)&&Math.floor(t)===t};i.isString=function e(t){return typeof t===\"string\"||t instanceof String};i.isObject=function e(t){return t&&typeof t===\"object\"};i.isset=i.isSet=function e(t,n){var i=t[n];if(i!=null&&t.hasOwnProperty(n))return typeof i!==\"object\"||(Array.isArray(i)?i.length:Object.keys(i).length)>0;return false};i.Buffer=function(){try{var e=i.inquire(\"buffer\").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}();i._Buffer_from=null;i._Buffer_allocUnsafe=null;i.newBuffer=function e(t){return typeof t===\"number\"?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):typeof Uint8Array===\"undefined\"?t:new Uint8Array(t)};i.Array=typeof Uint8Array!==\"undefined\"?Uint8Array:Array;i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire(\"long\");i.key2Re=/^true|false|0|1$/;i.key32Re=/^-?(?:0|[1-9][0-9]*)$/;i.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;i.longToHash=function e(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash};i.longFromHash=function e(t,n){var r=i.LongBits.fromHash(t);if(i.Long)return i.Long.fromBits(r.lo,r.hi,n);return r.toNumber(Boolean(n))};function r(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;++r)if(e[i[r]]===undefined||!n)e[i[r]]=t[i[r]];return e}i.merge=r;i.lcFirst=function e(t){return t.charAt(0).toLowerCase()+t.substring(1)};function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,\"message\",{get:function(){return e}});if(Error.captureStackTrace)Error.captureStackTrace(this,t);else Object.defineProperty(this,\"stack\",{value:(new Error).stack||\"\"});if(n)r(this,n)}(t.prototype=Object.create(Error.prototype)).constructor=t;Object.defineProperty(t.prototype,\"name\",{get:function(){return e}});t.prototype.toString=function e(){return this.name+\": \"+this.message};return t}i.newError=o;i.ProtocolError=o(\"ProtocolError\");i.oneOfGetter=function e(t){var n={};for(var i=0;i<t.length;++i)n[t[i]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;t>-1;--t)if(n[e[t]]===1&&this[e[t]]!==undefined&&this[e[t]]!==null)return e[t]}};i.oneOfSetter=function e(t){return function(e){for(var n=0;n<t.length;++n)if(t[n]!==e)delete this[t[n]]}};i.toJSONOptions={longs:String,enums:String,bytes:String,json:true};i._configure=function(){var e=i.Buffer;if(!e){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=e.from!==Uint8Array.from&&e.from||function t(n,i){return new e(n,i)};i._Buffer_allocUnsafe=e.allocUnsafe||function t(n){return new e(n)}}}).call(this,n(143))},function(e,t,n){\"use strict\";e.exports=s;var i=n(114);((s.prototype=Object.create(i.prototype)).constructor=s).className=\"Enum\";var r=n(147),o=n(55);function s(e,t,n,r,o){i.call(this,e,n);if(t&&typeof t!==\"object\")throw TypeError(\"values must be an object\");this.valuesById={};this.values=Object.create(this.valuesById);this.comment=r;this.comments=o||{};this.reserved=undefined;if(t)for(var s=Object.keys(t),a=0;a<s.length;++a)if(typeof t[s[a]]===\"number\")this.valuesById[this.values[s[a]]=t[s[a]]]=s[a]}s.fromJSON=function e(t,n){var i=new s(t,n.values,n.options,n.comment,n.comments);i.reserved=n.reserved;return i};s.prototype.toJSON=function e(t){var n=t?Boolean(t.keepComments):false;return o.toObject([\"options\",this.options,\"values\",this.values,\"reserved\",this.reserved&&this.reserved.length?this.reserved:undefined,\"comment\",n?this.comment:undefined,\"comments\",n?this.comments:undefined])};s.prototype.add=function e(t,n,i){if(!o.isString(t))throw TypeError(\"name must be a string\");if(!o.isInteger(n))throw TypeError(\"id must be an integer\");if(this.values[t]!==undefined)throw Error(\"duplicate name '\"+t+\"' in \"+this);if(this.isReservedId(n))throw Error(\"id \"+n+\" is reserved in \"+this);if(this.isReservedName(t))throw Error(\"name '\"+t+\"' is reserved in \"+this);if(this.valuesById[n]!==undefined){if(!(this.options&&this.options.allow_alias))throw Error(\"duplicate id \"+n+\" in \"+this);this.values[t]=n}else this.valuesById[this.values[t]=n]=t;this.comments[t]=i||null;return this};s.prototype.remove=function e(t){if(!o.isString(t))throw TypeError(\"name must be a string\");var n=this.values[t];if(n==null)throw Error(\"name '\"+t+\"' does not exist in \"+this);delete this.valuesById[n];delete this.values[t];delete this.comments[t];return this};s.prototype.isReservedId=function e(t){return r.isReservedId(this.reserved,t)};s.prototype.isReservedName=function e(t){return r.isReservedName(this.reserved,t)}},function(e,t,n){\"use strict\";(function(e){var i=n(37);var r=n(263);var o=typeof exports==\"object\"&&exports&&!exports.nodeType&&exports;var s=o&&typeof e==\"object\"&&e&&!e.nodeType&&e;var a=s&&s.exports===o;var c=a?i[\"a\"].Buffer:undefined;var l=c?c.isBuffer:undefined;var d=l||r[\"a\"];t[\"a\"]=d}).call(this,n(212)(e))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(23);var r=n(79);var o=n(4);var s=n(35);var a=n(13);class c{constructor(e,t){this.document=e;this._children=[];if(t){this._insertChild(0,t)}}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(e){return e===\"documentFragment\"||e===\"view:documentFragment\"}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange(\"children\",this);let n=0;const i=l(this.document,t);for(const t of i){if(t.parent!==null){t._remove()}t.parent=this;this._children.splice(e,0,t);e++;n++}return n}_removeChildren(e,t=1){this._fireChange(\"children\",this);for(let n=e;n<e+t;n++){this._children[n].parent=null}return this._children.splice(e,t)}_fireChange(e,t){this.fire(\"change:\"+e,t)}}Object(o[\"a\"])(c,a[\"c\"]);function l(e,t){if(typeof t==\"string\"){return[new i[\"a\"](e,t)]}if(!Object(s[\"a\"])(t)){t=[t]}return Array.from(t).map(t=>{if(typeof t==\"string\"){return new i[\"a\"](e,t)}if(t instanceof r[\"a\"]){return new i[\"a\"](e,t.data)}return t})}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(175);var r=n(83);class o{constructor(e){this._domParser=new DOMParser;this._domConverter=new r[\"a\"](e,{blockFillerMode:\"nbsp\"});this._htmlWriter=new i[\"a\"]}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t)}_toDom(e){const t=this._domParser.parseFromString(e,\"text/html\");const n=t.createDocumentFragment();const i=t.body.childNodes;while(i.length>0){n.appendChild(i[0])}return n}}},function(e,t,n){\"use strict\";var i=n(69);var r=n(37);var o=Object(i[\"a\"])(r[\"a\"],\"DataView\");var s=o;var a=n(103);var c=Object(i[\"a\"])(r[\"a\"],\"Promise\");var l=c;var d=Object(i[\"a\"])(r[\"a\"],\"Set\");var u=d;var h=Object(i[\"a\"])(r[\"a\"],\"WeakMap\");var f=h;var m=n(63);var g=n(96);var p=\"[object Map]\",b=\"[object Object]\",_=\"[object Promise]\",w=\"[object Set]\",v=\"[object WeakMap]\";var k=\"[object DataView]\";var x=Object(g[\"a\"])(s),y=Object(g[\"a\"])(a[\"a\"]),C=Object(g[\"a\"])(l),A=Object(g[\"a\"])(u),T=Object(g[\"a\"])(f);var E=m[\"a\"];if(s&&E(new s(new ArrayBuffer(1)))!=k||a[\"a\"]&&E(new a[\"a\"])!=p||l&&E(l.resolve())!=_||u&&E(new u)!=w||f&&E(new f)!=v){E=function(e){var t=Object(m[\"a\"])(e),n=t==b?e.constructor:undefined,i=n?Object(g[\"a\"])(n):\"\";if(i){switch(i){case x:return k;case y:return p;case C:return _;case A:return w;case T:return v}}return t}}var S=t[\"a\"]=E},function(e,t,n){\"use strict\";(function(e){var i=n(158);var r=typeof exports==\"object\"&&exports&&!exports.nodeType&&exports;var o=r&&typeof e==\"object\"&&e&&!e.nodeType&&e;var s=o&&o.exports===r;var a=s&&i[\"a\"].process;var c=function(){try{var e=o&&o.require&&o.require(\"util\").types;if(e){return e}return a&&a.binding&&a.binding(\"util\")}catch(e){}}();t[\"a\"]=c}).call(this,n(212)(e))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){if(e){if(e.defaultView){return e instanceof e.defaultView.Document}else if(e.ownerDocument&&e.ownerDocument.defaultView){return e instanceof e.ownerDocument.defaultView.Node}}return false}},function(e,t,n){\"use strict\";var i=n(63);var r=n(116);var o=n(34);var s=\"[object Object]\";var a=Function.prototype,c=Object.prototype;var l=a.toString;var d=c.hasOwnProperty;var u=l.call(Object);function h(e){if(!Object(o[\"a\"])(e)||Object(i[\"a\"])(e)!=s){return false}var t=Object(r[\"a\"])(e);if(t===null){return true}var n=d.call(t,\"constructor\")&&t.constructor;return typeof n==\"function\"&&n instanceof n&&l.call(n)==u}t[\"a\"]=h},function(e,t,n){\"use strict\";var i=Function.prototype;var r=i.toString;function o(e){if(e!=null){try{return r.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}t[\"a\"]=o},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(85);var r=n(20);var o=n(24);var s=n(59);var a=n(35);class c{constructor(e){this.markers=new Map;this._children=new i[\"a\"];if(e){this._insertChild(0,e)}}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(e){return e===\"documentFragment\"||e===\"model:documentFragment\"}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e){t=t.getChild(t.offsetToIndex(n))}return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children){e.push(t.toJSON())}return e}static fromJSON(e){const t=[];for(const n of e){if(n.name){t.push(r[\"a\"].fromJSON(n))}else{t.push(o[\"a\"].fromJSON(n))}}return new c(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=l(t);for(const e of n){if(e.parent!==null){e._remove()}e.parent=this}this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const e of n){e.parent=null}return n}}function l(e){if(typeof e==\"string\"){return[new o[\"a\"](e)]}if(!Object(a[\"a\"])(e)){e=[e]}return Array.from(e).map(e=>{if(typeof e==\"string\"){return new o[\"a\"](e)}if(e instanceof s[\"a\"]){return new o[\"a\"](e.data,e.getAttributes())}return e})}},function(e,t,n){\"use strict\";var i=n(117);var r=n(164);function o(e){return e!=null&&Object(r[\"a\"])(e.length)&&!Object(i[\"a\"])(e)}t[\"a\"]=o},function(e,t,n){\"use strict\";var i=n(63);var r=n(34);var o=\"[object Symbol]\";function s(e){return typeof e==\"symbol\"||Object(r[\"a\"])(e)&&Object(i[\"a\"])(e)==o}t[\"a\"]=s},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(3);var r=n(283);var o=n.n(r);class s extends i[\"a\"]{constructor(){super();const e=this.bindTemplate;this.set(\"content\",\"\");this.set(\"viewBox\",\"0 0 20 20\");this.set(\"fillColor\",\"\");this.setTemplate({tag:\"svg\",ns:\"http://www.w3.org/2000/svg\",attributes:{class:[\"ck\",\"ck-icon\"],viewBox:e.to(\"viewBox\")}})}render(){super.render();this._updateXMLContent();this._colorFillPaths();this.on(\"change:content\",()=>{this._updateXMLContent();this._colorFillPaths()});this.on(\"change:fillColor\",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),\"image/svg+xml\");const t=e.querySelector(\"svg\");const n=t.getAttribute(\"viewBox\");if(n){this.viewBox=n}this.element.innerHTML=\"\";while(t.childNodes.length>0){this.element.appendChild(t.childNodes[0])}}}_colorFillPaths(){if(this.fillColor){this.element.querySelectorAll(\".ck-icon__fill\").forEach(e=>{e.style.fill=this.fillColor})}}}},function(e,t,n){\"use strict\";function i(){this.__data__=[];this.size=0}var r=i;var o=n(80);function s(e,t){var n=e.length;while(n--){if(Object(o[\"a\"])(e[n][0],t)){return n}}return-1}var a=s;var c=Array.prototype;var l=c.splice;function d(e){var t=this.__data__,n=a(t,e);if(n<0){return false}var i=t.length-1;if(n==i){t.pop()}else{l.call(t,n,1)}--this.size;return true}var u=d;function h(e){var t=this.__data__,n=a(t,e);return n<0?undefined:t[n][1]}var f=h;function m(e){return a(this.__data__,e)>-1}var g=m;function p(e,t){var n=this.__data__,i=a(n,e);if(i<0){++this.size;n.push([e,t])}else{n[i][1]=t}return this}var b=p;function _(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}_.prototype.clear=r;_.prototype[\"delete\"]=u;_.prototype.get=f;_.prototype.has=g;_.prototype.set=b;var w=t[\"a\"]=_},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(6);var r=n(19);class o extends i[\"a\"]{refresh(){const e=this.editor.model;const t=e.document;const n=Object(r[\"a\"])(t.selection.getSelectedBlocks());this.value=!!n&&n.is(\"element\",\"paragraph\");this.isEnabled=!!n&&s(n,e.schema)}execute(e={}){const t=this.editor.model;const n=t.document;t.change(i=>{const r=(e.selection||n.selection).getSelectedBlocks();for(const e of r){if(!e.is(\"element\",\"paragraph\")&&s(e,t.schema)){i.rename(e,\"paragraph\")}}})}}function s(e,t){return t.checkChild(e.parent,\"paragraph\")&&!t.isObject(e)}class a extends i[\"a\"]{execute(e){const t=this.editor.model;let n=e.position;t.change(e=>{const i=e.createElement(\"paragraph\");if(!t.schema.checkChild(n.parent,i)){const r=t.schema.findAllowedParent(n,i);if(!r){return}n=e.split(n,r).position}t.insertContent(i,n);e.setSelection(i,\"in\")})}}var c=n(1);class l extends c[\"a\"]{static get pluginName(){return\"Paragraph\"}init(){const e=this.editor;const t=e.model;const n=e.data;e.commands.add(\"paragraph\",new o(e));e.commands.add(\"insertParagraph\",new a(e));t.schema.register(\"paragraph\",{inheritAllFrom:\"$block\"});e.conversion.elementToElement({model:\"paragraph\",view:\"p\"});e.conversion.for(\"upcast\").elementToElement({model:(e,t)=>{if(!l.paragraphLikeElements.has(e.name)){return null}if(e.isEmpty){return null}return t.createElement(\"paragraph\")},converterPriority:\"low\"});n.upcastDispatcher.on(\"element\",(e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:t.viewItem.name})){return}if(u(t.viewItem,t.modelCursor,n.schema)){Object.assign(t,d(t.viewItem,t.modelCursor,n))}},{priority:\"low\"});n.upcastDispatcher.on(\"text\",(e,t,n)=>{if(t.modelRange){return}if(u(t.viewItem,t.modelCursor,n.schema)){Object.assign(t,d(t.viewItem,t.modelCursor,n))}},{priority:\"lowest\"});t.document.registerPostFixer(e=>this._autoparagraphEmptyRoots(e));e.data.on(\"ready\",()=>{t.enqueueChange(\"transparent\",e=>this._autoparagraphEmptyRoots(e))},{priority:\"lowest\"})}_autoparagraphEmptyRoots(e){const t=this.editor.model;for(const n of t.document.getRootNames()){const i=t.document.getRoot(n);if(i.isEmpty&&i.rootName!=\"$graveyard\"){if(t.schema.checkChild(i,\"paragraph\")){e.insertElement(\"paragraph\",i);return true}}}}}l.paragraphLikeElements=new Set([\"blockquote\",\"dd\",\"div\",\"dt\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"li\",\"p\",\"td\"]);function d(e,t,n){const i=n.writer.createElement(\"paragraph\");n.writer.insert(i,t);return n.convertItem(e,n.writer.createPositionAt(i,0))}function u(e,t,n){const i=n.createContext(t);if(!n.checkChild(i,\"paragraph\")){return false}if(!n.checkChild(i.push(\"paragraph\"),e)){return false}return true}},function(e,t,n){\"use strict\";var i=n(69);var r=n(37);var o=Object(i[\"a\"])(r[\"a\"],\"Map\");t[\"a\"]=o},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));n.d(t,\"b\",(function(){return o}));var i=n(49);class r extends i[\"a\"]{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=o}is(e,t=null){if(!t){return e===\"containerElement\"||e===\"view:containerElement\"||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"containerElement\"||e===\"view:containerElement\"||e===\"element\"||e===\"view:element\")}}}function o(){const e=[...this.getChildren()];const t=e[this.childCount-1];if(t&&t.is(\"element\",\"br\")){return this.childCount}for(const t of e){if(!t.is(\"uiElement\")){return null}}return this.childCount}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(36);var r=n(0);class o extends i[\"a\"]{constructor(e,t,n,i,r){super(r);this.root=e;this.key=t;this.oldValue=n;this.newValue=i}get type(){if(this.oldValue===null){return\"addRootAttribute\"}else if(this.newValue===null){return\"removeRootAttribute\"}else{return\"changeRootAttribute\"}}clone(){return new o(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new o(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is(\"documentFragment\")){throw new r[\"b\"](\"rootattribute-operation-not-a-root: The element to change is not a root element.\",this,{root:this.root,key:this.key})}if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue){throw new r[\"b\"](\"rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's \"+\"old attribute value.\",this,{root:this.root,key:this.key})}if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key)){throw new r[\"b\"](\"rootattribute-operation-attribute-exists: The attribute with given key already exists.\",this,{root:this.root,key:this.key})}}_execute(){if(this.newValue!==null){this.root._setAttribute(this.key,this.newValue)}else{this.root._removeAttribute(this.key)}}toJSON(){const e=super.toJSON();e.root=this.root.toJSON();return e}static get className(){return\"RootAttributeOperation\"}static fromJSON(e,t){if(!t.getRoot(e.root)){throw new r[\"b\"](\"rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.\",this,{rootName:e.root})}return new o(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}},function(e,t,n){\"use strict\";var i=n(101);function r(){this.__data__=new i[\"a\"];this.size=0}var o=r;function s(e){var t=this.__data__,n=t[\"delete\"](e);this.size=t.size;return n}var a=s;function c(e){return this.__data__.get(e)}var l=c;function d(e){return this.__data__.has(e)}var u=d;var h=n(103);var f=n(112);var m=200;function g(e,t){var n=this.__data__;if(n instanceof i[\"a\"]){var r=n.__data__;if(!h[\"a\"]||r.length<m-1){r.push([e,t]);this.size=++n.size;return this}n=this.__data__=new f[\"a\"](r)}n.set(e,t);this.size=n.size;return this}var p=g;function b(e){var t=this.__data__=new i[\"a\"](e);this.size=t.size}b.prototype.clear=o;b.prototype[\"delete\"]=a;b.prototype.get=l;b.prototype.has=u;b.prototype.set=p;var _=t[\"a\"]=b},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return p}));var i=n(157);var r=n(12);var o=n(167);var s=n(0);if(!window.CKEDITOR_TRANSLATIONS){window.CKEDITOR_TRANSLATIONS={}}function a(e,t,n){if(!window.CKEDITOR_TRANSLATIONS[e]){window.CKEDITOR_TRANSLATIONS[e]={}}const i=window.CKEDITOR_TRANSLATIONS[e];i.dictionary=i.dictionary||{};i.getPluralForm=n||i.getPluralForm;Object.assign(i.dictionary,t)}function c(e,t,n=1){if(typeof n!==\"number\"){throw new s[\"b\"](\"translation-service-quantity-not-a-number: Expecting `quantity` to be a number.\",null,{quantity:n})}const i=u();if(i===1){e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]}const r=t.id||t.string;if(i===0||!d(e,r)){if(n!==1){return t.plural}return t.string}const o=window.CKEDITOR_TRANSLATIONS[e].dictionary;const a=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||(e=>e===1?0:1);if(typeof o[r]===\"string\"){return o[r]}const c=Number(a(n));return o[r][c]}function l(){window.CKEDITOR_TRANSLATIONS={}}function d(e,t){return!!window.CKEDITOR_TRANSLATIONS[e]&&!!window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}function u(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}const h=[\"ar\",\"fa\",\"he\",\"ku\",\"ug\"];class f{constructor(e={}){this.uiLanguage=e.uiLanguage||\"en\";this.contentLanguage=e.contentLanguage||this.uiLanguage;this.uiLanguageDirection=g(this.uiLanguage);this.contentLanguageDirection=g(this.contentLanguage);this.t=(e,t)=>this._t(e,t)}get language(){console.warn(\"locale-deprecated-language-property: \"+\"The Locale#language property has been deprecated and will be removed in the near future. \"+\"Please use #uiLanguage and #contentLanguage properties instead.\");return this.uiLanguage}_t(e,t=[]){if(!Array.isArray(t)){t=[t]}if(typeof e===\"string\"){e={string:e}}const n=!!e.plural;const i=n?t[0]:1;const r=c(this.uiLanguage,e,i);return m(r,t)}}function m(e,t){return e.replace(/%(\\d+)/g,(e,n)=>n<t.length?t[n]:e)}function g(e){return h.includes(e)?\"rtl\":\"ltr\"}class p{constructor(e){this.config=new i[\"a\"](e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define(\"plugins\",t);this.plugins=new o[\"a\"](this,t);const n=this.config.get(\"language\")||{};this.locale=new f({uiLanguage:typeof n===\"string\"?n:n.ui,contentLanguage:this.config.get(\"language.content\")});this.t=this.locale.t;this.editors=new r[\"a\"];this._contextOwner=null}initPlugins(){const e=this.config.get(\"plugins\")||[];for(const t of e){if(typeof t!=\"function\"){throw new s[\"b\"](\"context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.\",null,{Plugin:t})}if(t.isContextPlugin!==true){throw new s[\"b\"](\"context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.\",null,{Plugin:t})}}return this.plugins.init(e)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner){throw new s[\"b\"](\"context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.\")}this.editors.add(e);if(t){this._contextOwner=e}}_removeEditor(e){if(this.editors.has(e)){this.editors.remove(e)}if(this._contextOwner===e){return this.destroy()}return Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names()){if(![\"plugins\",\"removePlugins\",\"extraPlugins\"].includes(t)){e[t]=this.config.get(t)}}return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));function i(){return function e(){e.called=true}}var r=i;class o{constructor(e,t){this.source=e;this.name=t;this.path=[];this.stop=r();this.off=r()}}},function(e,t,n){var i=n(426);var r=n(257);var o=36e5;var s=6e4;var a=2;var c=/[T ]/;var l=/:/;var d=/^(\\d{2})$/;var u=[/^([+-]\\d{2})$/,/^([+-]\\d{3})$/,/^([+-]\\d{4})$/];var h=/^(\\d{4})/;var f=[/^([+-]\\d{4})/,/^([+-]\\d{5})/,/^([+-]\\d{6})/];var m=/^-(\\d{2})$/;var g=/^-?(\\d{3})$/;var p=/^-?(\\d{2})-?(\\d{2})$/;var b=/^-?W(\\d{2})$/;var _=/^-?W(\\d{2})-?(\\d{1})$/;var w=/^(\\d{2}([.,]\\d*)?)$/;var v=/^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/;var k=/^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/;var x=/([Z+-].*)$/;var y=/^(Z)$/;var C=/^([+-])(\\d{2})$/;var A=/^([+-])(\\d{2}):?(\\d{2})$/;function T(e,t){if(r(e)){return new Date(e.getTime())}else if(typeof e!==\"string\"){return new Date(e)}var n=t||{};var o=n.additionalDigits;if(o==null){o=a}else{o=Number(o)}var c=E(e);var l=S(c.date,o);var d=l.year;var u=l.restDateString;var h=O(u,d);if(h){var f=h.getTime();var m=0;var g;if(c.time){m=I(c.time)}if(c.timezone){g=P(c.timezone)*s}else{var p=f+m;var b=new Date(p);g=i(b);var _=new Date(p);_.setDate(b.getDate()+1);var w=i(_)-i(b);if(w>0){g+=w}}return new Date(f+m+g)}else{return new Date(e)}}function E(e){var t={};var n=e.split(c);var i;if(l.test(n[0])){t.date=null;i=n[0]}else{t.date=n[0];i=n[1]}if(i){var r=x.exec(i);if(r){t.time=i.replace(r[1],\"\");t.timezone=r[1]}else{t.time=i}}return t}function S(e,t){var n=u[t];var i=f[t];var r;r=h.exec(e)||i.exec(e);if(r){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}r=d.exec(e)||n.exec(e);if(r){var s=r[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}return{year:null}}function O(e,t){if(t===null){return null}var n;var i;var r;var o;if(e.length===0){i=new Date(0);i.setUTCFullYear(t);return i}n=m.exec(e);if(n){i=new Date(0);r=parseInt(n[1],10)-1;i.setUTCFullYear(t,r);return i}n=g.exec(e);if(n){i=new Date(0);var s=parseInt(n[1],10);i.setUTCFullYear(t,0,s);return i}n=p.exec(e);if(n){i=new Date(0);r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);i.setUTCFullYear(t,r,a);return i}n=b.exec(e);if(n){o=parseInt(n[1],10)-1;return M(t,o)}n=_.exec(e);if(n){o=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return M(t,o,c)}return null}function I(e){var t;var n;var i;t=w.exec(e);if(t){n=parseFloat(t[1].replace(\",\",\".\"));return n%24*o}t=v.exec(e);if(t){n=parseInt(t[1],10);i=parseFloat(t[2].replace(\",\",\".\"));return n%24*o+i*s}t=k.exec(e);if(t){n=parseInt(t[1],10);i=parseInt(t[2],10);var r=parseFloat(t[3].replace(\",\",\".\"));return n%24*o+i*s+r*1e3}return null}function P(e){var t;var n;t=y.exec(e);if(t){return 0}t=C.exec(e);if(t){n=parseInt(t[2],10)*60;return t[1]===\"+\"?-n:n}t=A.exec(e);if(t){n=parseInt(t[2],10)*60+parseInt(t[3],10);return t[1]===\"+\"?-n:n}return 0}function M(e,t,n){t=t||0;n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var r=i.getUTCDay()||7;var o=t*7+n+1-r;i.setUTCDate(i.getUTCDate()+o);return i}e.exports=T},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){return Object.prototype.toString.apply(e)==\"[object Range]\"}},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return s}));n.d(t,\"a\",(function(){return a}));var i=n(275);var r=n.n(i);const o=new WeakMap;function s(e){const{view:t,element:n,text:i,isDirectHost:r=true}=e;const s=t.document;if(!o.has(s)){o.set(s,new Map);s.registerPostFixer(e=>u(s,e))}o.get(s).set(n,{text:i,isDirectHost:r});t.change(e=>u(s,e))}function a(e,t){const n=t.document;e.change(e=>{if(!o.has(n)){return}const i=o.get(n);const r=i.get(t);e.removeAttribute(\"data-placeholder\",r.hostElement);l(e,r.hostElement);i.delete(t)})}function c(e,t){if(!t.hasClass(\"ck-placeholder\")){e.addClass(\"ck-placeholder\",t);return true}return false}function l(e,t){if(t.hasClass(\"ck-placeholder\")){e.removeClass(\"ck-placeholder\",t);return true}return false}function d(e){if(!e.isAttached()){return false}const t=!Array.from(e.getChildren()).some(e=>!e.is(\"uiElement\"));const n=e.document;if(!n.isFocused&&t){return true}const i=n.selection;const r=i.anchor;if(t&&r&&r.parent!==e){return true}return false}function u(e,t){const n=o.get(e);let i=false;for(const[e,r]of n){if(h(t,e,r)){i=true}}return i}function h(e,t,n){const{text:i,isDirectHost:r}=n;const o=r?t:f(t);let s=false;if(!o){return false}n.hostElement=o;if(o.getAttribute(\"data-placeholder\")!==i){e.setAttribute(\"data-placeholder\",i,o);s=true}if(d(o)){if(c(e,o)){s=true}}else if(l(e,o)){s=true}return s}function f(e){if(e.childCount===1){const t=e.getChild(0);if(t.is(\"element\")&&!t.is(\"uiElement\")){return t}}return null}},function(e,t,n){\"use strict\";var i=n(69);var r=Object(i[\"a\"])(Object,\"create\");var o=r;function s(){this.__data__=o?o(null):{};this.size=0}var a=s;function c(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}var l=c;var d=\"__lodash_hash_undefined__\";var u=Object.prototype;var h=u.hasOwnProperty;function f(e){var t=this.__data__;if(o){var n=t[e];return n===d?undefined:n}return h.call(t,e)?t[e]:undefined}var m=f;var g=Object.prototype;var p=g.hasOwnProperty;function b(e){var t=this.__data__;return o?t[e]!==undefined:p.call(t,e)}var _=b;var w=\"__lodash_hash_undefined__\";function v(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=o&&t===undefined?w:t;return this}var k=v;function x(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}x.prototype.clear=a;x.prototype[\"delete\"]=l;x.prototype.get=m;x.prototype.has=_;x.prototype.set=k;var y=x;var C=n(101);var A=n(103);function T(){this.size=0;this.__data__={hash:new y,map:new(A[\"a\"]||C[\"a\"]),string:new y}}var E=T;function S(e){var t=typeof e;return t==\"string\"||t==\"number\"||t==\"symbol\"||t==\"boolean\"?e!==\"__proto__\":e===null}var O=S;function I(e,t){var n=e.__data__;return O(t)?n[typeof t==\"string\"?\"string\":\"hash\"]:n.map}var P=I;function M(e){var t=P(this,e)[\"delete\"](e);this.size-=t?1:0;return t}var R=M;function N(e){return P(this,e).get(e)}var j=N;function D(e){return P(this,e).has(e)}var L=D;function B(e,t){var n=P(this,e),i=n.size;n.set(e,t);this.size+=n.size==i?0:1;return this}var F=B;function z(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var i=e[t];this.set(i[0],i[1])}}z.prototype.clear=E;z.prototype[\"delete\"]=R;z.prototype.get=j;z.prototype.has=L;z.prototype.set=F;var V=t[\"a\"]=z},function(e,t,n){var i=n(382);var r=n(235);var o=n(384);var s=n(385);var a=n(386);var c;if(typeof ArrayBuffer!==\"undefined\"){c=n(387)}var l=typeof navigator!==\"undefined\"&&/Android/i.test(navigator.userAgent);var d=typeof navigator!==\"undefined\"&&/PhantomJS/i.test(navigator.userAgent);var u=l||d;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var f=i(h);var m={type:\"error\",data:\"parser error\"};var g=n(388);t.encodePacket=function(e,t,n,i){if(typeof t===\"function\"){i=t;t=false}if(typeof n===\"function\"){i=n;n=null}var r=e.data===undefined?undefined:e.data.buffer||e.data;if(typeof ArrayBuffer!==\"undefined\"&&r instanceof ArrayBuffer){return b(e,t,i)}else if(typeof g!==\"undefined\"&&r instanceof g){return w(e,t,i)}if(r&&r.base64){return p(e,i)}var o=h[e.type];if(undefined!==e.data){o+=n?a.encode(String(e.data),{strict:false}):String(e.data)}return i(\"\"+o)};function p(e,n){var i=\"b\"+t.packets[e.type]+e.data.data;return n(i)}function b(e,n,i){if(!n){return t.encodeBase64Packet(e,i)}var r=e.data;var o=new Uint8Array(r);var s=new Uint8Array(1+r.byteLength);s[0]=h[e.type];for(var a=0;a<o.length;a++){s[a+1]=o[a]}return i(s.buffer)}function _(e,n,i){if(!n){return t.encodeBase64Packet(e,i)}var r=new FileReader;r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,true,i)};return r.readAsArrayBuffer(e.data)}function w(e,n,i){if(!n){return t.encodeBase64Packet(e,i)}if(u){return _(e,n,i)}var r=new Uint8Array(1);r[0]=h[e.type];var o=new g([r.buffer,e.data]);return i(o)}t.encodeBase64Packet=function(e,n){var i=\"b\"+t.packets[e.type];if(typeof g!==\"undefined\"&&e.data instanceof g){var r=new FileReader;r.onload=function(){var e=r.result.split(\",\")[1];n(i+e)};return r.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){var s=new Uint8Array(e.data);var a=new Array(s.length);for(var c=0;c<s.length;c++){a[c]=s[c]}o=String.fromCharCode.apply(null,a)}i+=btoa(o);return n(i)};t.decodePacket=function(e,n,i){if(e===undefined){return m}if(typeof e===\"string\"){if(e.charAt(0)===\"b\"){return t.decodeBase64Packet(e.substr(1),n)}if(i){e=v(e);if(e===false){return m}}var r=e.charAt(0);if(Number(r)!=r||!f[r]){return m}if(e.length>1){return{type:f[r],data:e.substring(1)}}else{return{type:f[r]}}}var s=new Uint8Array(e);var r=s[0];var a=o(e,1);if(g&&n===\"blob\"){a=new g([a])}return{type:f[r],data:a}};function v(e){try{e=a.decode(e,{strict:false})}catch(e){return false}return e}t.decodeBase64Packet=function(e,t){var n=f[e.charAt(0)];if(!c){return{type:n,data:{base64:true,data:e.substr(1)}}}var i=c.decode(e.substr(1));if(t===\"blob\"&&g){i=new g([i])}return{type:n,data:i}};t.encodePayload=function(e,n,i){if(typeof n===\"function\"){i=n;n=null}var o=r(e);if(n&&o){if(g&&!u){return t.encodePayloadAsBlob(e,i)}return t.encodePayloadAsArrayBuffer(e,i)}if(!e.length){return i(\"0:\")}function s(e){return e.length+\":\"+e}function a(e,i){t.encodePacket(e,!o?false:n,false,(function(e){i(null,s(e))}))}k(e,a,(function(e,t){return i(t.join(\"\"))}))};function k(e,t,n){var i=new Array(e.length);var r=s(e.length,n);var o=function(e,n,r){t(n,(function(t,n){i[e]=n;r(t,i)}))};for(var a=0;a<e.length;a++){o(a,e[a],r)}}t.decodePayload=function(e,n,i){if(typeof e!==\"string\"){return t.decodePayloadAsBinary(e,n,i)}if(typeof n===\"function\"){i=n;n=null}var r;if(e===\"\"){return i(m,0,1)}var o=\"\",s,a;for(var c=0,l=e.length;c<l;c++){var d=e.charAt(c);if(d!==\":\"){o+=d;continue}if(o===\"\"||o!=(s=Number(o))){return i(m,0,1)}a=e.substr(c+1,s);if(o!=a.length){return i(m,0,1)}if(a.length){r=t.decodePacket(a,n,false);if(m.type===r.type&&m.data===r.data){return i(m,0,1)}var u=i(r,c+s,l);if(false===u)return}c+=s;o=\"\"}if(o!==\"\"){return i(m,0,1)}};t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length){return n(new ArrayBuffer(0))}function i(e,n){t.encodePacket(e,true,true,(function(e){return n(null,e)}))}k(e,i,(function(e,t){var i=t.reduce((function(e,t){var n;if(typeof t===\"string\"){n=t.length}else{n=t.byteLength}return e+n.toString().length+n+2}),0);var r=new Uint8Array(i);var o=0;t.forEach((function(e){var t=typeof e===\"string\";var n=e;if(t){var i=new Uint8Array(e.length);for(var s=0;s<e.length;s++){i[s]=e.charCodeAt(s)}n=i.buffer}if(t){r[o++]=0}else{r[o++]=1}var a=n.byteLength.toString();for(var s=0;s<a.length;s++){r[o++]=parseInt(a[s])}r[o++]=255;var i=new Uint8Array(n);for(var s=0;s<i.length;s++){r[o++]=i[s]}}));return n(r.buffer)}))};t.encodePayloadAsBlob=function(e,n){function i(e,n){t.encodePacket(e,true,true,(function(e){var t=new Uint8Array(1);t[0]=1;if(typeof e===\"string\"){var i=new Uint8Array(e.length);for(var r=0;r<e.length;r++){i[r]=e.charCodeAt(r)}e=i.buffer;t[0]=0}var o=e instanceof ArrayBuffer?e.byteLength:e.size;var s=o.toString();var a=new Uint8Array(s.length+1);for(var r=0;r<s.length;r++){a[r]=parseInt(s[r])}a[s.length]=255;if(g){var c=new g([t.buffer,a.buffer,e]);n(null,c)}}))}k(e,i,(function(e,t){return n(new g(t))}))};t.decodePayloadAsBinary=function(e,n,i){if(typeof n===\"function\"){i=n;n=null}var r=e;var s=[];while(r.byteLength>0){var a=new Uint8Array(r);var c=a[0]===0;var l=\"\";for(var d=1;;d++){if(a[d]===255)break;if(l.length>310){return i(m,0,1)}l+=a[d]}r=o(r,2+l.length);l=parseInt(l);var u=o(r,0,l);if(c){try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var h=new Uint8Array(u);u=\"\";for(var d=0;d<h.length;d++){u+=String.fromCharCode(h[d])}}}s.push(u);r=o(r,l)}var f=s.length;s.forEach((function(e,r){i(t.decodePacket(e,n,true),r,f)}))}},function(e,t,n){\"use strict\";e.exports=o;o.className=\"ReflectionObject\";var i=n(55);var r;function o(e,t){if(!i.isString(e))throw TypeError(\"name must be a string\");if(t&&!i.isObject(t))throw TypeError(\"options must be an object\");this.options=t;this.parsedOptions=null;this.name=e;this.parent=null;this.resolved=false;this.comment=null;this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){var e=this;while(e.parent!==null)e=e.parent;return e}},fullName:{get:function(){var e=[this.name],t=this.parent;while(t){e.unshift(t.name);t=t.parent}return e.join(\".\")}}});o.prototype.toJSON=function e(){throw Error()};o.prototype.onAdd=function e(t){if(this.parent&&this.parent!==t)this.parent.remove(this);this.parent=t;this.resolved=false;var n=t.root;if(n instanceof r)n._handleAdd(this)};o.prototype.onRemove=function e(t){var n=t.root;if(n instanceof r)n._handleRemove(this);this.parent=null;this.resolved=false};o.prototype.resolve=function e(){if(this.resolved)return this;if(this.root instanceof r)this.resolved=true;return this};o.prototype.getOption=function e(t){if(this.options)return this.options[t];return undefined};o.prototype.setOption=function e(t,n,i){if(!i||!this.options||this.options[t]===undefined)(this.options||(this.options={}))[t]=n;return this};o.prototype.setParsedOption=function e(t,n,r){if(!this.parsedOptions){this.parsedOptions=[]}var o=this.parsedOptions;if(r){var s=o.find((function(e){return Object.prototype.hasOwnProperty.call(e,t)}));if(s){var a=s[t];i.setProperty(a,r,n)}else{s={};s[t]=i.setProperty({},r,n);o.push(s)}}else{var c={};c[t]=n;o.push(c)}return this};o.prototype.setOptions=function e(t,n){if(t)for(var i=Object.keys(t),r=0;r<i.length;++r)this.setOption(i[r],t[i[r]],n);return this};o.prototype.toString=function e(){var t=this.constructor.className,n=this.fullName;if(n.length)return t+\" \"+n;return t};o._configure=function(e){r=e}},function(e,t,n){\"use strict\";e.exports=l;var i=n(114);((l.prototype=Object.create(i.prototype)).constructor=l).className=\"Field\";var r=n(88),o=n(148),s=n(55);var a;var c=/^required|optional|repeated$/;l.fromJSON=function e(t,n){return new l(t,n.id,n.type,n.rule,n.extend,n.options,n.comment)};function l(e,t,n,r,a,l,d){if(s.isObject(r)){d=a;l=r;r=a=undefined}else if(s.isObject(a)){d=l;l=a;a=undefined}i.call(this,e,l);if(!s.isInteger(t)||t<0)throw TypeError(\"id must be a non-negative integer\");if(!s.isString(n))throw TypeError(\"type must be a string\");if(r!==undefined&&!c.test(r=r.toString().toLowerCase()))throw TypeError(\"rule must be a string rule\");if(a!==undefined&&!s.isString(a))throw TypeError(\"extend must be a string\");this.rule=r&&r!==\"optional\"?r:undefined;this.type=n;this.id=t;this.extend=a||undefined;this.required=r===\"required\";this.optional=!this.required;this.repeated=r===\"repeated\";this.map=false;this.message=null;this.partOf=null;this.typeDefault=null;this.defaultValue=null;this.long=s.Long?o.long[n]!==undefined:false;this.bytes=n===\"bytes\";this.resolvedType=null;this.extensionField=null;this.declaringField=null;this._packed=null;this.comment=d}Object.defineProperty(l.prototype,\"packed\",{get:function(){if(this._packed===null)this._packed=this.getOption(\"packed\")!==false;return this._packed}});l.prototype.setOption=function e(t,n,r){if(t===\"packed\")this._packed=null;return i.prototype.setOption.call(this,t,n,r)};l.prototype.toJSON=function e(t){var n=t?Boolean(t.keepComments):false;return s.toObject([\"rule\",this.rule!==\"optional\"&&this.rule||undefined,\"type\",this.type,\"id\",this.id,\"extend\",this.extend,\"options\",this.options,\"comment\",n?this.comment:undefined])};l.prototype.resolve=function e(){if(this.resolved)return this;if((this.typeDefault=o.defaults[this.type])===undefined){this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type);if(this.resolvedType instanceof a)this.typeDefault=null;else this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]}if(this.options&&this.options[\"default\"]!=null){this.typeDefault=this.options[\"default\"];if(this.resolvedType instanceof r&&typeof this.typeDefault===\"string\")this.typeDefault=this.resolvedType.values[this.typeDefault]}if(this.options){if(this.options.packed===true||this.options.packed!==undefined&&this.resolvedType&&!(this.resolvedType instanceof r))delete this.options.packed;if(!Object.keys(this.options).length)this.options=undefined}if(this.long){this.typeDefault=s.Long.fromNumber(this.typeDefault,this.type.charAt(0)===\"u\");if(Object.freeze)Object.freeze(this.typeDefault)}else if(this.bytes&&typeof this.typeDefault===\"string\"){var t;if(s.base64.test(this.typeDefault))s.base64.decode(this.typeDefault,t=s.newBuffer(s.base64.length(this.typeDefault)),0);else s.utf8.write(this.typeDefault,t=s.newBuffer(s.utf8.length(this.typeDefault)),0);this.typeDefault=t}if(this.map)this.defaultValue=s.emptyObject;else if(this.repeated)this.defaultValue=s.emptyArray;else this.defaultValue=this.typeDefault;if(this.parent instanceof a)this.parent.ctor.prototype[this.name]=this.defaultValue;return i.prototype.resolve.call(this)};l.d=function e(t,n,i,r){if(typeof n===\"function\")n=s.decorateType(n).name;else if(n&&typeof n===\"object\")n=s.decorateEnum(n).name;return function e(o,a){s.decorateType(o.constructor).add(new l(a,t,n,i,{default:r}))}};l._configure=function e(t){a=t}},function(e,t,n){\"use strict\";var i=n(159);var r=Object(i[\"a\"])(Object.getPrototypeOf,Object);t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(63);var r=n(28);var o=\"[object AsyncFunction]\",s=\"[object Function]\",a=\"[object GeneratorFunction]\",c=\"[object Proxy]\";function l(e){if(!Object(r[\"a\"])(e)){return false}var t=Object(i[\"a\"])(e);return t==s||t==a||t==o||t==c}t[\"a\"]=l},function(e,t,n){\"use strict\";var i=Object.prototype;function r(e){var t=e&&e.constructor,n=typeof t==\"function\"&&t.prototype||i;return e===n}t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(139);function r(e,t,n){if(t==\"__proto__\"&&i[\"a\"]){Object(i[\"a\"])(e,t,{configurable:true,enumerable:true,value:n,writable:true})}else{e[t]=n}}t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(119);var r=n(80);var o=Object.prototype;var s=o.hasOwnProperty;function a(e,t,n){var o=e[t];if(!(s.call(e,t)&&Object(r[\"a\"])(o,n))||n===undefined&&!(t in e)){Object(i[\"a\"])(e,t,n)}}t[\"a\"]=a},function(e,t,n){\"use strict\";function i(e){return function(t){return e(t)}}t[\"a\"]=i},function(e,t,n){\"use strict\";var i=9007199254740991;var r=/^(?:0|[1-9]\\d*)$/;function o(e,t){var n=typeof e;t=t==null?i:t;return!!t&&(n==\"number\"||n!=\"symbol\"&&r.test(e))&&(e>-1&&e%1==0&&e<t)}t[\"a\"]=o},function(e,t,n){\"use strict\";var i=n(140);function r(e){var t=new e.constructor(e.byteLength);new i[\"a\"](t).set(new i[\"a\"](e));return t}t[\"a\"]=r},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(104);var r=n(4);var o=n(11);class s extends i[\"a\"]{constructor(e,t,n,i){super(e,t,n,i);this.set(\"isReadOnly\",false);this.set(\"isFocused\",false);this.bind(\"isReadOnly\").to(e);this.bind(\"isFocused\").to(e,\"isFocused\",t=>t&&e.selection.editableElement==this);this.listenTo(e.selection,\"change\",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}is(e,t=null){if(!t){return e===\"editableElement\"||e===\"view:editableElement\"||e===\"containerElement\"||e===\"view:containerElement\"||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"editableElement\"||e===\"view:editableElement\"||e===\"containerElement\"||e===\"view:containerElement\"||e===\"element\"||e===\"view:element\")}}destroy(){this.stopListening()}}Object(r[\"a\"])(s,o[\"a\"])},function(e,t,n){\"use strict\";var i=n(99);var r=1/0;function o(e){if(typeof e==\"string\"||Object(i[\"a\"])(e)){return e}var t=e+\"\";return t==\"0\"&&1/e==-r?\"-0\":t}t[\"a\"]=o},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(170);var r=n(12);var o=n(4);var s=n(11);class a{constructor(e){this.selection=new i[\"a\"];this.roots=new r[\"a\"]({idProperty:\"rootName\"});this.stylesProcessor=e;this.set(\"isReadOnly\",false);this.set(\"isFocused\",false);this.set(\"isComposing\",false);this._postFixers=new Set}getRoot(e=\"main\"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy());this.stopListening()}_callPostFixers(e){let t=false;do{for(const n of this._postFixers){t=n(e);if(t){break}}}while(t)}}Object(o[\"a\"])(a,s[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));var i=n(211);class r{constructor(e,t,n){this.view=e;this.document=e.document;this.domEvent=t;this.domTarget=t.target;Object(i[\"a\"])(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(61);var r=n(58);var o=n(207);class s extends r[\"a\"]{constructor(e,t=[]){super(t);this.locale=e}attachToDom(){this._bodyCollectionContainer=new i[\"a\"]({tag:\"div\",attributes:{class:[\"ck\",\"ck-reset_all\",\"ck-body\",\"ck-rounded-corners\"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(\".ck-body-wrapper\");if(!e){e=Object(o[\"a\"])(document,\"div\",{class:\"ck-body-wrapper\"});document.body.appendChild(e)}e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy();if(this._bodyCollectionContainer){this._bodyCollectionContainer.remove()}const e=document.querySelector(\".ck-body-wrapper\");if(e&&e.childElementCount==0){e.remove()}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(3);var r=n(285);var o=n.n(r);class s extends i[\"a\"]{constructor(e){super(e);this.set(\"text\",\"\");this.set(\"position\",\"s\");const t=this.bindTemplate;this.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-tooltip\",t.to(\"position\",e=>\"ck-tooltip_\"+e),t.if(\"text\",\"ck-hidden\",e=>!e.trim())]},children:[{tag:\"span\",attributes:{class:[\"ck\",\"ck-tooltip__text\"]},children:[{text:t.to(\"text\")}]}]})}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(3);var r=n(17);var o=n(312);var s=n.n(o);class a extends i[\"a\"]{constructor(e){super(e);this.set(\"text\");this.set(\"for\");this.id=`ck-editor__label_${Object(r[\"a\"])()}`;const t=this.bindTemplate;this.setTemplate({tag:\"label\",attributes:{class:[\"ck\",\"ck-label\"],id:this.id,for:t.to(\"for\")},children:[{text:t.to(\"text\")}]})}}},function(e,t,n){\"use strict\";var i=n(106);function r(e,t){var n=-1,i=e==null?0:e.length;while(++n<i){if(t(e[n],n,e)===false){break}}return e}var o=r;var s=n(120);var a=n(72);var c=n(134);function l(e,t){return e&&Object(a[\"a\"])(t,Object(c[\"a\"])(t),e)}var d=l;var u=n(84);function h(e,t){return e&&Object(a[\"a\"])(t,Object(u[\"a\"])(t),e)}var f=h;var m=n(161);var g=n(160);var p=n(138);function b(e,t){return Object(a[\"a\"])(e,Object(p[\"a\"])(e),t)}var _=b;var w=n(163);var v=n(116);var k=n(162);var x=Object.getOwnPropertySymbols;var y=!x?k[\"a\"]:function(e){var t=[];while(e){Object(w[\"a\"])(t,Object(p[\"a\"])(e));e=Object(v[\"a\"])(e)}return t};var C=y;function A(e,t){return Object(a[\"a\"])(e,C(e),t)}var T=A;var E=n(149);var S=n(166);function O(e){return Object(S[\"a\"])(e,u[\"a\"],C)}var I=O;var P=n(92);var M=Object.prototype;var R=M.hasOwnProperty;function N(e){var t=e.length,n=new e.constructor(t);if(t&&typeof e[0]==\"string\"&&R.call(e,\"index\")){n.index=e.index;n.input=e.input}return n}var j=N;var D=n(123);function L(e,t){var n=t?Object(D[\"a\"])(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var B=L;var F=/\\w*$/;function z(e){var t=new e.constructor(e.source,F.exec(e));t.lastIndex=e.lastIndex;return t}var V=z;var U=n(64);var H=U[\"a\"]?U[\"a\"].prototype:undefined,W=H?H.valueOf:undefined;function $(e){return W?Object(W.call(e)):{}}var q=$;var Y=n(165);var J=\"[object Boolean]\",G=\"[object Date]\",K=\"[object Map]\",X=\"[object Number]\",Q=\"[object RegExp]\",Z=\"[object Set]\",ee=\"[object String]\",te=\"[object Symbol]\";var ne=\"[object ArrayBuffer]\",ie=\"[object DataView]\",re=\"[object Float32Array]\",oe=\"[object Float64Array]\",se=\"[object Int8Array]\",ae=\"[object Int16Array]\",ce=\"[object Int32Array]\",le=\"[object Uint8Array]\",de=\"[object Uint8ClampedArray]\",ue=\"[object Uint16Array]\",he=\"[object Uint32Array]\";function fe(e,t,n){var i=e.constructor;switch(t){case ne:return Object(D[\"a\"])(e);case J:case G:return new i(+e);case ie:return B(e,n);case re:case oe:case se:case ae:case ce:case le:case de:case ue:case he:return Object(Y[\"a\"])(e,n);case K:return new i;case X:case ee:return new i(e);case Q:return V(e);case Z:return new i;case te:return q(e)}}var me=fe;var ge=n(209);var pe=n(42);var be=n(89);var _e=n(34);var we=\"[object Map]\";function ve(e){return Object(_e[\"a\"])(e)&&Object(P[\"a\"])(e)==we}var ke=ve;var xe=n(121);var ye=n(93);var Ce=ye[\"a\"]&&ye[\"a\"].isMap;var Ae=Ce?Object(xe[\"a\"])(Ce):ke;var Te=Ae;var Ee=n(28);var Se=\"[object Set]\";function Oe(e){return Object(_e[\"a\"])(e)&&Object(P[\"a\"])(e)==Se}var Ie=Oe;var Pe=ye[\"a\"]&&ye[\"a\"].isSet;var Me=Pe?Object(xe[\"a\"])(Pe):Ie;var Re=Me;var Ne=1,je=2,De=4;var Le=\"[object Arguments]\",Be=\"[object Array]\",Fe=\"[object Boolean]\",ze=\"[object Date]\",Ve=\"[object Error]\",Ue=\"[object Function]\",He=\"[object GeneratorFunction]\",We=\"[object Map]\",$e=\"[object Number]\",qe=\"[object Object]\",Ye=\"[object RegExp]\",Je=\"[object Set]\",Ge=\"[object String]\",Ke=\"[object Symbol]\",Xe=\"[object WeakMap]\";var Qe=\"[object ArrayBuffer]\",Ze=\"[object DataView]\",et=\"[object Float32Array]\",tt=\"[object Float64Array]\",nt=\"[object Int8Array]\",it=\"[object Int16Array]\",rt=\"[object Int32Array]\",ot=\"[object Uint8Array]\",st=\"[object Uint8ClampedArray]\",at=\"[object Uint16Array]\",ct=\"[object Uint32Array]\";var lt={};lt[Le]=lt[Be]=lt[Qe]=lt[Ze]=lt[Fe]=lt[ze]=lt[et]=lt[tt]=lt[nt]=lt[it]=lt[rt]=lt[We]=lt[$e]=lt[qe]=lt[Ye]=lt[Je]=lt[Ge]=lt[Ke]=lt[ot]=lt[st]=lt[at]=lt[ct]=true;lt[Ve]=lt[Ue]=lt[Xe]=false;function dt(e,t,n,r,a,l){var u,h=t&Ne,p=t&je,b=t&De;if(n){u=a?n(e,r,a,l):n(e)}if(u!==undefined){return u}if(!Object(Ee[\"a\"])(e)){return e}var w=Object(pe[\"a\"])(e);if(w){u=j(e);if(!h){return Object(g[\"a\"])(e,u)}}else{var v=Object(P[\"a\"])(e),k=v==Ue||v==He;if(Object(be[\"a\"])(e)){return Object(m[\"a\"])(e,h)}if(v==qe||v==Le||k&&!a){u=p||k?{}:Object(ge[\"a\"])(e);if(!h){return p?T(e,f(u,e)):_(e,d(u,e))}}else{if(!lt[v]){return a?e:{}}u=me(e,v,h)}}l||(l=new i[\"a\"]);var x=l.get(e);if(x){return x}l.set(e,u);if(Re(e)){e.forEach((function(i){u.add(dt(i,t,n,i,e,l))}))}else if(Te(e)){e.forEach((function(i,r){u.set(r,dt(i,t,n,r,e,l))}))}var y=b?p?I:E[\"a\"]:p?keysIn:c[\"a\"];var C=w?undefined:y(e);o(C||e,(function(i,r){if(C){r=i;i=e[r]}Object(s[\"a\"])(u,r,dt(i,t,n,r,e,l))}));return u}var ut=t[\"a\"]=dt},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return w}));var i=n(1);var r=n(6);var o=n(177);class s extends r[\"a\"]{constructor(e,t){super(e);this._buffer=new o[\"a\"](e.model,t);this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy();this._buffer.destroy()}execute(e={}){const t=this.editor.model;const n=t.document;const i=e.text||\"\";const r=i.length;const o=e.range?t.createSelection(e.range):n.selection;const s=e.resultRange;t.enqueueChange(this._buffer.batch,e=>{this._buffer.lock();this._batches.add(this._buffer.batch);t.deleteContent(o);if(i){t.insertContent(e.createText(i,n.selection.getAttributes()),o)}if(s){e.setSelection(s)}else if(!o.is(\"documentSelection\")){e.setSelection(o)}this._buffer.unlock();this._buffer.input(r)})}}var a=n(178);var c=n(78);var l=n(83);function d(e,t){const n=[];let i=0;let r;e.forEach(e=>{if(e==\"equal\"){o();i++}else if(e==\"insert\"){if(s(\"insert\")){r.values.push(t[i])}else{o();r={type:\"insert\",index:i,values:[t[i]]}}i++}else{if(s(\"delete\")){r.howMany++}else{o();r={type:\"delete\",index:i,howMany:1}}}});o();return n;function o(){if(r){n.push(r);r=null}}function s(e){return r&&r.type==e}}function u(e){if(e.length==0){return false}for(const t of e){if(t.type===\"children\"&&!h(t)){return true}}return false}function h(e){if(e.newChildren.length-e.oldChildren.length!=1){return}const t=Object(c[\"a\"])(e.oldChildren,e.newChildren,f);const n=d(t,e.newChildren);if(n.length>1){return}const i=n[0];if(!(!!i.values[0]&&i.values[0].is(\"$text\"))){return}return i}function f(e,t){if(!!e&&e.is(\"$text\")&&!!t&&t.is(\"$text\")){return e.data===t.data}else{return e===t}}function m(e){e.editing.view.document.on(\"mutations\",(t,n,i)=>{new g(e).handle(n,i)})}class g{constructor(e){this.editor=e;this.editing=this.editor.editing}handle(e,t){if(u(e)){this._handleContainerChildrenMutations(e,t)}else{for(const n of e){this._handleTextMutation(n,t);this._handleTextNodeInsertion(n)}}}_handleContainerChildrenMutations(e,t){const n=p(e);if(!n){return}const i=this.editor.editing.view.domConverter;const r=i.mapViewToDom(n);const o=new l[\"a\"](this.editor.editing.view.document);const s=this.editor.data.toModel(o.domToView(r)).getChild(0);const a=this.editor.editing.mapper.toModelElement(n);if(!a){return}const d=Array.from(s.getChildren());const u=Array.from(a.getChildren());const h=d[d.length-1];const f=u[u.length-1];const m=h&&h.is(\"element\",\"softBreak\");const g=f&&!f.is(\"element\",\"softBreak\");if(m&&g){d.pop()}const w=this.editor.model.schema;if(!b(d,w)||!b(u,w)){return}const v=d.map(e=>e.is(\"$text\")?e.data:\"@\").join(\"\").replace(/\\u00A0/g,\" \");const k=u.map(e=>e.is(\"$text\")?e.data:\"@\").join(\"\").replace(/\\u00A0/g,\" \");if(k===v){return}const x=Object(c[\"a\"])(k,v);const{firstChangeAt:y,insertions:C,deletions:A}=_(x);let T=null;if(t){T=this.editing.mapper.toModelRange(t.getFirstRange())}const E=v.substr(y,C);const S=this.editor.model.createRange(this.editor.model.createPositionAt(a,y),this.editor.model.createPositionAt(a,y+A));this.editor.execute(\"input\",{text:E,range:S,resultRange:T})}_handleTextMutation(e,t){if(e.type!=\"text\"){return}const n=e.newText.replace(/\\u00A0/g,\" \");const i=e.oldText.replace(/\\u00A0/g,\" \");if(i===n){return}const r=Object(c[\"a\"])(i,n);const{firstChangeAt:o,insertions:s,deletions:a}=_(r);let l=null;if(t){l=this.editing.mapper.toModelRange(t.getFirstRange())}const d=this.editing.view.createPositionAt(e.node,o);const u=this.editing.mapper.toModelPosition(d);const h=this.editor.model.createRange(u,u.getShiftedBy(a));const f=n.substr(o,s);this.editor.execute(\"input\",{text:f,range:h,resultRange:l})}_handleTextNodeInsertion(e){if(e.type!=\"children\"){return}const t=h(e);const n=this.editing.view.createPositionAt(e.node,t.index);const i=this.editing.mapper.toModelPosition(n);const r=t.values[0].data;this.editor.execute(\"input\",{text:r.replace(/\\u00A0/g,\" \"),range:this.editor.model.createRange(i)})}}function p(e){const t=e.map(e=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:true}));if(!t){return}return t.getAncestors({includeSelf:true,parentFirst:true}).find(e=>e.is(\"containerElement\")||e.is(\"rootElement\"))}function b(e,t){return e.every(e=>t.isInline(e))}function _(e){let t=null;let n=null;for(let i=0;i<e.length;i++){const r=e[i];if(r!=\"equal\"){t=t===null?i:t;n=i}}let i=0;let r=0;for(let o=t;o<=n;o++){if(e[o]!=\"insert\"){i++}if(e[o]!=\"delete\"){r++}}return{insertions:r,deletions:i,firstChangeAt:t}}class w extends i[\"a\"]{static get pluginName(){return\"Input\"}init(){const e=this.editor;const t=new s(e,e.config.get(\"typing.undoStep\")||20);e.commands.add(\"input\",t);Object(a[\"a\"])(e);m(e)}isInput(e){const t=this.editor.commands.get(\"input\");return t._batches.has(e)}}},function(e,t,n){\"use strict\";var i=n(42);var r=n(99);var o=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,s=/^\\w*$/;function a(e,t){if(Object(i[\"a\"])(e)){return false}var n=typeof e;if(n==\"number\"||n==\"symbol\"||n==\"boolean\"||e==null||Object(r[\"a\"])(e)){return true}return s.test(e)||!o.test(e)||t!=null&&e in Object(t)}var c=a;var l=n(112);var d=\"Expected a function\";function u(e,t){if(typeof e!=\"function\"||t!=null&&typeof t!=\"function\"){throw new TypeError(d)}var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r)){return o.get(r)}var s=e.apply(this,i);n.cache=o.set(r,s)||o;return s};n.cache=new(u.Cache||l[\"a\"]);return n}u.Cache=l[\"a\"];var h=u;var f=500;function m(e){var t=h(e,(function(e){if(n.size===f){n.clear()}return e}));var n=t.cache;return t}var g=m;var p=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;var b=/\\\\(\\\\)?/g;var _=g((function(e){var t=[];if(e.charCodeAt(0)===46){t.push(\"\")}e.replace(p,(function(e,n,i,r){t.push(i?r.replace(b,\"$1\"):n||e)}));return t}));var w=_;var v=n(135);function k(e,t){if(Object(i[\"a\"])(e)){return e}return c(e,t)?[e]:w(Object(v[\"a\"])(e))}var x=t[\"a\"]=k},function(e,t,n){\"use strict\";var i=n(206);var r=n(118);var o=n(159);var s=Object(o[\"a\"])(Object.keys,Object);var a=s;var c=Object.prototype;var l=c.hasOwnProperty;function d(e){if(!Object(r[\"a\"])(e)){return a(e)}var t=[];for(var n in Object(e)){if(l.call(e,n)&&n!=\"constructor\"){t.push(n)}}return t}var u=d;var h=n(98);function f(e){return Object(h[\"a\"])(e)?Object(i[\"a\"])(e):u(e)}var m=t[\"a\"]=f},function(e,t,n){\"use strict\";var i=n(64);function r(e,t){var n=-1,i=e==null?0:e.length,r=Array(i);while(++n<i){r[n]=t(e[n],n,e)}return r}var o=r;var s=n(42);var a=n(99);var c=1/0;var l=i[\"a\"]?i[\"a\"].prototype:undefined,d=l?l.toString:undefined;function u(e){if(typeof e==\"string\"){return e}if(Object(s[\"a\"])(e)){return o(e,u)+\"\"}if(Object(a[\"a\"])(e)){return d?d.call(e):\"\"}var t=e+\"\";return t==\"0\"&&1/e==-c?\"-0\":t}var h=u;function f(e){return e==null?\"\":h(e)}var m=t[\"a\"]=f},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var i=n(6);var r=n(179);class o extends i[\"a\"]{execute(){const e=this.editor.model;const t=e.document;e.change(n=>{a(e,n,t.selection);this.fire(\"afterExecute\",{writer:n})})}refresh(){const e=this.editor.model;const t=e.document;this.isEnabled=s(e.schema,t.selection)}}function s(e,t){if(t.rangeCount>1){return false}const n=t.anchor;if(!n||!e.checkChild(n,\"softBreak\")){return false}const i=t.getFirstRange();const r=i.start.parent;const o=i.end.parent;if((l(r,e)||l(o,e))&&r!==o){return false}return true}function a(e,t,n){const i=n.isCollapsed;const o=n.getFirstRange();const s=o.start.parent;const a=o.end.parent;const l=s==a;if(i){const i=Object(r[\"a\"])(e.schema,n.getAttributes());c(e,t,o.end);t.removeSelectionAttribute(n.getAttributeKeys());t.setSelectionAttribute(i)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:i});if(l){c(e,t,n.focus)}else{if(i){t.setSelection(a,0)}}}}function c(e,t,n){const i=t.createElement(\"softBreak\");e.insertContent(i,n);t.setSelection(i,\"after\")}function l(e,t){if(e.is(\"rootElement\")){return false}return t.isLimit(e)||l(e.parent,t)}var d=n(180);var u=n(1);class h extends u[\"a\"]{static get pluginName(){return\"ShiftEnter\"}init(){const e=this.editor;const t=e.model.schema;const n=e.conversion;const i=e.editing.view;const r=i.document;t.register(\"softBreak\",{allowWhere:\"$text\",isInline:true});n.for(\"upcast\").elementToElement({model:\"softBreak\",view:\"br\"});n.for(\"downcast\").elementToElement({model:\"softBreak\",view:(e,t)=>t.createEmptyElement(\"br\")});i.addObserver(d[\"a\"]);e.commands.add(\"shiftEnter\",new o(e));this.listenTo(r,\"enter\",(t,n)=>{n.preventDefault();if(!n.isSoft){return}e.execute(\"shiftEnter\");i.scrollToTheSelection()},{priority:\"low\"})}}},function(e,t,n){\"use strict\";var i=n(63);var r=n(164);var o=n(34);var s=\"[object Arguments]\",a=\"[object Array]\",c=\"[object Boolean]\",l=\"[object Date]\",d=\"[object Error]\",u=\"[object Function]\",h=\"[object Map]\",f=\"[object Number]\",m=\"[object Object]\",g=\"[object RegExp]\",p=\"[object Set]\",b=\"[object String]\",_=\"[object WeakMap]\";var w=\"[object ArrayBuffer]\",v=\"[object DataView]\",k=\"[object Float32Array]\",x=\"[object Float64Array]\",y=\"[object Int8Array]\",C=\"[object Int16Array]\",A=\"[object Int32Array]\",T=\"[object Uint8Array]\",E=\"[object Uint8ClampedArray]\",S=\"[object Uint16Array]\",O=\"[object Uint32Array]\";var I={};I[k]=I[x]=I[y]=I[C]=I[A]=I[T]=I[E]=I[S]=I[O]=true;I[s]=I[a]=I[w]=I[c]=I[v]=I[l]=I[d]=I[u]=I[h]=I[f]=I[m]=I[g]=I[p]=I[b]=I[_]=false;function P(e){return Object(o[\"a\"])(e)&&Object(r[\"a\"])(e.length)&&!!I[Object(i[\"a\"])(e)]}var M=P;var R=n(121);var N=n(93);var j=N[\"a\"]&&N[\"a\"].isTypedArray;var D=j?Object(R[\"a\"])(j):M;var L=t[\"a\"]=D},function(e,t,n){\"use strict\";function i(e,t){var n=-1,i=e==null?0:e.length,r=0,o=[];while(++n<i){var s=e[n];if(t(s,n,e)){o[r++]=s}}return o}var r=i;var o=n(162);var s=Object.prototype;var a=s.propertyIsEnumerable;var c=Object.getOwnPropertySymbols;var l=!c?o[\"a\"]:function(e){if(e==null){return[]}e=Object(e);return r(c(e),(function(t){return a.call(e,t)}))};var d=t[\"a\"]=l},function(e,t,n){\"use strict\";var i=n(69);var r=function(){try{var e=Object(i[\"a\"])(Object,\"defineProperty\");e({},\"\",{});return e}catch(e){}}();t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(37);var r=i[\"a\"].Uint8Array;t[\"a\"]=r},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){const t=Object.prototype.toString.apply(e);if(t==\"[object Window]\"){return true}if(t==\"[object global]\"){return true}return false}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e,t){const n=e[\"t\"];if(\"PENDING_ACTION_COMMENT_THREAD\"==t)return n({string:\"Unsaved change in comment thread.\",id:\"PENDING_ACTION_COMMENT_THREAD\"})}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){if(typeof window===\"object\")n=window}e.exports=n},function(e,t,n){\"use strict\";(function(e){var t=n(0);const i=\"21.0.0\";const r=typeof window===\"object\"?window:e;if(r.CKEDITOR_VERSION){throw new t[\"b\"](\"ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.\",null)}else{r.CKEDITOR_VERSION=i}}).call(this,n(143))},function(e,t){var n=e.exports={};var i;var r;function o(){throw new Error(\"setTimeout has not been defined\")}function s(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){i=setTimeout}else{i=o}}catch(e){i=o}try{if(typeof clearTimeout===\"function\"){r=clearTimeout}else{r=s}}catch(e){r=s}})();function a(e){if(i===setTimeout){return setTimeout(e,0)}if((i===o||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function c(e){if(r===clearTimeout){return clearTimeout(e)}if((r===s||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(e)}try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}var l=[];var d=false;var u;var h=-1;function f(){if(!d||!u){return}d=false;if(u.length){l=u.concat(l)}else{h=-1}if(l.length){m()}}function m(){if(d){return}var e=a(f);d=true;var t=l.length;while(t){u=l;l=[];while(++h<t){if(u){u[h].run()}}h=-1;t=l.length}u=null;d=false;c(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new g(e,t));if(l.length===1&&!d){a(m)}};function g(e,t){this.fun=e;this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};n.title=\"browser\";n.browser=true;n.env={};n.argv=[];n.version=\"\";n.versions={};function p(){}n.on=p;n.addListener=p;n.once=p;n.off=p;n.removeListener=p;n.removeAllListeners=p;n.emit=p;n.prependListener=p;n.prependOnceListener=p;n.listeners=function(e){return[]};n.binding=function(e){throw new Error(\"process.binding is not supported\")};n.cwd=function(){return\"/\"};n.chdir=function(e){throw new Error(\"process.chdir is not supported\")};n.umask=function(){return 0}},function(e,t,n){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar i=n(375);var r=n(376);var o=n(377);t.Buffer=l;t.SlowBuffer=w;t.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:s();t.kMaxLength=a();function s(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray===\"function\"&&e.subarray(1,1).byteLength===0}catch(e){return false}}function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t){throw new RangeError(\"Invalid typed array length\")}if(l.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=l.prototype}else{if(e===null){e=new l(t)}e.length=t}return e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l)){return new l(e,t,n)}if(typeof e===\"number\"){if(typeof t===\"string\"){throw new Error(\"If encoding is specified then the first argument must be a string\")}return f(this,e)}return d(this,e,t,n)}l.poolSize=8192;l._augment=function(e){e.__proto__=l.prototype;return e};function d(e,t,n,i){if(typeof t===\"number\"){throw new TypeError('\"value\" argument must not be a number')}if(typeof ArrayBuffer!==\"undefined\"&&t instanceof ArrayBuffer){return p(e,t,n,i)}if(typeof t===\"string\"){return m(e,t,n)}return b(e,t)}l.from=function(e,t,n){return d(null,e,t,n)};if(l.TYPED_ARRAY_SUPPORT){l.prototype.__proto__=Uint8Array.prototype;l.__proto__=Uint8Array;if(typeof Symbol!==\"undefined\"&&Symbol.species&&l[Symbol.species]===l){Object.defineProperty(l,Symbol.species,{value:null,configurable:true})}}function u(e){if(typeof e!==\"number\"){throw new TypeError('\"size\" argument must be a number')}else if(e<0){throw new RangeError('\"size\" argument must not be negative')}}function h(e,t,n,i){u(t);if(t<=0){return c(e,t)}if(n!==undefined){return typeof i===\"string\"?c(e,t).fill(n,i):c(e,t).fill(n)}return c(e,t)}l.alloc=function(e,t,n){return h(null,e,t,n)};function f(e,t){u(t);e=c(e,t<0?0:_(t)|0);if(!l.TYPED_ARRAY_SUPPORT){for(var n=0;n<t;++n){e[n]=0}}return e}l.allocUnsafe=function(e){return f(null,e)};l.allocUnsafeSlow=function(e){return f(null,e)};function m(e,t,n){if(typeof n!==\"string\"||n===\"\"){n=\"utf8\"}if(!l.isEncoding(n)){throw new TypeError('\"encoding\" must be a valid string encoding')}var i=v(t,n)|0;e=c(e,i);var r=e.write(t,n);if(r!==i){e=e.slice(0,r)}return e}function g(e,t){var n=t.length<0?0:_(t.length)|0;e=c(e,n);for(var i=0;i<n;i+=1){e[i]=t[i]&255}return e}function p(e,t,n,i){t.byteLength;if(n<0||t.byteLength<n){throw new RangeError(\"'offset' is out of bounds\")}if(t.byteLength<n+(i||0)){throw new RangeError(\"'length' is out of bounds\")}if(n===undefined&&i===undefined){t=new Uint8Array(t)}else if(i===undefined){t=new Uint8Array(t,n)}else{t=new Uint8Array(t,n,i)}if(l.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=l.prototype}else{e=g(e,t)}return e}function b(e,t){if(l.isBuffer(t)){var n=_(t.length)|0;e=c(e,n);if(e.length===0){return e}t.copy(e,0,0,n);return e}if(t){if(typeof ArrayBuffer!==\"undefined\"&&t.buffer instanceof ArrayBuffer||\"length\"in t){if(typeof t.length!==\"number\"||te(t.length)){return c(e,0)}return g(e,t)}if(t.type===\"Buffer\"&&o(t.data)){return g(e,t.data)}}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}function _(e){if(e>=a()){throw new RangeError(\"Attempt to allocate Buffer larger than maximum \"+\"size: 0x\"+a().toString(16)+\" bytes\")}return e|0}function w(e){if(+e!=e){e=0}return l.alloc(+e)}l.isBuffer=function e(t){return!!(t!=null&&t._isBuffer)};l.compare=function e(t,n){if(!l.isBuffer(t)||!l.isBuffer(n)){throw new TypeError(\"Arguments must be Buffers\")}if(t===n)return 0;var i=t.length;var r=n.length;for(var o=0,s=Math.min(i,r);o<s;++o){if(t[o]!==n[o]){i=t[o];r=n[o];break}}if(i<r)return-1;if(r<i)return 1;return 0};l.isEncoding=function e(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return true;default:return false}};l.concat=function e(t,n){if(!o(t)){throw new TypeError('\"list\" argument must be an Array of Buffers')}if(t.length===0){return l.alloc(0)}var i;if(n===undefined){n=0;for(i=0;i<t.length;++i){n+=t[i].length}}var r=l.allocUnsafe(n);var s=0;for(i=0;i<t.length;++i){var a=t[i];if(!l.isBuffer(a)){throw new TypeError('\"list\" argument must be an Array of Buffers')}a.copy(r,s);s+=a.length}return r};function v(e,t){if(l.isBuffer(e)){return e.length}if(typeof ArrayBuffer!==\"undefined\"&&typeof ArrayBuffer.isView===\"function\"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!==\"string\"){e=\"\"+e}var n=e.length;if(n===0)return 0;var i=false;for(;;){switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case undefined:return K(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return n*2;case\"hex\":return n>>>1;case\"base64\":return Z(e).length;default:if(i)return K(e).length;t=(\"\"+t).toLowerCase();i=true}}}l.byteLength=v;function k(e,t,n){var i=false;if(t===undefined||t<0){t=0}if(t>this.length){return\"\"}if(n===undefined||n>this.length){n=this.length}if(n<=0){return\"\"}n>>>=0;t>>>=0;if(n<=t){return\"\"}if(!e)e=\"utf8\";while(true){switch(e){case\"hex\":return L(this,t,n);case\"utf8\":case\"utf-8\":return M(this,t,n);case\"ascii\":return j(this,t,n);case\"latin1\":case\"binary\":return D(this,t,n);case\"base64\":return P(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return B(this,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase();i=true}}}l.prototype._isBuffer=true;function x(e,t,n){var i=e[t];e[t]=e[n];e[n]=i}l.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError(\"Buffer size must be a multiple of 16-bits\")}for(var n=0;n<t;n+=2){x(this,n,n+1)}return this};l.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError(\"Buffer size must be a multiple of 32-bits\")}for(var n=0;n<t;n+=4){x(this,n,n+3);x(this,n+1,n+2)}return this};l.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError(\"Buffer size must be a multiple of 64-bits\")}for(var n=0;n<t;n+=8){x(this,n,n+7);x(this,n+1,n+6);x(this,n+2,n+5);x(this,n+3,n+4)}return this};l.prototype.toString=function e(){var t=this.length|0;if(t===0)return\"\";if(arguments.length===0)return M(this,0,t);return k.apply(this,arguments)};l.prototype.equals=function e(t){if(!l.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(this===t)return true;return l.compare(this,t)===0};l.prototype.inspect=function e(){var n=\"\";var i=t.INSPECT_MAX_BYTES;if(this.length>0){n=this.toString(\"hex\",0,i).match(/.{2}/g).join(\" \");if(this.length>i)n+=\" ... \"}return\"<Buffer \"+n+\">\"};l.prototype.compare=function e(t,n,i,r,o){if(!l.isBuffer(t)){throw new TypeError(\"Argument must be a Buffer\")}if(n===undefined){n=0}if(i===undefined){i=t?t.length:0}if(r===undefined){r=0}if(o===undefined){o=this.length}if(n<0||i>t.length||r<0||o>this.length){throw new RangeError(\"out of range index\")}if(r>=o&&n>=i){return 0}if(r>=o){return-1}if(n>=i){return 1}n>>>=0;i>>>=0;r>>>=0;o>>>=0;if(this===t)return 0;var s=o-r;var a=i-n;var c=Math.min(s,a);var d=this.slice(r,o);var u=t.slice(n,i);for(var h=0;h<c;++h){if(d[h]!==u[h]){s=d[h];a=u[h];break}}if(s<a)return-1;if(a<s)return 1;return 0};function y(e,t,n,i,r){if(e.length===0)return-1;if(typeof n===\"string\"){i=n;n=0}else if(n>2147483647){n=2147483647}else if(n<-2147483648){n=-2147483648}n=+n;if(isNaN(n)){n=r?0:e.length-1}if(n<0)n=e.length+n;if(n>=e.length){if(r)return-1;else n=e.length-1}else if(n<0){if(r)n=0;else return-1}if(typeof t===\"string\"){t=l.from(t,i)}if(l.isBuffer(t)){if(t.length===0){return-1}return C(e,t,n,i,r)}else if(typeof t===\"number\"){t=t&255;if(l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf===\"function\"){if(r){return Uint8Array.prototype.indexOf.call(e,t,n)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,n)}}return C(e,[t],n,i,r)}throw new TypeError(\"val must be string, number or Buffer\")}function C(e,t,n,i,r){var o=1;var s=e.length;var a=t.length;if(i!==undefined){i=String(i).toLowerCase();if(i===\"ucs2\"||i===\"ucs-2\"||i===\"utf16le\"||i===\"utf-16le\"){if(e.length<2||t.length<2){return-1}o=2;s/=2;a/=2;n/=2}}function c(e,t){if(o===1){return e[t]}else{return e.readUInt16BE(t*o)}}var l;if(r){var d=-1;for(l=n;l<s;l++){if(c(e,l)===c(t,d===-1?0:l-d)){if(d===-1)d=l;if(l-d+1===a)return d*o}else{if(d!==-1)l-=l-d;d=-1}}}else{if(n+a>s)n=s-a;for(l=n;l>=0;l--){var u=true;for(var h=0;h<a;h++){if(c(e,l+h)!==c(t,h)){u=false;break}}if(u)return l}}return-1}l.prototype.includes=function e(t,n,i){return this.indexOf(t,n,i)!==-1};l.prototype.indexOf=function e(t,n,i){return y(this,t,n,i,true)};l.prototype.lastIndexOf=function e(t,n,i){return y(this,t,n,i,false)};function A(e,t,n,i){n=Number(n)||0;var r=e.length-n;if(!i){i=r}else{i=Number(i);if(i>r){i=r}}var o=t.length;if(o%2!==0)throw new TypeError(\"Invalid hex string\");if(i>o/2){i=o/2}for(var s=0;s<i;++s){var a=parseInt(t.substr(s*2,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function T(e,t,n,i){return ee(K(t,e.length-n),e,n,i)}function E(e,t,n,i){return ee(X(t),e,n,i)}function S(e,t,n,i){return E(e,t,n,i)}function O(e,t,n,i){return ee(Z(t),e,n,i)}function I(e,t,n,i){return ee(Q(t,e.length-n),e,n,i)}l.prototype.write=function e(t,n,i,r){if(n===undefined){r=\"utf8\";i=this.length;n=0}else if(i===undefined&&typeof n===\"string\"){r=n;i=this.length;n=0}else if(isFinite(n)){n=n|0;if(isFinite(i)){i=i|0;if(r===undefined)r=\"utf8\"}else{r=i;i=undefined}}else{throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\")}var o=this.length-n;if(i===undefined||i>o)i=o;if(t.length>0&&(i<0||n<0)||n>this.length){throw new RangeError(\"Attempt to write outside buffer bounds\")}if(!r)r=\"utf8\";var s=false;for(;;){switch(r){case\"hex\":return A(this,t,n,i);case\"utf8\":case\"utf-8\":return T(this,t,n,i);case\"ascii\":return E(this,t,n,i);case\"latin1\":case\"binary\":return S(this,t,n,i);case\"base64\":return O(this,t,n,i);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return I(this,t,n,i);default:if(s)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase();s=true}}};l.prototype.toJSON=function e(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,n){if(t===0&&n===e.length){return i.fromByteArray(e)}else{return i.fromByteArray(e.slice(t,n))}}function M(e,t,n){n=Math.min(e.length,n);var i=[];var r=t;while(r<n){var o=e[r];var s=null;var a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var c,l,d,u;switch(a){case 1:if(o<128){s=o}break;case 2:c=e[r+1];if((c&192)===128){u=(o&31)<<6|c&63;if(u>127){s=u}}break;case 3:c=e[r+1];l=e[r+2];if((c&192)===128&&(l&192)===128){u=(o&15)<<12|(c&63)<<6|l&63;if(u>2047&&(u<55296||u>57343)){s=u}}break;case 4:c=e[r+1];l=e[r+2];d=e[r+3];if((c&192)===128&&(l&192)===128&&(d&192)===128){u=(o&15)<<18|(c&63)<<12|(l&63)<<6|d&63;if(u>65535&&u<1114112){s=u}}}}if(s===null){s=65533;a=1}else if(s>65535){s-=65536;i.push(s>>>10&1023|55296);s=56320|s&1023}i.push(s);r+=a}return N(i)}var R=4096;function N(e){var t=e.length;if(t<=R){return String.fromCharCode.apply(String,e)}var n=\"\";var i=0;while(i<t){n+=String.fromCharCode.apply(String,e.slice(i,i+=R))}return n}function j(e,t,n){var i=\"\";n=Math.min(e.length,n);for(var r=t;r<n;++r){i+=String.fromCharCode(e[r]&127)}return i}function D(e,t,n){var i=\"\";n=Math.min(e.length,n);for(var r=t;r<n;++r){i+=String.fromCharCode(e[r])}return i}function L(e,t,n){var i=e.length;if(!t||t<0)t=0;if(!n||n<0||n>i)n=i;var r=\"\";for(var o=t;o<n;++o){r+=G(e[o])}return r}function B(e,t,n){var i=e.slice(t,n);var r=\"\";for(var o=0;o<i.length;o+=2){r+=String.fromCharCode(i[o]+i[o+1]*256)}return r}l.prototype.slice=function e(t,n){var i=this.length;t=~~t;n=n===undefined?i:~~n;if(t<0){t+=i;if(t<0)t=0}else if(t>i){t=i}if(n<0){n+=i;if(n<0)n=0}else if(n>i){n=i}if(n<t)n=t;var r;if(l.TYPED_ARRAY_SUPPORT){r=this.subarray(t,n);r.__proto__=l.prototype}else{var o=n-t;r=new l(o,undefined);for(var s=0;s<o;++s){r[s]=this[s+t]}}return r};function F(e,t,n){if(e%1!==0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}l.prototype.readUIntLE=function e(t,n,i){t=t|0;n=n|0;if(!i)F(t,n,this.length);var r=this[t];var o=1;var s=0;while(++s<n&&(o*=256)){r+=this[t+s]*o}return r};l.prototype.readUIntBE=function e(t,n,i){t=t|0;n=n|0;if(!i){F(t,n,this.length)}var r=this[t+--n];var o=1;while(n>0&&(o*=256)){r+=this[t+--n]*o}return r};l.prototype.readUInt8=function e(t,n){if(!n)F(t,1,this.length);return this[t]};l.prototype.readUInt16LE=function e(t,n){if(!n)F(t,2,this.length);return this[t]|this[t+1]<<8};l.prototype.readUInt16BE=function e(t,n){if(!n)F(t,2,this.length);return this[t]<<8|this[t+1]};l.prototype.readUInt32LE=function e(t,n){if(!n)F(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};l.prototype.readUInt32BE=function e(t,n){if(!n)F(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};l.prototype.readIntLE=function e(t,n,i){t=t|0;n=n|0;if(!i)F(t,n,this.length);var r=this[t];var o=1;var s=0;while(++s<n&&(o*=256)){r+=this[t+s]*o}o*=128;if(r>=o)r-=Math.pow(2,8*n);return r};l.prototype.readIntBE=function e(t,n,i){t=t|0;n=n|0;if(!i)F(t,n,this.length);var r=n;var o=1;var s=this[t+--r];while(r>0&&(o*=256)){s+=this[t+--r]*o}o*=128;if(s>=o)s-=Math.pow(2,8*n);return s};l.prototype.readInt8=function e(t,n){if(!n)F(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};l.prototype.readInt16LE=function e(t,n){if(!n)F(t,2,this.length);var i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i};l.prototype.readInt16BE=function e(t,n){if(!n)F(t,2,this.length);var i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i};l.prototype.readInt32LE=function e(t,n){if(!n)F(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};l.prototype.readInt32BE=function e(t,n){if(!n)F(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};l.prototype.readFloatLE=function e(t,n){if(!n)F(t,4,this.length);return r.read(this,t,true,23,4)};l.prototype.readFloatBE=function e(t,n){if(!n)F(t,4,this.length);return r.read(this,t,false,23,4)};l.prototype.readDoubleLE=function e(t,n){if(!n)F(t,8,this.length);return r.read(this,t,true,52,8)};l.prototype.readDoubleBE=function e(t,n){if(!n)F(t,8,this.length);return r.read(this,t,false,52,8)};function z(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('\"value\" argument is out of bounds');if(n+i>e.length)throw new RangeError(\"Index out of range\")}l.prototype.writeUIntLE=function e(t,n,i,r){t=+t;n=n|0;i=i|0;if(!r){var o=Math.pow(2,8*i)-1;z(this,t,n,i,o,0)}var s=1;var a=0;this[n]=t&255;while(++a<i&&(s*=256)){this[n+a]=t/s&255}return n+i};l.prototype.writeUIntBE=function e(t,n,i,r){t=+t;n=n|0;i=i|0;if(!r){var o=Math.pow(2,8*i)-1;z(this,t,n,i,o,0)}var s=i-1;var a=1;this[n+s]=t&255;while(--s>=0&&(a*=256)){this[n+s]=t/a&255}return n+i};l.prototype.writeUInt8=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,1,255,0);if(!l.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[n]=t&255;return n+1};function V(e,t,n,i){if(t<0)t=65535+t+1;for(var r=0,o=Math.min(e.length-n,2);r<o;++r){e[n+r]=(t&255<<8*(i?r:1-r))>>>(i?r:1-r)*8}}l.prototype.writeUInt16LE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=t&255;this[n+1]=t>>>8}else{V(this,t,n,true)}return n+2};l.prototype.writeUInt16BE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>8;this[n+1]=t&255}else{V(this,t,n,false)}return n+2};function U(e,t,n,i){if(t<0)t=4294967295+t+1;for(var r=0,o=Math.min(e.length-n,4);r<o;++r){e[n+r]=t>>>(i?r:3-r)*8&255}}l.prototype.writeUInt32LE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[n+3]=t>>>24;this[n+2]=t>>>16;this[n+1]=t>>>8;this[n]=t&255}else{U(this,t,n,true)}return n+4};l.prototype.writeUInt32BE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>24;this[n+1]=t>>>16;this[n+2]=t>>>8;this[n+3]=t&255}else{U(this,t,n,false)}return n+4};l.prototype.writeIntLE=function e(t,n,i,r){t=+t;n=n|0;if(!r){var o=Math.pow(2,8*i-1);z(this,t,n,i,o-1,-o)}var s=0;var a=1;var c=0;this[n]=t&255;while(++s<i&&(a*=256)){if(t<0&&c===0&&this[n+s-1]!==0){c=1}this[n+s]=(t/a>>0)-c&255}return n+i};l.prototype.writeIntBE=function e(t,n,i,r){t=+t;n=n|0;if(!r){var o=Math.pow(2,8*i-1);z(this,t,n,i,o-1,-o)}var s=i-1;var a=1;var c=0;this[n+s]=t&255;while(--s>=0&&(a*=256)){if(t<0&&c===0&&this[n+s+1]!==0){c=1}this[n+s]=(t/a>>0)-c&255}return n+i};l.prototype.writeInt8=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,1,127,-128);if(!l.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[n]=t&255;return n+1};l.prototype.writeInt16LE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[n]=t&255;this[n+1]=t>>>8}else{V(this,t,n,true)}return n+2};l.prototype.writeInt16BE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>8;this[n+1]=t&255}else{V(this,t,n,false)}return n+2};l.prototype.writeInt32LE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,4,2147483647,-2147483648);if(l.TYPED_ARRAY_SUPPORT){this[n]=t&255;this[n+1]=t>>>8;this[n+2]=t>>>16;this[n+3]=t>>>24}else{U(this,t,n,true)}return n+4};l.prototype.writeInt32BE=function e(t,n,i){t=+t;n=n|0;if(!i)z(this,t,n,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(l.TYPED_ARRAY_SUPPORT){this[n]=t>>>24;this[n+1]=t>>>16;this[n+2]=t>>>8;this[n+3]=t&255}else{U(this,t,n,false)}return n+4};function H(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function W(e,t,n,i,o){if(!o){H(e,t,n,4,34028234663852886e22,-34028234663852886e22)}r.write(e,t,n,i,23,4);return n+4}l.prototype.writeFloatLE=function e(t,n,i){return W(this,t,n,true,i)};l.prototype.writeFloatBE=function e(t,n,i){return W(this,t,n,false,i)};function $(e,t,n,i,o){if(!o){H(e,t,n,8,17976931348623157e292,-17976931348623157e292)}r.write(e,t,n,i,52,8);return n+8}l.prototype.writeDoubleLE=function e(t,n,i){return $(this,t,n,true,i)};l.prototype.writeDoubleBE=function e(t,n,i){return $(this,t,n,false,i)};l.prototype.copy=function e(t,n,i,r){if(!i)i=0;if(!r&&r!==0)r=this.length;if(n>=t.length)n=t.length;if(!n)n=0;if(r>0&&r<i)r=i;if(r===i)return 0;if(t.length===0||this.length===0)return 0;if(n<0){throw new RangeError(\"targetStart out of bounds\")}if(i<0||i>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");if(r>this.length)r=this.length;if(t.length-n<r-i){r=t.length-n+i}var o=r-i;var s;if(this===t&&i<n&&n<r){for(s=o-1;s>=0;--s){t[s+n]=this[s+i]}}else if(o<1e3||!l.TYPED_ARRAY_SUPPORT){for(s=0;s<o;++s){t[s+n]=this[s+i]}}else{Uint8Array.prototype.set.call(t,this.subarray(i,i+o),n)}return o};l.prototype.fill=function e(t,n,i,r){if(typeof t===\"string\"){if(typeof n===\"string\"){r=n;n=0;i=this.length}else if(typeof i===\"string\"){r=i;i=this.length}if(t.length===1){var o=t.charCodeAt(0);if(o<256){t=o}}if(r!==undefined&&typeof r!==\"string\"){throw new TypeError(\"encoding must be a string\")}if(typeof r===\"string\"&&!l.isEncoding(r)){throw new TypeError(\"Unknown encoding: \"+r)}}else if(typeof t===\"number\"){t=t&255}if(n<0||this.length<n||this.length<i){throw new RangeError(\"Out of range index\")}if(i<=n){return this}n=n>>>0;i=i===undefined?this.length:i>>>0;if(!t)t=0;var s;if(typeof t===\"number\"){for(s=n;s<i;++s){this[s]=t}}else{var a=l.isBuffer(t)?t:K(new l(t,r).toString());var c=a.length;for(s=0;s<i-n;++s){this[s+n]=a[s%c]}}return this};var q=/[^+\\/0-9A-Za-z-_]/g;function Y(e){e=J(e).replace(q,\"\");if(e.length<2)return\"\";while(e.length%4!==0){e=e+\"=\"}return e}function J(e){if(e.trim)return e.trim();return e.replace(/^\\s+|\\s+$/g,\"\")}function G(e){if(e<16)return\"0\"+e.toString(16);return e.toString(16)}function K(e,t){t=t||Infinity;var n;var i=e.length;var r=null;var o=[];for(var s=0;s<i;++s){n=e.charCodeAt(s);if(n>55295&&n<57344){if(!r){if(n>56319){if((t-=3)>-1)o.push(239,191,189);continue}else if(s+1===i){if((t-=3)>-1)o.push(239,191,189);continue}r=n;continue}if(n<56320){if((t-=3)>-1)o.push(239,191,189);r=n;continue}n=(r-55296<<10|n-56320)+65536}else if(r){if((t-=3)>-1)o.push(239,191,189)}r=null;if(n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else{throw new Error(\"Invalid code point\")}}return o}function X(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.charCodeAt(n)&255)}return t}function Q(e,t){var n,i,r;var o=[];for(var s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s);i=n>>8;r=n%256;o.push(r);o.push(i)}return o}function Z(e){return i.toByteArray(Y(e))}function ee(e,t,n,i){for(var r=0;r<i;++r){if(r+n>=t.length||r>=e.length)break;t[r+n]=e[r]}return r}function te(e){return e!==e}}).call(this,n(143))},function(e,t,n){\"use strict\";e.exports=d;var i=n(114);((d.prototype=Object.create(i.prototype)).constructor=d).className=\"Namespace\";var r=n(115),o=n(55);var s,a,c;d.fromJSON=function e(t,n){return new d(t,n.options).addJSON(n.nested)};function l(e,t){if(!(e&&e.length))return undefined;var n={};for(var i=0;i<e.length;++i)n[e[i].name]=e[i].toJSON(t);return n}d.arrayToJSON=l;d.isReservedId=function e(t,n){if(t)for(var i=0;i<t.length;++i)if(typeof t[i]!==\"string\"&&t[i][0]<=n&&t[i][1]>n)return true;return false};d.isReservedName=function e(t,n){if(t)for(var i=0;i<t.length;++i)if(t[i]===n)return true;return false};function d(e,t){i.call(this,e,t);this.nested=undefined;this._nestedArray=null}function u(e){e._nestedArray=null;return e}Object.defineProperty(d.prototype,\"nestedArray\",{get:function(){return this._nestedArray||(this._nestedArray=o.toArray(this.nested))}});d.prototype.toJSON=function e(t){return o.toObject([\"options\",this.options,\"nested\",l(this.nestedArray,t)])};d.prototype.addJSON=function e(t){var n=this;if(t){for(var i=Object.keys(t),o=0,l;o<i.length;++o){l=t[i[o]];n.add((l.fields!==undefined?s.fromJSON:l.values!==undefined?c.fromJSON:l.methods!==undefined?a.fromJSON:l.id!==undefined?r.fromJSON:d.fromJSON)(i[o],l))}}return this};d.prototype.get=function e(t){return this.nested&&this.nested[t]||null};d.prototype.getEnum=function e(t){if(this.nested&&this.nested[t]instanceof c)return this.nested[t].values;throw Error(\"no such enum: \"+t)};d.prototype.add=function e(t){if(!(t instanceof r&&t.extend!==undefined||t instanceof s||t instanceof c||t instanceof a||t instanceof d))throw TypeError(\"object must be a valid nested object\");if(!this.nested)this.nested={};else{var n=this.get(t.name);if(n){if(n instanceof d&&t instanceof d&&!(n instanceof s||n instanceof a)){var i=n.nestedArray;for(var o=0;o<i.length;++o)t.add(i[o]);this.remove(n);if(!this.nested)this.nested={};t.setOptions(n.options,true)}else throw Error(\"duplicate name '\"+t.name+\"' in \"+this)}}this.nested[t.name]=t;t.onAdd(this);return u(this)};d.prototype.remove=function e(t){if(!(t instanceof i))throw TypeError(\"object must be a ReflectionObject\");if(t.parent!==this)throw Error(t+\" is not a member of \"+this);delete this.nested[t.name];if(!Object.keys(this.nested).length)this.nested=undefined;t.onRemove(this);return u(this)};d.prototype.define=function e(t,n){if(o.isString(t))t=t.split(\".\");else if(!Array.isArray(t))throw TypeError(\"illegal path\");if(t&&t.length&&t[0]===\"\")throw Error(\"path must be relative\");var i=this;while(t.length>0){var r=t.shift();if(i.nested&&i.nested[r]){i=i.nested[r];if(!(i instanceof d))throw Error(\"path conflicts with non-namespace objects\")}else i.add(i=new d(r))}if(n)i.addJSON(n);return i};d.prototype.resolveAll=function e(){var t=this.nestedArray,n=0;while(n<t.length)if(t[n]instanceof d)t[n++].resolveAll();else t[n++].resolve();return this.resolve()};d.prototype.lookup=function e(t,n,i){if(typeof n===\"boolean\"){i=n;n=undefined}else if(n&&!Array.isArray(n))n=[n];if(o.isString(t)&&t.length){if(t===\".\")return this.root;t=t.split(\".\")}else if(!t.length)return this;if(t[0]===\"\")return this.root.lookup(t.slice(1),n);var r=this.get(t[0]);if(r){if(t.length===1){if(!n||n.indexOf(r.constructor)>-1)return r}else if(r instanceof d&&(r=r.lookup(t.slice(1),n,true)))return r}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof d&&(r=this._nestedArray[s].lookup(t,n,true)))return r;if(this.parent===null||i)return null;return this.parent.lookup(t,n)};d.prototype.lookupType=function e(t){var n=this.lookup(t,[s]);if(!n)throw Error(\"no such type: \"+t);return n};d.prototype.lookupEnum=function e(t){var n=this.lookup(t,[c]);if(!n)throw Error(\"no such Enum '\"+t+\"' in \"+this);return n};d.prototype.lookupTypeOrEnum=function e(t){var n=this.lookup(t,[s,c]);if(!n)throw Error(\"no such Type or Enum '\"+t+\"' in \"+this);return n};d.prototype.lookupService=function e(t){var n=this.lookup(t,[a]);if(!n)throw Error(\"no such Service '\"+t+\"' in \"+this);return n};d._configure=function(e,t,n){s=e;a=t;c=n}},function(e,t,n){\"use strict\";var i=t;var r=n(55);var o=[\"double\",\"float\",\"int32\",\"uint32\",\"sint32\",\"fixed32\",\"sfixed32\",\"int64\",\"uint64\",\"sint64\",\"fixed64\",\"sfixed64\",\"bool\",\"string\",\"bytes\"];function s(e,t){var n=0,i={};t|=0;while(n<e.length)i[o[n+t]]=e[n++];return i}i.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);i.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,false,\"\",r.emptyArray,null]);i.long=s([0,0,0,1,1],7);i.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2);i.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,n){\"use strict\";var i=n(166);var r=n(138);var o=n(134);function s(e){return Object(i[\"a\"])(e,o[\"a\"],r[\"a\"])}t[\"a\"]=s},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){let t=0;for(const n of e){t++}return t}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(6);var r=n(19);class o extends i[\"a\"]{constructor(e,t){super(e);this.type=t}refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;const t=e.document;const n=Array.from(t.selection.getSelectedBlocks()).filter(t=>a(t,e.schema));const i=this.value===true;e.change(e=>{if(i){let t=n[n.length-1].nextSibling;let i=Number.POSITIVE_INFINITY;let r=[];while(t&&t.name==\"listItem\"&&t.getAttribute(\"listIndent\")!==0){const e=t.getAttribute(\"listIndent\");if(e<i){i=e}const n=e-i;r.push({element:t,listIndent:n});t=t.nextSibling}r=r.reverse();for(const t of r){e.setAttribute(\"listIndent\",t.listIndent,t.element)}}if(!i){let e=Number.POSITIVE_INFINITY;for(const t of n){if(t.is(\"element\",\"listItem\")&&t.getAttribute(\"listIndent\")<e){e=t.getAttribute(\"listIndent\")}}e=e===0?1:e;s(n,true,e);s(n,false,e)}for(const t of n.reverse()){if(i&&t.name==\"listItem\"){e.rename(t,\"paragraph\")}else if(!i&&t.name!=\"listItem\"){e.setAttributes({listType:this.type,listIndent:0},t);e.rename(t,\"listItem\")}else if(!i&&t.name==\"listItem\"&&t.getAttribute(\"listType\")!=this.type){e.setAttribute(\"listType\",this.type,t)}}})}_getValue(){const e=Object(r[\"a\"])(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is(\"element\",\"listItem\")&&e.getAttribute(\"listType\")==this.type}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const n=Object(r[\"a\"])(e.getSelectedBlocks());if(!n){return false}return a(n,t)}}function s(e,t,n){const i=t?e[0]:e[e.length-1];if(i.is(\"element\",\"listItem\")){let r=i[t?\"previousSibling\":\"nextSibling\"];let o=i.getAttribute(\"listIndent\");while(r&&r.is(\"element\",\"listItem\")&&r.getAttribute(\"listIndent\")>=n){if(o>r.getAttribute(\"listIndent\")){o=r.getAttribute(\"listIndent\")}if(r.getAttribute(\"listIndent\")==o){e[t?\"unshift\":\"push\"](r)}r=r[t?\"previousSibling\":\"nextSibling\"]}}}function a(e,t){return t.checkChild(e.parent,\"listItem\")&&!t.isObject(e)}},function(e,t,n){\"use strict\";var i=n(63);var r=n(34);var o=\"[object Arguments]\";function s(e){return Object(r[\"a\"])(e)&&Object(i[\"a\"])(e)==o}var a=s;var c=Object.prototype;var l=c.hasOwnProperty;var d=c.propertyIsEnumerable;var u=a(function(){return arguments}())?a:function(e){return Object(r[\"a\"])(e)&&l.call(e,\"callee\")&&!d.call(e,\"callee\")};var h=t[\"a\"]=u},function(e,t,n){(function(i){t.log=s;t.formatArgs=o;t.save=a;t.load=c;t.useColors=r;t.storage=l();t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"];function r(){if(typeof window!==\"undefined\"&&window.process&&(window.process.type===\"renderer\"||window.process.__nwjs)){return true}if(typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)){return false}return typeof document!==\"undefined\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!==\"undefined\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function o(t){t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff);if(!this.useColors){return}const n=\"color: \"+this.color;t.splice(1,0,n,\"color: inherit\");let i=0;let r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{if(e===\"%%\"){return}i++;if(e===\"%c\"){r=i}});t.splice(r,0,n)}function s(...e){return typeof console===\"object\"&&console.log&&console.log(...e)}function a(e){try{if(e){t.storage.setItem(\"debug\",e)}else{t.storage.removeItem(\"debug\")}}catch(e){}}function c(){let e;try{e=t.storage.getItem(\"debug\")}catch(e){}if(!e&&typeof i!==\"undefined\"&&\"env\"in i){e=i.env.DEBUG}return e}function l(){try{return localStorage}catch(e){}}e.exports=n(369)(t);const{formatters:d}=e.exports;d.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}}).call(this,n(145))},function(e,t){t.encode=function(e){var t=\"\";for(var n in e){if(e.hasOwnProperty(n)){if(t.length)t+=\"&\";t+=encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n])}}return t};t.decode=function(e){var t={};var n=e.split(\"&\");for(var i=0,r=n.length;i<r;i++){var o=n[i].split(\"=\");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},function(e,t,n){(function(i){t.log=s;t.formatArgs=o;t.save=a;t.load=c;t.useColors=r;t.storage=l();t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"];function r(){if(typeof window!==\"undefined\"&&window.process&&(window.process.type===\"renderer\"||window.process.__nwjs)){return true}if(typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)){return false}return typeof document!==\"undefined\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!==\"undefined\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function o(t){t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff);if(!this.useColors){return}const n=\"color: \"+this.color;t.splice(1,0,n,\"color: inherit\");let i=0;let r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{if(e===\"%%\"){return}i++;if(e===\"%c\"){r=i}});t.splice(r,0,n)}function s(...e){return typeof console===\"object\"&&console.log&&console.log(...e)}function a(e){try{if(e){t.storage.setItem(\"debug\",e)}else{t.storage.removeItem(\"debug\")}}catch(e){}}function c(){let e;try{e=t.storage.getItem(\"debug\")}catch(e){}if(!e&&typeof i!==\"undefined\"&&\"env\"in i){e=i.env.DEBUG}return e}function l(){try{return localStorage}catch(e){}}e.exports=n(389)(t);const{formatters:d}=e.exports;d.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}}).call(this,n(145))},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(95);var r=n(273);var o=n(226);class s{constructor(e,t){this._config={};if(t){this.define(a(t))}if(e){this._setObjectToTarget(this._config,e)}}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){const n=true;this._setToTarget(this._config,e,t,n)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config)){yield e}}_setToTarget(e,t,n,r=false){if(Object(i[\"a\"])(t)){this._setObjectToTarget(e,t,r);return}const o=t.split(\".\");t=o.pop();for(const t of o){if(!Object(i[\"a\"])(e[t])){e[t]={}}e=e[t]}if(Object(i[\"a\"])(n)){if(!Object(i[\"a\"])(e[t])){e[t]={}}e=e[t];this._setObjectToTarget(e,n,r);return}if(r&&typeof e[t]!=\"undefined\"){return}e[t]=n}_getFromSource(e,t){const n=t.split(\".\");t=n.pop();for(const t of n){if(!Object(i[\"a\"])(e[t])){e=null;break}e=e[t]}return e?a(e[t]):undefined}_setObjectToTarget(e,t,n){Object.keys(t).forEach(i=>{this._setToTarget(e,i,t[i],n)})}}function a(e){return Object(r[\"a\"])(e,c)}function c(e){return Object(o[\"a\"])(e)?e:undefined}},function(e,t,n){\"use strict\";(function(e){var n=typeof e==\"object\"&&e&&e.Object===Object&&e;t[\"a\"]=n}).call(this,n(143))},function(e,t,n){\"use strict\";function i(e,t){return function(n){return e(t(n))}}t[\"a\"]=i},function(e,t,n){\"use strict\";function i(e,t){var n=-1,i=e.length;t||(t=Array(i));while(++n<i){t[n]=e[n]}return t}t[\"a\"]=i},function(e,t,n){\"use strict\";(function(e){var i=n(37);var r=typeof exports==\"object\"&&exports&&!exports.nodeType&&exports;var o=r&&typeof e==\"object\"&&e&&!e.nodeType&&e;var s=o&&o.exports===r;var a=s?i[\"a\"].Buffer:undefined,c=a?a.allocUnsafe:undefined;function l(e,t){if(t){return e.slice()}var n=e.length,i=c?c(n):new e.constructor(n);e.copy(i);return i}t[\"a\"]=l}).call(this,n(212)(e))},function(e,t,n){\"use strict\";function i(){return[]}t[\"a\"]=i},function(e,t,n){\"use strict\";function i(e,t){var n=-1,i=t.length,r=e.length;while(++n<i){e[r+n]=t[n]}return e}t[\"a\"]=i},function(e,t,n){\"use strict\";var i=9007199254740991;function r(e){return typeof e==\"number\"&&e>-1&&e%1==0&&e<=i}t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(123);function r(e,t){var n=t?Object(i[\"a\"])(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(163);var r=n(42);function o(e,t,n){var o=t(e);return Object(r[\"a\"])(e)?o:Object(i[\"a\"])(o,n(e))}t[\"a\"]=o},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(0);var r=n(13);var o=n(4);class s{constructor(e,t=[],n=[]){this._context=e;this._plugins=new Map;this._availablePlugins=new Map;for(const e of t){if(e.pluginName){this._availablePlugins.set(e.pluginName,e)}}this._contextPlugins=new Map;for(const[e,t]of n){this._contextPlugins.set(e,t);this._contextPlugins.set(t,e);if(e.pluginName){this._availablePlugins.set(e.pluginName,e)}}}*[Symbol.iterator](){for(const e of this._plugins){if(typeof e[0]==\"function\"){yield e}}}get(e){const t=this._plugins.get(e);if(!t){const t=\"plugincollection-plugin-not-loaded: The requested plugin is not loaded.\";let n=e;if(typeof e==\"function\"){n=e.pluginName||e.name}throw new i[\"b\"](t,this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[]){const n=this;const r=this._context;const o=new Set;const s=[];const a=g(e);const c=g(t);const l=m(e);if(l){const e=\"plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.\";console.error(Object(i[\"a\"])(e),{plugins:l});return Promise.reject(new i[\"b\"](e,r,{plugins:l}))}return Promise.all(a.map(d)).then(()=>u(s,\"init\")).then(()=>u(s,\"afterInit\")).then(()=>s);function d(e){if(c.includes(e)){return}if(n._plugins.has(e)||o.has(e)){return}return h(e).catch(t=>{console.error(Object(i[\"a\"])(\"plugincollection-load: It was not possible to load the plugin.\"),{plugin:e});throw t})}function u(e,t){return e.reduce((e,i)=>{if(!i[t]){return e}if(n._contextPlugins.has(i)){return e}return e.then(i[t].bind(i))},Promise.resolve())}function h(e){return new Promise(a=>{o.add(e);if(e.requires){e.requires.forEach(n=>{const o=f(n);if(e.isContextPlugin&&!o.isContextPlugin){throw new i[\"b\"](\"plugincollection-context-required: Context plugin can not require plugin which is not a context plugin\",null,{plugin:o.name,requiredBy:e.name})}if(t.includes(o)){throw new i[\"b\"](\"plugincollection-required: Cannot load a plugin because one of its dependencies is listed in\"+\"the `removePlugins` option.\",r,{plugin:o.name,requiredBy:e.name})}d(o)})}const c=n._contextPlugins.get(e)||new e(r);n._add(e,c);s.push(c);a()})}function f(e){if(typeof e==\"function\"){return e}return n._availablePlugins.get(e)}function m(e){const t=[];for(const n of e){if(!f(n)){t.push(n)}}return t.length?t:null}function g(e){return e.map(e=>f(e)).filter(e=>!!e)}}destroy(){const e=[];for(const[,t]of this){if(typeof t.destroy==\"function\"&&!this._contextPlugins.has(t)){e.push(t.destroy())}}return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(!n){return}if(this._plugins.has(n)){throw new i[\"b\"](\"plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.\",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e})}this._plugins.set(n,t)}}Object(o[\"a\"])(s,r[\"c\"])},function(e,t,n){\"use strict\";var i=n(133);var r=n(125);function o(e,t){t=Object(i[\"a\"])(t,e);var n=0,o=t.length;while(e!=null&&n<o){e=e[Object(r[\"a\"])(t[n++])]}return n&&n==o?e:undefined}t[\"a\"]=o},function(e,t,n){\"use strict\";function i(e,t,n){var i=-1,r=e.length;if(t<0){t=-t>r?0:r+t}n=n>r?r:n;if(n<0){n+=r}r=t>n?0:n-t>>>0;t>>>=0;var o=Array(r);while(++i<r){o[i]=e[i+t]}return o}t[\"a\"]=i},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(62);var r=n(4);var o=n(13);class s{constructor(e=null,t,n){this._selection=new i[\"a\"];this._selection.delegate(\"change\").to(this);this._selection.setTo(e,t,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return e===\"selection\"||e==\"documentSelection\"||e==\"view:selection\"||e==\"view:documentSelection\"}_setTo(e,t,n){this._selection.setTo(e,t,n)}_setFocus(e,t){this._selection.setFocus(e,t)}}Object(r[\"a\"])(s,o[\"c\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e,t,n,i=false){n=n||function(e,t){return e===t};if(!Array.isArray(e)){e=Array.prototype.slice.call(e)}if(!Array.isArray(t)){t=Array.prototype.slice.call(t)}const o=r(e,t,n);return i?c(o,t.length):a(t,o)}function r(e,t,n){const i=o(e,t,n);if(i===-1){return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1}}const r=s(e,i);const a=s(t,i);const c=o(r,a,n);const l=e.length-c;const d=t.length-c;return{firstIndex:i,lastIndexOld:l,lastIndexNew:d}}function o(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++){if(e[i]===undefined||t[i]===undefined||!n(e[i],t[i])){return i}}return-1}function s(e,t){return e.slice(t).reverse()}function a(e,t){const n=[];const{firstIndex:i,lastIndexOld:r,lastIndexNew:o}=t;if(o-i>0){n.push({index:i,type:\"insert\",values:e.slice(i,o)})}if(r-i>0){n.push({index:i+(o-i),type:\"delete\",howMany:r-i})}return n}function c(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=e;if(n===-1){return Array(t).fill(\"equal\")}let o=[];if(n>0){o=o.concat(Array(n).fill(\"equal\"))}if(r-n>0){o=o.concat(Array(r-n).fill(\"insert\"))}if(i-n>0){o=o.concat(Array(i-n).fill(\"delete\"))}if(r<t){o=o.concat(Array(t-r).fill(\"equal\"))}return o}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function i(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));var i=n(45);var r=n(44);var o=n(66);var s=n(22);var a=n(54);var c=n(36);var l=n(71);var d=n(105);var u=n(25);var h=n(33);const f={};f[i[\"a\"].className]=i[\"a\"];f[r[\"a\"].className]=r[\"a\"];f[o[\"a\"].className]=o[\"a\"];f[s[\"a\"].className]=s[\"a\"];f[a[\"a\"].className]=a[\"a\"];f[c[\"a\"].className]=c[\"a\"];f[l[\"a\"].className]=l[\"a\"];f[d[\"a\"].className]=d[\"a\"];f[u[\"a\"].className]=u[\"a\"];f[h[\"a\"].className]=h[\"a\"];class m{static fromJSON(e,t){return f[e.__className].fromJSON(e,t)}}},function(e,t,n){\"use strict\";const i={setData(e){this.data.set(e)},getData(e){return this.data.get(e)}};t[\"a\"]=i},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));class i{getHtml(e){const t=document.implementation.createHTMLDocument(\"\");const n=t.createElement(\"div\");n.appendChild(e);return n.innerHTML}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(3);var r=n(128);var o=n(279);var s=n.n(o);class a extends i[\"a\"]{constructor(e){super(e);this.body=new r[\"a\"](e)}render(){super.render();this.body.attachToDom()}destroy(){this.body.detachFromDom();return super.destroy()}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));class i{constructor(e,t=20){this.model=e;this.size=0;this.limit=t;this.isLocked=false;this._changeCallback=(e,t)=>{if(t.type!=\"transparent\"&&t!==this._batch){this._reset(true)}};this._selectionChangeCallback=()=>{this._reset()};this.model.document.on(\"change\",this._changeCallback);this.model.document.selection.on(\"change:range\",this._selectionChangeCallback);this.model.document.selection.on(\"change:attribute\",this._selectionChangeCallback)}get batch(){if(!this._batch){this._batch=this.model.createBatch()}return this._batch}input(e){this.size+=e;if(this.size>=this.limit){this._reset(true)}}lock(){this.isLocked=true}unlock(){this.isLocked=false}destroy(){this.model.document.off(\"change\",this._changeCallback);this.model.document.selection.off(\"change:range\",this._selectionChangeCallback);this.model.document.selection.off(\"change:attribute\",this._selectionChangeCallback)}_reset(e){if(!this.isLocked||e){this._batch=null;this.size=0}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));n.d(t,\"b\",(function(){return a}));var i=n(10);var r=n(38);function o(e){let t=null;const n=e.model;const i=e.editing.view;const o=e.commands.get(\"input\");if(r[\"a\"].isAndroid){i.document.on(\"beforeinput\",(e,t)=>s(t),{priority:\"lowest\"})}else{i.document.on(\"keydown\",(e,t)=>s(t),{priority:\"lowest\"})}i.document.on(\"compositionstart\",c,{priority:\"lowest\"});i.document.on(\"compositionend\",()=>{t=n.createSelection(n.document.selection)},{priority:\"lowest\"});function s(e){const r=n.document;const s=i.document.isComposing;const c=t&&t.isEqual(r.selection);t=null;if(!o.isEnabled){return}if(a(e)||r.selection.isCollapsed){return}if(s&&e.keyCode===229){return}if(!s&&e.keyCode===229&&c){return}l()}function c(){const e=n.document;const t=e.selection.rangeCount===1?e.selection.getFirstRange().isFlat:true;if(e.selection.isCollapsed||t){return}l()}function l(){const e=o.buffer;e.lock();const t=e.batch;o._batches.add(t);n.enqueueChange(t,()=>{n.deleteContent(n.document.selection)});e.unlock()}}const s=[Object(i[\"a\"])(\"arrowUp\"),Object(i[\"a\"])(\"arrowRight\"),Object(i[\"a\"])(\"arrowDown\"),Object(i[\"a\"])(\"arrowLeft\"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let e=112;e<=135;e++){s.push(e)}function a(e){if(e.ctrlKey){return true}return s.includes(e.keyCode)}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));function*i(e,t){for(const n of t){if(n&&e.getAttributeProperties(n[0]).copyOnEnter){yield n}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(67);var r=n(127);var o=n(10);class s extends i[\"a\"]{constructor(e){super(e);const t=this.document;t.on(\"keydown\",(e,n)=>{if(this.isEnabled&&n.keyCode==o[\"f\"].enter){let i;t.once(\"enter\",e=>i=e,{priority:\"highest\"});t.fire(\"enter\",new r[\"a\"](t,n.domEvent,{isSoft:n.shiftKey}));if(i&&i.stop.called){e.stop()}}})}observe(){}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(1);var r=n(132);var o=n(202);class s extends i[\"a\"]{static get requires(){return[r[\"a\"],o[\"a\"]]}static get pluginName(){return\"Typing\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return v}));var i=n(44);var r=n(45);var o=n(71);var s=n(66);var a=n(22);var c=n(105);var l=n(33);var d=n(25);var u=n(54);var h=n(2);var f=n(5);var m=n(40);const g=new Map;function p(e,t,n){let i=g.get(e);if(!i){i=new Map;g.set(e,i)}i.set(t,n)}function b(e,t){const n=g.get(e);if(n&&n.has(t)){return n.get(t)}return _}function _(e){return[e]}function w(e,t,n={}){const i=b(e.constructor,t.constructor);try{e=e.clone();return i(e,t,n)}catch(e){throw e}}function v(e,t,n){e=e.slice();t=t.slice();const i=new k(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e);i.setOriginalOperations(t);const r=i.originalOperations;if(e.length==0||t.length==0){return{operationsA:e,operationsB:t,originalOperations:r}}const o=new WeakMap;for(const t of e){o.set(t,0)}const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;while(a<e.length){const n=e[a];const r=o.get(n);if(r==t.length){a++;continue}const s=t[r];const c=w(n,s,i.getContext(n,s,true));const l=w(s,n,i.getContext(s,n,false));i.updateRelation(n,s);i.setOriginalOperations(c,n);i.setOriginalOperations(l,s);for(const e of c){o.set(e,r+l.length)}e.splice(a,1,...c);t.splice(r,1,...l)}if(n.padWithNoOps){const n=e.length-s.originalOperationsACount;const i=t.length-s.originalOperationsBCount;y(e,i-n);y(t,n-i)}x(e,s.nextBaseVersionB);x(t,s.nextBaseVersionA);return{operationsA:e,operationsB:t,originalOperations:r}}class k{constructor(e,t,n=false){this.originalOperations=new Map;this._history=e.history;this._useRelations=t;this._forceWeakRemove=!!n;this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const t of e){this.originalOperations.set(t,n||t)}}updateRelation(e,t){switch(e.constructor){case a[\"a\"]:{switch(t.constructor){case l[\"a\"]:{if(e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)){this._setRelation(e,t,\"insertAtSource\")}else if(e.targetPosition.isEqual(t.deletionPosition)){this._setRelation(e,t,\"insertBetween\")}else if(e.targetPosition.isAfter(t.sourcePosition)){this._setRelation(e,t,\"moveTargetAfter\")}break}case a[\"a\"]:{if(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,\"insertBefore\")}else{this._setRelation(e,t,\"insertAfter\")}break}}break}case d[\"a\"]:{switch(t.constructor){case l[\"a\"]:{if(e.splitPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,\"splitBefore\")}break}case a[\"a\"]:{if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,\"splitBefore\")}break}}break}case l[\"a\"]:{switch(t.constructor){case l[\"a\"]:{if(!e.targetPosition.isEqual(t.sourcePosition)){this._setRelation(e,t,\"mergeTargetNotMoved\")}if(e.sourcePosition.isEqual(t.targetPosition)){this._setRelation(e,t,\"mergeSourceNotMoved\")}if(e.sourcePosition.isEqual(t.sourcePosition)){this._setRelation(e,t,\"mergeSameElement\")}break}case d[\"a\"]:{if(e.sourcePosition.isEqual(t.splitPosition)){this._setRelation(e,t,\"splitAtSource\")}}}break}case s[\"a\"]:{const n=e.newRange;if(!n){return}switch(t.constructor){case a[\"a\"]:{const i=h[\"a\"]._createFromPositionAndShift(t.sourcePosition,t.howMany);const r=i.containsPosition(n.start)||i.start.isEqual(n.start);const o=i.containsPosition(n.end)||i.end.isEqual(n.end);if((r||o)&&!i.containsRange(n)){this._setRelation(e,t,{side:r?\"left\":\"right\",path:r?n.start.path.slice():n.end.path.slice()})}break}case l[\"a\"]:{const i=n.start.isEqual(t.targetPosition);const r=n.start.isEqual(t.deletionPosition);const o=n.end.isEqual(t.deletionPosition);const s=n.end.isEqual(t.sourcePosition);if(i||r||o||s){this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:s})}break}}break}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t);const i=this._history.getUndoneOperation(n);if(!i){return null}const r=this.originalOperations.get(e);const o=this._relations.get(r);if(o){return o.get(i)||null}return null}_setRelation(e,t,n){const i=this.originalOperations.get(e);const r=this.originalOperations.get(t);let o=this._relations.get(i);if(!o){o=new Map;this._relations.set(i,o)}o.set(r,n)}}function x(e,t){for(const n of e){n.baseVersion=t++}}function y(e,t){for(let n=0;n<t;n++){e.push(new u[\"a\"](0))}}p(r[\"a\"],r[\"a\"],(e,t,n)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const i=e.range.getDifference(t.range).map(t=>new r[\"a\"](t,e.key,e.oldValue,e.newValue,0));const o=e.range.getIntersection(t.range);if(o){if(n.aIsStrong){i.push(new r[\"a\"](o,t.key,t.newValue,e.newValue,0))}}if(i.length==0){return[new u[\"a\"](0)]}return i}else{return[e]}});p(r[\"a\"],i[\"a\"],(e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes);const i=n.map(t=>new r[\"a\"](t,e.key,e.oldValue,e.newValue,e.baseVersion));if(t.shouldReceiveAttributes){const n=C(t,e.key,e.oldValue);if(n){i.unshift(n)}}return i}e.range=e.range._getTransformedByInsertion(t.position,t.howMany,false)[0];return[e]});function C(e,t,n){const i=e.nodes;const o=i.getNode(0).getAttribute(t);if(o==n){return null}const s=new h[\"a\"](e.position,e.position.getShiftedBy(e.howMany));return new r[\"a\"](s,t,o,n,0)}p(r[\"a\"],l[\"a\"],(e,t)=>{const n=[];if(e.range.start.hasSameParentAs(t.deletionPosition)){if(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition)){n.push(h[\"a\"]._createFromPositionAndShift(t.graveyardPosition,1))}}const i=e.range._getTransformedByMergeOperation(t);if(!i.isCollapsed){n.push(i)}return n.map(t=>new r[\"a\"](t,e.key,e.oldValue,e.newValue,e.baseVersion))});p(r[\"a\"],a[\"a\"],(e,t)=>{const n=A(e.range,t);return n.map(t=>new r[\"a\"](t,e.key,e.oldValue,e.newValue,e.baseVersion))});function A(e,t){const n=h[\"a\"]._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null;let r=[];if(n.containsRange(e,true)){i=e}else if(e.start.hasSameParentAs(n.start)){r=e.getDifference(n);i=e.getIntersection(n)}else{r=[e]}const o=[];for(let e of r){e=e._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=t.getMovedRangeStart();const i=e.start.hasSameParentAs(n);e=e._getTransformedByInsertion(n,t.howMany,i);o.push(...e)}if(i){o.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,false)[0])}return o}p(r[\"a\"],d[\"a\"],(e,t)=>{if(e.range.end.isEqual(t.insertionPosition)){if(!t.graveyardPosition){e.range.end.offset++}return[e]}if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();n.range=new h[\"a\"](t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition));e.range.end=t.splitPosition.clone();e.range.end.stickiness=\"toPrevious\";return[e,n]}e.range=e.range._getTransformedBySplitOperation(t);return[e]});p(i[\"a\"],r[\"a\"],(e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const i=C(e,t.key,t.newValue);if(i){n.push(i)}}return n});p(i[\"a\"],i[\"a\"],(e,t,n)=>{if(e.position.isEqual(t.position)&&n.aIsStrong){return[e]}e.position=e.position._getTransformedByInsertOperation(t);return[e]});p(i[\"a\"],a[\"a\"],(e,t)=>{e.position=e.position._getTransformedByMoveOperation(t);return[e]});p(i[\"a\"],d[\"a\"],(e,t)=>{e.position=e.position._getTransformedBySplitOperation(t);return[e]});p(i[\"a\"],l[\"a\"],(e,t)=>{e.position=e.position._getTransformedByMergeOperation(t);return[e]});p(s[\"a\"],i[\"a\"],(e,t)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]}if(e.newRange){e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]}return[e]});p(s[\"a\"],s[\"a\"],(e,t,n)=>{if(e.name==t.name){if(n.aIsStrong){e.oldRange=t.newRange?t.newRange.clone():null}else{return[new u[\"a\"](0)]}}return[e]});p(s[\"a\"],l[\"a\"],(e,t)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedByMergeOperation(t)}if(e.newRange){e.newRange=e.newRange._getTransformedByMergeOperation(t)}return[e]});p(s[\"a\"],a[\"a\"],(e,t,n)=>{if(e.oldRange){e.oldRange=h[\"a\"]._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))}if(e.newRange){if(n.abRelation){const i=h[\"a\"]._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if(n.abRelation.side==\"left\"&&t.targetPosition.isEqual(e.newRange.start)){e.newRange.start.path=n.abRelation.path;e.newRange.end=i.end;return[e]}else if(n.abRelation.side==\"right\"&&t.targetPosition.isEqual(e.newRange.end)){e.newRange.start=i.start;e.newRange.end.path=n.abRelation.path;return[e]}}e.newRange=h[\"a\"]._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]});p(s[\"a\"],d[\"a\"],(e,t,n)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedBySplitOperation(t)}if(e.newRange){if(n.abRelation){const i=e.newRange._getTransformedBySplitOperation(t);if(e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement){e.newRange.start=f[\"a\"]._createAt(t.insertionPosition)}else if(e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement){e.newRange.start=f[\"a\"]._createAt(t.moveTargetPosition)}if(e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement){e.newRange.end=f[\"a\"]._createAt(t.moveTargetPosition)}else if(e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement){e.newRange.end=f[\"a\"]._createAt(t.insertionPosition)}else{e.newRange.end=i.end}return[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]});p(l[\"a\"],i[\"a\"],(e,t)=>{if(e.sourcePosition.hasSameParentAs(t.position)){e.howMany+=t.howMany}e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t);e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t);return[e]});p(l[\"a\"],l[\"a\"],(e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(!n.bWasUndone){return[new u[\"a\"](0)]}else{const n=t.graveyardPosition.path.slice();n.push(0);e.sourcePosition=new f[\"a\"](t.graveyardPosition.root,n);e.howMany=0;return[e]}}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&n.abRelation!=\"splitAtSource\"){const i=e.targetPosition.root.rootName==\"$graveyard\";const r=t.targetPosition.root.rootName==\"$graveyard\";const o=i&&!r;const s=r&&!i;const c=s||!o&&n.aIsStrong;if(c){const n=t.targetPosition._getTransformedByMergeOperation(t);const i=e.targetPosition._getTransformedByMergeOperation(t);return[new a[\"a\"](n,e.howMany,i,0)]}else{return[new u[\"a\"](0)]}}if(e.sourcePosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany}e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t);e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);if(!e.graveyardPosition.isEqual(t.graveyardPosition)||!n.aIsStrong){e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)}return[e]});p(l[\"a\"],a[\"a\"],(e,t,n)=>{const i=h[\"a\"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(t.type==\"remove\"&&!n.bWasUndone&&!n.forceWeakRemove){if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)){return[new u[\"a\"](0)]}}if(e.sourcePosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany}if(e.sourcePosition.hasSameParentAs(t.sourcePosition)){e.howMany-=t.howMany}e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t);e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t);if(!e.graveyardPosition.isEqual(t.targetPosition)){e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}return[e]});p(l[\"a\"],d[\"a\"],(e,t,n)=>{if(t.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1);if(e.deletionPosition.isEqual(t.graveyardPosition)){e.howMany=t.howMany}}if(e.targetPosition.isEqual(t.splitPosition)){const i=t.howMany!=0;const r=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||r||n.abRelation==\"mergeTargetNotMoved\"){e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t);return[e]}}if(e.sourcePosition.isEqual(t.splitPosition)){if(n.abRelation==\"mergeSourceNotMoved\"){e.howMany=0;e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return[e]}if(n.abRelation==\"mergeSameElement\"||e.sourcePosition.offset>0){e.sourcePosition=t.moveTargetPosition.clone();e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return[e]}}if(e.sourcePosition.hasSameParentAs(t.splitPosition)){e.howMany=t.splitPosition.offset}e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t);e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return[e]});p(a[\"a\"],i[\"a\"],(e,t)=>{const n=h[\"a\"]._createFromPositionAndShift(e.sourcePosition,e.howMany);const i=n._getTransformedByInsertOperation(t,false)[0];e.sourcePosition=i.start;e.howMany=i.end.offset-i.start.offset;if(!e.targetPosition.isEqual(t.position)){e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)}return[e]});p(a[\"a\"],a[\"a\"],(e,t,n)=>{const i=h[\"a\"]._createFromPositionAndShift(e.sourcePosition,e.howMany);const r=h[\"a\"]._createFromPositionAndShift(t.sourcePosition,t.howMany);let o=n.aIsStrong;let s=!n.aIsStrong;if(n.abRelation==\"insertBefore\"||n.baRelation==\"insertAfter\"){s=true}else if(n.abRelation==\"insertAfter\"||n.baRelation==\"insertBefore\"){s=false}let a;if(e.targetPosition.isEqual(t.targetPosition)&&s){a=e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}else{a=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}if(T(e,t)&&T(t,e)){return[t.getReversed()]}const c=i.containsPosition(t.targetPosition);if(c&&i.containsRange(r,true)){i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);return E([i],a)}const l=r.containsPosition(e.targetPosition);if(l&&r.containsRange(i,true)){i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart());i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart());return E([i],a)}const d=Object(m[\"a\"])(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(d==\"prefix\"||d==\"extension\"){i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);return E([i],a)}if(e.type==\"remove\"&&t.type!=\"remove\"&&!n.aWasUndone&&!n.forceWeakRemove){o=true}else if(e.type!=\"remove\"&&t.type==\"remove\"&&!n.bWasUndone&&!n.forceWeakRemove){o=false}const f=[];const g=i.getDifference(r);for(const e of g){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany);e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const n=Object(m[\"a\"])(e.start.getParentPath(),t.getMovedRangeStart().getParentPath())==\"same\";const i=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,n);f.push(...i)}const p=i.getIntersection(r);if(p!==null&&o){p.start=p.start._getCombined(t.sourcePosition,t.getMovedRangeStart());p.end=p.end._getCombined(t.sourcePosition,t.getMovedRangeStart());if(f.length===0){f.push(p)}else if(f.length==1){if(r.start.isBefore(i.start)||r.start.isEqual(i.start)){f.unshift(p)}else{f.push(p)}}else{f.splice(1,0,p)}}if(f.length===0){return[new u[\"a\"](e.baseVersion)]}return E(f,a)});p(a[\"a\"],d[\"a\"],(e,t,n)=>{let i=e.targetPosition.clone();if(!e.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||n.abRelation==\"moveTargetAfter\"){i=e.targetPosition._getTransformedBySplitOperation(t)}const r=h[\"a\"]._createFromPositionAndShift(e.sourcePosition,e.howMany);if(r.end.isEqual(t.insertionPosition)){if(!t.graveyardPosition){e.howMany++}e.targetPosition=i;return[e]}if(r.start.hasSameParentAs(t.splitPosition)&&r.containsPosition(t.splitPosition)){let e=new h[\"a\"](t.splitPosition,r.end);e=e._getTransformedBySplitOperation(t);const n=[new h[\"a\"](r.start,t.splitPosition),e];return E(n,i)}if(e.targetPosition.isEqual(t.splitPosition)&&n.abRelation==\"insertAtSource\"){i=t.moveTargetPosition}if(e.targetPosition.isEqual(t.insertionPosition)&&n.abRelation==\"insertBetween\"){i=e.targetPosition}const o=r._getTransformedBySplitOperation(t);const s=[o];if(t.graveyardPosition){const i=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(e.howMany>1&&i&&!n.aWasUndone){s.push(h[\"a\"]._createFromPositionAndShift(t.insertionPosition,1))}}return E(s,i)});p(a[\"a\"],l[\"a\"],(e,t,n)=>{const i=h[\"a\"]._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)){if(e.type==\"remove\"&&!n.forceWeakRemove){if(!n.aWasUndone){const n=[];let i=t.graveyardPosition.clone();let r=t.targetPosition._getTransformedByMergeOperation(t);if(e.howMany>1){n.push(new a[\"a\"](e.sourcePosition,e.howMany-1,e.targetPosition,0));i=i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1);r=r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1)}const o=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition);const s=new a[\"a\"](i,1,o,0);const c=s.getMovedRangeStart().path.slice();c.push(0);const l=new f[\"a\"](s.targetPosition.root,c);r=r._getTransformedByMove(i,o,1);const d=new a[\"a\"](r,t.howMany,l,0);n.push(s);n.push(d);return n}}else{if(e.howMany==1){if(!n.bWasUndone){return[new u[\"a\"](0)]}else{e.sourcePosition=t.graveyardPosition.clone();e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);return[e]}}}}const r=h[\"a\"]._createFromPositionAndShift(e.sourcePosition,e.howMany);const o=r._getTransformedByMergeOperation(t);e.sourcePosition=o.start;e.howMany=o.end.offset-o.start.offset;e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);return[e]});p(o[\"a\"],i[\"a\"],(e,t)=>{e.position=e.position._getTransformedByInsertOperation(t);return[e]});p(o[\"a\"],l[\"a\"],(e,t)=>{if(e.position.isEqual(t.deletionPosition)){e.position=t.graveyardPosition.clone();e.position.stickiness=\"toNext\";return[e]}e.position=e.position._getTransformedByMergeOperation(t);return[e]});p(o[\"a\"],a[\"a\"],(e,t)=>{e.position=e.position._getTransformedByMoveOperation(t);return[e]});p(o[\"a\"],o[\"a\"],(e,t,n)=>{if(e.position.isEqual(t.position)){if(n.aIsStrong){e.oldName=t.newName}else{return[new u[\"a\"](0)]}}return[e]});p(o[\"a\"],d[\"a\"],(e,t)=>{const n=e.position.path;const i=t.splitPosition.getParentPath();if(Object(m[\"a\"])(n,i)==\"same\"&&!t.graveyardPosition){const t=new o[\"a\"](e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}e.position=e.position._getTransformedBySplitOperation(t);return[e]});p(c[\"a\"],c[\"a\"],(e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue){return[new u[\"a\"](0)]}else{e.oldValue=t.newValue}}return[e]});p(d[\"a\"],i[\"a\"],(e,t)=>{if(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset){e.howMany+=t.howMany}e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t);e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition);return[e]});p(d[\"a\"],l[\"a\"],(e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const i=new f[\"a\"](t.graveyardPosition.root,n);const r=d[\"a\"].getInsertionPosition(new f[\"a\"](t.graveyardPosition.root,n));const o=new d[\"a\"](i,0,null,0);o.insertionPosition=r;e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t);e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition);e.graveyardPosition=o.insertionPosition.clone();e.graveyardPosition.stickiness=\"toNext\";return[o,e]}if(e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)){e.howMany--}if(e.splitPosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany}e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t);e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition);if(e.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)}return[e]});p(d[\"a\"],a[\"a\"],(e,t,n)=>{const i=h[\"a\"]._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const r=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&r){const n=e.splitPosition._getTransformedByMoveOperation(t);const i=e.graveyardPosition._getTransformedByMoveOperation(t);const r=i.path.slice();r.push(0);const o=new f[\"a\"](i.root,r);const s=new a[\"a\"](n,e.howMany,o,0);return[s]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);e.howMany-=n;if(e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset){e.howMany+=t.howMany}e.splitPosition=t.sourcePosition.clone();e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition);return[e]}const r=e.splitPosition.isEqual(t.targetPosition);if(r&&(n.baRelation==\"insertAtSource\"||n.abRelation==\"splitBefore\")){e.howMany+=t.howMany;e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany);e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition);return[e]}if(!t.sourcePosition.isEqual(t.targetPosition)){if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset){e.howMany-=t.howMany}if(e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset){e.howMany+=t.howMany}}e.splitPosition.stickiness=\"toNone\";e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t);e.splitPosition.stickiness=\"toNext\";if(e.graveyardPosition){e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t)}else{e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition)}return[e]});p(d[\"a\"],d[\"a\"],(e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition){return[new u[\"a\"](0)]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){return[new u[\"a\"](0)]}if(n.abRelation==\"splitBefore\"){e.howMany=0;e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t);return[e]}}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const i=e.splitPosition.root.rootName==\"$graveyard\";const r=t.splitPosition.root.rootName==\"$graveyard\";const o=i&&!r;const s=r&&!i;const c=s||!o&&n.aIsStrong;if(c){const n=[];if(t.howMany){n.push(new a[\"a\"](t.moveTargetPosition,t.howMany,t.splitPosition,0))}if(e.howMany){n.push(new a[\"a\"](e.splitPosition,e.howMany,e.moveTargetPosition,0))}return n}else{return[new u[\"a\"](0)]}}if(e.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)}if(e.splitPosition.isEqual(t.insertionPosition)&&n.abRelation==\"splitBefore\"){e.howMany++;return[e]}if(t.splitPosition.isEqual(e.insertionPosition)&&n.baRelation==\"splitBefore\"){const n=t.insertionPosition.path.slice();n.push(0);const i=new f[\"a\"](t.insertionPosition.root,n);const r=new a[\"a\"](e.insertionPosition,1,i,0);return[e,r]}if(e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset){e.howMany-=t.howMany}e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t);e.insertionPosition=d[\"a\"].getInsertionPosition(e.splitPosition);return[e]});function T(e,t){return e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function E(e,t){const n=[];for(let i=0;i<e.length;i++){const r=e[i];const o=new a[\"a\"](r.start,r.end.offset-r.start.offset,t,0);n.push(o);for(let t=i+1;t<e.length;t++){e[t]=e[t]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0]}t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}},function(e,t,n){\"use strict\";t[\"a\"]='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z\"/></svg>'},function(e,t,n){\"use strict\";e.exports=n(398)},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var i=n(489);const r=[\"class\",\"disconnect\",\"type\",\"childList\",\"attributes\",\"cancel\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(r,275);const o=function(e,t){e=e-0;let n=r[e];return n};function s(e){const t=Object(i[\"a\"])(e,30),n=new MutationObserver(e=>{for(const n of e)(o(\"0x5\")==n[o(\"0x3\")]&&o(\"0x1\")==n[\"attributeName\"]||o(\"0x4\")==n[o(\"0x3\")])&&t()});return{attach(e){n[\"observe\"](e,{attributes:!0,childList:!0,subtree:!0})},detach(){n[o(\"0x2\")](),t[o(\"0x0\")]()}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var i=n(11);var r=n(4);var o=[\"_isAttached\",\"updateComment\",\"remove\",\"model\",\"removeCommentThread\",\"view\",\"removeComment\",\"update\",\"getComment\",\"_localUser\",\"listenTo\",\"addComment\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(o,375);var s=function(e,t){e=e-0;var n=o[e];return n};class a{constructor(e,t){this[s(\"0x0\")]=e,this[s(\"0x0\")][s(\"0x9\")]=!0,this[s(\"0x2\")]=t,this[s(\"0x7\")](t,s(\"0x1\"),()=>this[s(\"0xb\")]()),this[s(\"0x7\")](t,s(\"0x8\"),(e,t)=>this[\"addComment\"](t)),this[s(\"0x7\")](t,s(\"0xa\"),(e,t,n)=>this[s(\"0xa\")](t,n)),this[s(\"0x7\")](t,s(\"0x3\"),(e,t)=>this[s(\"0x3\")](t))}[\"remove\"](){this[s(\"0x0\")][s(\"0xb\")]()}[s(\"0x8\")](e){this[\"model\"][s(\"0x8\")]({content:e,authorId:this[s(\"0x2\")][s(\"0x6\")][\"id\"]})}[s(\"0xa\")](e,t){this[s(\"0x0\")][s(\"0x5\")](e)[s(\"0x4\")]({content:t})}[s(\"0x3\")](e){this[\"model\"][s(\"0x5\")](e)[\"remove\"]()}[\"destroy\"](){this[\"stopListening\"](),this[\"model\"][s(\"0x9\")]=!1}}Object(r[\"a\"])(a,i[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(267);var r=n.n(i);var o=n(224);var s=n.n(o);var a=n(0);const c=[\"[Last] dddd hh:mmA\",\"[Today] hh:mmA\",\"dateTimeFormat\",\"MM-DD-YYYY hh:mmA\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(c,412);const l=function(e,t){e=e-0;let n=c[e];return n};function d(e={}){if(void 0!==e[l(\"0x2\")]&&\"function\"!=typeof e[l(\"0x2\")])throw new a[\"b\"](\"invalid-date-time-format: Date format must be a function.\");return t=>{const n=new Date,i=s()(n,t);return e[l(\"0x2\")]?e[l(\"0x2\")](t):r()(t,0===i?l(\"0x1\"):1===i?\"[Yesterday] hh:mmA\":i<7?l(\"0x0\"):l(\"0x3\"))}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var i=n(3);var r=n(199);var o=n(82);var s=[\"ck-thread__user\",\"showButtons\",\"bindTemplate\",\"div\",\"showInput\",\"then\",\"bind\",\"ck-thread__input\",\"focusTracker\",\"extendTemplate\",\"userView\",\"commentInputView\",\"set\",\"ck-comment__input-container\",\"destroy\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(s,185);var a=function(e,t){e=e-0;var n=s[e];return n};class c extends i[\"a\"]{constructor(e,t,n){super(e),this[a(\"0x6\")]=new r[\"a\"](e,n),this[a(\"0x6\")][a(\"0x1\")](a(\"0xb\"))[\"to\"](this[a(\"0x6\")][a(\"0x3\")],\"isFocused\",this[a(\"0x6\")],\"value\",(e,t)=>e||!!t),this[a(\"0x7\")](a(\"0xe\"),!1),this[a(\"0x5\")]=new o[\"a\"](e,t),this[\"userView\"][a(\"0x4\")]({attributes:{class:a(\"0xa\")}}),this[a(\"0x6\")][a(\"0x4\")]({attributes:{class:a(\"0x2\")}}),this[\"setTemplate\"]({tag:a(\"0xd\"),attributes:{class:[a(\"0x8\"),this[a(\"0xc\")][\"if\"](a(\"0xe\"),\"ck-comment__input-container--active\")]},children:[this[a(\"0x5\")],this[a(\"0x6\")]]})}[a(\"0x9\")](){this[a(\"0x6\")][a(\"0x9\")]()[a(\"0x0\")](()=>super[a(\"0x9\")]())}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));const i=[\"startsWith\",\"replace\",\"join\",\"length\",\"match\",\"pop\",\"push\",\"slice\",\"indexOf\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(i,250);const r=function(e,t){e=e-0;let n=i[e];return n};function o(e,{limit:t,suffix:n=\"...\"}){const i=[];let o=0;const a=e[r(\"0x3\")](/</g,\"\\n<\")[r(\"0x3\")](/>/g,\">\\n\")[r(\"0x3\")](/^\\n/g,\"\")[r(\"0x3\")](/\\n$/g,\"\")[\"split\"](\"\\n\");for(let e=0;e<a[r(\"0x5\")];e++){let c=a[e];const l=s(c);if(c[r(\"0x2\")](\"<\")){if(o>=t){const e=c[r(\"0x6\")](/[a-zA-Z]+/)[0];c[r(\"0x2\")](\"</\")?(i[r(\"0x5\")]&&(c=\"\"),i[r(\"0x7\")]()):(i[r(\"0x8\")](e),c=\"\")}}else if(o>=t)c=\"\";else if(o+l[r(\"0x5\")]>=t){let e=t-o;if(\" \"===l[e-1])e--;else{const t=l[r(\"0x0\")](e)[r(\"0x1\")](\" \");-1!==t?e+=t:e=c[r(\"0x5\")]}c=l[r(\"0x0\")](0,e)[\"join\"](\"\")+n,o=t}else o+=l[r(\"0x5\")];a[e]=c}return a[r(\"0x4\")](\"\\n\")[\"replace\"](/\\n/g,\"\")}function s(e){const t=[];for(let n=0;n<e[r(\"0x5\")];n++){const i=e[\"substring\"](n)[r(\"0x6\")](/^&[a-z0-9#]+;/);if(i){const e=i[0];t[r(\"0x8\")](e),n+=e[\"length\"]-1}else t[r(\"0x8\")](e[n])}return t}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return ar}));var i=n(107);var r=n(157);var o=n(124);const s=Symbol(\"rootName\");class a extends o[\"a\"]{constructor(e,t){super(e,t);this.rootName=\"main\"}is(e,t=null){if(!t){return e===\"rootElement\"||e===\"view:rootElement\"||e===\"editableElement\"||e===\"view:editableElement\"||e===\"containerElement\"||e===\"view:containerElement\"||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"rootElement\"||e===\"view:rootElement\"||e===\"editableElement\"||e===\"view:editableElement\"||e===\"containerElement\"||e===\"view:containerElement\"||e===\"element\"||e===\"view:element\")}}get rootName(){return this.getCustomProperty(s)}set rootName(e){this._setCustomProperty(s,e)}set _name(e){this.name=e}}var c=n(126);var l=n(8);var d=n(15);var u=n(62);var h=n(104);var f=n(49);var m=n(0);const g=10;class p extends f[\"a\"]{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=b;this._priority=g;this._id=null;this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null){throw new m[\"b\"](\"attribute-element-get-elements-with-same-id-no-id: \"+\"Cannot get elements with the same id for an attribute element without id.\",this)}return new Set(this._clonesGroup)}is(e,t=null){if(!t){return e===\"attributeElement\"||e===\"view:attributeElement\"||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"attributeElement\"||e===\"view:attributeElement\"||e===\"element\"||e===\"view:element\")}}isSimilar(e){if(this.id!==null||e.id!==null){return this.id===e.id}return super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);t._priority=this._priority;t._id=this._id;return t}}p.DEFAULT_PRIORITY=g;function b(){if(_(this)){return null}let e=this.parent;while(e&&e.is(\"attributeElement\")){if(_(e)>1){return null}e=e.parent}if(!e||_(e)>1){return null}return this.childCount}function _(e){return Array.from(e.getChildren()).filter(e=>!e.is(\"uiElement\")).length}var w=n(73);class v extends f[\"a\"]{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=k}is(e,t=null){if(!t){return e===\"emptyElement\"||e===\"view:emptyElement\"||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"emptyElement\"||e===\"view:emptyElement\"||e===\"element\"||e===\"view:element\")}}_insertChild(e,t){if(t&&(t instanceof w[\"a\"]||Array.from(t).length>0)){throw new m[\"b\"](\"view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.\",[this,t])}}}function k(){return null}var x=n(10);class y extends f[\"a\"]{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=A}is(e,t=null){if(!t){return e===\"uiElement\"||e===\"view:uiElement\"||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"uiElement\"||e===\"view:uiElement\"||e===\"element\"||e===\"view:element\")}}_insertChild(e,t){if(t&&(t instanceof w[\"a\"]||Array.from(t).length>0)){throw new m[\"b\"](\"view-uielement-cannot-add: Cannot add child nodes to UIElement instance.\",this)}}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys()){t.setAttribute(e,this.getAttribute(e))}return t}}function C(e){e.document.on(\"keydown\",(t,n)=>T(t,n,e.domConverter))}function A(){return null}function T(e,t,n){if(t.keyCode==x[\"f\"].arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection();const i=e.rangeCount==1&&e.getRangeAt(0).collapsed;if(i||t.shiftKey){const t=e.focusNode;const r=e.focusOffset;const o=n.domPositionToView(t,r);if(o===null){return}let s=false;const a=o.getLastMatchingPosition(e=>{if(e.item.is(\"uiElement\")){s=true}if(e.item.is(\"uiElement\")||e.item.is(\"attributeElement\")){return true}return false});if(s){const t=n.viewPositionToDom(a);if(i){e.collapse(t.parent,t.offset)}else{e.extend(t.parent,t.offset)}}}}}class E extends f[\"a\"]{constructor(e,t,n,i){super(e,t,n,i);this.getFillerOffset=S}is(e,t=null){if(!t){return e===\"rawElement\"||e===\"view:rawElement\"||e===this.name||e===\"view:\"+this.name||e===\"element\"||e===\"view:element\"||e===\"node\"||e===\"view:node\"}else{return t===this.name&&(e===\"rawElement\"||e===\"view:rawElement\"||e===\"element\"||e===\"view:element\")}}_insertChild(e,t){if(t&&(t instanceof w[\"a\"]||Array.from(t).length>0)){throw new m[\"b\"](\"view-rawelement-cannot-add: Cannot add child nodes to a RawElement instance.\",[this,t])}}}function S(){return null}var O=n(90);var I=n(35);var P=n(23);var M=n(95);class R{constructor(e){this.document=e;this._cloneGroups=new Map}setSelection(e,t,n){this.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createText(e){return new P[\"a\"](this.document,e)}createAttributeElement(e,t,n={}){const i=new p(this.document,e,t);if(n.priority){i._priority=n.priority}if(n.id){i._id=n.id}return i}createContainerElement(e,t){return new h[\"a\"](this.document,e,t)}createEditableElement(e,t){const n=new o[\"a\"](this.document,e,t);n._document=this.document;return n}createEmptyElement(e,t){return new v(this.document,e,t)}createUIElement(e,t,n){const i=new y(this.document,e,t);if(n){i.render=n}return i}createRawElement(e,t,n){const i=new E(this.document,e,t);i.render=n||(()=>{});return i}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){if(Object(M[\"a\"])(e)&&n===undefined){n=t}n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){if(e instanceof l[\"a\"]){return this._breakAttributes(e)}else{return this._breakAttributesRange(e)}}breakContainer(e){const t=e.parent;if(!t.is(\"containerElement\")){throw new m[\"b\"](\"view-writer-break-non-container-element: Trying to break an element which is not a container element.\",this.document)}if(!t.parent){throw new m[\"b\"](\"view-writer-break-root: Trying to break root element.\",this.document)}if(e.isAtStart){return l[\"a\"]._createBefore(t)}else if(!e.isAtEnd){const n=t._clone(false);this.insert(l[\"a\"]._createAfter(t),n);const i=new d[\"a\"](e,l[\"a\"]._createAt(t,\"end\"));const r=new l[\"a\"](n,0);this.move(i,r)}return l[\"a\"]._createAfter(t)}mergeAttributes(e){const t=e.offset;const n=e.parent;if(n.is(\"$text\")){return e}if(n.is(\"attributeElement\")&&n.childCount===0){const e=n.parent;const t=n.index;n._remove();this._removeFromClonedElementsGroup(n);return this.mergeAttributes(new l[\"a\"](e,t))}const i=n.getChild(t-1);const r=n.getChild(t);if(!i||!r){return e}if(i.is(\"$text\")&&r.is(\"$text\")){return F(i,r)}else if(i.is(\"attributeElement\")&&r.is(\"attributeElement\")&&i.isSimilar(r)){const e=i.childCount;i._appendChild(r.getChildren());r._remove();this._removeFromClonedElementsGroup(r);return this.mergeAttributes(new l[\"a\"](i,e))}return e}mergeContainers(e){const t=e.nodeBefore;const n=e.nodeAfter;if(!t||!n||!t.is(\"containerElement\")||!n.is(\"containerElement\")){throw new m[\"b\"](\"view-writer-merge-containers-invalid-position: \"+\"Element before and after given position cannot be merged.\",this.document)}const i=t.getChild(t.childCount-1);const r=i instanceof P[\"a\"]?l[\"a\"]._createAt(i,\"end\"):l[\"a\"]._createAt(t,\"end\");this.move(d[\"a\"]._createIn(n),l[\"a\"]._createAt(t,\"end\"));this.remove(d[\"a\"]._createOn(n));return r}insert(e,t){t=Object(I[\"a\"])(t)?[...t]:[t];z(t,this.document);const n=j(e);if(!n){throw new m[\"b\"](\"view-writer-invalid-position-container\",this.document)}const i=this._breakAttributes(e,true);const r=n._insertChild(i.offset,t);for(const e of t){this._addToClonedElementsGroup(e)}const o=i.getShiftedBy(r);const s=this.mergeAttributes(i);if(r===0){return new d[\"a\"](s,s)}else{if(!s.isEqual(i)){o.offset--}const e=this.mergeAttributes(o);return new d[\"a\"](s,e)}}remove(e){const t=e instanceof d[\"a\"]?e:d[\"a\"]._createOn(e);H(t,this.document);if(t.isCollapsed){return new O[\"a\"](this.document)}const{start:n,end:i}=this._breakAttributesRange(t,true);const r=n.parent;const o=i.offset-n.offset;const s=r._removeChildren(n.offset,o);for(const e of s){this._removeFromClonedElementsGroup(e)}const a=this.mergeAttributes(n);t.start=a;t.end=a.clone();return new O[\"a\"](this.document,s)}clear(e,t){H(e,this.document);const n=e.getWalker({direction:\"backward\",ignoreElementEnd:true});for(const i of n){const n=i.item;let r;if(n.is(\"element\")&&t.isSimilar(n)){r=d[\"a\"]._createOn(n)}else if(!i.nextPosition.isAfter(e.start)&&n.is(\"$textProxy\")){const e=n.getAncestors().find(e=>e.is(\"element\")&&t.isSimilar(e));if(e){r=d[\"a\"]._createIn(e)}}if(r){if(r.end.isAfter(e.end)){r.end=e.end}if(r.start.isBefore(e.start)){r.start=e.start}this.remove(r)}}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,true);const i=t.parent;const r=i.childCount;e=this._breakAttributesRange(e,true);n=this.remove(e);t.offset+=i.childCount-r}else{n=this.remove(e)}return this.insert(t,n)}wrap(e,t){if(!(t instanceof p)){throw new m[\"b\"](\"view-writer-wrap-invalid-attribute\",this.document)}H(e,this.document);if(!e.isCollapsed){return this._wrapRange(e,t)}else{let n=e.start;if(n.parent.is(\"element\")&&!N(n.parent)){n=n.getLastMatchingPosition(e=>e.item.is(\"uiElement\"))}n=this._wrapPosition(n,t);const i=this.document.selection;if(i.isCollapsed&&i.getFirstPosition().isEqual(e.start)){this.setSelection(n)}return new d[\"a\"](n)}}unwrap(e,t){if(!(t instanceof p)){throw new m[\"b\"](\"view-writer-unwrap-invalid-attribute\",this.document)}H(e,this.document);if(e.isCollapsed){return e}const{start:n,end:i}=this._breakAttributesRange(e,true);const r=n.parent;const o=this._unwrapChildren(r,n.offset,i.offset,t);const s=this.mergeAttributes(o.start);if(!s.isEqual(o.start)){o.end.offset--}const a=this.mergeAttributes(o.end);return new d[\"a\"](s,a)}rename(e,t){const n=new h[\"a\"](this.document,e,t.getAttributes());this.insert(l[\"a\"]._createAfter(t),n);this.move(d[\"a\"]._createIn(t),l[\"a\"]._createAt(n,0));this.remove(d[\"a\"]._createOn(t));return n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return l[\"a\"]._createAt(e,t)}createPositionAfter(e){return l[\"a\"]._createAfter(e)}createPositionBefore(e){return l[\"a\"]._createBefore(e)}createRange(e,t){return new d[\"a\"](e,t)}createRangeOn(e){return d[\"a\"]._createOn(e)}createRangeIn(e){return d[\"a\"]._createIn(e)}createSelection(e,t,n){return new u[\"a\"](e,t,n)}_wrapChildren(e,t,n,i){let r=t;const o=[];while(r<n){const t=e.getChild(r);const n=t.is(\"$text\");const s=t.is(\"attributeElement\");const a=t.is(\"emptyElement\");const c=t.is(\"uiElement\");const d=t.is(\"rawElement\");if(s&&this._wrapAttributeElement(i,t)){o.push(new l[\"a\"](e,r))}else if(n||a||c||d||s&&D(i,t)){const n=i._clone();t._remove();n._appendChild(t);e._insertChild(r,n);this._addToClonedElementsGroup(n);o.push(new l[\"a\"](e,r))}else if(s){this._wrapChildren(t,0,t.childCount,i)}r++}let s=0;for(const e of o){e.offset-=s;if(e.offset==t){continue}const i=this.mergeAttributes(e);if(!i.isEqual(e)){s++;n--}}return d[\"a\"]._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,i){let r=t;const o=[];while(r<n){const t=e.getChild(r);if(!t.is(\"attributeElement\")){r++;continue}if(t.isSimilar(i)){const i=t.getChildren();const s=t.childCount;t._remove();e._insertChild(r,i);this._removeFromClonedElementsGroup(t);o.push(new l[\"a\"](e,r),new l[\"a\"](e,r+s));r+=s;n+=s-1;continue}if(this._unwrapAttributeElement(i,t)){o.push(new l[\"a\"](e,r),new l[\"a\"](e,r+1));r++;continue}this._unwrapChildren(t,0,t.childCount,i);r++}let s=0;for(const e of o){e.offset-=s;if(e.offset==t||e.offset==n){continue}const i=this.mergeAttributes(e);if(!i.isEqual(e)){s++;n--}}return d[\"a\"]._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:i}=this._breakAttributesRange(e,true);const r=n.parent;const o=this._wrapChildren(r,n.offset,i.offset,t);const s=this.mergeAttributes(o.start);if(!s.isEqual(o.start)){o.end.offset--}const a=this.mergeAttributes(o.end);return new d[\"a\"](s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent)){return L(e.clone())}if(e.parent.is(\"$text\")){e=B(e)}const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY;n.isSimilar=()=>false;e.parent._insertChild(e.offset,n);const i=new d[\"a\"](e,e.getShiftedBy(1));this.wrap(i,t);const r=new l[\"a\"](n.parent,n.index);n._remove();const o=r.nodeBefore;const s=r.nodeAfter;if(o instanceof P[\"a\"]&&s instanceof P[\"a\"]){return F(o,s)}return L(r)}_wrapAttributeElement(e,t){if(!W(e,t)){return false}if(e.name!==t.name||e.priority!==t.priority){return false}for(const n of e.getAttributeKeys()){if(n===\"class\"||n===\"style\"){continue}if(t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n)){return false}}for(const n of e.getStyleNames()){if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n)){return false}}for(const n of e.getAttributeKeys()){if(n===\"class\"||n===\"style\"){continue}if(!t.hasAttribute(n)){this.setAttribute(n,e.getAttribute(n),t)}}for(const n of e.getStyleNames()){if(!t.hasStyle(n)){this.setStyle(n,e.getStyle(n),t)}}for(const n of e.getClassNames()){if(!t.hasClass(n)){this.addClass(n,t)}}return true}_unwrapAttributeElement(e,t){if(!W(e,t)){return false}if(e.name!==t.name||e.priority!==t.priority){return false}for(const n of e.getAttributeKeys()){if(n===\"class\"||n===\"style\"){continue}if(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)){return false}}if(!t.hasClass(...e.getClassNames())){return false}for(const n of e.getStyleNames()){if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n)){return false}}for(const n of e.getAttributeKeys()){if(n===\"class\"||n===\"style\"){continue}this.removeAttribute(n,t)}this.removeClass(Array.from(e.getClassNames()),t);this.removeStyle(Array.from(e.getStyleNames()),t);return true}_breakAttributesRange(e,t=false){const n=e.start;const i=e.end;H(e,this.document);if(e.isCollapsed){const n=this._breakAttributes(e.start,t);return new d[\"a\"](n,n)}const r=this._breakAttributes(i,t);const o=r.parent.childCount;const s=this._breakAttributes(n,t);r.offset+=r.parent.childCount-o;return new d[\"a\"](s,r)}_breakAttributes(e,t=false){const n=e.offset;const i=e.parent;if(e.parent.is(\"emptyElement\")){throw new m[\"b\"](\"view-writer-cannot-break-empty-element\",this.document)}if(e.parent.is(\"uiElement\")){throw new m[\"b\"](\"view-writer-cannot-break-ui-element\",this.document)}if(e.parent.is(\"rawElement\")){throw new m[\"b\"](\"view-writer-cannot-break-raw-element: Cannot break inside a RawElement instance.\",this.document)}if(!t&&i.is(\"$text\")&&U(i.parent)){return e.clone()}if(U(i)){return e.clone()}if(i.is(\"$text\")){return this._breakAttributes(B(e),t)}const r=i.childCount;if(n==r){const e=new l[\"a\"](i.parent,i.index+1);return this._breakAttributes(e,t)}else{if(n===0){const e=new l[\"a\"](i.parent,i.index);return this._breakAttributes(e,t)}else{const e=i.index+1;const r=i._clone();i.parent._insertChild(e,r);this._addToClonedElementsGroup(r);const o=i.childCount-n;const s=i._removeChildren(n,o);r._appendChild(s);const a=new l[\"a\"](i.parent,e);return this._breakAttributes(a,t)}}}_addToClonedElementsGroup(e){if(!e.root.is(\"rootElement\")){return}if(e.is(\"element\")){for(const t of e.getChildren()){this._addToClonedElementsGroup(t)}}const t=e.id;if(!t){return}let n=this._cloneGroups.get(t);if(!n){n=new Set;this._cloneGroups.set(t,n)}n.add(e);e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is(\"element\")){for(const t of e.getChildren()){this._removeFromClonedElementsGroup(t)}}const t=e.id;if(!t){return}const n=this._cloneGroups.get(t);if(!n){return}n.delete(e)}}function N(e){return Array.from(e.getChildren()).some(e=>!e.is(\"uiElement\"))}function j(e){let t=e.parent;while(!U(t)){if(!t){return undefined}t=t.parent}return t}function D(e,t){if(e.priority<t.priority){return true}else if(e.priority>t.priority){return false}return e.getIdentity()<t.getIdentity()}function L(e){const t=e.nodeBefore;if(t&&t.is(\"$text\")){return new l[\"a\"](t,t.data.length)}const n=e.nodeAfter;if(n&&n.is(\"$text\")){return new l[\"a\"](n,0)}return e}function B(e){if(e.offset==e.parent.data.length){return new l[\"a\"](e.parent.parent,e.parent.index+1)}if(e.offset===0){return new l[\"a\"](e.parent.parent,e.parent.index)}const t=e.parent.data.slice(e.offset);e.parent._data=e.parent.data.slice(0,e.offset);e.parent.parent._insertChild(e.parent.index+1,new P[\"a\"](e.root.document,t));return new l[\"a\"](e.parent.parent,e.parent.index+1)}function F(e,t){const n=e.data.length;e._data+=t.data;t._remove();return new l[\"a\"](e,n)}function z(e,t){for(const n of e){if(!V.some(e=>n instanceof e)){throw new m[\"b\"](\"view-writer-insert-invalid-node\",t)}if(!n.is(\"$text\")){z(n.getChildren(),t)}}}const V=[P[\"a\"],p,h[\"a\"],v,E,y];function U(e){return e&&(e.is(\"containerElement\")||e.is(\"documentFragment\"))}function H(e,t){const n=j(e.start);const i=j(e.end);if(!n||!i||n!==i){throw new m[\"b\"](\"view-writer-invalid-range-container\",t)}}function W(e,t){return e.id===null&&t.id===null}var $=n(21);var q=n(4);var Y=n(78);function J(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function G(e){const t=e.parentNode;if(t){t.removeChild(e)}}var K=n(11);var X=n(41);var Q=n(94);var Z=n(171);var ee=n(38);class te{constructor(e,t){this.domDocuments=new Set;this.domConverter=e;this.markedAttributes=new Set;this.markedChildren=new Set;this.markedTexts=new Set;this.selection=t;this.isFocused=false;this._inlineFiller=null;this._fakeSelectionContainer=null}markToSync(e,t){if(e===\"text\"){if(this.domConverter.mapViewToDom(t.parent)){this.markedTexts.add(t)}}else{if(!this.domConverter.mapViewToDom(t)){return}if(e===\"attributes\"){this.markedAttributes.add(t)}else if(e===\"children\"){this.markedChildren.add(t)}else{throw new m[\"b\"](\"view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.\",this)}}}render(){let e;for(const e of this.markedChildren){this._updateChildrenMappings(e)}if(this._inlineFiller&&!this._isSelectionInInlineFiller()){this._removeInlineFiller()}if(this._inlineFiller){e=this._getInlineFillerPosition()}else if(this._needsInlineFillerAtSelection()){e=this.selection.getFirstPosition();this.markedChildren.add(e.parent)}for(const e of this.markedAttributes){this._updateAttrs(e)}for(const t of this.markedChildren){this._updateChildren(t,{inlineFillerPosition:e})}for(const t of this.markedTexts){if(!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)){this._updateText(t,{inlineFillerPosition:e})}}if(e){const t=this.domConverter.viewPositionToDom(e);const n=t.parent.ownerDocument;if(!Object($[\"h\"])(t.parent)){this._inlineFiller=ie(n,t.parent,t.offset)}else{this._inlineFiller=t.parent}}else{this._inlineFiller=null}this._updateSelection();this._updateFocus();this.markedTexts.clear();this.markedAttributes.clear();this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t){return}const n=this.domConverter.mapViewToDom(e).childNodes;const i=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:false}));const r=this._diffNodeLists(n,i);const o=this._findReplaceActions(r,n,i);if(o.indexOf(\"replace\")!==-1){const t={equal:0,insert:0,delete:0};for(const r of o){if(r===\"replace\"){const r=t.equal+t.insert;const o=t.equal+t.delete;const s=e.getChild(r);if(s&&!(s.is(\"uiElement\")||s.is(\"rawElement\"))){this._updateElementMappings(s,n[o])}G(i[r]);t.equal++}else{t[r]++}}}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t);this.domConverter.bindElements(t,e);this.markedChildren.add(e);this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();if(e.parent.is(\"$text\")){return l[\"a\"]._createBefore(this.selection.getFirstPosition().parent)}else{return e}}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const e=this.selection.getFirstPosition();const t=this.domConverter.viewPositionToDom(e);if(t&&Object(X[\"a\"])(t.parent)&&Object($[\"h\"])(t.parent)){return true}return false}_removeInlineFiller(){const e=this._inlineFiller;if(!Object($[\"h\"])(e)){throw new m[\"b\"](\"view-renderer-filler-was-lost: The inline filler node was lost.\",this)}if(Object($[\"g\"])(e)){e.parentNode.removeChild(e)}else{e.data=e.data.substr($[\"c\"])}this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const e=this.selection.getFirstPosition();const t=e.parent;const n=e.offset;if(!this.domConverter.mapViewToDom(t.root)){return false}if(!t.is(\"element\")){return false}if(!ne(t)){return false}if(n===t.getFillerOffset()){return false}const i=e.nodeBefore;const r=e.nodeAfter;if(i instanceof P[\"a\"]||r instanceof P[\"a\"]){return false}return true}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);const i=this.domConverter.viewToDom(e,n.ownerDocument);const r=n.data;let o=i.data;const s=t.inlineFillerPosition;if(s&&s.parent==e.parent&&s.offset==e.index){o=$[\"b\"]+o}if(r!=o){const e=Object(Z[\"a\"])(r,o);for(const t of e){if(t.type===\"insert\"){n.insertData(t.index,t.values.join(\"\"))}else{n.deleteData(t.index,t.howMany)}}}}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t){return}const n=Array.from(t.attributes).map(e=>e.name);const i=e.getAttributeKeys();for(const n of i){t.setAttribute(n,e.getAttribute(n))}for(const i of n){if(!e.hasAttribute(i)){t.removeAttribute(i)}}}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n){return}const i=t.inlineFillerPosition;const r=this.domConverter.mapViewToDom(e).childNodes;const o=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:true,inlineFillerPosition:i}));if(i&&i.parent===e){ie(n.ownerDocument,o,i.offset)}const s=this._diffNodeLists(r,o);let a=0;const c=new Set;for(const e of s){if(e===\"delete\"){c.add(r[a]);G(r[a])}else if(e===\"equal\"){a++}}a=0;for(const e of s){if(e===\"insert\"){J(n,a,o[a]);a++}else if(e===\"equal\"){this._markDescendantTextToSync(this.domConverter.domToView(o[a]));a++}}for(const e of c){if(!e.parentNode){this.domConverter.unbindDomElement(e)}}}_diffNodeLists(e,t){e=ae(e,this._fakeSelectionContainer);return Object(Y[\"a\"])(e,t,oe.bind(null,this.domConverter))}_findReplaceActions(e,t,n){if(e.indexOf(\"insert\")===-1||e.indexOf(\"delete\")===-1){return e}let i=[];let r=[];let o=[];const s={equal:0,insert:0,delete:0};for(const a of e){if(a===\"insert\"){o.push(n[s.equal+s.insert])}else if(a===\"delete\"){r.push(t[s.equal+s.delete])}else{i=i.concat(Object(Y[\"a\"])(r,o,re).map(e=>e===\"equal\"?\"replace\":e));i.push(\"equal\");r=[];o=[]}s[a]++}return i.concat(Object(Y[\"a\"])(r,o,re).map(e=>e===\"equal\"?\"replace\":e))}_markDescendantTextToSync(e){if(!e){return}if(e.is(\"$text\")){this.markedTexts.add(e)}else if(e.is(\"element\")){for(const t of e.getChildren()){this._markDescendantTextToSync(t)}}}_updateSelection(){if(this.selection.rangeCount===0){this._removeDomSelection();this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){return}if(this.selection.isFake){this._updateFakeSelection(e)}else{this._removeFakeSelection();this._updateDomSelection(e)}}_updateFakeSelection(e){const t=e.ownerDocument;if(!this._fakeSelectionContainer){this._fakeSelectionContainer=ce(t)}const n=this._fakeSelectionContainer;this.domConverter.bindFakeSelection(n,this.selection);if(!this._fakeSelectionNeedsUpdate(e)){return}if(!n.parentElement||n.parentElement!=e){e.appendChild(n)}n.textContent=this.selection.fakeSelectionLabel||\" \";const i=t.getSelection();const r=t.createRange();i.removeAllRanges();r.selectNodeContents(n);i.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t)){return}const n=this.domConverter.viewPositionToDom(this.selection.anchor);const i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus();t.collapse(n.parent,n.offset);t.extend(i.parent,i.offset);if(ee[\"a\"].isGecko){se(i,t)}}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e)){return true}const t=e&&this.domConverter.domSelectionToView(e);if(t&&this.selection.isEqual(t)){return false}if(!this.selection.isCollapsed&&this.selection.isSimilar(t)){return false}return true}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer;const n=e.ownerDocument.getSelection();if(!t||t.parentElement!==e){return true}if(n.anchorNode!==t&&!t.contains(n.anchorNode)){return true}return t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const t=e.activeElement;const n=this.domConverter.mapDomToView(t);if(t&&n){e.getSelection().removeAllRanges()}}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;if(e){e.remove()}}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;if(e){this.domConverter.focus(e)}}}}Object(q[\"a\"])(te,K[\"a\"]);function ne(e){if(e.getAttribute(\"contenteditable\")==\"false\"){return false}const t=e.findAncestor(e=>e.hasAttribute(\"contenteditable\"));return!t||t.getAttribute(\"contenteditable\")==\"true\"}function ie(e,t,n){const i=t instanceof Array?t:t.childNodes;const r=i[n];if(Object(X[\"a\"])(r)){r.data=$[\"b\"]+r.data;return r}else{const r=e.createTextNode($[\"b\"]);if(Array.isArray(t)){i.splice(n,0,r)}else{J(t,n,r)}return r}}function re(e,t){return Object(Q[\"a\"])(e)&&Object(Q[\"a\"])(t)&&!Object(X[\"a\"])(e)&&!Object(X[\"a\"])(t)&&e.nodeType!==Node.COMMENT_NODE&&t.nodeType!==Node.COMMENT_NODE&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function oe(e,t,n){if(t===n){return true}else if(Object(X[\"a\"])(t)&&Object(X[\"a\"])(n)){return t.data===n.data}else if(e.isBlockFiller(t)&&e.isBlockFiller(n)){return true}return false}function se(e,t){const n=e.parent;if(n.nodeType!=Node.ELEMENT_NODE||e.offset!=n.childNodes.length-1){return}const i=n.childNodes[e.offset];if(i&&i.tagName==\"BR\"){t.addRange(t.getRangeAt(0))}}function ae(e,t){const n=Array.from(e);if(n.length==0||!t){return n}const i=n[n.length-1];if(i==t){n.pop()}return n}function ce(e){const t=e.createElement(\"div\");Object.assign(t.style,{position:\"fixed\",top:0,left:\"-9999px\",width:\"42px\"});t.textContent=\" \";return t}var le=n(83);var de=n(67);var ue=n(192);function he(e,t,n){n=typeof n==\"function\"?n:undefined;var i=n?n(e,t):undefined;return i===undefined?Object(ue[\"a\"])(e,t,undefined,n):!!i}var fe=he;class me extends de[\"a\"]{constructor(e){super(e);this._config={childList:true,characterData:true,characterDataOldValue:true,subtree:true};this.domConverter=e.domConverter;this.renderer=e._renderer;this._domElements=[];this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e);if(this.isEnabled){this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const e of this._domElements){this._mutationObserver.observe(e,this._config)}}disable(){super.disable();this._mutationObserver.disconnect()}destroy(){super.destroy();this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0){return}const t=this.domConverter;const n=new Map;const i=new Set;for(const n of e){if(n.type===\"childList\"){const e=t.mapDomToView(n.target);if(e&&(e.is(\"uiElement\")||e.is(\"rawElement\"))){continue}if(e&&!this._isBogusBrMutation(n)){i.add(e)}}}for(const r of e){const e=t.mapDomToView(r.target);if(e&&(e.is(\"uiElement\")||e.is(\"rawElement\"))){continue}if(r.type===\"characterData\"){const e=t.findCorrespondingViewText(r.target);if(e&&!i.has(e.parent)){n.set(e,{type:\"text\",oldText:e.data,newText:Object($[\"e\"])(r.target),node:e})}else if(!e&&Object($[\"h\"])(r.target)){i.add(t.mapDomToView(r.target.parentNode))}}}const r=[];for(const e of n.values()){this.renderer.markToSync(\"text\",e.node);r.push(e)}for(const e of i){const n=t.mapViewToDom(e);const i=Array.from(e.getChildren());const o=Array.from(t.domChildrenToView(n,{withChildren:false}));if(!fe(i,o,a)){this.renderer.markToSync(\"children\",e);r.push({type:\"children\",oldChildren:i,newChildren:o,node:e})}}const o=e[0].target.ownerDocument.getSelection();let s=null;if(o&&o.anchorNode){const e=t.domPositionToView(o.anchorNode,o.anchorOffset);const n=t.domPositionToView(o.focusNode,o.focusOffset);if(e&&n){s=new u[\"a\"](e);s.setFocus(n)}}if(r.length){this.document.fire(\"mutations\",r,s);this.view.forceRender()}function a(e,t){if(Array.isArray(e)){return}if(e===t){return true}else if(e.is(\"$text\")&&t.is(\"$text\")){return e.data===t.data}return false}}_isBogusBrMutation(e){let t=null;if(e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1){t=this.domConverter.domToView(e.addedNodes[0],{withChildren:false})}return t&&t.is(\"element\",\"br\")}}var ge=n(57);class pe extends ge[\"a\"]{constructor(e){super(e);this.domEventType=[\"keydown\",\"keyup\"]}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return Object(x[\"a\"])(this)}})}}var be=n(271);class _e extends de[\"a\"]{constructor(e){super(e);this._fireSelectionChangeDoneDebounced=Object(be[\"a\"])(e=>this.document.fire(\"selectionChangeDone\",e),200)}observe(){const e=this.document;e.on(\"keydown\",(t,n)=>{const i=e.selection;if(i.isFake&&we(n.keyCode)&&this.isEnabled){n.preventDefault();this._handleSelectionMove(n.keyCode)}},{priority:\"lowest\"})}destroy(){super.destroy();this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection;const n=new u[\"a\"](t.getRanges(),{backward:t.isBackward,fake:false});if(e==x[\"f\"].arrowleft||e==x[\"f\"].arrowup){n.setTo(n.getFirstPosition())}if(e==x[\"f\"].arrowright||e==x[\"f\"].arrowdown){n.setTo(n.getLastPosition())}const i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire(\"selectionChange\",i);this._fireSelectionChangeDoneDebounced(i)}}function we(e){return e==x[\"f\"].arrowright||e==x[\"f\"].arrowleft||e==x[\"f\"].arrowup||e==x[\"f\"].arrowdown}class ve extends de[\"a\"]{constructor(e){super(e);this.mutationObserver=e.getObserver(me);this.selection=this.document.selection;this.domConverter=e.domConverter;this._documents=new WeakSet;this._fireSelectionChangeDoneDebounced=Object(be[\"a\"])(e=>this.document.fire(\"selectionChangeDone\",e),200);this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3);this._loopbackCounter=0}observe(e){const t=e.ownerDocument;if(this._documents.has(t)){return}this.listenTo(t,\"selectionchange\",()=>{this._handleSelectionChange(t)});this._documents.add(t)}destroy(){super.destroy();clearInterval(this._clearInfiniteLoopInterval);this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(e){if(!this.isEnabled){return}this.mutationObserver.flush();const t=e.defaultView.getSelection();const n=this.domConverter.domSelectionToView(t);if(n.rangeCount==0){this.view.hasDomSelection=false;return}this.view.hasDomSelection=true;if(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)){return}if(++this._loopbackCounter>60){return}if(this.selection.isSimilar(n)){this.view.forceRender()}else{const e={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire(\"selectionChange\",e);this._fireSelectionChangeDoneDebounced(e)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class ke extends ge[\"a\"]{constructor(e){super(e);this.domEventType=[\"focus\",\"blur\"];this.useCapture=true;const t=this.document;t.on(\"focus\",()=>{t.isFocused=true;this._renderTimeoutId=setTimeout(()=>e.forceRender(),50)});t.on(\"blur\",(n,i)=>{const r=t.selection.editableElement;if(r===null||r===i.target){t.isFocused=false;e.forceRender()}})}onDomEvent(e){this.fire(e.type,e)}destroy(){if(this._renderTimeoutId){clearTimeout(this._renderTimeoutId)}super.destroy()}}class xe extends ge[\"a\"]{constructor(e){super(e);this.domEventType=[\"compositionstart\",\"compositionupdate\",\"compositionend\"];const t=this.document;t.on(\"compositionstart\",()=>{t.isComposing=true});t.on(\"compositionend\",()=>{t.isComposing=false})}onDomEvent(e){this.fire(e.type,e)}}class ye extends ge[\"a\"]{constructor(e){super(e);this.domEventType=[\"beforeinput\"]}onDomEvent(e){this.fire(e.type,e)}}var Ce=n(110);var Ae=n(18);const Te={};function Ee({target:e,viewportOffset:t=0}){const n=je(e);let i=n;let r=null;while(i){let o;if(i==n){o=De(e)}else{o=De(r)}Ie(o,()=>Le(e,i));const s=Le(e,i);Oe(i,s,t);if(i.parent!=i){r=i.frameElement;i=i.parent;if(!r){return}}else{i=null}}}function Se(e){const t=De(e);Ie(t,()=>new Ae[\"a\"](e))}Object.assign(Te,{scrollViewportToShowTarget:Ee,scrollAncestorsToShowTarget:Se});function Oe(e,t,n){const i=t.clone().moveBy(0,n);const r=t.clone().moveBy(0,-n);const o=new Ae[\"a\"](e).excludeScrollbarsAndBorders();const s=[r,i];if(!s.every(e=>o.contains(e))){let{scrollX:s,scrollY:a}=e;if(Me(r,o)){a-=o.top-t.top+n}else if(Pe(i,o)){a+=t.bottom-o.bottom+n}if(Re(t,o)){s-=o.left-t.left+n}else if(Ne(t,o)){s+=t.right-o.right+n}e.scrollTo(s,a)}}function Ie(e,t){const n=je(e);let i,r;while(e!=n.document.body){r=t();i=new Ae[\"a\"](e).excludeScrollbarsAndBorders();if(!i.contains(r)){if(Me(r,i)){e.scrollTop-=i.top-r.top}else if(Pe(r,i)){e.scrollTop+=r.bottom-i.bottom}if(Re(r,i)){e.scrollLeft-=i.left-r.left}else if(Ne(r,i)){e.scrollLeft+=r.right-i.right}}e=e.parentNode}}function Pe(e,t){return e.bottom>t.bottom}function Me(e,t){return e.top<t.top}function Re(e,t){return e.left<t.left}function Ne(e,t){return e.right>t.right}function je(e){if(Object(Ce[\"a\"])(e)){return e.startContainer.ownerDocument.defaultView}else{return e.ownerDocument.defaultView}}function De(e){if(Object(Ce[\"a\"])(e)){let t=e.commonAncestorContainer;if(Object(X[\"a\"])(t)){t=t.parentNode}return t}else{return e.parentNode}}function Le(e,t){const n=je(e);const i=new Ae[\"a\"](e);if(n===t){return i}else{let e=n;while(e!=t){const t=e.frameElement;const n=new Ae[\"a\"](t).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top);e=e.parent}}return i}class Be{constructor(e){this.document=new c[\"a\"](e);this.domConverter=new le[\"a\"](this.document);this.domRoots=new Map;this.set(\"isRenderingInProgress\",false);this.set(\"hasDomSelection\",false);this._renderer=new te(this.domConverter,this.document.selection);this._renderer.bind(\"isFocused\").to(this.document);this._initialDomRootAttributes=new WeakMap;this._observers=new Map;this._ongoingChange=false;this._postFixersInProgress=false;this._renderingDisabled=false;this._hasChangedSinceTheLastRendering=false;this._writer=new R(this.document);this.addObserver(me);this.addObserver(ve);this.addObserver(ke);this.addObserver(pe);this.addObserver(_e);this.addObserver(xe);if(ee[\"a\"].isAndroid){this.addObserver(ye)}Object($[\"f\"])(this);C(this);this.on(\"render\",()=>{this._render();this.document.fire(\"layoutChanged\");this._hasChangedSinceTheLastRendering=false});this.listenTo(this.document.selection,\"change\",()=>{this._hasChangedSinceTheLastRendering=true})}attachDomRoot(e,t=\"main\"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const i={};for(const{name:t,value:r}of Array.from(e.attributes)){i[t]=r;if(t===\"class\"){this._writer.addClass(r.split(\" \"),n)}else{this._writer.setAttribute(t,r,n)}}this._initialDomRootAttributes.set(e,i);const r=()=>{this._writer.setAttribute(\"contenteditable\",!n.isReadOnly,n);if(n.isReadOnly){this._writer.addClass(\"ck-read-only\",n)}else{this._writer.removeClass(\"ck-read-only\",n)}};r();this.domRoots.set(t,e);this.domConverter.bindElements(e,n);this._renderer.markToSync(\"children\",n);this._renderer.markToSync(\"attributes\",n);this._renderer.domDocuments.add(e.ownerDocument);n.on(\"change:children\",(e,t)=>this._renderer.markToSync(\"children\",t));n.on(\"change:attributes\",(e,t)=>this._renderer.markToSync(\"attributes\",t));n.on(\"change:text\",(e,t)=>this._renderer.markToSync(\"text\",t));n.on(\"change:isReadOnly\",()=>this.change(r));n.on(\"change\",()=>{this._hasChangedSinceTheLastRendering=true});for(const n of this._observers.values()){n.observe(e,t)}}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:e})=>t.removeAttribute(e));const n=this._initialDomRootAttributes.get(t);for(const e in n){t.setAttribute(e,n[e])}this.domRoots.delete(e);this.domConverter.unbindDomElement(t)}getDomRoot(e=\"main\"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t){return t}t=new e(this);this._observers.set(e,t);for(const[e,n]of this.domRoots){t.observe(n,e)}t.enable();return t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values()){e.disable()}}enableObservers(){for(const e of this._observers.values()){e.enable()}}scrollToTheSelection(){const e=this.document.selection.getFirstRange();if(e){Ee({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;if(e){this.domConverter.focus(e);this.forceRender()}else{}}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress){throw new m[\"b\"](\"cannot-change-view-tree: \"+\"Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. \"+\"This may cause some unexpected behavior and inconsistency between the DOM and the view.\",this)}try{if(this._ongoingChange){return e(this._writer)}this._ongoingChange=true;const t=e(this._writer);this._ongoingChange=false;if(!this._renderingDisabled&&this._hasChangedSinceTheLastRendering){this._postFixersInProgress=true;this.document._callPostFixers(this._writer);this._postFixersInProgress=false;this.fire(\"render\")}return t}catch(e){m[\"b\"].rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=true;this.change(()=>{})}destroy(){for(const e of this._observers.values()){e.destroy()}this.document.destroy();this.stopListening()}createPositionAt(e,t){return l[\"a\"]._createAt(e,t)}createPositionAfter(e){return l[\"a\"]._createAfter(e)}createPositionBefore(e){return l[\"a\"]._createBefore(e)}createRange(e,t){return new d[\"a\"](e,t)}createRangeOn(e){return d[\"a\"]._createOn(e)}createRangeIn(e){return d[\"a\"]._createIn(e)}createSelection(e,t,n){return new u[\"a\"](e,t,n)}_disableRendering(e){this._renderingDisabled=e;if(e==false){this.change(()=>{})}}_render(){this.isRenderingInProgress=true;this.disableObservers();this._renderer.render();this.enableObservers();this.isRenderingInProgress=false}}Object(q[\"a\"])(Be,K[\"a\"]);var Fe=n(5);var ze=n(2);var Ve=n(13);class Ue{constructor(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._viewToModelLengthCallbacks=new Map;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set;this.on(\"modelToViewPosition\",(e,t)=>{if(t.viewPosition){return}const n=this._modelToViewMapping.get(t.modelPosition.parent);t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:\"low\"});this.on(\"viewToModelPosition\",(e,t)=>{if(t.modelPosition){return}const n=this.findMappedViewAncestor(t.viewPosition);const i=this._viewToModelMapping.get(n);const r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Fe[\"a\"]._createAt(i,r)},{priority:\"low\"})}bindElements(e,t){this._modelToViewMapping.set(e,t);this._viewToModelMapping.set(t,e)}unbindViewElement(e){const t=this.toModelElement(e);this._viewToModelMapping.delete(e);if(this._elementToMarkerNames.has(e)){for(const t of this._elementToMarkerNames.get(e)){this._unboundMarkerNames.add(t)}}if(this._modelToViewMapping.get(t)==e){this._modelToViewMapping.delete(t)}}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e);if(this._viewToModelMapping.get(t)==e){this._viewToModelMapping.delete(t)}}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t);this._markerNameToElements.set(t,n);this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);if(n){n.delete(e);if(n.size==0){this._markerNameToElements.delete(t)}}const i=this._elementToMarkerNames.get(e);if(i){i.delete(t);if(i.size==0){this._elementToMarkerNames.delete(e)}}}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);this._unboundMarkerNames.clear();return e}clearBindings(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ze[\"a\"](this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new d[\"a\"](this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};this.fire(\"viewToModelPosition\",t);return t.modelPosition}toViewPosition(e,t={isPhantom:false}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};this.fire(\"modelToViewPosition\",n);return n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t){return null}const n=new Set;for(const e of t){if(e.is(\"attributeElement\")){for(const t of e.getElementsWithSameId()){n.add(t)}}else{n.add(e)}}return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;while(!this._viewToModelMapping.has(t)){t=t.parent}return t}_toModelOffset(e,t,n){if(n!=e){const i=this._toModelOffset(e.parent,e.index,n);const r=this._toModelOffset(e,t,e);return i+r}if(e.is(\"$text\")){return t}let i=0;for(let n=0;n<t;n++){i+=this.getModelLength(e.getChild(n))}return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){const t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}else if(this._viewToModelMapping.has(e)){return 1}else if(e.is(\"$text\")){return e.data.length}else if(e.is(\"uiElement\")){return 0}else{let t=0;for(const n of e.getChildren()){t+=this.getModelLength(n)}return t}}findPositionIn(e,t){let n;let i=0;let r=0;let o=0;if(e.is(\"$text\")){return new l[\"a\"](e,t)}while(r<t){n=e.getChild(o);i=this.getModelLength(n);r+=i;o++}if(r==t){return this._moveViewPositionToTextNode(new l[\"a\"](e,o))}else{return this.findPositionIn(n,t-(r-i))}}_moveViewPositionToTextNode(e){const t=e.nodeBefore;const n=e.nodeAfter;if(t instanceof P[\"a\"]){return new l[\"a\"](t,t.data.length)}else if(n instanceof P[\"a\"]){return new l[\"a\"](n,0)}return e}}Object(q[\"a\"])(Ue,Ve[\"c\"]);var He=n(59);class We{constructor(){this._consumable=new Map;this._textProxyRegistry=new Map}add(e,t){t=$e(t);if(e instanceof He[\"a\"]){e=this._getSymbolForTextProxy(e)}if(!this._consumable.has(e)){this._consumable.set(e,new Map)}this._consumable.get(e).set(t,true)}consume(e,t){t=$e(t);if(e instanceof He[\"a\"]){e=this._getSymbolForTextProxy(e)}if(this.test(e,t)){this._consumable.get(e).set(t,false);return true}else{return false}}test(e,t){t=$e(t);if(e instanceof He[\"a\"]){e=this._getSymbolForTextProxy(e)}const n=this._consumable.get(e);if(n===undefined){return null}const i=n.get(t);if(i===undefined){return null}return i}revert(e,t){t=$e(t);if(e instanceof He[\"a\"]){e=this._getSymbolForTextProxy(e)}const n=this.test(e,t);if(n===false){this._consumable.get(e).set(t,true);return true}else if(n===true){return false}return null}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const i=n.get(e.endOffset);if(i){t=i.get(e.parent)}}if(!t){t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)}return t}_addSymbolForTextProxy(e,t,n){const i=Symbol(\"textProxySymbol\");let r,o;r=this._textProxyRegistry.get(e);if(!r){r=new Map;this._textProxyRegistry.set(e,r)}o=r.get(t);if(!o){o=new Map;r.set(t,o)}o.set(n,i);return i}}function $e(e){const t=e.split(\":\");return t.length>1?t[0]+\":\"+t[1]:t[0]}var qe=n(211);class Ye{constructor(e){this.conversionApi=Object(qe[\"a\"])({dispatcher:this},e)}convertChanges(e,t,n){for(const t of e.getMarkersToRemove()){this.convertMarkerRemove(t.name,t.range,n)}for(const t of e.getChanges()){if(t.type==\"insert\"){this.convertInsert(ze[\"a\"]._createFromPositionAndShift(t.position,t.length),n)}else if(t.type==\"remove\"){this.convertRemove(t.position,t.length,t.name,n)}else{this.convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,n)}}for(const e of this.conversionApi.mapper.flushUnboundMarkerNames()){const i=t.get(e).getRange();this.convertMarkerRemove(e,i,n);this.convertMarkerAdd(e,i,n)}for(const t of e.getMarkersToAdd()){this.convertMarkerAdd(t.name,t.range,n)}}convertInsert(e,t){this.conversionApi.writer=t;this.conversionApi.consumable=this._createInsertConsumable(e);for(const t of e){const e=t.item;const n=ze[\"a\"]._createFromPositionAndShift(t.previousPosition,t.length);const i={item:e,range:n};this._testAndFire(\"insert\",i);for(const t of e.getAttributeKeys()){i.attributeKey=t;i.attributeOldValue=null;i.attributeNewValue=e.getAttribute(t);this._testAndFire(`attribute:${t}`,i)}}this._clearConversionApi()}convertRemove(e,t,n,i){this.conversionApi.writer=i;this.fire(\"remove:\"+n,{position:e,length:t},this.conversionApi);this._clearConversionApi()}convertAttribute(e,t,n,i,r){this.conversionApi.writer=r;this.conversionApi.consumable=this._createConsumableForRange(e,`attribute:${t}`);for(const r of e){const e=r.item;const o=ze[\"a\"]._createFromPositionAndShift(r.previousPosition,r.length);const s={item:e,range:o,attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${t}`,s)}this._clearConversionApi()}convertSelection(e,t,n){const i=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));this.conversionApi.writer=n;this.conversionApi.consumable=this._createSelectionConsumable(e,i);this.fire(\"selection\",{selection:e},this.conversionApi);if(!e.isCollapsed){return}for(const t of i){const n=t.getRange();if(!Je(e.getFirstPosition(),t,this.conversionApi.mapper)){continue}const i={item:e,markerName:t.name,markerRange:n};if(this.conversionApi.consumable.test(e,\"addMarker:\"+t.name)){this.fire(\"addMarker:\"+t.name,i,this.conversionApi)}}for(const t of e.getAttributeKeys()){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};if(this.conversionApi.consumable.test(e,\"attribute:\"+n.attributeKey)){this.fire(\"attribute:\"+n.attributeKey+\":$text\",n,this.conversionApi)}}this._clearConversionApi()}convertMarkerAdd(e,t,n){if(!t.root.document||t.root.rootName==\"$graveyard\"){return}this.conversionApi.writer=n;const i=\"addMarker:\"+e;const r=new We;r.add(t,i);this.conversionApi.consumable=r;this.fire(i,{markerName:e,markerRange:t},this.conversionApi);if(!r.test(t,i)){return}this.conversionApi.consumable=this._createConsumableForRange(t,i);for(const n of t.getItems()){if(!this.conversionApi.consumable.test(n,i)){continue}const r={item:n,range:ze[\"a\"]._createOn(n),markerName:e,markerRange:t};this.fire(i,r,this.conversionApi)}this._clearConversionApi()}convertMarkerRemove(e,t,n){if(!t.root.document||t.root.rootName==\"$graveyard\"){return}this.conversionApi.writer=n;this.fire(\"removeMarker:\"+e,{markerName:e,markerRange:t},this.conversionApi);this._clearConversionApi()}_createInsertConsumable(e){const t=new We;for(const n of e){const e=n.item;t.add(e,\"insert\");for(const n of e.getAttributeKeys()){t.add(e,\"attribute:\"+n)}}return t}_createConsumableForRange(e,t){const n=new We;for(const i of e.getItems()){n.add(i,t)}return n}_createSelectionConsumable(e,t){const n=new We;n.add(e,\"selection\");for(const i of t){n.add(e,\"addMarker:\"+i.name)}for(const t of e.getAttributeKeys()){n.add(e,\"attribute:\"+t)}return n}_testAndFire(e,t){if(!this.conversionApi.consumable.test(t.item,e)){return}const n=t.item.name||\"$text\";this.fire(e+\":\"+n,t,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer;delete this.conversionApi.consumable}}Object(q[\"a\"])(Ye,Ve[\"c\"]);function Je(e,t,n){const i=t.getRange();const r=Array.from(e.getAncestors());r.shift();r.reverse();const o=r.some(e=>{if(i.containsItem(e)){const t=n.toViewElement(e);return!!t.getCustomProperty(\"addHighlight\")}});return!o}var Ge=n(76);var Ke=n(20);var Xe=n(51);class Qe{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers){e(t)}return this}}var Ze=n(492);class et extends Qe{elementToElement(e){return this.add(vt(e))}attributeToElement(e){return this.add(kt(e))}attributeToAttribute(e){return this.add(xt(e))}markerToElement(e){return this.add(yt(e))}markerToHighlight(e){return this.add(At(e))}markerToData(e){return this.add(Ct(e))}}function tt(){return(e,t,n)=>{if(!n.consumable.consume(t.item,\"insert\")){return}const i=n.writer;const r=n.mapper.toViewPosition(t.range.start);const o=i.createText(t.item.data);i.insert(r,o)}}function nt(){return(e,t,n)=>{const i=n.mapper.toViewPosition(t.position);const r=t.position.getShiftedBy(t.length);const o=n.mapper.toViewPosition(r,{isPhantom:true});const s=n.writer.createRange(i,o);const a=n.writer.remove(s.getTrimmed());for(const e of n.writer.createRangeIn(a).getItems()){n.mapper.unbindViewElement(e)}}}function it(e,t){const n=e.createAttributeElement(\"span\",t.attributes);if(t.classes){n._addClass(t.classes)}if(t.priority){n._priority=t.priority}n._id=t.id;return n}function rt(){return(e,t,n)=>{const i=t.selection;if(i.isCollapsed){return}if(!n.consumable.consume(i,\"selection\")){return}const r=[];for(const e of i.getRanges()){const t=n.mapper.toViewRange(e);r.push(t)}n.writer.setSelection(r,{backward:i.isBackward})}}function ot(){return(e,t,n)=>{const i=t.selection;if(!i.isCollapsed){return}if(!n.consumable.consume(i,\"selection\")){return}const r=n.writer;const o=i.getFirstPosition();const s=n.mapper.toViewPosition(o);const a=r.breakAttributes(s);r.setSelection(a)}}function st(){return(e,t,n)=>{const i=n.writer;const r=i.document.selection;for(const e of r.getRanges()){if(e.isCollapsed){if(e.end.parent.isAttached()){n.writer.mergeAttributes(e.start)}}}i.setSelection(null)}}function at(e){return(t,n,i)=>{const r=e(n.attributeOldValue,i.writer);const o=e(n.attributeNewValue,i.writer);if(!r&&!o){return}if(!i.consumable.consume(n.item,t.name)){return}const s=i.writer;const a=s.document.selection;if(n.item instanceof Ge[\"a\"]||n.item instanceof Xe[\"a\"]){s.wrap(a.getFirstRange(),o)}else{let e=i.mapper.toViewRange(n.range);if(n.attributeOldValue!==null&&r){e=s.unwrap(e,r)}if(n.attributeNewValue!==null&&o){s.wrap(e,o)}}}}function ct(e){return(t,n,i)=>{const r=e(n.item,i.writer);if(!r){return}if(!i.consumable.consume(n.item,\"insert\")){return}const o=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,r);i.writer.insert(o,r)}}function lt(e){return(t,n,i)=>{n.isOpening=true;const r=e(n,i.writer);n.isOpening=false;const o=e(n,i.writer);if(!r||!o){return}const s=n.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,t.name)){return}for(const e of s){if(!i.consumable.consume(e.item,t.name)){return}}const a=i.mapper;const c=i.writer;c.insert(a.toViewPosition(s.start),r);i.mapper.bindElementToMarker(r,n.markerName);if(!s.isCollapsed){c.insert(a.toViewPosition(s.end),o);i.mapper.bindElementToMarker(o,n.markerName)}t.stop()}}function dt(){return(e,t,n)=>{const i=n.mapper.markerNameToElements(t.markerName);if(!i){return}for(const e of i){n.mapper.unbindElementFromMarkerName(e,t.markerName);n.writer.clear(n.writer.createRangeOn(e),e)}n.writer.clearClonedElementsGroup(t.markerName);e.stop()}}function ut(e){return(t,n,i)=>{const r=e(n.markerName);if(!r){return}const o=n.markerRange;if(!i.consumable.consume(o,t.name)){return}ht(o,false,i,n,r);ht(o,true,i,n,r);t.stop()}}function ht(e,t,n,i,r){const o=t?e.start:e.end;const s=n.schema.checkChild(o,\"$text\");if(s){const e=n.mapper.toViewPosition(o);mt(e,t,n,i,r)}else{let e;let s;if(t&&o.nodeAfter||!t&&!o.nodeBefore){e=o.nodeAfter;s=true}else{e=o.nodeBefore;s=false}const a=n.mapper.toViewElement(e);ft(a,t,s,n,i,r)}}function ft(e,t,n,i,r,o){const s=`data-${o.group}-${t?\"start\":\"end\"}-${n?\"before\":\"after\"}`;const a=e.hasAttribute(s)?e.getAttribute(s).split(\",\"):[];a.unshift(o.name);i.writer.setAttribute(s,a.join(\",\"),e);i.mapper.bindElementToMarker(e,r.markerName)}function mt(e,t,n,i,r){const o=`${r.group}-${t?\"start\":\"end\"}`;const s=r.name?{name:r.name}:null;const a=n.writer.createUIElement(o,s);n.writer.insert(e,a);n.mapper.bindElementToMarker(a,i.markerName)}function gt(e){return(t,n,i)=>{const r=e(n.markerName);if(!r){return}const o=i.mapper.markerNameToElements(n.markerName);if(!o){return}for(const e of o){i.mapper.unbindElementFromMarkerName(e,n.markerName);if(e.is(\"containerElement\")){s(`data-${r.group}-start-before`,e);s(`data-${r.group}-start-after`,e);s(`data-${r.group}-end-before`,e);s(`data-${r.group}-end-after`,e)}else{i.writer.clear(i.writer.createRangeOn(e),e)}}i.writer.clearClonedElementsGroup(n.markerName);t.stop();function s(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(\",\"));n.delete(r.name);if(n.size==0){i.writer.removeAttribute(e,t)}else{i.writer.setAttribute(e,Array.from(n).join(\",\"),t)}}}}}function pt(e){return(t,n,i)=>{const r=e(n.attributeOldValue,n);const o=e(n.attributeNewValue,n);if(!r&&!o){return}if(!i.consumable.consume(n.item,t.name)){return}const s=i.mapper.toViewElement(n.item);const a=i.writer;if(!s){throw new m[\"b\"](\"conversion-attribute-to-attribute-on-text: \"+\"Trying to convert text node's attribute with attribute-to-attribute converter.\",[n,i])}if(n.attributeOldValue!==null&&r){if(r.key==\"class\"){const e=Array.isArray(r.value)?r.value:[r.value];for(const t of e){a.removeClass(t,s)}}else if(r.key==\"style\"){const e=Object.keys(r.value);for(const t of e){a.removeStyle(t,s)}}else{a.removeAttribute(r.key,s)}}if(n.attributeNewValue!==null&&o){if(o.key==\"class\"){const e=Array.isArray(o.value)?o.value:[o.value];for(const t of e){a.addClass(t,s)}}else if(o.key==\"style\"){const e=Object.keys(o.value);for(const t of e){a.setStyle(t,o.value[t],s)}}else{a.setAttribute(o.key,o.value,s)}}}}function bt(e){return(t,n,i)=>{if(!n.item){return}if(!(n.item instanceof Ge[\"a\"]||n.item instanceof Xe[\"a\"])&&!n.item.is(\"$textProxy\")){return}const r=It(e,n,i);if(!r){return}if(!i.consumable.consume(n.item,t.name)){return}const o=i.writer;const s=it(o,r);const a=o.document.selection;if(n.item instanceof Ge[\"a\"]||n.item instanceof Xe[\"a\"]){o.wrap(a.getFirstRange(),s,a)}else{const e=i.mapper.toViewRange(n.range);const t=o.wrap(e,s);for(const e of t.getItems()){if(e.is(\"attributeElement\")&&e.isSimilar(s)){i.mapper.bindElementToMarker(e,n.markerName);break}}}}}function _t(e){return(t,n,i)=>{if(!n.item){return}if(!(n.item instanceof Ke[\"a\"])){return}const r=It(e,n,i);if(!r){return}if(!i.consumable.test(n.item,t.name)){return}const o=i.mapper.toViewElement(n.item);if(o&&o.getCustomProperty(\"addHighlight\")){i.consumable.consume(n.item,t.name);for(const e of ze[\"a\"]._createIn(n.item)){i.consumable.consume(e.item,t.name)}o.getCustomProperty(\"addHighlight\")(o,r,i.writer);i.mapper.bindElementToMarker(o,n.markerName)}}}function wt(e){return(t,n,i)=>{if(n.markerRange.isCollapsed){return}const r=It(e,n,i);if(!r){return}const o=it(i.writer,r);const s=i.mapper.markerNameToElements(n.markerName);if(!s){return}for(const e of s){i.mapper.unbindElementFromMarkerName(e,n.markerName);if(e.is(\"attributeElement\")){i.writer.unwrap(i.writer.createRangeOn(e),o)}else{e.getCustomProperty(\"removeHighlight\")(e,r.id,i.writer)}}i.writer.clearClonedElementsGroup(n.markerName);t.stop()}}function vt(e){e=Object(Ze[\"a\"])(e);e.view=Tt(e.view,\"container\");return t=>{t.on(\"insert:\"+e.model,ct(e.view),{priority:e.converterPriority||\"normal\"})}}function kt(e){e=Object(Ze[\"a\"])(e);const t=e.model.key?e.model.key:e.model;let n=\"attribute:\"+t;if(e.model.name){n+=\":\"+e.model.name}if(e.model.values){for(const t of e.model.values){e.view[t]=Tt(e.view[t],\"attribute\")}}else{e.view=Tt(e.view,\"attribute\")}const i=St(e);return t=>{t.on(n,at(i),{priority:e.converterPriority||\"normal\"})}}function xt(e){e=Object(Ze[\"a\"])(e);const t=e.model.key?e.model.key:e.model;let n=\"attribute:\"+t;if(e.model.name){n+=\":\"+e.model.name}if(e.model.values){for(const t of e.model.values){e.view[t]=Ot(e.view[t])}}else{e.view=Ot(e.view)}const i=St(e);return t=>{t.on(n,pt(i),{priority:e.converterPriority||\"normal\"})}}function yt(e){e=Object(Ze[\"a\"])(e);e.view=Tt(e.view,\"ui\");return t=>{t.on(\"addMarker:\"+e.model,lt(e.view),{priority:e.converterPriority||\"normal\"});t.on(\"removeMarker:\"+e.model,dt(e.view),{priority:e.converterPriority||\"normal\"})}}function Ct(e){e=Object(Ze[\"a\"])(e);const t=e.model;if(!e.view){e.view=n=>({group:t,name:n.substr(e.model.length+1)})}return n=>{n.on(\"addMarker:\"+t,ut(e.view),{priority:e.converterPriority||\"normal\"});n.on(\"removeMarker:\"+t,gt(e.view),{priority:e.converterPriority||\"normal\"})}}function At(e){return t=>{t.on(\"addMarker:\"+e.model,bt(e.view),{priority:e.converterPriority||\"normal\"});t.on(\"addMarker:\"+e.model,_t(e.view),{priority:e.converterPriority||\"normal\"});t.on(\"removeMarker:\"+e.model,wt(e.view),{priority:e.converterPriority||\"normal\"})}}function Tt(e,t){if(typeof e==\"function\"){return e}return(n,i)=>Et(e,i,t)}function Et(e,t,n){if(typeof e==\"string\"){e={name:e}}let i;const r=Object.assign({},e.attributes);if(n==\"container\"){i=t.createContainerElement(e.name,r)}else if(n==\"attribute\"){const n={priority:e.priority||p.DEFAULT_PRIORITY};i=t.createAttributeElement(e.name,r,n)}else{i=t.createUIElement(e.name,r)}if(e.styles){const n=Object.keys(e.styles);for(const r of n){t.setStyle(r,e.styles[r],i)}}if(e.classes){const n=e.classes;if(typeof n==\"string\"){t.addClass(n,i)}else{for(const e of n){t.addClass(e,i)}}}return i}function St(e){if(e.model.values){return(t,n)=>{const i=e.view[t];if(i){return i(t,n)}return null}}else{return e.view}}function Ot(e){if(typeof e==\"string\"){return t=>({key:e,value:t})}else if(typeof e==\"object\"){if(e.value){return()=>e}else{return t=>({key:e.key,value:t})}}else{return e}}function It(e,t,n){const i=typeof e==\"function\"?e(t,n):e;if(!i){return null}if(!i.priority){i.priority=10}if(!i.id){i.id=t.markerName}return i}var Pt=n(65);var Mt=n(39);class Rt extends Qe{elementToElement(e){return this.add(Lt(e))}elementToAttribute(e){return this.add(Bt(e))}attributeToAttribute(e){return this.add(Ft(e))}elementToMarker(e){console.warn(Object(m[\"a\"])(\"upcast-helpers-element-to-marker-deprecated: \"+\"The UpcastHelpers#elementToMarker() method has been deprecated and will be removed in the near future. \"+\"Please use UpcastHelpers#dataToMarker() instead.\"));return this.add(zt(e))}dataToMarker(e){return this.add(Vt(e))}}function Nt(){return(e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:true})){const{modelRange:e,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e;t.modelCursor=i}}}function jt(){return(e,t,n)=>{if(n.schema.checkChild(t.modelCursor,\"$text\")){if(n.consumable.consume(t.viewItem)){const e=n.writer.createText(t.viewItem.data);n.writer.insert(e,t.modelCursor);t.modelRange=ze[\"a\"]._createFromPositionAndShift(t.modelCursor,e.offsetSize);t.modelCursor=t.modelRange.end}}}}function Dt(e,t){return(n,i)=>{const r=i.newSelection;const o=new Ge[\"a\"];const s=[];for(const e of r.getRanges()){s.push(t.toModelRange(e))}o.setTo(s,{backward:r.isBackward});if(!o.isEqual(e.document.selection)){e.change(e=>{e.setSelection(o)})}}}function Lt(e){e=Object(Ze[\"a\"])(e);const t=Wt(e);const n=Ht(e.view);const i=n?\"element:\"+n:\"element\";return n=>{n.on(i,t,{priority:e.converterPriority||\"normal\"})}}function Bt(e){e=Object(Ze[\"a\"])(e);Yt(e);const t=Jt(e,false);const n=Ht(e.view);const i=n?\"element:\"+n:\"element\";return n=>{n.on(i,t,{priority:e.converterPriority||\"low\"})}}function Ft(e){e=Object(Ze[\"a\"])(e);let t=null;if(typeof e.view==\"string\"||e.view.key){t=qt(e)}Yt(e,t);const n=Jt(e,true);return t=>{t.on(\"element\",n,{priority:e.converterPriority||\"low\"})}}function zt(e){e=Object(Ze[\"a\"])(e);Xt(e);return Lt(e)}function Vt(e){e=Object(Ze[\"a\"])(e);if(!e.model){e.model=t=>t?e.view+\":\"+t:e.view}const t=Wt(Qt(e,\"start\"));const n=Wt(Qt(e,\"end\"));return i=>{i.on(\"element:\"+e.view+\"-start\",t,{priority:e.converterPriority||\"normal\"});i.on(\"element:\"+e.view+\"-end\",n,{priority:e.converterPriority||\"normal\"});const r=Mt[\"a\"].get(\"low\");const o=Mt[\"a\"].get(\"highest\");const s=Mt[\"a\"].get(e.converterPriority)/o;i.on(\"element\",Ut(e),{priority:r+s})}}function Ut(e){return(t,n,i)=>{const r=`data-${e.view}`;if(!n.modelRange){n=Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor))}if(i.consumable.consume(n.viewItem,{attributes:r+\"-end-after\"})){o(n.modelRange.end,n.viewItem.getAttribute(r+\"-end-after\").split(\",\"))}if(i.consumable.consume(n.viewItem,{attributes:r+\"-start-after\"})){o(n.modelRange.end,n.viewItem.getAttribute(r+\"-start-after\").split(\",\"))}if(i.consumable.consume(n.viewItem,{attributes:r+\"-end-before\"})){o(n.modelRange.start,n.viewItem.getAttribute(r+\"-end-before\").split(\",\"))}if(i.consumable.consume(n.viewItem,{attributes:r+\"-start-before\"})){o(n.modelRange.start,n.viewItem.getAttribute(r+\"-start-before\").split(\",\"))}function o(t,r){for(const o of r){const r=e.model(o);const s=i.writer.createElement(\"$marker\",{\"data-name\":r});i.writer.insert(s,t);if(n.modelCursor.isEqual(t)){n.modelCursor=n.modelCursor.getShiftedBy(1)}else{n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1)}n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}}}function Ht(e){if(typeof e==\"string\"){return e}if(typeof e==\"object\"&&typeof e.name==\"string\"){return e.name}return null}function Wt(e){const t=e.view?new Pt[\"a\"](e.view):null;return(n,i,r)=>{let o={};if(t){const e=t.match(i.viewItem);if(!e){return}o=e.match}o.name=true;const s=$t(e.model,i.viewItem,r.writer);if(!s){return}if(!r.consumable.test(i.viewItem,o)){return}const a=r.splitToAllowedParent(s,i.modelCursor);if(!a){return}r.writer.insert(s,a.position);r.convertChildren(i.viewItem,r.writer.createPositionAt(s,0));r.consumable.consume(i.viewItem,o);const c=r.getSplitParts(s);i.modelRange=new ze[\"a\"](r.writer.createPositionBefore(s),r.writer.createPositionAfter(c[c.length-1]));if(a.cursorParent){i.modelCursor=r.writer.createPositionAt(a.cursorParent,0)}else{i.modelCursor=i.modelRange.end}}}function $t(e,t,n){if(e instanceof Function){return e(t,n)}else{return n.createElement(e)}}function qt(e){if(typeof e.view==\"string\"){e.view={key:e.view}}const t=e.view.key;let n;if(t==\"class\"||t==\"style\"){const i=t==\"class\"?\"classes\":\"styles\";n={[i]:e.view.value}}else{const i=typeof e.view.value==\"undefined\"?/[\\s\\S]*/:e.view.value;n={attributes:{[t]:i}}}if(e.view.name){n.name=e.view.name}e.view=n;return t}function Yt(e,t=null){const n=t===null?true:e=>e.getAttribute(t);const i=typeof e.model!=\"object\"?e.model:e.model.key;const r=typeof e.model!=\"object\"||typeof e.model.value==\"undefined\"?n:e.model.value;e.model={key:i,value:r}}function Jt(e,t){const n=new Pt[\"a\"](e.view);return(i,r,o)=>{const s=n.match(r.viewItem);if(!s){return}const a=e.model.key;const c=typeof e.model.value==\"function\"?e.model.value(r.viewItem):e.model.value;if(c===null){return}if(Gt(e.view,r.viewItem)){s.match.name=true}else{delete s.match.name}if(!o.consumable.test(r.viewItem,s.match)){return}if(!r.modelRange){r=Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor))}const l=Kt(r.modelRange,{key:a,value:c},t,o);if(l){o.consumable.consume(r.viewItem,s.match)}}}function Gt(e,t){const n=typeof e==\"function\"?e(t):e;if(typeof n==\"object\"&&!Ht(n)){return false}return!n.classes&&!n.attributes&&!n.styles}function Kt(e,t,n,i){let r=false;for(const o of Array.from(e.getItems({shallow:n}))){if(i.schema.checkAttribute(o,t.key)){i.writer.setAttribute(t.key,t.value,o);r=true}}return r}function Xt(e){const t=e.model;e.model=(e,n)=>{const i=typeof t==\"string\"?t:t(e);return n.createElement(\"$marker\",{\"data-name\":i})}}function Qt(e,t){const n={};n.view=e.view+\"-\"+t;n.model=(t,n)=>{const i=t.getAttribute(\"name\");const r=e.model(i);return n.createElement(\"$marker\",{\"data-name\":r})};return n}class Zt{constructor(e,t){this.model=e;this.view=new Be(t);this.mapper=new Ue;this.downcastDispatcher=new Ye({mapper:this.mapper,schema:e.schema});const n=this.model.document;const i=n.selection;const r=this.model.markers;this.listenTo(this.model,\"_beforeChanges\",()=>{this.view._disableRendering(true)},{priority:\"highest\"});this.listenTo(this.model,\"_afterChanges\",()=>{this.view._disableRendering(false)},{priority:\"lowest\"});this.listenTo(n,\"change\",()=>{this.view.change(e=>{this.downcastDispatcher.convertChanges(n.differ,r,e);this.downcastDispatcher.convertSelection(i,r,e)})},{priority:\"low\"});this.listenTo(this.view.document,\"selectionChange\",Dt(this.model,this.mapper));this.downcastDispatcher.on(\"insert:$text\",tt(),{priority:\"lowest\"});this.downcastDispatcher.on(\"remove\",nt(),{priority:\"low\"});this.downcastDispatcher.on(\"selection\",st(),{priority:\"low\"});this.downcastDispatcher.on(\"selection\",rt(),{priority:\"low\"});this.downcastDispatcher.on(\"selection\",ot(),{priority:\"low\"});this.view.document.roots.bindTo(this.model.document.roots).using(e=>{if(e.rootName==\"$graveyard\"){return null}const t=new a(this.view.document,e.name);t.rootName=e.rootName;this.mapper.bindElements(e,t);return t})}destroy(){this.view.destroy();this.stopListening()}}Object(q[\"a\"])(Zt,K[\"a\"]);var en=n(167);class tn{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n){throw new m[\"b\"](\"commandcollection-command-not-found: Command does not exist.\",this,{commandName:e})}return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands()){e.destroy()}}}var nn=n(42);class rn{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is(\"$text\")||e.is(\"documentFragment\")){this._consumables.set(e,true);return}if(!this._consumables.has(e)){n=new on(e);this._consumables.set(e,n)}else{n=this._consumables.get(e)}n.add(t)}test(e,t){const n=this._consumables.get(e);if(n===undefined){return null}if(e.is(\"$text\")||e.is(\"documentFragment\")){return n}return n.test(t)}consume(e,t){if(this.test(e,t)){if(e.is(\"$text\")||e.is(\"documentFragment\")){this._consumables.set(e,false)}else{this._consumables.get(e).consume(t)}return true}return false}revert(e,t){const n=this._consumables.get(e);if(n!==undefined){if(e.is(\"$text\")||e.is(\"documentFragment\")){this._consumables.set(e,true)}else{n.revert(t)}}}static consumablesFromElement(e){const t={element:e,name:true,attributes:[],classes:[],styles:[]};const n=e.getAttributeKeys();for(const e of n){if(e==\"style\"||e==\"class\"){continue}t.attributes.push(e)}const i=e.getClassNames();for(const e of i){t.classes.push(e)}const r=e.getStyleNames();for(const e of r){t.styles.push(e)}return t}static createFrom(e,t){if(!t){t=new rn(e)}if(e.is(\"$text\")){t.add(e);return t}if(e.is(\"element\")){t.add(e,rn.consumablesFromElement(e))}if(e.is(\"documentFragment\")){t.add(e)}for(const n of e.getChildren()){t=rn.createFrom(n,t)}return t}}class on{constructor(e){this.element=e;this._canConsumeName=null;this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){if(e.name){this._canConsumeName=true}for(const t in this._consumables){if(t in e){this._add(t,e[t])}}}test(e){if(e.name&&!this._canConsumeName){return this._canConsumeName}for(const t in this._consumables){if(t in e){const n=this._test(t,e[t]);if(n!==true){return n}}}return true}consume(e){if(e.name){this._canConsumeName=false}for(const t in this._consumables){if(t in e){this._consume(t,e[t])}}}revert(e){if(e.name){this._canConsumeName=true}for(const t in this._consumables){if(t in e){this._revert(t,e[t])}}}_add(e,t){const n=Object(nn[\"a\"])(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e===\"attributes\"&&(t===\"class\"||t===\"style\")){throw new m[\"b\"](\"viewconsumable-invalid-attribute: Classes and styles should be handled separately.\",this)}i.set(t,true);if(e===\"styles\"){for(const e of this.element.document.stylesProcessor.getRelatedStyles(t)){i.set(e,true)}}}}_test(e,t){const n=Object(nn[\"a\"])(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e===\"attributes\"&&(t===\"class\"||t===\"style\")){const e=t==\"class\"?\"classes\":\"styles\";const n=this._test(e,[...this._consumables[e].keys()]);if(n!==true){return n}}else{const e=i.get(t);if(e===undefined){return null}if(!e){return false}}}return true}_consume(e,t){const n=Object(nn[\"a\"])(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e===\"attributes\"&&(t===\"class\"||t===\"style\")){const e=t==\"class\"?\"classes\":\"styles\";this._consume(e,[...this._consumables[e].keys()])}else{i.set(t,false);if(e==\"styles\"){for(const e of this.element.document.stylesProcessor.getRelatedStyles(t)){i.set(e,false)}}}}}_revert(e,t){const n=Object(nn[\"a\"])(t)?t:[t];const i=this._consumables[e];for(const t of n){if(e===\"attributes\"&&(t===\"class\"||t===\"style\")){const e=t==\"class\"?\"classes\":\"styles\";this._revert(e,[...this._consumables[e].keys()])}else{const e=i.get(t);if(e===false){i.set(t,true)}}}}}var sn=n(24);var an=n(50);class cn{constructor(){this._sourceDefinitions={};this._attributeProperties={};this.decorate(\"checkChild\");this.decorate(\"checkAttribute\");this.on(\"checkAttribute\",(e,t)=>{t[0]=new ln(t[0])},{priority:\"highest\"});this.on(\"checkChild\",(e,t)=>{t[0]=new ln(t[0]);t[1]=this.getDefinition(t[1])},{priority:\"highest\"})}register(e,t){if(this._sourceDefinitions[e]){throw new m[\"b\"](\"schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.\",this,{itemName:e})}this._sourceDefinitions[e]=[Object.assign({},t)];this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e]){throw new m[\"b\"](\"schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.\",this,{itemName:e})}this._sourceDefinitions[e].push(Object.assign({},t));this._clearCache()}getDefinitions(){if(!this._compiledDefinitions){this._compile()}return this._compiledDefinitions}getDefinition(e){let t;if(typeof e==\"string\"){t=e}else if(e.is&&(e.is(\"$text\")||e.is(\"$textProxy\"))){t=\"$text\"}else{t=e.name}return this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);if(!t){return false}return!!(t.isLimit||t.isObject)}isObject(e){const t=this.getDefinition(e);return!!(t&&t.isObject)}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}checkChild(e,t){if(!t){return false}return this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);if(!n){return false}return n.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof Fe[\"a\"]){const t=e.nodeBefore;const n=e.nodeAfter;if(!(t instanceof Ke[\"a\"])){throw new m[\"b\"](\"schema-check-merge-no-element-before: The node before the merge position must be an element.\",this)}if(!(n instanceof Ke[\"a\"])){throw new m[\"b\"](\"schema-check-merge-no-element-after: The node after the merge position must be an element.\",this)}return this.checkMerge(t,n)}for(const n of t.getChildren()){if(!this.checkChild(e,n)){return false}}return true}addChildCheck(e){this.on(\"checkChild\",(t,[n,i])=>{if(!i){return}const r=e(n,i);if(typeof r==\"boolean\"){t.stop();t.return=r}},{priority:\"high\"})}addAttributeCheck(e){this.on(\"checkAttribute\",(t,[n,i])=>{const r=e(n,i);if(typeof r==\"boolean\"){t.stop();t.return=r}},{priority:\"high\"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;if(e instanceof Fe[\"a\"]){t=e.parent}else{const n=e instanceof ze[\"a\"]?[e]:Array.from(e.getRanges());t=n.reduce((e,t)=>{const n=t.getCommonAncestor();if(!e){return n}return e.getCommonAncestor(n,{includeSelf:true})},null)}while(!this.isLimit(t)){if(t.parent){t=t.parent}else{break}}return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=e.getFirstPosition();const i=[...n.getAncestors(),new sn[\"a\"](\"\",e.getAttributes())];return this.checkAttribute(i,t)}else{const n=e.getRanges();for(const e of n){for(const n of e){if(this.checkAttribute(n.item,t)){return true}}}}return false}*getValidRanges(e,t){e=Cn(e);for(const n of e){yield*this._getValidRangesForRange(n,t)}}getNearestSelectionRange(e,t=\"both\"){if(this.checkChild(e,\"$text\")){return new ze[\"a\"](e)}let n,i;const r=e.getAncestors().reverse().find(e=>this.isLimit(e))||e.root;if(t==\"both\"||t==\"backward\"){n=new an[\"a\"]({boundaries:ze[\"a\"]._createIn(r),startPosition:e,direction:\"backward\"})}if(t==\"both\"||t==\"forward\"){i=new an[\"a\"]({boundaries:ze[\"a\"]._createIn(r),startPosition:e})}for(const e of yn(n,i)){const t=e.walker==n?\"elementEnd\":\"elementStart\";const i=e.value;if(i.type==t&&this.isObject(i.item)){return ze[\"a\"]._createOn(i.item)}if(this.checkChild(i.nextPosition,\"$text\")){return new ze[\"a\"](i.nextPosition)}}return null}findAllowedParent(e,t){let n=e.parent;while(n){if(this.checkChild(n,t)){return n}if(this.isLimit(n)){return null}n=n.parent}return null}removeDisallowedAttributes(e,t){for(const n of e){if(n.is(\"$text\")){An(this,n,t)}else{const e=ze[\"a\"]._createIn(n);const i=e.getPositions();for(const e of i){const n=e.nodeBefore||e.parent;An(this,n,t)}}}}createContext(e){return new ln(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={};const t=this._sourceDefinitions;const n=Object.keys(t);for(const i of n){e[i]=dn(t[i],i)}for(const t of n){un(e,t)}for(const t of n){hn(e,t)}for(const t of n){fn(e,t);mn(e,t)}for(const t of n){gn(e,t);pn(e,t)}this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const i=t.getItem(n);if(e.allowIn.includes(i.name)){if(n==0){return true}else{const e=this.getDefinition(i);return this._checkContextMatch(e,t,n-1)}}else{return false}}*_getValidRangesForRange(e,t){let n=e.start;let i=e.start;for(const r of e.getItems({shallow:true})){if(r.is(\"element\")){yield*this._getValidRangesForRange(ze[\"a\"]._createIn(r),t)}if(!this.checkAttribute(r,t)){if(!n.isEqual(i)){yield new ze[\"a\"](n,i)}n=Fe[\"a\"]._createAfter(r)}i=Fe[\"a\"]._createAfter(r)}if(!n.isEqual(i)){yield new ze[\"a\"](n,i)}}}Object(q[\"a\"])(cn,K[\"a\"]);class ln{constructor(e){if(e instanceof ln){return e}if(typeof e==\"string\"){e=[e]}else if(!Array.isArray(e)){e=e.getAncestors({includeSelf:true})}if(e[0]&&typeof e[0]!=\"string\"&&e[0].is(\"documentFragment\")){e.shift()}this._items=e.map(xn)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new ln([e]);t._items=[...this._items,...t._items];return t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(\" \").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(\" \").startsWith(e)}}function dn(e,t){const n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};bn(e,n);_n(e,n,\"allowIn\");_n(e,n,\"allowContentOf\");_n(e,n,\"allowWhere\");_n(e,n,\"allowAttributes\");_n(e,n,\"allowAttributesOf\");_n(e,n,\"inheritTypesFrom\");wn(e,n);return n}function un(e,t){for(const n of e[t].allowContentOf){if(e[n]){const i=vn(e,n);i.forEach(e=>{e.allowIn.push(t)})}}delete e[t].allowContentOf}function hn(e,t){for(const n of e[t].allowWhere){const i=e[n];if(i){const n=i.allowIn;e[t].allowIn.push(...n)}}delete e[t].allowWhere}function fn(e,t){for(const n of e[t].allowAttributesOf){const i=e[n];if(i){const n=i.allowAttributes;e[t].allowAttributes.push(...n)}}delete e[t].allowAttributesOf}function mn(e,t){const n=e[t];for(const t of n.inheritTypesFrom){const i=e[t];if(i){const e=Object.keys(i).filter(e=>e.startsWith(\"is\"));for(const t of e){if(!(t in n)){n[t]=i[t]}}}}delete n.inheritTypesFrom}function gn(e,t){const n=e[t];const i=n.allowIn.filter(t=>e[t]);n.allowIn=Array.from(new Set(i))}function pn(e,t){const n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function bn(e,t){for(const n of e){const e=Object.keys(n).filter(e=>e.startsWith(\"is\"));for(const i of e){t[i]=n[i]}}}function _n(e,t,n){for(const i of e){if(typeof i[n]==\"string\"){t[n].push(i[n])}else if(Array.isArray(i[n])){t[n].push(...i[n])}}}function wn(e,t){for(const n of e){const e=n.inheritAllFrom;if(e){t.allowContentOf.push(e);t.allowWhere.push(e);t.allowAttributesOf.push(e);t.inheritTypesFrom.push(e)}}}function vn(e,t){const n=e[t];return kn(e).filter(e=>e.allowIn.includes(n.name))}function kn(e){return Object.keys(e).map(t=>e[t])}function xn(e){if(typeof e==\"string\"){return{name:e,*getAttributeKeys(){},getAttribute(){}}}else{return{name:e.is(\"element\")?e.name:\"$text\",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute(t){return e.getAttribute(t)}}}}function*yn(e,t){let n=false;while(!n){n=true;if(e){const t=e.next();if(!t.done){n=false;yield{walker:e,value:t.value}}}if(t){const e=t.next();if(!e.done){n=false;yield{walker:t,value:e.value}}}}}function*Cn(e){for(const t of e){yield*t.getMinimalFlatRanges()}}function An(e,t,n){for(const i of t.getAttributeKeys()){if(!e.checkAttribute(t,i)){n.removeAttribute(i,t)}}}class Tn{constructor(e={}){this._splitParts=new Map;this._modelCursor=null;this.conversionApi=Object.assign({},e);this.conversionApi.convertItem=this._convertItem.bind(this);this.conversionApi.convertChildren=this._convertChildren.bind(this);this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this);this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(e,t,n=[\"$root\"]){this.fire(\"viewCleanup\",e);this._modelCursor=Sn(n,t);this.conversionApi.writer=t;this.conversionApi.consumable=rn.createFrom(e);this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor);const r=t.createDocumentFragment();if(i){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren())){t.append(e,r)}r.markers=En(r,t)}this._modelCursor=null;this._splitParts.clear();this.conversionApi.writer=null;this.conversionApi.store=null;return r}_convertItem(e,t){const n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is(\"element\")){this.fire(\"element:\"+e.name,n,this.conversionApi)}else if(e.is(\"$text\")){this.fire(\"text\",n,this.conversionApi)}else{this.fire(\"documentFragment\",n,this.conversionApi)}if(n.modelRange&&!(n.modelRange instanceof ze[\"a\"])){throw new m[\"b\"](\"view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.\",this)}return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){const n=new ze[\"a\"](t);let i=t;for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,i);if(e.modelRange instanceof ze[\"a\"]){n.end=e.modelRange.end;i=e.modelCursor}}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(e,t){const n=this.conversionApi.schema.findAllowedParent(t,e);if(!n){return null}if(n===t.parent){return{position:t}}if(this._modelCursor.parent.getAncestors().includes(n)){return null}const i=this.conversionApi.writer.split(t,n);const r=[];for(const e of i.range.getWalker()){if(e.type==\"elementEnd\"){r.push(e.item)}else{const t=r.pop();const n=e.item;this._registerSplitPair(t,n)}}return{position:i.position,cursorParent:i.range.end.parent}}_registerSplitPair(e,t){if(!this._splitParts.has(e)){this._splitParts.set(e,[e])}const n=this._splitParts.get(e);this._splitParts.set(t,n);n.push(t)}_getSplitParts(e){let t;if(!this._splitParts.has(e)){t=[e]}else{t=this._splitParts.get(e)}return t}_removeEmptyElements(){let e=false;for(const t of this._splitParts.keys()){if(t.isEmpty){this.conversionApi.writer.remove(t);this._splitParts.delete(t);e=true}}if(e){this._removeEmptyElements()}}}Object(q[\"a\"])(Tn,Ve[\"c\"]);function En(e,t){const n=new Set;const i=new Map;const r=ze[\"a\"]._createIn(e).getItems();for(const e of r){if(e.name==\"$marker\"){n.add(e)}}for(const e of n){const n=e.getAttribute(\"data-name\");const r=t.createPositionBefore(e);if(!i.has(n)){i.set(n,new ze[\"a\"](r.clone()))}else{i.get(n).end=r.clone()}t.remove(e)}return i}function Sn(e,t){let n;for(const i of new ln(e)){const e={};for(const t of i.getAttributeKeys()){e[t]=i.getAttribute(t)}const r=t.createElement(i.name,e);if(n){t.append(r,n)}n=Fe[\"a\"]._createAt(r,0)}return n}class On{constructor(e,t){this.model=e;this.stylesProcessor=t;this.processor;this.mapper=new Ue;this.downcastDispatcher=new Ye({mapper:this.mapper,schema:e.schema});this.downcastDispatcher.on(\"insert:$text\",tt(),{priority:\"lowest\"});this.upcastDispatcher=new Tn({schema:e.schema});this.viewDocument=new c[\"a\"](t);this._viewWriter=new R(this.viewDocument);this.upcastDispatcher.on(\"text\",jt(),{priority:\"lowest\"});this.upcastDispatcher.on(\"element\",Nt(),{priority:\"lowest\"});this.upcastDispatcher.on(\"documentFragment\",Nt(),{priority:\"lowest\"});this.decorate(\"init\");this.decorate(\"set\");this.on(\"init\",()=>{this.fire(\"ready\")},{priority:\"lowest\"})}get(e){const{rootName:t=\"main\",trim:n=\"empty\"}=e||{};if(!this._checkIfRootsExists([t])){throw new m[\"b\"](\"datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.\",this)}const i=this.model.document.getRoot(t);if(n===\"empty\"&&!this.model.hasContent(i,{ignoreWhitespaces:true})){return\"\"}return this.stringify(i)}stringify(e){const t=this.toView(e);return this.processor.toData(t)}toView(e){const t=this.viewDocument;const n=this._viewWriter;this.mapper.clearBindings();const i=ze[\"a\"]._createIn(e);const r=new O[\"a\"](t);this.mapper.bindElements(e,r);this.downcastDispatcher.convertInsert(i,n);if(!e.is(\"documentFragment\")){const t=In(e);for(const[e,i]of t){this.downcastDispatcher.convertMarkerAdd(e,i,n)}}return r}init(e){if(this.model.document.version){throw new m[\"b\"](\"datacontroller-init-document-not-empty: Trying to set initial data to not empty document.\",this)}let t={};if(typeof e===\"string\"){t.main=e}else{t=e}if(!this._checkIfRootsExists(Object.keys(t))){throw new m[\"b\"](\"datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.\",this)}this.model.enqueueChange(\"transparent\",e=>{for(const n of Object.keys(t)){const i=this.model.document.getRoot(n);e.insert(this.parse(t[n],i),i,0)}});return Promise.resolve()}set(e){let t={};if(typeof e===\"string\"){t.main=e}else{t=e}if(!this._checkIfRootsExists(Object.keys(t))){throw new m[\"b\"](\"datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.\",this)}this.model.enqueueChange(\"transparent\",e=>{e.setSelection(null);e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(t)){const i=this.model.document.getRoot(n);e.remove(e.createRangeIn(i));e.insert(this.parse(t[n],i),i,0)}})}parse(e,t=\"$root\"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t=\"$root\"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e){if(!this.model.document.getRootNames().includes(t)){return false}}return true}}Object(q[\"a\"])(On,K[\"a\"]);function In(e){const t=[];const n=e.root.document;if(!n){return[]}const i=ze[\"a\"]._createIn(e);for(const e of n.model.markers){const n=i.getIntersection(e.getRange());if(n){t.push([e.name,n])}}return t}class Pn{constructor(e,t){this._helpers=new Map;this._downcast=Array.isArray(e)?e:[e];this._createConversionHelpers({name:\"downcast\",dispatchers:this._downcast,isDowncast:true});this._upcast=Array.isArray(t)?t:[t];this._createConversionHelpers({name:\"upcast\",dispatchers:this._upcast,isDowncast:false})}addAlias(e,t){const n=this._downcast.includes(t);const i=this._upcast.includes(t);if(!i&&!n){throw new m[\"b\"](\"conversion-add-alias-dispatcher-not-registered: \"+\"Trying to register and alias for a dispatcher that nas not been registered.\",this)}this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e)){throw new m[\"b\"](\"conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.\",this)}return this._helpers.get(e)}elementToElement(e){this.for(\"downcast\").elementToElement(e);for(const{model:t,view:n}of Mn(e)){this.for(\"upcast\").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}}attributeToElement(e){this.for(\"downcast\").attributeToElement(e);for(const{model:t,view:n}of Mn(e)){this.for(\"upcast\").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}}attributeToAttribute(e){this.for(\"downcast\").attributeToAttribute(e);for(const{model:t,view:n}of Mn(e)){this.for(\"upcast\").attributeToAttribute({view:n,model:t})}}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e)){throw new m[\"b\"](\"conversion-group-exists: Trying to register a group name that has already been registered.\",this)}const i=n?new et(t):new Rt(t);this._helpers.set(e,i)}}function*Mn(e){if(e.model.values){for(const t of e.model.values){const n={key:e.model.key,value:t};const i=e.view[t];const r=e.upcastAlso?e.upcastAlso[t]:undefined;yield*Rn(n,i,r)}}else{yield*Rn(e.model,e.view,e.upcastAlso)}}function*Rn(e,t,n){yield{model:e,view:t};if(n){n=Array.isArray(n)?n:[n];for(const t of n){yield{model:e,view:t}}}}class Nn{constructor(e=\"default\"){this.operations=[];this.type=e}get baseVersion(){for(const e of this.operations){if(e.baseVersion!==null){return e.baseVersion}}return null}addOperation(e){e.batch=this;this.operations.push(e);return e}}var jn=n(45);var Dn=n(36);var Ln=n(60);class Bn extends Dn[\"a\"]{constructor(e,t){super(null);this.sourcePosition=e.clone();this.howMany=t}get type(){return\"detach\"}toJSON(){const e=super.toJSON();e.sourcePosition=this.sourcePosition.toJSON();return e}_validate(){if(this.sourcePosition.root.document){throw new m[\"b\"](\"detach-operation-on-document-node: Cannot detach document node.\",this)}}_execute(){Object(Ln[\"d\"])(ze[\"a\"]._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return\"DetachOperation\"}}var Fn=n(44);var zn=n(66);var Vn=n(22);var Un=n(71);var Hn=n(105);var Wn=n(25);var $n=n(33);var qn=n(97);class Yn extends Ke[\"a\"]{constructor(e,t,n=\"main\"){super(t);this._document=e;this.rootName=n}get document(){return this._document}is(e,t){if(!t){return e===\"rootElement\"||e===\"model:rootElement\"||e===\"element\"||e===\"model:element\"||e===\"node\"||e===\"model:node\"}return t===this.name&&(e===\"rootElement\"||e===\"model:rootElement\"||e===\"element\"||e===\"model:element\")}toJSON(){return this.rootName}}var Jn=n(53);class Gn{constructor(e,t){this.model=e;this.batch=t}createText(e,t){return new sn[\"a\"](e,t)}createElement(e,t){return new Ke[\"a\"](e,t)}createDocumentFragment(){return new qn[\"a\"]}cloneElement(e,t=true){return e._clone(t)}insert(e,t,n=0){this._assertWriterUsedCorrectly();if(e instanceof sn[\"a\"]&&e.data==\"\"){return}const i=Fe[\"a\"]._createAt(t,n);if(e.parent){if(ei(e.root,i.root)){this.move(ze[\"a\"]._createOn(e),i);return}else{if(e.root.document){throw new m[\"b\"](\"model-writer-insert-forbidden-move: \"+\"Cannot move a node from a document to a different tree. \"+\"It is forbidden to move a node that was already in a document outside of it.\",this)}else{this.remove(e)}}}const r=i.root.document?i.root.document.version:null;const o=new Fn[\"a\"](i,e,r);if(e instanceof sn[\"a\"]){o.shouldReceiveAttributes=true}this.batch.addOperation(o);this.model.applyOperation(o);if(e instanceof qn[\"a\"]){for(const[t,n]of e.markers){const e=Fe[\"a\"]._createAt(n.root,0);const r=new ze[\"a\"](n.start._getCombined(e,i),n.end._getCombined(e,i));const o={range:r,usingOperation:true,affectsData:true};if(this.model.markers.has(t)){this.updateMarker(t,o)}else{this.addMarker(t,o)}}}}insertText(e,t,n,i){if(t instanceof qn[\"a\"]||t instanceof Ke[\"a\"]||t instanceof Fe[\"a\"]){this.insert(this.createText(e),t,n)}else{this.insert(this.createText(e,t),n,i)}}insertElement(e,t,n,i){if(t instanceof qn[\"a\"]||t instanceof Ke[\"a\"]||t instanceof Fe[\"a\"]){this.insert(this.createElement(e),t,n)}else{this.insert(this.createElement(e,t),n,i)}}append(e,t){this.insert(e,t,\"end\")}appendText(e,t,n){if(t instanceof qn[\"a\"]||t instanceof Ke[\"a\"]){this.insert(this.createText(e),t,\"end\")}else{this.insert(this.createText(e,t),n,\"end\")}}appendElement(e,t,n){if(t instanceof qn[\"a\"]||t instanceof Ke[\"a\"]){this.insert(this.createElement(e),t,\"end\")}else{this.insert(this.createElement(e,t),n,\"end\")}}setAttribute(e,t,n){this._assertWriterUsedCorrectly();if(n instanceof ze[\"a\"]){const i=n.getMinimalFlatRanges();for(const n of i){Kn(this,e,t,n)}}else{Xn(this,e,t,n)}}setAttributes(e,t){for(const[n,i]of Object(Jn[\"a\"])(e)){this.setAttribute(n,i,t)}}removeAttribute(e,t){this._assertWriterUsedCorrectly();if(t instanceof ze[\"a\"]){const n=t.getMinimalFlatRanges();for(const t of n){Kn(this,e,null,t)}}else{Xn(this,e,null,t)}}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys()){this.removeAttribute(t,e)}};if(!(e instanceof ze[\"a\"])){t(e)}else{for(const n of e.getItems()){t(n)}}}move(e,t,n){this._assertWriterUsedCorrectly();if(!(e instanceof ze[\"a\"])){throw new m[\"b\"](\"writer-move-invalid-range: Invalid range to move.\",this)}if(!e.isFlat){throw new m[\"b\"](\"writer-move-range-not-flat: Range to move is not flat.\",this)}const i=Fe[\"a\"]._createAt(t,n);if(i.isEqual(e.start)){return}this._addOperationForAffectedMarkers(\"move\",e);if(!ei(e.root,i.root)){throw new m[\"b\"](\"writer-move-different-document: Range is going to be moved between different documents.\",this)}const r=e.root.document?e.root.document.version:null;const o=new Vn[\"a\"](e.start,e.end.offset-e.start.offset,i,r);this.batch.addOperation(o);this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const t=e instanceof ze[\"a\"]?e:ze[\"a\"]._createOn(e);const n=t.getMinimalFlatRanges().reverse();for(const e of n){this._addOperationForAffectedMarkers(\"move\",e);Zn(e.start,e.end.offset-e.start.offset,this.batch,this.model)}}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore;const n=e.nodeAfter;this._addOperationForAffectedMarkers(\"merge\",e);if(!(t instanceof Ke[\"a\"])){throw new m[\"b\"](\"writer-merge-no-element-before: Node before merge position must be an element.\",this)}if(!(n instanceof Ke[\"a\"])){throw new m[\"b\"](\"writer-merge-no-element-after: Node after merge position must be an element.\",this)}if(!e.root.document){this._mergeDetached(e)}else{this._merge(e)}}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,t,n){return this.model.createSelection(e,t,n)}_mergeDetached(e){const t=e.nodeBefore;const n=e.nodeAfter;this.move(ze[\"a\"]._createIn(n),Fe[\"a\"]._createAt(t,\"end\"));this.remove(n)}_merge(e){const t=Fe[\"a\"]._createAt(e.nodeBefore,\"end\");const n=Fe[\"a\"]._createAt(e.nodeAfter,0);const i=e.root.document.graveyard;const r=new Fe[\"a\"](i,[0]);const o=e.root.document.version;const s=new $n[\"a\"](n,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(s);this.model.applyOperation(s)}rename(e,t){this._assertWriterUsedCorrectly();if(!(e instanceof Ke[\"a\"])){throw new m[\"b\"](\"writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.\",this)}const n=e.root.document?e.root.document.version:null;const i=new Un[\"a\"](Fe[\"a\"]._createBefore(e),e.name,t,n);this.batch.addOperation(i);this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent){throw new m[\"b\"](\"writer-split-element-no-parent: Element with no parent can not be split.\",this)}if(!t){t=n.parent}if(!e.parent.getAncestors({includeSelf:true}).includes(t)){throw new m[\"b\"](\"writer-split-invalid-limit-element: Limit element is not a position ancestor.\",this)}let i,r;do{const t=n.root.document?n.root.document.version:null;const o=n.maxOffset-e.offset;const s=new Wn[\"a\"](e,o,null,t);this.batch.addOperation(s);this.model.applyOperation(s);if(!i&&!r){i=n;r=e.parent.nextSibling}e=this.createPositionAfter(e.parent);n=e.parent}while(n!==t);return{position:e,range:new ze[\"a\"](Fe[\"a\"]._createAt(i,\"end\"),Fe[\"a\"]._createAt(r,0))}}wrap(e,t){this._assertWriterUsedCorrectly();if(!e.isFlat){throw new m[\"b\"](\"writer-wrap-range-not-flat: Range to wrap is not flat.\",this)}const n=t instanceof Ke[\"a\"]?t:new Ke[\"a\"](t);if(n.childCount>0){throw new m[\"b\"](\"writer-wrap-element-not-empty: Element to wrap with is not empty.\",this)}if(n.parent!==null){throw new m[\"b\"](\"writer-wrap-element-attached: Element to wrap with is already attached to tree model.\",this)}this.insert(n,e.start);const i=new ze[\"a\"](e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Fe[\"a\"]._createAt(n,0))}unwrap(e){this._assertWriterUsedCorrectly();if(e.parent===null){throw new m[\"b\"](\"writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.\",this)}this.move(ze[\"a\"]._createIn(e),this.createPositionAfter(e));this.remove(e)}addMarker(e,t){this._assertWriterUsedCorrectly();if(!t||typeof t.usingOperation!=\"boolean\"){throw new m[\"b\"](\"writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.\",this)}const n=t.usingOperation;const i=t.range;const r=t.affectsData===undefined?false:t.affectsData;if(this.model.markers.has(e)){throw new m[\"b\"](\"writer-addMarker-marker-exists: Marker with provided name already exists.\",this)}if(!i){throw new m[\"b\"](\"writer-addMarker-no-range: Range parameter is required when adding a new marker.\",this)}if(!n){return this.model.markers._set(e,i,n,r)}Qn(this,e,null,i,r);return this.model.markers.get(e)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e==\"string\"?e:e.name;const i=this.model.markers.get(n);if(!i){throw new m[\"b\"](\"writer-updateMarker-marker-not-exists: Marker with provided name does not exists.\",this)}if(!t){this.model.markers._refresh(i);return}const r=typeof t.usingOperation==\"boolean\";const o=typeof t.affectsData==\"boolean\";const s=o?t.affectsData:i.affectsData;if(!r&&!t.range&&!o){throw new m[\"b\"](\"writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.\",this)}const a=i.getRange();const c=t.range?t.range:a;if(r&&t.usingOperation!==i.managedUsingOperations){if(t.usingOperation){Qn(this,n,null,c,s)}else{Qn(this,n,a,null,s);this.model.markers._set(n,c,undefined,s)}return}if(i.managedUsingOperations){Qn(this,n,a,c,s)}else{this.model.markers._set(n,c,undefined,s)}}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e==\"string\"?e:e.name;if(!this.model.markers.has(t)){throw new m[\"b\"](\"writer-removeMarker-no-marker: Trying to remove marker which does not exist.\",this)}const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const i=n.getRange();Qn(this,t,i,null,n.affectsData)}setSelection(e,t,n){this._assertWriterUsedCorrectly();this.model.document.selection._setTo(e,t,n)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly();this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){this._assertWriterUsedCorrectly();if(typeof e===\"string\"){this._setSelectionAttribute(e,t)}else{for(const[t,n]of Object(Jn[\"a\"])(e)){this._setSelectionAttribute(t,n)}}}removeSelectionAttribute(e){this._assertWriterUsedCorrectly();if(typeof e===\"string\"){this._removeSelectionAttribute(e)}else{for(const t of e){this._removeSelectionAttribute(t)}}}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Xe[\"a\"]._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Xe[\"a\"]._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this){throw new m[\"b\"](\"writer-incorrect-use: Trying to use a writer outside the change() block.\",this)}}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations){continue}const i=n.getRange();let r=false;if(e===\"move\"){r=t.containsPosition(i.start)||t.start.isEqual(i.start)||t.containsPosition(i.end)||t.end.isEqual(i.end)}else{const e=t.nodeBefore;const n=t.nodeAfter;const o=i.start.parent==e&&i.start.isAtEnd;const s=i.end.parent==n&&i.end.offset==0;const a=i.end.nodeAfter==n;const c=i.start.nodeAfter==n;r=o||s||a||c}if(r){this.updateMarker(n.name,{range:i})}}}}function Kn(e,t,n,i){const r=e.model;const o=r.document;let s=i.start;let a;let c;let l;for(const e of i.getWalker({shallow:true})){l=e.item.getAttribute(t);if(a&&c!=l){if(c!=n){d()}s=a}a=e.nextPosition;c=l}if(a instanceof Fe[\"a\"]&&a!=s&&c!=n){d()}function d(){const i=new ze[\"a\"](s,a);const l=i.root.document?o.version:null;const d=new jn[\"a\"](i,t,c,n,l);e.batch.addOperation(d);r.applyOperation(d)}}function Xn(e,t,n,i){const r=e.model;const o=r.document;const s=i.getAttribute(t);let a,c;if(s!=n){const l=i.root===i;if(l){const e=i.document?o.version:null;c=new Hn[\"a\"](i,t,s,n,e)}else{a=new ze[\"a\"](Fe[\"a\"]._createBefore(i),e.createPositionAfter(i));const r=a.root.document?o.version:null;c=new jn[\"a\"](a,t,s,n,r)}e.batch.addOperation(c);r.applyOperation(c)}}function Qn(e,t,n,i,r){const o=e.model;const s=o.document;const a=new zn[\"a\"](t,n,i,o.markers,r,s.version);e.batch.addOperation(a);o.applyOperation(a)}function Zn(e,t,n,i){let r;if(e.root.document){const n=i.document;const o=new Fe[\"a\"](n.graveyard,[0]);r=new Vn[\"a\"](e,t,o,n.version)}else{r=new Bn(e,t)}n.addOperation(r);i.applyOperation(r)}function ei(e,t){if(e===t){return true}if(e instanceof Yn&&t instanceof Yn){return true}return false}class ti{constructor(e){this._markerCollection=e;this._changesInElement=new Map;this._elementSnapshots=new Map;this._changedMarkers=new Map;this._changeCount=0;this._cachedChanges=null;this._cachedChangesWithGraveyard=null}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}refreshItem(e){if(this._isInInsertedElement(e.parent)){return}this._markRemove(e.parent,e.startOffset,e.offsetSize);this._markInsert(e.parent,e.startOffset,e.offsetSize);const t=ze[\"a\"]._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}this._cachedChanges=null}bufferOperation(e){switch(e.type){case\"insert\":{if(this._isInInsertedElement(e.position.parent)){return}this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case\"addAttribute\":case\"removeAttribute\":case\"changeAttribute\":{for(const t of e.range.getItems({shallow:true})){if(this._isInInsertedElement(t.parent)){continue}this._markAttribute(t)}break}case\"remove\":case\"move\":case\"reinsert\":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition)){return}const t=this._isInInsertedElement(e.sourcePosition.parent);const n=this._isInInsertedElement(e.targetPosition.parent);if(!t){this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany)}if(!n){this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany)}break}case\"rename\":{if(this._isInInsertedElement(e.position.parent)){return}this._markRemove(e.position.parent,e.position.offset,1);this._markInsert(e.position.parent,e.position.offset,1);const t=ze[\"a\"]._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData)}break}case\"split\":{const t=e.splitPosition.parent;if(!this._isInInsertedElement(t)){this._markRemove(t,e.splitPosition.offset,e.howMany)}if(!this._isInInsertedElement(e.insertionPosition.parent)){this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1)}if(e.graveyardPosition){this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1)}break}case\"merge\":{const t=e.sourcePosition.parent;if(!this._isInInsertedElement(t.parent)){this._markRemove(t.parent,t.startOffset,1)}const n=e.graveyardPosition.parent;this._markInsert(n,e.graveyardPosition.offset,1);const i=e.targetPosition.parent;if(!this._isInInsertedElement(i)){this._markInsert(i,e.targetPosition.offset,t.maxOffset)}break}}this._cachedChanges=null}bufferMarkerChange(e,t,n,i){const r=this._changedMarkers.get(e);if(!r){this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:i})}else{r.newRange=n;r.affectsData=i;if(r.oldRange==null&&r.newRange==null){this._changedMarkers.delete(e)}}}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers){if(n.oldRange!=null){e.push({name:t,range:n.oldRange})}}return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers){if(n.newRange!=null){e.push({name:t,range:n.newRange})}}return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(e=>({name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}))}hasDataChanges(){for(const[,e]of this._changedMarkers){if(e.affectsData){return true}}return this._changesInElement.size>0}getChanges(e={includeChangesInGraveyard:false}){if(this._cachedChanges){if(e.includeChangesInGraveyard){return this._cachedChangesWithGraveyard.slice()}else{return this._cachedChanges.slice()}}const t=[];for(const e of this._changesInElement.keys()){const n=this._changesInElement.get(e).sort((e,t)=>{if(e.offset===t.offset){if(e.type!=t.type){return e.type==\"remove\"?-1:1}return 0}return e.offset<t.offset?-1:1});const i=this._elementSnapshots.get(e);const r=ni(e.getChildren());const o=ii(i.length,n);let s=0;let a=0;for(const n of o){if(n===\"i\"){t.push(this._getInsertDiff(e,s,r[s].name));s++}else if(n===\"r\"){t.push(this._getRemoveDiff(e,s,i[a].name));a++}else if(n===\"a\"){const n=r[s].attributes;const o=i[a].attributes;let c;if(r[s].name==\"$text\"){c=new ze[\"a\"](Fe[\"a\"]._createAt(e,s),Fe[\"a\"]._createAt(e,s+1))}else{const t=e.offsetToIndex(s);c=new ze[\"a\"](Fe[\"a\"]._createAt(e,s),Fe[\"a\"]._createAt(e.getChild(t),0))}t.push(...this._getAttributesDiff(c,o,n));s++;a++}else{s++;a++}}}t.sort((e,t)=>{if(e.position.root!=t.position.root){return e.position.root.rootName<t.position.root.rootName?-1:1}if(e.position.isEqual(t.position)){return e.changeCount-t.changeCount}return e.position.isBefore(t.position)?-1:1});for(let e=1;e<t.length;e++){const n=t[e-1];const i=t[e];const r=n.type==\"remove\"&&i.type==\"remove\"&&n.name==\"$text\"&&i.name==\"$text\"&&n.position.isEqual(i.position);const o=n.type==\"insert\"&&i.type==\"insert\"&&n.name==\"$text\"&&i.name==\"$text\"&&n.position.parent==i.position.parent&&n.position.offset+n.length==i.position.offset;const s=n.type==\"attribute\"&&i.type==\"attribute\"&&n.position.parent==i.position.parent&&n.range.isFlat&&i.range.isFlat&&n.position.offset+n.length==i.position.offset&&n.attributeKey==i.attributeKey&&n.attributeOldValue==i.attributeOldValue&&n.attributeNewValue==i.attributeNewValue;if(r||o||s){t[e-1].length++;if(s){t[e-1].range.end=t[e-1].range.end.getShiftedBy(1)}t.splice(e,1);e--}}for(const e of t){delete e.changeCount;if(e.type==\"attribute\"){delete e.position;delete e.length}}this._changeCount=0;this._cachedChangesWithGraveyard=t.slice();this._cachedChanges=t.slice().filter(ri);if(e.includeChangesInGraveyard){return this._cachedChangesWithGraveyard}else{return this._cachedChanges}}reset(){this._changesInElement.clear();this._elementSnapshots.clear();this._changedMarkers.clear();this._cachedChanges=null}_markInsert(e,t,n){const i={type:\"insert\",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,n){const i={type:\"remove\",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i);this._removeAllNestedChanges(e,t,n)}_markAttribute(e){const t={type:\"attribute\",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n);n.push(t);for(let e=0;e<n.length;e++){if(n[e].howMany<1){n.splice(e,1);e--}}}_getChangesForElement(e){let t;if(this._changesInElement.has(e)){t=this._changesInElement.get(e)}else{t=[];this._changesInElement.set(e,t)}return t}_makeSnapshot(e){if(!this._elementSnapshots.has(e)){this._elementSnapshots.set(e,ni(e.getChildren()))}}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const i=e.offset+e.howMany;const r=n.offset+n.howMany;if(e.type==\"insert\"){if(n.type==\"insert\"){if(e.offset<=n.offset){n.offset+=e.howMany}else if(e.offset<r){n.howMany+=e.nodesToHandle;e.nodesToHandle=0}}if(n.type==\"remove\"){if(e.offset<n.offset){n.offset+=e.howMany}}if(n.type==\"attribute\"){if(e.offset<=n.offset){n.offset+=e.howMany}else if(e.offset<r){const r=n.howMany;n.howMany=e.offset-n.offset;t.unshift({type:\"attribute\",offset:i,howMany:r-n.howMany,count:this._changeCount++})}}}if(e.type==\"remove\"){if(n.type==\"insert\"){if(i<=n.offset){n.offset-=e.howMany}else if(i<=r){if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset;n.howMany-=t;e.nodesToHandle-=t}else{n.howMany-=e.nodesToHandle;e.nodesToHandle=0}}else{if(e.offset<=n.offset){e.nodesToHandle-=n.howMany;n.howMany=0}else if(e.offset<r){const t=r-e.offset;n.howMany-=t;e.nodesToHandle-=t}}}if(n.type==\"remove\"){if(i<=n.offset){n.offset-=e.howMany}else if(e.offset<n.offset){e.nodesToHandle+=n.howMany;n.howMany=0}}if(n.type==\"attribute\"){if(i<=n.offset){n.offset-=e.howMany}else if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset;n.howMany-=t}else if(e.offset<r){if(i<=r){const i=n.howMany;n.howMany=e.offset-n.offset;const r=i-n.howMany-e.nodesToHandle;t.unshift({type:\"attribute\",offset:e.offset,howMany:r,count:this._changeCount++})}else{n.howMany-=r-e.offset}}}}if(e.type==\"attribute\"){if(n.type==\"insert\"){if(e.offset<n.offset&&i>n.offset){if(i>r){const e={type:\"attribute\",offset:r,howMany:i-r,count:this._changeCount++};this._handleChange(e,t);t.push(e)}e.nodesToHandle=n.offset-e.offset;e.howMany=e.nodesToHandle}else if(e.offset>=n.offset&&e.offset<r){if(i>r){e.nodesToHandle=i-r;e.offset=r}else{e.nodesToHandle=0}}}if(n.type==\"remove\"){if(e.offset<n.offset&&i>n.offset){const r={type:\"attribute\",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(r,t);t.push(r);e.nodesToHandle=n.offset-e.offset;e.howMany=e.nodesToHandle}}if(n.type==\"attribute\"){if(e.offset>=n.offset&&i<=r){e.nodesToHandle=0;e.howMany=0;e.offset=0}else if(e.offset<=n.offset&&i>=r){n.howMany=0}}}}e.howMany=e.nodesToHandle;delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:\"insert\",position:Fe[\"a\"]._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:\"remove\",position:Fe[\"a\"]._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const i=[];n=new Map(n);for(const[r,o]of t){const t=n.has(r)?n.get(r):null;if(t!==o){i.push({type:\"attribute\",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:t,changeCount:this._changeCount++})}n.delete(r)}for(const[t,r]of n){i.push({type:\"attribute\",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++})}return i}_isInInsertedElement(e){const t=e.parent;if(!t){return false}const n=this._changesInElement.get(t);const i=e.startOffset;if(n){for(const e of n){if(e.type==\"insert\"&&i>=e.offset&&i<e.offset+e.howMany){return true}}}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const i=new ze[\"a\"](Fe[\"a\"]._createAt(e,t),Fe[\"a\"]._createAt(e,t+n));for(const e of i.getItems({shallow:true})){if(e.is(\"element\")){this._elementSnapshots.delete(e);this._changesInElement.delete(e);this._removeAllNestedChanges(e,0,e.maxOffset)}}}}function ni(e){const t=[];for(const n of e){if(n.is(\"$text\")){for(let e=0;e<n.data.length;e++){t.push({name:\"$text\",attributes:new Map(n.getAttributes())})}}else{t.push({name:n.name,attributes:new Map(n.getAttributes())})}}return t}function ii(e,t){const n=[];let i=0;let r=0;for(const e of t){if(e.offset>i){for(let t=0;t<e.offset-i;t++){n.push(\"e\")}r+=e.offset-i}if(e.type==\"insert\"){for(let t=0;t<e.howMany;t++){n.push(\"i\")}i=e.offset+e.howMany}else if(e.type==\"remove\"){for(let t=0;t<e.howMany;t++){n.push(\"r\")}i=e.offset;r+=e.howMany}else{n.push(...\"a\".repeat(e.howMany).split(\"\"));i=e.offset+e.howMany;r+=e.howMany}}if(r<e){for(let t=0;t<e-r-i;t++){n.push(\"e\")}}return n}function ri(e){const t=e.position&&e.position.root.rootName==\"$graveyard\";const n=e.range&&e.range.root.rootName==\"$graveyard\";return!t&&!n}class oi{constructor(){this._operations=[];this._undoPairs=new Map;this._undoneOperations=new Set}addOperation(e){if(this._operations.includes(e)){return}this._operations.push(e)}getOperations(e=0,t=Number.POSITIVE_INFINITY){if(e<0){return[]}return this._operations.slice(e,t)}getOperation(e){return this._operations[e]}setOperationAsUndone(e,t){this._undoPairs.set(t,e);this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}}var si=n(12);function ai(e){return!!e&&e.length==1&&/[\\u0300-\\u036f\\u1ab0-\\u1aff\\u1dc0-\\u1dff\\u20d0-\\u20ff\\ufe20-\\ufe2f]/.test(e)}function ci(e){return!!e&&e.length==1&&/[\\ud800-\\udbff]/.test(e)}function li(e){return!!e&&e.length==1&&/[\\udc00-\\udfff]/.test(e)}function di(e,t){return ci(e.charAt(t-1))&&li(e.charAt(t))}function ui(e,t){return ai(e.charAt(t))}var hi=n(488);const fi=\"$graveyard\";class mi{constructor(e){this.model=e;this.version=0;this.history=new oi(this);this.selection=new Xe[\"a\"](this);this.roots=new si[\"a\"]({idProperty:\"rootName\"});this.differ=new ti(e.markers);this._postFixers=new Set;this._hasSelectionChangedFromTheLastChangeBlock=false;this.createRoot(\"$root\",fi);this.listenTo(e,\"applyOperation\",(e,t)=>{const n=t[0];if(n.isDocumentOperation&&n.baseVersion!==this.version){throw new m[\"b\"](\"model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.\",this,{operation:n})}},{priority:\"highest\"});this.listenTo(e,\"applyOperation\",(e,t)=>{const n=t[0];if(n.isDocumentOperation){this.differ.bufferOperation(n)}},{priority:\"high\"});this.listenTo(e,\"applyOperation\",(e,t)=>{const n=t[0];if(n.isDocumentOperation){this.version++;this.history.addOperation(n)}},{priority:\"low\"});this.listenTo(this.selection,\"change\",()=>{this._hasSelectionChangedFromTheLastChangeBlock=true});this.listenTo(e.markers,\"update\",(e,t,n,i)=>{this.differ.bufferMarkerChange(t.name,n,i,t.affectsData);if(n===null){t.on(\"change\",(e,n)=>{this.differ.bufferMarkerChange(t.name,n,t.getRange(),t.affectsData)})}})}get graveyard(){return this.getRoot(fi)}createRoot(e=\"$root\",t=\"main\"){if(this.roots.get(t)){throw new m[\"b\"](\"model-document-createRoot-name-exists: Root with specified name already exists.\",this,{name:t})}const n=new Yn(this,e,t);this.roots.add(n);return n}destroy(){this.selection.destroy();this.stopListening()}getRoot(e=\"main\"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=fi)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Object(hi[\"a\"])(this);e.selection=\"[engine.model.DocumentSelection]\";e.model=\"[engine.model.Model]\";return e}_handleChangeBlock(e){if(this._hasDocumentChangedFromTheLastChangeBlock()){this._callPostFixers(e);this.selection.refresh();if(this.differ.hasDataChanges()){this.fire(\"change:data\",e.batch)}else{this.fire(\"change\",e.batch)}this.selection.refresh();this.differ.reset()}this._hasSelectionChangedFromTheLastChangeBlock=false}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots){if(e!==this.graveyard){return e}}return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot();const t=this.model;const n=t.schema;const i=t.createPositionFromPath(e,[0]);const r=n.getNearestSelectionRange(i);return r||t.createRange(i)}_validateSelectionRange(e){return gi(e.start)&&gi(e.end)}_callPostFixers(e){let t=false;do{for(const n of this._postFixers){this.selection.refresh();t=n(e);if(t){break}}}while(t)}}Object(q[\"a\"])(mi,Ve[\"c\"]);function gi(e){const t=e.textNode;if(t){const n=t.data;const i=e.offset-t.startOffset;return!di(n,i)&&!ui(n,i)}return true}var pi=n(32);class bi{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(e,t,n=false,i=false){const r=e instanceof _i?e.name:e;if(r.includes(\",\")){throw new m[\"b\"]('markercollection-incorrect-marker-name: Marker name cannot contain \",\" character.',this)}const o=this._markers.get(r);if(o){const e=o.getRange();let s=false;if(!e.isEqual(t)){o._attachLiveRange(pi[\"a\"].fromRange(t));s=true}if(n!=o.managedUsingOperations){o._managedUsingOperations=n;s=true}if(typeof i===\"boolean\"&&i!=o.affectsData){o._affectsData=i;s=true}if(s){this.fire(\"update:\"+r,o,e,t)}return o}const s=pi[\"a\"].fromRange(t);const a=new _i(r,s,n,i);this._markers.set(r,a);this.fire(\"update:\"+r,a,null,t);return a}_remove(e){const t=e instanceof _i?e.name:e;const n=this._markers.get(t);if(n){this._markers.delete(t);this.fire(\"update:\"+t,n,n.getRange(),null);this._destroyMarker(n);return true}return false}_refresh(e){const t=e instanceof _i?e.name:e;const n=this._markers.get(t);if(!n){throw new m[\"b\"](\"markercollection-refresh-marker-not-exists: Marker with provided name does not exists.\",this)}const i=n.getRange();this.fire(\"update:\"+t,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(e){for(const t of this){if(t.getRange().containsPosition(e)){yield t}}}*getMarkersIntersectingRange(e){for(const t of this){if(t.getRange().getIntersection(e)!==null){yield t}}}destroy(){for(const e of this._markers.values()){this._destroyMarker(e)}this._markers=null;this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values()){if(t.name.startsWith(e+\":\")){yield t}}}_destroyMarker(e){e.stopListening();e._detachLiveRange()}}Object(q[\"a\"])(bi,Ve[\"c\"]);class _i{constructor(e,t,n,i){this.name=e;this._liveRange=this._attachLiveRange(t);this._managedUsingOperations=n;this._affectsData=i}get managedUsingOperations(){if(!this._liveRange){throw new m[\"b\"](\"marker-destroyed: Cannot use a destroyed marker instance.\",this)}return this._managedUsingOperations}get affectsData(){if(!this._liveRange){throw new m[\"b\"](\"marker-destroyed: Cannot use a destroyed marker instance.\",this)}return this._affectsData}getStart(){if(!this._liveRange){throw new m[\"b\"](\"marker-destroyed: Cannot use a destroyed marker instance.\",this)}return this._liveRange.start.clone()}getEnd(){if(!this._liveRange){throw new m[\"b\"](\"marker-destroyed: Cannot use a destroyed marker instance.\",this)}return this._liveRange.end.clone()}getRange(){if(!this._liveRange){throw new m[\"b\"](\"marker-destroyed: Cannot use a destroyed marker instance.\",this)}return this._liveRange.toRange()}is(e){return e===\"marker\"||e===\"model:marker\"}_attachLiveRange(e){if(this._liveRange){this._detachLiveRange()}e.delegate(\"change:range\").to(this);e.delegate(\"change:content\").to(this);this._liveRange=e;return e}_detachLiveRange(){this._liveRange.stopDelegating(\"change:range\",this);this._liveRange.stopDelegating(\"change:content\",this);this._liveRange.detach();this._liveRange=null}}Object(q[\"a\"])(_i,Ve[\"c\"]);var wi=n(173);var vi=n(47);function ki(e,t,n,i){return e.change(r=>{let o;if(!n){o=e.document.selection}else if(n instanceof Ge[\"a\"]||n instanceof Xe[\"a\"]){o=n}else{o=r.createSelection(n,i)}if(!o.isCollapsed){e.deleteContent(o,{doNotAutoparagraph:true})}const s=new xi(e,r,o.anchor);let a;if(t.is(\"documentFragment\")){a=t.getChildren()}else{a=[t]}s.handleNodes(a,{isFirst:true,isLast:true});const c=s.getSelectionRange();if(c){if(o instanceof Xe[\"a\"]){r.setSelection(c)}else{o.setTo(c)}}else{}const l=s.getAffectedRange()||e.createRange(o.anchor);s.destroy();return l})}class xi{constructor(e,t,n){this.model=e;this.writer=t;this.position=n;this.canMergeWith=new Set([this.position.parent]);this.schema=e.schema;this._filterAttributesOf=[];this._affectedStart=null;this._affectedEnd=null}handleNodes(e,t){e=Array.from(e);for(let n=0;n<e.length;n++){const i=e[n];this._handleNode(i,{isFirst:n===0&&t.isFirst,isLast:n===e.length-1&&t.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer);this._filterAttributesOf=[]}getSelectionRange(){if(this.nodeToSelect){return ze[\"a\"]._createOn(this.nodeToSelect)}return this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){if(!this._affectedStart){return null}return new ze[\"a\"](this._affectedStart,this._affectedEnd)}destroy(){if(this._affectedStart){this._affectedStart.detach()}if(this._affectedEnd){this._affectedEnd.detach()}}_handleNode(e,t){if(this.schema.isObject(e)){this._handleObject(e,t);return}const n=this._checkAndSplitToAllowedPosition(e,t);if(!n){this._handleDisallowedNode(e,t);return}this._insert(e);this._mergeSiblingsOf(e,t)}_handleObject(e,t){if(this._checkAndSplitToAllowedPosition(e)){this._insert(e)}else{this._tryAutoparagraphing(e,t)}}_handleDisallowedNode(e,t){if(e.is(\"element\")){this.handleNodes(e.getChildren(),t)}else{this._tryAutoparagraphing(e,t)}}_insert(e){if(!this.schema.checkChild(this.position,e)){throw new m[\"b\"](\"insertcontent-wrong-position: Given node cannot be inserted on the given position.\",this,{node:e,position:this.position})}const t=vi[\"a\"].fromPosition(this.position,\"toNext\");this._setAffectedBoundaries(this.position);this.writer.insert(e,this.position);this.position=t.toPosition();t.detach();if(this.schema.isObject(e)&&!this.schema.checkChild(this.position,\"$text\")){this.nodeToSelect=e}else{this.nodeToSelect=null}this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){if(!this._affectedStart){this._affectedStart=vi[\"a\"].fromPosition(e,\"toPrevious\")}if(!this._affectedEnd||this._affectedEnd.isBefore(e)){if(this._affectedEnd){this._affectedEnd.detach()}this._affectedEnd=vi[\"a\"].fromPosition(e,\"toNext\")}}_mergeSiblingsOf(e,t){if(!(e instanceof Ke[\"a\"])){return}const n=this._canMergeLeft(e,t);const i=this._canMergeRight(e,t);const r=vi[\"a\"]._createBefore(e);r.stickiness=\"toNext\";const o=vi[\"a\"]._createAfter(e);o.stickiness=\"toNext\";if(n){const e=vi[\"a\"].fromPosition(this.position);e.stickiness=\"toNext\";if(this._affectedStart.isEqual(r)){this._affectedStart.detach();this._affectedStart=vi[\"a\"]._createAt(r.nodeBefore,\"end\",\"toPrevious\")}this.writer.merge(r);if(r.isEqual(this._affectedEnd)&&t.isLast){this._affectedEnd.detach();this._affectedEnd=vi[\"a\"]._createAt(r.nodeBefore,\"end\",\"toNext\")}this.position=e.toPosition();e.detach()}if(i){if(!this.position.isEqual(o)){throw new m[\"b\"](\"insertcontent-invalid-insertion-position\",this)}this.position=Fe[\"a\"]._createAt(o.nodeBefore,\"end\");const e=vi[\"a\"].fromPosition(this.position,\"toPrevious\");if(this._affectedEnd.isEqual(o)){this._affectedEnd.detach();this._affectedEnd=vi[\"a\"]._createAt(o.nodeBefore,\"end\",\"toNext\")}this.writer.merge(o);if(o.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst){this._affectedStart.detach();this._affectedStart=vi[\"a\"]._createAt(o.nodeBefore,0,\"toPrevious\")}this.position=e.toPosition();e.detach()}if(n||i){this._filterAttributesOf.push(this.position.parent)}r.detach();o.detach()}_canMergeLeft(e,t){const n=e.previousSibling;return t.isFirst&&n instanceof Ke[\"a\"]&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e,t){const n=e.nextSibling;return t.isLast&&n instanceof Ke[\"a\"]&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_tryAutoparagraphing(e,t){const n=this.writer.createElement(\"paragraph\");if(this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)){n._appendChild(e);this._handleNode(n,t)}}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(e,this.position.parent);if(!t){return false}while(t!=this.position.parent){if(this.schema.isLimit(this.position.parent)){return false}if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e);if(e.isEmpty&&e.parent===t){this.writer.remove(e)}}else if(this.position.isAtEnd){this.position=this.writer.createPositionAfter(this.position.parent)}else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position);this.writer.split(this.position);this.position=e;this.canMergeWith.add(this.position.nodeAfter)}}return true}_getAllowedIn(e,t){if(this.schema.checkChild(t,e)){return t}if(t.parent){return this._getAllowedIn(e,t.parent)}return null}}function yi(e,t,n={}){if(t.isCollapsed){return}const i=t.getFirstRange();if(i.root.rootName==\"$graveyard\"){return}const r=e.schema;e.change(e=>{if(!n.doNotResetEntireContent&&Di(r,t)){ji(e,t,r);return}const[o,s]=Ci(i);if(!i.start.isTouching(i.end)){e.remove(i)}if(!n.leaveUnmerged){Ti(e,o,s);r.removeDisallowedAttributes(o.parent.getChildren(),e)}Li(e,t,o);if(!n.doNotAutoparagraph&&Mi(r,o)){Ni(e,o,t)}o.detach();s.detach()})}function Ci(e){const t=e.root.document.model;const n=e.start;let i=e.end;if(t.hasContent(e,{ignoreMarkers:true})){const n=Ai(i);if(n&&i.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:\"backward\"});i=n.getLastPosition()}}return[vi[\"a\"].fromPosition(n,\"toPrevious\"),vi[\"a\"].fromPosition(i,\"toNext\")]}function Ai(e){const t=e.parent;const n=t.root.document.model.schema;const i=t.getAncestors({parentFirst:true,includeSelf:true});for(const e of i){if(n.isLimit(e)){return null}if(n.isBlock(e)){return e}}}function Ti(e,t,n){const i=e.model;if(!Ii(e.model.schema,t,n)){return}const[r,o]=Pi(t,n);if(!i.hasContent(r,{ignoreMarkers:true})&&i.hasContent(o,{ignoreMarkers:true})){Si(e,t,n,r.parent)}else{Ei(e,t,n,r.parent)}}function Ei(e,t,n,i){const r=t.parent;const o=n.parent;if(r==i||o==i){return}t=e.createPositionAfter(r);n=e.createPositionBefore(o);if(!n.isEqual(t)){e.insert(o,t)}e.merge(t);while(n.parent.isEmpty){const t=n.parent;n=e.createPositionBefore(t);e.remove(t)}if(!Ii(e.model.schema,t,n)){return}Ei(e,t,n,i)}function Si(e,t,n,i){const r=t.parent;const o=n.parent;if(r==i||o==i){return}t=e.createPositionAfter(r);n=e.createPositionBefore(o);if(!n.isEqual(t)){e.insert(r,n)}while(t.parent.isEmpty){const n=t.parent;t=e.createPositionBefore(n);e.remove(n)}n=e.createPositionBefore(o);Oi(e,n);if(!Ii(e.model.schema,t,n)){return}Si(e,t,n,i)}function Oi(e,t){const n=t.nodeBefore;const i=t.nodeAfter;if(n.name!=i.name){e.rename(n,i.name)}e.clearAttributes(n);e.setAttributes(Object.fromEntries(i.getAttributes()),n);e.merge(t)}function Ii(e,t,n){const i=t.parent;const r=n.parent;if(i==r){return false}if(e.isLimit(i)||e.isLimit(r)){return false}return Ri(t,n,e)}function Pi(e,t){const n=e.getAncestors();const i=t.getAncestors();let r=0;while(n[r]&&n[r]==i[r]){r++}return[n[r],i[r]]}function Mi(e,t){const n=e.checkChild(t,\"$text\");const i=e.checkChild(t,\"paragraph\");return!n&&i}function Ri(e,t,n){const i=new ze[\"a\"](e,t);for(const e of i.getWalker()){if(n.isLimit(e.item)){return false}}return true}function Ni(e,t,n){const i=e.createElement(\"paragraph\");e.insert(i,t);Li(e,n,e.createPositionAt(i,0))}function ji(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n));Ni(e,e.createPositionAt(n,0),t)}function Di(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n)){return false}const i=t.getFirstRange();if(i.start.parent==i.end.parent){return false}return e.checkChild(n,\"paragraph\")}function Li(e,t,n){if(t instanceof Xe[\"a\"]){e.setSelection(n)}else{t.setTo(n)}}const Bi=' ,.?!:;\"-()';function Fi(e,t,n={}){const i=e.schema;const r=n.direction!=\"backward\";const o=n.unit?n.unit:\"character\";const s=t.focus;const a=new an[\"a\"]({boundaries:Hi(s,r),singleCharacters:true,direction:r?\"forward\":\"backward\"});const c={walker:a,schema:i,isForward:r,unit:o};let l;while(l=a.next()){if(l.done){return}const n=zi(c,l.value);if(n){if(t instanceof Xe[\"a\"]){e.change(e=>{e.setSelectionFocus(n)})}else{t.setFocus(n)}return}}}function zi(e,t){if(t.type==\"text\"){if(e.unit===\"word\"){return Ui(e.walker,e.isForward)}return Vi(e.walker,e.unit,e.isForward)}if(t.type==(e.isForward?\"elementStart\":\"elementEnd\")){if(e.schema.isObject(t.item)){return Fe[\"a\"]._createAt(t.item,e.isForward?\"after\":\"before\")}if(e.schema.checkChild(t.nextPosition,\"$text\")){return t.nextPosition}}else{if(e.schema.isLimit(t.item)){e.walker.skip(()=>true);return}if(e.schema.checkChild(t.nextPosition,\"$text\")){return t.nextPosition}}}function Vi(e,t){const n=e.position.textNode;if(n){const i=n.data;let r=e.position.offset-n.startOffset;while(di(i,r)||t==\"character\"&&ui(i,r)){e.next();r=e.position.offset-n.startOffset}}return e.position}function Ui(e,t){let n=e.position.textNode;if(n){let i=e.position.offset-n.startOffset;while(!Wi(n.data,i,t)&&!$i(n,i,t)){e.next();const r=t?e.position.nodeAfter:e.position.nodeBefore;if(r&&r.is(\"$text\")){const i=r.data.charAt(t?0:r.data.length-1);if(!Bi.includes(i)){e.next();n=e.position.textNode}}i=e.position.offset-n.startOffset}}return e.position}function Hi(e,t){const n=e.root;const i=Fe[\"a\"]._createAt(n,t?\"end\":0);if(t){return new ze[\"a\"](e,i)}else{return new ze[\"a\"](i,e)}}function Wi(e,t,n){const i=t+(n?0:-1);return Bi.includes(e.charAt(i))}function $i(e,t,n){return t===(n?e.endOffset:0)}function qi(e,t){return e.change(e=>{const n=e.createDocumentFragment();const i=t.getFirstRange();if(!i||i.isCollapsed){return n}const r=i.start.root;const o=i.start.getCommonPath(i.end);const s=r.getNodeByPath(o);let a;if(i.start.parent==i.end.parent){a=i}else{a=e.createRange(e.createPositionAt(s,i.start.path[o.length]),e.createPositionAt(s,i.end.path[o.length]+1))}const c=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:true})){if(t.is(\"$textProxy\")){e.appendText(t.data,t.getAttributes(),n)}else{e.append(e.cloneElement(t,true),n)}}if(a!=i){const t=i._getTransformedByMove(a.start,e.createPositionAt(n,0),c)[0];const r=e.createRange(e.createPositionAt(n,0),t.start);const o=e.createRange(t.end,e.createPositionAt(n,\"end\"));Yi(o,e);Yi(r,e)}return n})}function Yi(e,t){const n=[];Array.from(e.getItems({direction:\"backward\"})).map(e=>t.createRangeOn(e)).filter(t=>{const n=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return n}).forEach(e=>{n.push(e.start.parent);t.remove(e)});n.forEach(e=>{let n=e;while(n.parent&&n.isEmpty){const e=t.createRangeOn(n);n=n.parent;t.remove(e)}})}function Ji(e){e.document.registerPostFixer(t=>Gi(t,e))}function Gi(e,t){const n=t.document.selection;const i=t.schema;const r=[];let o=false;for(const e of n.getRanges()){const t=Ki(e,i);if(t&&!t.isEqual(e)){r.push(t);o=true}else{r.push(e)}}if(o){e.setSelection(tr(r),{backward:n.isBackward})}}function Ki(e,t){if(e.isCollapsed){return Xi(e,t)}return Qi(e,t)}function Xi(e,t){const n=e.start;const i=t.getNearestSelectionRange(n);if(!i){return null}if(!i.isCollapsed){return i}const r=i.start;if(n.isEqual(r)){return null}return new ze[\"a\"](r)}function Qi(e,t){const n=e.start;const i=e.end;const r=t.checkChild(n,\"$text\");const o=t.checkChild(i,\"$text\");const s=t.getLimitElement(n);const a=t.getLimitElement(i);if(s===a){if(r&&o){return null}if(er(n,i,t)){const e=n.nodeAfter&&t.isObject(n.nodeAfter);const r=e?null:t.getNearestSelectionRange(n,\"forward\");const o=i.nodeBefore&&t.isObject(i.nodeBefore);const s=o?null:t.getNearestSelectionRange(i,\"backward\");const a=r?r.start:n;const c=s?s.start:i;return new ze[\"a\"](a,c)}}const c=s&&!s.is(\"rootElement\");const l=a&&!a.is(\"rootElement\");if(c||l){const e=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent;const r=c&&(!e||!nr(n.nodeAfter,t));const o=l&&(!e||!nr(i.nodeBefore,t));let d=n;let u=i;if(r){d=Fe[\"a\"]._createBefore(Zi(s,t))}if(o){u=Fe[\"a\"]._createAfter(Zi(a,t))}return new ze[\"a\"](d,u)}return null}function Zi(e,t){let n=e;let i=n;while(t.isLimit(i)&&i.parent){n=i;i=i.parent}return n}function er(e,t,n){const i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,\"$text\");const r=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,\"$text\");return i||r}function tr(e){const t=[];t.push(e.shift());for(const n of e){const e=t.pop();if(n.isIntersecting(e)){const i=e.start.isAfter(n.start)?n.start:e.start;const r=e.end.isAfter(n.end)?e.end:n.end;const o=new ze[\"a\"](i,r);t.push(o)}else{t.push(e);t.push(n)}}return t}function nr(e,t){return e&&t.isObject(e)}class ir{constructor(){this.markers=new bi;this.document=new mi(this);this.schema=new cn;this._pendingChanges=[];this._currentWriter=null;[\"insertContent\",\"deleteContent\",\"modifySelection\",\"getSelectedContent\",\"applyOperation\"].forEach(e=>this.decorate(e));this.on(\"applyOperation\",(e,t)=>{const n=t[0];n._validate()},{priority:\"highest\"});this.schema.register(\"$root\",{isLimit:true});this.schema.register(\"$block\",{allowIn:\"$root\",isBlock:true});this.schema.register(\"$text\",{allowIn:\"$block\",isInline:true});this.schema.register(\"$clipboardHolder\",{allowContentOf:\"$root\",isLimit:true});this.schema.extend(\"$text\",{allowIn:\"$clipboardHolder\"});this.schema.register(\"$marker\");this.schema.addChildCheck((e,t)=>{if(t.name===\"$marker\"){return true}});Ji(this)}change(e){try{if(this._pendingChanges.length===0){this._pendingChanges.push({batch:new Nn,callback:e});return this._runPendingChanges()[0]}else{return e(this._currentWriter)}}catch(e){m[\"b\"].rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{if(typeof e===\"string\"){e=new Nn(e)}else if(typeof e==\"function\"){t=e;e=new Nn}this._pendingChanges.push({batch:e,callback:t});if(this._pendingChanges.length==1){this._runPendingChanges()}}catch(e){m[\"b\"].rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n){return ki(this,e,t,n)}deleteContent(e,t){yi(this,e,t)}modifySelection(e,t){Fi(this,e,t)}getSelectedContent(e){return qi(this,e)}hasContent(e,t={}){const n=e instanceof Ke[\"a\"]?ze[\"a\"]._createIn(e):e;if(n.isCollapsed){return false}const{ignoreWhitespaces:i=false,ignoreMarkers:r=false}=t;if(!r){for(const e of this.markers.getMarkersIntersectingRange(n)){if(e.affectsData){return true}}}for(const e of n.getItems()){if(e.is(\"$textProxy\")){if(!i){return true}else if(e.data.search(/\\S/)!==-1){return true}}else if(this.schema.isObject(e)){return true}}return false}createPositionFromPath(e,t,n){return new Fe[\"a\"](e,t,n)}createPositionAt(e,t){return Fe[\"a\"]._createAt(e,t)}createPositionAfter(e){return Fe[\"a\"]._createAfter(e)}createPositionBefore(e){return Fe[\"a\"]._createBefore(e)}createRange(e,t){return new ze[\"a\"](e,t)}createRangeIn(e){return ze[\"a\"]._createIn(e)}createRangeOn(e){return ze[\"a\"]._createOn(e)}createSelection(e,t,n){return new Ge[\"a\"](e,t,n)}createBatch(e){return new Nn(e)}createOperationFromJSON(e){return wi[\"a\"].fromJSON(e,this.document)}destroy(){this.document.destroy();this.stopListening()}_runPendingChanges(){const e=[];this.fire(\"_beforeChanges\");while(this._pendingChanges.length){const t=this._pendingChanges[0].batch;this._currentWriter=new Gn(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n);this.document._handleChangeBlock(this._currentWriter);this._pendingChanges.shift();this._currentWriter=null}this.fire(\"_afterChanges\");return e}}Object(q[\"a\"])(ir,K[\"a\"]);var rr=n(31);class or extends rr[\"a\"]{constructor(e){super();this.editor=e}set(e,t,n={}){if(typeof t==\"string\"){const e=t;t=(t,n)=>{this.editor.execute(e);n()}}super.set(e,t,n)}}var sr=n(191);class ar{constructor(e={}){this._context=e.context||new i[\"a\"]({language:e.language});this._context._addEditor(this,!e.context);const t=Array.from(this.constructor.builtinPlugins||[]);this.config=new r[\"a\"](e,this.constructor.defaultConfig);this.config.define(\"plugins\",t);this.config.define(this._context._getEditorConfig());this.plugins=new en[\"a\"](this,t,this._context.plugins);this.locale=this._context.locale;this.t=this.locale.t;this.commands=new tn;this.set(\"state\",\"initializing\");this.once(\"ready\",()=>this.state=\"ready\",{priority:\"high\"});this.once(\"destroy\",()=>this.state=\"destroyed\",{priority:\"high\"});this.set(\"isReadOnly\",false);this.model=new ir;const n=new sr[\"a\"];this.data=new On(this.model,n);this.editing=new Zt(this.model,n);this.editing.view.document.bind(\"isReadOnly\").to(this);this.conversion=new Pn([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher);this.conversion.addAlias(\"dataDowncast\",this.data.downcastDispatcher);this.conversion.addAlias(\"editingDowncast\",this.editing.downcastDispatcher);this.keystrokes=new or(this);this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const e=this.config;const t=e.get(\"plugins\");const n=e.get(\"removePlugins\")||[];const i=e.get(\"extraPlugins\")||[];return this.plugins.init(t.concat(i),n)}destroy(){let e=Promise.resolve();if(this.state==\"initializing\"){e=new Promise(e=>this.once(\"ready\",e))}return e.then(()=>{this.fire(\"destroy\");this.stopListening();this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy();this.data.destroy();this.editing.destroy();this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...e){try{return this.commands.execute(...e)}catch(e){m[\"b\"].rethrowUnexpectedError(e,this)}}}Object(q[\"a\"])(ar,K[\"a\"])},function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return oe}));n.d(t,\"a\",(function(){return se}));var i=n(28);var r=n(133);function o(e){var t=e==null?0:e.length;return t?e[t-1]:undefined}var s=o;var a=n(168);var c=n(169);function l(e,t){return t.length<2?e:Object(a[\"a\"])(e,Object(c[\"a\"])(t,0,-1))}var d=l;var u=n(125);function h(e,t){t=Object(r[\"a\"])(t,e);e=d(e,t);return e==null||delete e[Object(u[\"a\"])(s(t))]}var f=h;function m(e,t){return e==null?true:f(e,t)}var g=m;var p=n(491);var b=n(106);var _=n(119);var w=n(80);function v(e,t,n){if(n!==undefined&&!Object(w[\"a\"])(e[t],n)||n===undefined&&!(t in e)){Object(_[\"a\"])(e,t,n)}}var k=v;function x(e){return function(t,n,i){var r=-1,o=Object(t),s=i(t),a=s.length;while(a--){var c=s[e?a:++r];if(n(o[c],c,o)===false){break}}return t}}var y=x;var C=y();var A=C;var T=n(161);var E=n(165);var S=n(160);var O=n(209);var I=n(152);var P=n(42);var M=n(98);var R=n(34);function N(e){return Object(R[\"a\"])(e)&&Object(M[\"a\"])(e)}var j=N;var D=n(89);var L=n(117);var B=n(95);var F=n(137);function z(e,t){if(t===\"constructor\"&&typeof e[t]===\"function\"){return}if(t==\"__proto__\"){return}return e[t]}var V=z;var U=n(72);var H=n(84);function W(e){return Object(U[\"a\"])(e,Object(H[\"a\"])(e))}var $=W;function q(e,t,n,r,o,s,a){var c=V(e,n),l=V(t,n),d=a.get(l);if(d){k(e,n,d);return}var u=s?s(c,l,n+\"\",e,t,a):undefined;var h=u===undefined;if(h){var f=Object(P[\"a\"])(l),m=!f&&Object(D[\"a\"])(l),g=!f&&!m&&Object(F[\"a\"])(l);u=l;if(f||m||g){if(Object(P[\"a\"])(c)){u=c}else if(j(c)){u=Object(S[\"a\"])(c)}else if(m){h=false;u=Object(T[\"a\"])(l,true)}else if(g){h=false;u=Object(E[\"a\"])(l,true)}else{u=[]}}else if(Object(B[\"a\"])(l)||Object(I[\"a\"])(l)){u=c;if(Object(I[\"a\"])(c)){u=$(c)}else if(!Object(i[\"a\"])(c)||Object(L[\"a\"])(c)){u=Object(O[\"a\"])(l)}}else{h=false}}if(h){a.set(l,u);o(u,l,r,s,a);a[\"delete\"](l)}k(e,n,u)}var Y=q;function J(e,t,n,r,o){if(e===t){return}A(t,(function(s,a){o||(o=new b[\"a\"]);if(Object(i[\"a\"])(s)){Y(e,t,a,n,J,r,o)}else{var c=r?r(V(e,a),s,a+\"\",e,t,o):undefined;if(c===undefined){c=s}k(e,a,c)}}),H[\"a\"])}var G=J;var K=n(193);var X=Object(K[\"a\"])((function(e,t,n){G(e,t,n)}));var Q=X;var Z=n(120);var ee=n(122);function te(e,t,n,o){if(!Object(i[\"a\"])(e)){return e}t=Object(r[\"a\"])(t,e);var s=-1,a=t.length,c=a-1,l=e;while(l!=null&&++s<a){var d=Object(u[\"a\"])(t[s]),h=n;if(s!=c){var f=l[d];h=o?o(f,d,l):undefined;if(h===undefined){h=Object(i[\"a\"])(f)?f:Object(ee[\"a\"])(t[s+1])?[]:{}}}Object(Z[\"a\"])(l,d,h);l=l[d]}return e}var ne=te;function ie(e,t,n){return e==null?e:ne(e,t,n)}var re=ie;class oe{constructor(e){this._styles={};this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);const t=Array.from(e);return!t.length}get size(){if(this.isEmpty){return 0}return this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(ae(e).entries());for(const[e,n]of t){this._styleProcessor.toNormalizedForm(e,n,this._styles)}}has(e){if(this.isEmpty){return false}const t=this._styleProcessor.getReducedForm(e,this._styles);const n=t.find(([t])=>t===e);return Array.isArray(n)}set(e,t){if(Object(i[\"a\"])(e)){for(const[t,n]of Object.entries(e)){this._styleProcessor.toNormalizedForm(t,n,this._styles)}}else{this._styleProcessor.toNormalizedForm(e,t,this._styles)}}remove(e){const t=ce(e);g(this._styles,t);delete this._styles[e];this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){if(this.isEmpty){return\"\"}return this._getStylesEntries().map(e=>e.join(\":\")).sort().join(\";\")+\";\"}getAsString(e){if(this.isEmpty){return}if(this._styles[e]&&!Object(i[\"a\"])(this._styles[e])){return this._styles[e]}const t=this._styleProcessor.getReducedForm(e,this._styles);const n=t.find(([t])=>t===e);if(Array.isArray(n)){return n[1]}}getStyleNames(){if(this.isEmpty){return[]}const e=this._getStylesEntries();return e.map(([e])=>e)}clear(){this._styles={}}_getStylesEntries(){const e=[];const t=Object.keys(this._styles);for(const n of t){e.push(...this._styleProcessor.getReducedForm(n,this._styles))}return e}_cleanEmptyObjectsOnPath(e){const t=e.split(\".\");const n=t.length>1;if(!n){return}const i=t.splice(0,t.length-1).join(\".\");const r=Object(p[\"a\"])(this._styles,i);if(!r){return}const o=!Array.from(Object.keys(r)).length;if(o){this.remove(i)}}}class se{constructor(){this._normalizers=new Map;this._extractors=new Map;this._reducers=new Map;this._consumables=new Map}toNormalizedForm(e,t,n){if(Object(i[\"a\"])(t)){le(n,ce(e),t);return}if(this._normalizers.has(e)){const i=this._normalizers.get(e);const{path:r,value:o}=i(t);le(n,r,o)}else{le(n,e,t)}}getNormalized(e,t){if(!e){return Q({},t)}if(t[e]!==undefined){return t[e]}if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n===\"string\"){return Object(p[\"a\"])(t,n)}const i=n(e,t);if(i){return i}}return Object(p[\"a\"])(t,ce(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);if(n===undefined){return[]}if(this._reducers.has(e)){const t=this._reducers.get(e);return t(n)}return[[e,n]]}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t){this._mapStyleNames(n,[e])}}_mapStyleNames(e,t){if(!this._consumables.has(e)){this._consumables.set(e,[])}this._consumables.get(e).push(...t)}}function ae(e){let t=null;let n=0;let i=0;let r=null;const o=new Map;if(e===\"\"){return o}if(e.charAt(e.length-1)!=\";\"){e=e+\";\"}for(let s=0;s<e.length;s++){const a=e.charAt(s);if(t===null){switch(a){case\":\":if(!r){r=e.substr(n,s-n);i=s+1}break;case'\"':case\"'\":t=a;break;case\";\":{const t=e.substr(i,s-i);if(r){o.set(r.trim(),t.trim())}r=null;n=s+1;break}}}else if(a===t){t=null}}return o}function ce(e){return e.replace(\"-\",\".\")}function le(e,t,n){let r=n;if(Object(i[\"a\"])(n)){r=Q({},Object(p[\"a\"])(e,t),n)}re(e,t,r)}},function(e,t,n){\"use strict\";var i=n(106);var r=n(112);var o=\"__lodash_hash_undefined__\";function s(e){this.__data__.set(e,o);return this}var a=s;function c(e){return this.__data__.has(e)}var l=c;function d(e){var t=-1,n=e==null?0:e.length;this.__data__=new r[\"a\"];while(++t<n){this.add(e[t])}}d.prototype.add=d.prototype.push=a;d.prototype.has=l;var u=d;function h(e,t){var n=-1,i=e==null?0:e.length;while(++n<i){if(t(e[n],n,e)){return true}}return false}var f=h;function m(e,t){return e.has(t)}var g=m;var p=1,b=2;function _(e,t,n,i,r,o){var s=n&p,a=e.length,c=t.length;if(a!=c&&!(s&&c>a)){return false}var l=o.get(e);if(l&&o.get(t)){return l==t}var d=-1,h=true,m=n&b?new u:undefined;o.set(e,t);o.set(t,e);while(++d<a){var _=e[d],w=t[d];if(i){var v=s?i(w,_,d,t,e,o):i(_,w,d,e,t,o)}if(v!==undefined){if(v){continue}h=false;break}if(m){if(!f(t,(function(e,t){if(!g(m,t)&&(_===e||r(_,e,n,i,o))){return m.push(t)}}))){h=false;break}}else if(!(_===w||r(_,w,n,i,o))){h=false;break}}o[\"delete\"](e);o[\"delete\"](t);return h}var w=_;var v=n(64);var k=n(140);var x=n(80);function y(e){var t=-1,n=Array(e.size);e.forEach((function(e,i){n[++t]=[i,e]}));return n}var C=y;function A(e){var t=-1,n=Array(e.size);e.forEach((function(e){n[++t]=e}));return n}var T=A;var E=1,S=2;var O=\"[object Boolean]\",I=\"[object Date]\",P=\"[object Error]\",M=\"[object Map]\",R=\"[object Number]\",N=\"[object RegExp]\",j=\"[object Set]\",D=\"[object String]\",L=\"[object Symbol]\";var B=\"[object ArrayBuffer]\",F=\"[object DataView]\";var z=v[\"a\"]?v[\"a\"].prototype:undefined,V=z?z.valueOf:undefined;function U(e,t,n,i,r,o,s){switch(n){case F:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case B:if(e.byteLength!=t.byteLength||!o(new k[\"a\"](e),new k[\"a\"](t))){return false}return true;case O:case I:case R:return Object(x[\"a\"])(+e,+t);case P:return e.name==t.name&&e.message==t.message;case N:case D:return e==t+\"\";case M:var a=C;case j:var c=i&E;a||(a=T);if(e.size!=t.size&&!c){return false}var l=s.get(e);if(l){return l==t}i|=S;s.set(e,t);var d=w(a(e),a(t),i,r,o,s);s[\"delete\"](e);return d;case L:if(V){return V.call(e)==V.call(t)}}return false}var H=U;var W=n(149);var $=1;var q=Object.prototype;var Y=q.hasOwnProperty;function J(e,t,n,i,r,o){var s=n&$,a=Object(W[\"a\"])(e),c=a.length,l=Object(W[\"a\"])(t),d=l.length;if(c!=d&&!s){return false}var u=c;while(u--){var h=a[u];if(!(s?h in t:Y.call(t,h))){return false}}var f=o.get(e);if(f&&o.get(t)){return f==t}var m=true;o.set(e,t);o.set(t,e);var g=s;while(++u<c){h=a[u];var p=e[h],b=t[h];if(i){var _=s?i(b,p,h,t,e,o):i(p,b,h,e,t,o)}if(!(_===undefined?p===b||r(p,b,n,i,o):_)){m=false;break}g||(g=h==\"constructor\")}if(m&&!g){var w=e.constructor,v=t.constructor;if(w!=v&&(\"constructor\"in e&&\"constructor\"in t)&&!(typeof w==\"function\"&&w instanceof w&&typeof v==\"function\"&&v instanceof v)){m=false}}o[\"delete\"](e);o[\"delete\"](t);return m}var G=J;var K=n(92);var X=n(42);var Q=n(89);var Z=n(137);var ee=1;var te=\"[object Arguments]\",ne=\"[object Array]\",ie=\"[object Object]\";var re=Object.prototype;var oe=re.hasOwnProperty;function se(e,t,n,r,o,s){var a=Object(X[\"a\"])(e),c=Object(X[\"a\"])(t),l=a?ne:Object(K[\"a\"])(e),d=c?ne:Object(K[\"a\"])(t);l=l==te?ie:l;d=d==te?ie:d;var u=l==ie,h=d==ie,f=l==d;if(f&&Object(Q[\"a\"])(e)){if(!Object(Q[\"a\"])(t)){return false}a=true;u=false}if(f&&!u){s||(s=new i[\"a\"]);return a||Object(Z[\"a\"])(e)?w(e,t,n,r,o,s):H(e,t,l,n,r,o,s)}if(!(n&ee)){var m=u&&oe.call(e,\"__wrapped__\"),g=h&&oe.call(t,\"__wrapped__\");if(m||g){var p=m?e.value():e,b=g?t.value():t;s||(s=new i[\"a\"]);return o(p,b,n,r,s)}}if(!f){return false}s||(s=new i[\"a\"]);return G(e,t,n,r,o,s)}var ae=se;var ce=n(34);function le(e,t,n,i,r){if(e===t){return true}if(e==null||t==null||!Object(ce[\"a\"])(e)&&!Object(ce[\"a\"])(t)){return e!==e&&t!==t}return ae(e,t,n,i,le,r)}var de=t[\"a\"]=le},function(e,t,n){\"use strict\";function i(e){return e}var r=i;function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var s=o;var a=Math.max;function c(e,t,n){t=a(t===undefined?e.length-1:t,0);return function(){var i=arguments,r=-1,o=a(i.length-t,0),c=Array(o);while(++r<o){c[r]=i[t+r]}r=-1;var l=Array(t+1);while(++r<t){l[r]=i[r]}l[t]=n(c);return s(e,this,l)}}var l=c;function d(e){return function(){return e}}var u=d;var h=n(139);var f=!h[\"a\"]?r:function(e,t){return Object(h[\"a\"])(e,\"toString\",{configurable:true,enumerable:false,value:u(t),writable:true})};var m=f;var g=800,p=16;var b=Date.now;function _(e){var t=0,n=0;return function(){var i=b(),r=p-(i-n);n=i;if(r>0){if(++t>=g){return arguments[0]}}else{t=0}return e.apply(undefined,arguments)}}var w=_;var v=w(m);var k=v;function x(e,t){return k(l(e,t,r),e+\"\")}var y=x;var C=n(80);var A=n(98);var T=n(122);var E=n(28);function S(e,t,n){if(!Object(E[\"a\"])(n)){return false}var i=typeof t;if(i==\"number\"?Object(A[\"a\"])(n)&&Object(T[\"a\"])(t,n.length):i==\"string\"&&t in n){return Object(C[\"a\"])(n[t],e)}return false}var O=S;function I(e){return y((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:undefined,s=r>2?n[2]:undefined;o=e.length>3&&typeof o==\"function\"?(r--,o):undefined;if(s&&O(n[0],n[1],s)){o=r<3?undefined:o;r=1}t=Object(t);while(++i<r){var a=n[i];if(a){e(t,a,i,o)}}return t}))}var P=t[\"a\"]=I},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return p}));var i=n(1);var r=n(6);var o=n(182);class s extends r[\"a\"]{constructor(e){super(e);this._stack=[];this._createdBatches=new WeakSet;this.refresh();this.listenTo(e.data,\"set\",()=>this.clearStack())}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const t=this.editor.model.document.selection;const n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n});this.refresh()}clearStack(){this._stack=[];this.refresh()}_restoreSelection(e,t,n){const i=this.editor.model;const r=i.document;const o=[];const s=e.map(e=>e.getTransformedByOperations(n));const l=s.flat();for(const e of s){const t=e.filter(e=>!c(e,l));a(t);const n=t.find(e=>e.root!=r.graveyard);if(n){o.push(n)}}if(o.length){i.change(e=>{e.setSelection(o,{backward:t})})}}_undo(e,t){const n=this.editor.model;const i=n.document;this._createdBatches.add(t);const r=e.operations.slice().filter(e=>e.isDocumentOperation);r.reverse();for(const e of r){const r=e.baseVersion+1;const s=Array.from(i.history.getOperations(r));const a=Object(o[\"a\"])([e.getReversed()],s,{useRelations:true,document:this.editor.model.document,padWithNoOps:false,forceWeakRemove:true});const c=a.operationsA;for(const r of c){t.addOperation(r);n.applyOperation(r);i.history.setOperationAsUndone(e,r)}}}}function a(e){e.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let t=1;t<e.length;t++){const n=e[t-1];const i=n.getJoined(e[t],true);if(i){t--;e.splice(t,2,i)}}}function c(e,t){return t.some(t=>t!==e&&t.containsRange(e,true))}class l extends s{execute(e=null){const t=e?this._stack.findIndex(t=>t.batch==e):this._stack.length-1;const n=this._stack.splice(t,1)[0];const i=this.editor.model.createBatch(\"transparent\");this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e);this.fire(\"revert\",n.batch,i)});this.refresh()}}class d extends s{execute(){const e=this._stack.pop();const t=this.editor.model.createBatch(\"transparent\");this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1];const i=n.baseVersion+1;const r=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r);this._undo(e.batch,t)});this.refresh()}}class u extends i[\"a\"]{static get pluginName(){return\"UndoEditing\"}constructor(e){super(e);this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new l(e);this._redoCommand=new d(e);e.commands.add(\"undo\",this._undoCommand);e.commands.add(\"redo\",this._redoCommand);this.listenTo(e.model,\"applyOperation\",(e,t)=>{const n=t[0];if(!n.isDocumentOperation){return}const i=n.batch;const r=this._redoCommand._createdBatches.has(i);const o=this._undoCommand._createdBatches.has(i);const s=this._batchRegistry.has(i);if(s||i.type==\"transparent\"&&!r&&!o){return}else{if(r){this._undoCommand.addBatch(i)}else if(!o){this._undoCommand.addBatch(i);this._redoCommand.clearStack()}}this._batchRegistry.add(i)},{priority:\"highest\"});this.listenTo(this._undoCommand,\"revert\",(e,t,n)=>{this._redoCommand.addBatch(n)});e.keystrokes.set(\"CTRL+Z\",\"undo\");e.keystrokes.set(\"CTRL+Y\",\"redo\");e.keystrokes.set(\"CTRL+SHIFT+Z\",\"redo\")}}var h=n(7);var f='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z\"/></svg>';var m='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z\"/></svg>';class g extends i[\"a\"]{init(){const e=this.editor;const t=e.locale;const n=e.t;const i=t.uiLanguageDirection==\"ltr\"?f:m;const r=t.uiLanguageDirection==\"ltr\"?m:f;this._addButton(\"undo\",n(\"Undo\"),\"CTRL+Z\",i);this._addButton(\"redo\",n(\"Redo\"),\"CTRL+Y\",r)}_addButton(e,t,n,i){const r=this.editor;r.ui.componentFactory.add(e,o=>{const s=r.commands.get(e);const a=new h[\"a\"](o);a.set({label:t,icon:i,keystroke:n,tooltip:true});a.bind(\"isEnabled\").to(s,\"isEnabled\");this.listenTo(a,\"execute\",()=>{r.execute(e);r.editing.view.focus()});return a})}}class p extends i[\"a\"]{static get requires(){return[u,g]}static get pluginName(){return\"Undo\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return w}));var i=n(1);var r=n(77);var o=n(203);var s=n(136);var a=n(10);var c=n(6);class l extends c[\"a\"]{execute(){const e=this.editor.model;const t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!d(e.schema,n)){do{n=n.parent;if(!n){return}}while(!d(e.schema,n))}e.change(e=>{e.setSelection(n,\"in\")})}}function d(e,t){return e.isLimit(t)&&(e.checkChild(t,\"$text\")||e.checkChild(t,\"paragraph\"))}const u=Object(a[\"g\"])(\"Ctrl+A\");class h extends i[\"a\"]{static get pluginName(){return\"SelectAllEditing\"}init(){const e=this.editor;const t=e.editing.view;const n=t.document;e.commands.add(\"selectAll\",new l(e));this.listenTo(n,\"keydown\",(t,n)=>{if(Object(a[\"a\"])(n)===u){e.execute(\"selectAll\");n.preventDefault()}})}}var f=n(7);var m='<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z\"/></svg>';class g extends i[\"a\"]{static get pluginName(){return\"SelectAllUI\"}init(){const e=this.editor;e.ui.componentFactory.add(\"selectAll\",t=>{const n=e.commands.get(\"selectAll\");const i=new f[\"a\"](t);const r=t.t;i.set({label:r(\"Select all\"),icon:m,keystroke:\"Ctrl+A\",tooltip:true});i.bind(\"isOn\",\"isEnabled\").to(n,\"value\",\"isEnabled\");this.listenTo(i,\"execute\",()=>{e.execute(\"selectAll\");e.editing.view.focus()});return i})}}class p extends i[\"a\"]{static get requires(){return[h,g]}static get pluginName(){return\"SelectAll\"}}var b=n(181);var _=n(194);class w extends i[\"a\"]{static get requires(){return[r[\"a\"],o[\"a\"],p,s[\"a\"],b[\"a\"],_[\"a\"]]}static get pluginName(){return\"Essentials\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var i=n(1);var r=n(68);const o=\"bold\";class s extends i[\"a\"]{static get pluginName(){return\"BoldEditing\"}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:o});e.model.schema.setAttributeProperties(o,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:o,view:\"strong\",upcastAlso:[\"b\",e=>{const t=e.getStyle(\"font-weight\");if(!t){return null}if(t==\"bold\"||Number(t)>=600){return{name:true,styles:[\"font-weight\"]}}}]});e.commands.add(o,new r[\"a\"](e,o));e.keystrokes.set(\"CTRL+B\",o)}}var a=n(7);var c='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z\"/></svg>';const l=\"bold\";class d extends i[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(l,n=>{const i=e.commands.get(l);const r=new a[\"a\"](n);r.set({label:t(\"Bold\"),icon:c,keystroke:\"CTRL+B\",tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(l);e.editing.view.focus()});return r})}}class u extends i[\"a\"]{static get requires(){return[s,d]}static get pluginName(){return\"Bold\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var i=n(1);var r=n(68);const o=\"italic\";class s extends i[\"a\"]{static get pluginName(){return\"ItalicEditing\"}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:o});e.model.schema.setAttributeProperties(o,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:o,view:\"i\",upcastAlso:[\"em\",{styles:{\"font-style\":\"italic\"}}]});e.commands.add(o,new r[\"a\"](e,o));e.keystrokes.set(\"CTRL+I\",o)}}var a=n(7);var c='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z\"/></svg>';const l=\"italic\";class d extends i[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(l,n=>{const i=e.commands.get(l);const r=new a[\"a\"](n);r.set({label:t(\"Italic\"),icon:c,keystroke:\"CTRL+I\",tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(l);e.editing.view.focus()});return r})}}class u extends i[\"a\"]{static get requires(){return[s,d]}static get pluginName(){return\"Italic\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(201);var r=n(30);var o='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z\"/></svg>';var s='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z\"/></svg>';var a=n(1);class c extends a[\"a\"]{init(){const e=this.editor.t;Object(r[\"a\"])(this.editor,\"numberedList\",e(\"Numbered List\"),o);Object(r[\"a\"])(this.editor,\"bulletedList\",e(\"Bulleted List\"),s)}}class l extends a[\"a\"]{static get requires(){return[i[\"a\"],c]}static get pluginName(){return\"List\"}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return j}));var i=n(3);var r=n(58);var o=n(190);var s=n(174);var a=n(91);var c=n(204);var l=n(205);var d=n(17);var u=n(176);var h=n(130);class f extends u[\"a\"]{constructor(e,t){super(e);const n=Object(d[\"a\"])();this[\"main\"]=this[\"createCollection\"](),this[\"editable\"]=new l[\"a\"](e,t),this[\"ii\"]=this[\"ei\"](n,e),this[\"setTemplate\"]({tag:\"div\",attributes:{class:[\"ck-reset\",\"ck-editor\",\"ck-rounded-corners\",\"ck-comment__input\"],role:\"comment\",dir:e[\"uiLanguageDirection\"],lang:e[\"uiLanguage\"],\"aria-labelledby\":\"cke-editor__aria-label_\"+n},children:[this[\"ii\"],{tag:\"div\",attributes:{class:\"ck-editor__main\",role:\"presentation\"},children:this[\"main\"]}]})}[\"render\"](){super[\"render\"](),this[\"main\"][\"add\"](this[\"editable\"])}[\"focus\"](){this[\"editable\"][\"element\"][\"focus\"]()}[\"ei\"](e,t){const n=new h[\"a\"],{t:i}=t;return n[\"text\"]=i(\"Comment editor\"),n[\"extendTemplate\"]({attributes:{id:\"ck-editor__aria-label_\"+e,class:\"ck-voice-label\"}}),n}}const m=[\"setEditableElement\",\"add\",\"ready\",\"fire\",\"view\",\"document\",\"locale\",\"editing\",\"init\",\"render\",\"focusTracker\",\"editable\",\"element\",\"rootName\",\"attachDomRoot\",\"isFocused\",\"destroy\",\"name\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(m,451);const g=function(e,t){e=e-0;let n=m[e];return n};class p extends c[\"a\"]{constructor(e){super(e),this[g(\"0x3\")]=new f(e[g(\"0x5\")],e[g(\"0x6\")][g(\"0x3\")])}get[\"element\"](){return this[\"view\"][g(\"0xb\")]}[g(\"0x7\")](){const e=this[\"editor\"][\"editing\"][g(\"0x3\")],t=this[g(\"0x3\")][g(\"0xa\")],n=e[g(\"0x4\")][\"getRoot\"]();t[g(\"0x10\")]=n[g(\"0xc\")],this[\"view\"][g(\"0x8\")]();const i=t[g(\"0xb\")];this[g(\"0x11\")](t[g(\"0x10\")],i),this[g(\"0x9\")][g(\"0x0\")](i),this[g(\"0x3\")][g(\"0xa\")][\"bind\"](g(\"0xe\"))[\"to\"](this[\"focusTracker\"]),e[g(\"0xd\")](i),this[g(\"0x2\")](g(\"0x1\"))}[g(\"0xf\")](){this[g(\"0x3\")][g(\"0xf\")](),super[g(\"0xf\")]()}}var b=n(11);var _=n(4);var w=n(111);var v=n(195);var k=n(102);var x=n(196);var y=n(197);var C=n(198);var A=n(200);const T=[\"change:placeholder\",\"ready\",\"destroy\",\"config\",\"low\",\"plugins\",\"data\",\"view\",\"initPlugins\",\"setSelection\",\"model\",\"getChild\",\"processor\",\"fire\",\"set\",\"placeholderElement\",\"init\",\"defaultPlugins\",\"create\",\"get\",\"initialData\",\"then\",\"childCount\",\"name\",\"focus\",\"placeholder\",\"document\",\"change\",\"getRoot\",\"editing\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(T,290);const E=function(e,t){e=e-0;let n=T[e];return n};class S extends o[\"a\"]{constructor(e={}){(e=Object[\"assign\"]({},e))[E(\"0xf\")]||(e[E(\"0xf\")]=S[E(\"0x1b\")]),super(e),this[\"ui\"]=new p(this),this[E(\"0x18\")](E(\"0x5\"),\"\"),this[E(\"0x14\")][E(\"0x6\")][\"on\"](E(\"0x7\"),()=>this[\"pt\"](),{priority:E(\"0xe\")}),this[\"on\"](E(\"0xa\"),()=>this[\"pt\"]()),this[E(\"0x14\")][\"document\"][\"createRoot\"](),this[E(\"0x10\")][E(\"0x16\")]=new a[\"a\"](this[E(\"0x9\")][\"view\"][E(\"0x6\")])}[E(\"0x1c\")](){const e=this[E(\"0xd\")][E(\"0x1d\")](E(\"0x0\"))||\"\";return this[E(\"0x12\")]()[E(\"0x1\")](()=>this[\"ui\"][E(\"0x1a\")]())[E(\"0x1\")](()=>this[\"data\"][E(\"0x1a\")](e))[E(\"0x1\")](()=>this[E(\"0x17\")](E(\"0xb\")))}[E(\"0xc\")](){return super[E(\"0xc\")]()[E(\"0x1\")](()=>this[\"ui\"][E(\"0xc\")]())}[E(\"0x4\")](){this[E(\"0x14\")][E(\"0x7\")](e=>{const t=this[E(\"0x14\")][\"document\"][E(\"0x8\")](),n=t[E(\"0x15\")](t[E(\"0x2\")]-1);e[E(\"0x13\")](n,\"end\"),this[E(\"0x9\")][E(\"0x11\")][E(\"0x4\")]()})}[\"pt\"](){const e=this[E(\"0x9\")][E(\"0x11\")],t=e[E(\"0x6\")][E(\"0x8\")](),n=t[\"getChild\"](0);t[E(\"0x2\")]>1||!n||\"p\"!=n[E(\"0x3\")]?this[\"placeholderElement\"]&&(Object(w[\"a\"])(e,this[E(\"0x19\")]),this[E(\"0x19\")]=void 0):(Object(w[\"b\"])({view:e,element:n,text:this[E(\"0x5\")]}),this[E(\"0x19\")]=n)}}Object(_[\"a\"])(S,b[\"a\"]),Object(_[\"a\"])(S,s[\"a\"]),S[E(\"0x1b\")]=[v[\"a\"],A[\"a\"],k[\"a\"],x[\"a\"],y[\"a\"],C[\"a\"]];var O=n(7);var I=n(26);var P=n(48);var M=n(31);var R=n(74);var N=n(75);class j extends i[\"a\"]{constructor(e,t={}){super(e);const{t:n}=e;this[\"editor\"]=new S(t),this[\"keystrokes\"]=new M[\"a\"],this[\"focusTracker\"]=new I[\"a\"],this[\"set\"](\"value\",t[\"initialData\"]||\"\"),this[\"set\"](\"disabledSubmit\",!1),this[\"set\"](\"showButtons\",!0),this[\"set\"](\"placeholder\",n(\"Reply...\")),this[\"submitButtonView\"]=this[\"kt\"](),this[\"cancelButtonView\"]=this[\"bt\"](),this[\"setTemplate\"]({tag:\"div\",attributes:{class:[\"ck-comment__input-wrapper\"]},children:[{tag:\"div\",attributes:{class:[\"ck-comment__input-actions\",this[\"bindTemplate\"][\"if\"](\"showButtons\",\"ck-comment__input-actions--active\")]},children:[this[\"submitButtonView\"],this[\"cancelButtonView\"]]}]}),this[\"keystrokes\"][\"set\"](\"Esc\",(e,t)=>{this[\"cancelButtonView\"][\"fire\"](\"execute\"),t()}),this[\"on\"](\"submit\",(e,t)=>{t[\"length\"]>4e3?(alert(n({string:\"Comment content is too long. Your comment has %0 characters but the limit is %1 characters.\",id:\"TOO_LONG_COMMENT_ALERT\"},[t[\"length\"],4e3])),e[\"stop\"]()):this[\"editor\"][\"setData\"](\"\")},{priority:\"high\"})}[\"render\"](){super[\"render\"]();const{editor:e,element:t}=this;this[\"keystrokes\"][\"listenTo\"](t),this[\"focusTracker\"][\"add\"](t),e[\"create\"]()[\"then\"](()=>{t[\"insertBefore\"](e[\"ui\"][\"element\"],t[\"firstChild\"]),e[\"model\"][\"document\"][\"on\"](\"change\",()=>this[\"value\"]=e[\"getData\"]()),e[\"bind\"](\"placeholder\")[\"to\"](this),this[\"ft\"](e),this[\"fire\"](\"editorReady\")})}[\"focus\"](){this[\"editor\"][\"focus\"]()}[\"destroy\"](){return this[\"_t\"]?Promise[\"resolve\"]():(this[\"_t\"]=!0,this[\"isRendered\"]?this[\"editor\"][\"destroy\"]()[\"then\"](()=>super[\"destroy\"]()):Promise[\"resolve\"](super[\"destroy\"]()))}[\"kt\"](){const e=new O[\"a\"](this[\"locale\"]),{t:t}=this[\"locale\"];return e[\"extendTemplate\"]({attributes:{class:[\"ck-comment__input-actions--submit\"]}}),e[\"label\"]=t(\"Submit\"),e[\"icon\"]=R[\"a\"],e[\"on\"](\"execute\",()=>{this[\"fire\"](\"submit\",this[\"value\"])}),e[\"bind\"](\"isEnabled\")[\"to\"](this,\"value\",this,\"disabledSubmit\",(e,t)=>!t&&!!e[\"trim\"]()),e}[\"bt\"](){const e=new O[\"a\"](this[\"locale\"]),{t:t}=this[\"locale\"];return e[\"extendTemplate\"]({attributes:{class:[\"ck-comment__input-actions--cancel\"]}}),e[\"label\"]=t(\"Cancel\"),e[\"icon\"]=N[\"a\"],e[\"on\"](\"execute\",()=>{this[\"editor\"][\"setData\"](\"\"),this[\"fire\"](\"cancel\")}),e}[\"ft\"](e){const t=this[\"focusTracker\"],n=new r[\"a\"];[e[\"ui\"][\"view\"],this[\"submitButtonView\"],this[\"cancelButtonView\"]][\"forEach\"](e=>{n[\"add\"](e),t[\"add\"](e[\"element\"])});const i=new P[\"a\"]({focusables:n,focusTracker:t});this[\"keystrokes\"][\"set\"](\"tab\",(e,t)=>{i[\"focusNext\"](),t()},{priority:\"low\"}),this[\"keystrokes\"][\"set\"](\"shift + tab\",(e,t)=>{i[\"focusPrevious\"](),t()},{priority:\"low\"})}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(32);var r=n(19);function o(e,t,n,o){let s;let a=null;if(typeof o==\"function\"){s=o}else{a=e.commands.get(o);s=()=>{e.execute(o)}}e.model.document.on(\"change:data\",(o,c)=>{if(a&&!a.isEnabled||!t.isEnabled){return}const l=Object(r[\"a\"])(e.model.document.selection.getRanges());if(!l.isCollapsed){return}if(c.type==\"transparent\"){return}const d=Array.from(e.model.document.differ.getChanges());const u=d[0];if(d.length!=1||u.type!==\"insert\"||u.name!=\"$text\"||u.length!=1){return}const h=u.position.parent;if(h.is(\"element\",\"codeBlock\")){return}if(a&&a.value===true){return}const f=h.getChild(0);const m=e.model.createRangeOn(f);if(!m.containsRange(l)&&!l.end.isEqual(m.end)){return}const g=n.exec(f.data.substr(0,l.end.offset));if(!g){return}e.model.enqueueChange(e=>{const t=e.createPositionAt(h,0);const n=e.createPositionAt(h,g[0].length);const r=new i[\"a\"](t,n);const o=s({match:g});if(o!==false){e.remove(r)}r.detach()})})}function s(e,t,n,i){let r;let o;if(n instanceof RegExp){r=n}else{o=n}o=o||(e=>{let t;const n=[];const i=[];while((t=r.exec(e))!==null){if(t&&t.length<4){break}let{index:e,1:r,2:o,3:s}=t;const a=r+o+s;e+=t[0].length-a.length;const c=[e,e+r.length];const l=[e+r.length+o.length,e+r.length+o.length+s.length];n.push(c);n.push(l);i.push([e+r.length,e+r.length+o.length])}return{remove:n,format:i}});e.model.document.on(\"change:data\",(n,r)=>{if(r.type==\"transparent\"||!t.isEnabled){return}const s=e.model;const l=s.document.selection;if(!l.isCollapsed){return}const d=Array.from(s.document.differ.getChanges());const u=d[0];if(d.length!=1||u.type!==\"insert\"||u.name!=\"$text\"||u.length!=1){return}const h=l.focus;const f=h.parent;const{text:m,range:g}=c(s.createRange(s.createPositionAt(f,0),h),s);const p=o(m);const b=a(g.start,p.format,s);const _=a(g.start,p.remove,s);if(!(b.length&&_.length)){return}s.enqueueChange(e=>{const t=i(e,b);if(t===false){return}for(const t of _.reverse()){e.remove(t)}})})}function a(e,t,n){return t.filter(e=>e[0]!==undefined&&e[1]!==undefined).map(t=>n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1])))}function c(e,t){let n=e.start;const i=Array.from(e.getItems()).reduce((e,i)=>{if(!(i.is(\"$text\")||i.is(\"$textProxy\"))||i.getAttribute(\"code\")){n=t.createPositionAfter(i);return\"\"}return e+i.data},\"\");return{text:i,range:t.createRange(n,e.end)}}var l=n(1);class d extends l[\"a\"]{static get pluginName(){return\"Autoformat\"}afterInit(){this._addListAutoformats();this._addBasicStylesAutoformats();this._addHeadingAutoformats();this._addBlockQuoteAutoformats();this._addCodeBlockAutoformats()}_addListAutoformats(){const e=this.editor.commands;if(e.get(\"bulletedList\")){o(this.editor,this,/^[*-]\\s$/,\"bulletedList\")}if(e.get(\"numberedList\")){o(this.editor,this,/^1[.|)]\\s$/,\"numberedList\")}}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get(\"bold\")){const e=u(this.editor,\"bold\");s(this.editor,this,/(\\*\\*)([^*]+)(\\*\\*)$/g,e);s(this.editor,this,/(__)([^_]+)(__)$/g,e)}if(e.get(\"italic\")){const e=u(this.editor,\"italic\");s(this.editor,this,/(?:^|[^*])(\\*)([^*_]+)(\\*)$/g,e);s(this.editor,this,/(?:^|[^_])(_)([^_]+)(_)$/g,e)}if(e.get(\"code\")){const e=u(this.editor,\"code\");s(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get(\"strikethrough\")){const e=u(this.editor,\"strikethrough\");s(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get(\"heading\");if(e){e.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7];const i=new RegExp(`^(#{${n}})\\\\s$`);o(this.editor,this,i,()=>{if(!e.isEnabled||e.value===t){return false}this.editor.execute(\"heading\",{value:t})})})}}_addBlockQuoteAutoformats(){if(this.editor.commands.get(\"blockQuote\")){o(this.editor,this,/^>\\s$/,\"blockQuote\")}}_addCodeBlockAutoformats(){if(this.editor.commands.get(\"codeBlock\")){o(this.editor,this,/^```$/,\"codeBlock\")}}}function u(e,t){return(n,i)=>{const r=e.commands.get(t);if(!r.isEnabled){return false}const o=e.model.schema.getValidRanges(i,t);for(const e of o){n.setAttribute(t,true,e)}n.removeSelectionAttribute(t)}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return I}));var i=n(151);var r=n(6);var o=n(19);class s extends r[\"a\"]{constructor(e,t){super(e);this._indentBy=t==\"forward\"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;const t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(e=>{const t=n[n.length-1];let i=t.nextSibling;while(i&&i.name==\"listItem\"&&i.getAttribute(\"listIndent\")>t.getAttribute(\"listIndent\")){n.push(i);i=i.nextSibling}if(this._indentBy<0){n=n.reverse()}for(const t of n){const n=t.getAttribute(\"listIndent\")+this._indentBy;if(n<0){e.rename(t,\"paragraph\")}else{e.setAttribute(\"listIndent\",n,t)}}})}_checkEnabled(){const e=Object(o[\"a\"])(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is(\"element\",\"listItem\")){return false}if(this._indentBy>0){const t=e.getAttribute(\"listIndent\");const n=e.getAttribute(\"listType\");let i=e.previousSibling;while(i&&i.is(\"element\",\"listItem\")&&i.getAttribute(\"listIndent\")>=t){if(i.getAttribute(\"listIndent\")==t){return i.getAttribute(\"listType\")==n}i=i.previousSibling}return false}return true}}var a=n(1);var c=n(102);var l=n(30);var d=n(50);function u(e){return(t,n,i)=>{const r=i.consumable;if(!r.test(n.item,\"insert\")||!r.test(n.item,\"attribute:listType\")||!r.test(n.item,\"attribute:listIndent\")){return}r.consume(n.item,\"insert\");r.consume(n.item,\"attribute:listType\");r.consume(n.item,\"attribute:listIndent\");const o=n.item;const s=Object(l[\"c\"])(o,i);Object(l[\"e\"])(o,s,i,e)}}function h(e){return(t,n,i)=>{const r=i.mapper.toViewPosition(n.position);const o=r.getLastMatchingPosition(e=>!e.item.is(\"element\",\"li\"));const s=o.nodeAfter;const a=i.writer;a.breakContainer(a.createPositionBefore(s));a.breakContainer(a.createPositionAfter(s));const c=s.parent;const d=c.previousSibling;const u=a.createRangeOn(c);const h=a.remove(u);if(d&&d.nextSibling){Object(l[\"f\"])(a,d,d.nextSibling)}const f=i.mapper.toModelElement(s);E(f.getAttribute(\"listIndent\")+1,n.position,u.start,s,i,e);for(const e of a.createRangeIn(h).getItems()){i.mapper.unbindViewElement(e)}t.stop()}}function f(e,t,n){if(!n.consumable.consume(t.item,\"attribute:listType\")){return}const i=n.mapper.toViewElement(t.item);const r=n.writer;r.breakContainer(r.createPositionBefore(i));r.breakContainer(r.createPositionAfter(i));const o=i.parent;const s=t.attributeNewValue==\"numbered\"?\"ol\":\"ul\";r.rename(s,o)}function m(e,t,n){const i=n.mapper.toViewElement(t.item);const r=i.parent;const o=n.writer;Object(l[\"f\"])(o,r,r.nextSibling);Object(l[\"f\"])(o,r.previousSibling,r);for(const e of t.item.getChildren()){n.consumable.consume(e,\"insert\")}}function g(e){return(t,n,i)=>{if(!i.consumable.consume(n.item,\"attribute:listIndent\")){return}const r=i.mapper.toViewElement(n.item);const o=i.writer;o.breakContainer(o.createPositionBefore(r));o.breakContainer(o.createPositionAfter(r));const s=r.parent;const a=s.previousSibling;const c=o.createRangeOn(s);o.remove(c);if(a&&a.nextSibling){Object(l[\"f\"])(o,a,a.nextSibling)}E(n.attributeOldValue+1,n.range.start,c.start,r,i,e);Object(l[\"e\"])(n.item,r,i,e);for(const e of n.item.getChildren()){i.consumable.consume(e,\"insert\")}}}function p(e,t,n){if(t.item.name!=\"listItem\"){let e=n.mapper.toViewPosition(t.range.start);const i=n.writer;const r=[];while(e.parent.name==\"ul\"||e.parent.name==\"ol\"){e=i.breakContainer(e);if(e.parent.name!=\"li\"){break}const t=e;const n=i.createPositionAt(e.parent,\"end\");if(!t.isEqual(n)){const e=i.remove(i.createRange(t,n));r.push(e)}e=i.createPositionAfter(e.parent)}if(r.length>0){for(let t=0;t<r.length;t++){const n=e.nodeBefore;const o=i.insert(e,r[t]);e=o.end;if(t>0){const t=Object(l[\"f\"])(i,n,n.nextSibling);if(t&&t.parent==n){e.offset--}}}Object(l[\"f\"])(i,e.nodeBefore,e.nodeAfter)}}}function b(e,t,n){const i=n.mapper.toViewPosition(t.position);const r=i.nodeBefore;const o=i.nodeAfter;Object(l[\"f\"])(n.writer,r,o)}function _(e,t,n){if(n.consumable.consume(t.viewItem,{name:true})){const e=n.writer;const i=e.createElement(\"listItem\");const r=O(t.viewItem);e.setAttribute(\"listIndent\",r,i);const o=t.viewItem.parent&&t.viewItem.parent.name==\"ol\"?\"numbered\":\"bulleted\";e.setAttribute(\"listType\",o,i);const s=n.splitToAllowedParent(i,t.modelCursor);if(!s){return}e.insert(i,s.position);const a=A(i,t.viewItem.getChildren(),n);t.modelRange=e.createRange(t.modelCursor,a);if(s.cursorParent){t.modelCursor=e.createPositionAt(s.cursorParent,0)}else{t.modelCursor=t.modelRange.end}}}function w(e,t,n){if(n.consumable.test(t.viewItem,{name:true})){const e=Array.from(t.viewItem.getChildren());for(const t of e){const e=!(t.is(\"element\",\"li\")||S(t));if(e){t._remove()}}}}function v(e,t,n){if(n.consumable.test(t.viewItem,{name:true})){if(t.viewItem.childCount===0){return}const e=[...t.viewItem.getChildren()];let n=false;let i=true;for(const t of e){if(n&&!S(t)){t._remove()}if(t.is(\"$text\")){if(i){t._data=t.data.replace(/^\\s+/,\"\")}if(!t.nextSibling||S(t.nextSibling)){t._data=t.data.replace(/\\s+$/,\"\")}}else if(S(t)){n=true}i=false}}}function k(e){return(t,n)=>{if(n.isPhantom){return}const i=n.modelPosition.nodeBefore;if(i&&i.is(\"element\",\"listItem\")){const t=n.mapper.toViewElement(i);const r=t.getAncestors().find(S);const o=e.createPositionAt(t,0).getWalker();for(const e of o){if(e.type==\"elementStart\"&&e.item.is(\"element\",\"li\")){n.viewPosition=e.previousPosition;break}else if(e.type==\"elementEnd\"&&e.item==r){n.viewPosition=e.nextPosition;break}}}}}function x(e){return(t,n)=>{const i=n.viewPosition;const r=i.parent;const o=n.mapper;if(r.name==\"ul\"||r.name==\"ol\"){if(!i.isAtEnd){const t=o.toModelElement(i.nodeAfter);n.modelPosition=e.createPositionBefore(t)}else{const t=o.toModelElement(i.nodeBefore);const r=o.getModelLength(i.nodeBefore);n.modelPosition=e.createPositionBefore(t).getShiftedBy(r)}t.stop()}else if(r.name==\"li\"&&i.nodeBefore&&(i.nodeBefore.name==\"ul\"||i.nodeBefore.name==\"ol\")){const s=o.toModelElement(r);let a=1;let c=i.nodeBefore;while(c&&S(c)){a+=o.getModelLength(c);c=c.previousSibling}n.modelPosition=e.createPositionBefore(s).getShiftedBy(a);t.stop()}}}function y(e,t){const n=e.document.differ.getChanges();const i=new Map;let r=false;for(const i of n){if(i.type==\"insert\"&&i.name==\"listItem\"){o(i.position)}else if(i.type==\"insert\"&&i.name!=\"listItem\"){if(i.name!=\"$text\"){const n=i.position.nodeAfter;if(n.hasAttribute(\"listIndent\")){t.removeAttribute(\"listIndent\",n);r=true}if(n.hasAttribute(\"listType\")){t.removeAttribute(\"listType\",n);r=true}for(const t of Array.from(e.createRangeIn(n)).filter(e=>e.item.is(\"element\",\"listItem\"))){o(t.previousPosition)}}const n=i.position.getShiftedBy(i.length);o(n)}else if(i.type==\"remove\"&&i.name==\"listItem\"){o(i.position)}else if(i.type==\"attribute\"&&i.attributeKey==\"listIndent\"){o(i.range.start)}else if(i.type==\"attribute\"&&i.attributeKey==\"listType\"){o(i.range.start)}}for(const e of i.values()){s(e);a(e)}return r;function o(e){const t=e.nodeBefore;if(!t||!t.is(\"element\",\"listItem\")){const t=e.nodeAfter;if(t&&t.is(\"element\",\"listItem\")){i.set(t,t)}}else{let e=t;if(i.has(e)){return}for(let t=e.previousSibling;t&&t.is(\"element\",\"listItem\");t=e.previousSibling){e=t;if(i.has(e)){return}}i.set(t,e)}}function s(e){let n=0;let i=null;while(e&&e.is(\"element\",\"listItem\")){const o=e.getAttribute(\"listIndent\");if(o>n){let s;if(i===null){i=o-n;s=n}else{if(i>o){i=o}s=o-i}t.setAttribute(\"listIndent\",s,e);r=true}else{i=null;n=e.getAttribute(\"listIndent\")+1}e=e.nextSibling}}function a(e){let n=[];let i=null;while(e&&e.is(\"element\",\"listItem\")){const o=e.getAttribute(\"listIndent\");if(i&&i.getAttribute(\"listIndent\")>o){n=n.slice(0,o+1)}if(o!=0){if(n[o]){const i=n[o];if(e.getAttribute(\"listType\")!=i){t.setAttribute(\"listType\",i,e);r=true}}else{n[o]=e.getAttribute(\"listType\")}}i=e;e=e.nextSibling}}}function C(e,[t,n]){let i=t.is(\"documentFragment\")?t.getChild(0):t;let r;if(!n){r=this.document.selection}else{r=this.createSelection(n)}if(i&&i.is(\"element\",\"listItem\")){const e=r.getFirstPosition();let t=null;if(e.parent.is(\"element\",\"listItem\")){t=e.parent}else if(e.nodeBefore&&e.nodeBefore.is(\"element\",\"listItem\")){t=e.nodeBefore}if(t){const e=t.getAttribute(\"listIndent\");if(e>0){while(i&&i.is(\"element\",\"listItem\")){i._setAttribute(\"listIndent\",i.getAttribute(\"listIndent\")+e);i=i.nextSibling}}}}}function A(e,t,n){const{writer:i,schema:r}=n;let o=i.createPositionAfter(e);for(const s of t){if(s.name==\"ul\"||s.name==\"ol\"){o=n.convertItem(s,o).modelCursor}else{const t=n.convertItem(s,i.createPositionAt(e,\"end\"));const a=t.modelRange.start.nodeAfter;const c=a&&a.is(\"element\")&&!r.checkChild(e,a.name);if(c){if(t.modelCursor.parent.is(\"element\",\"listItem\")){e=t.modelCursor.parent}else{e=T(t.modelCursor)}o=i.createPositionAfter(e)}}}return o}function T(e){const t=new d[\"a\"]({startPosition:e});let n;do{n=t.next()}while(!n.value.item.is(\"element\",\"listItem\"));return n.value.item}function E(e,t,n,i,r,o){const s=Object(l[\"d\"])(t.nodeBefore,{sameIndent:true,smallerIndent:true,listIndent:e,foo:\"b\"});const a=r.mapper;const c=r.writer;const d=s?s.getAttribute(\"listIndent\"):null;let u;if(!s){u=n}else if(d==e){const e=a.toViewElement(s).parent;u=c.createPositionAfter(e)}else{const e=o.createPositionAt(s,\"end\");u=a.toViewPosition(e)}u=Object(l[\"g\"])(u);for(const e of[...i.getChildren()]){if(S(e)){u=c.move(c.createRangeOn(e),u).end;Object(l[\"f\"])(c,e,e.nextSibling);Object(l[\"f\"])(c,e.previousSibling,e)}}}function S(e){return e.is(\"element\",\"ol\")||e.is(\"element\",\"ul\")}function O(e){let t=0;let n=e.parent;while(n){if(n.is(\"element\",\"li\")){t++}else{const e=n.previousSibling;if(e&&e.is(\"element\",\"li\")){t++}}n=n.parent}return t}class I extends a[\"a\"]{static get pluginName(){return\"ListEditing\"}static get requires(){return[c[\"a\"]]}init(){const e=this.editor;e.model.schema.register(\"listItem\",{inheritAllFrom:\"$block\",allowAttributes:[\"listType\",\"listIndent\"]});const t=e.data;const n=e.editing;e.model.document.registerPostFixer(t=>y(e.model,t));n.mapper.registerViewToModelLength(\"li\",P);t.mapper.registerViewToModelLength(\"li\",P);n.mapper.on(\"modelToViewPosition\",k(n.view));n.mapper.on(\"viewToModelPosition\",x(e.model));t.mapper.on(\"modelToViewPosition\",k(n.view));e.conversion.for(\"editingDowncast\").add(t=>{t.on(\"insert\",p,{priority:\"high\"});t.on(\"insert:listItem\",u(e.model));t.on(\"attribute:listType:listItem\",f,{priority:\"high\"});t.on(\"attribute:listType:listItem\",m,{priority:\"low\"});t.on(\"attribute:listIndent:listItem\",g(e.model));t.on(\"remove:listItem\",h(e.model));t.on(\"remove\",b,{priority:\"low\"})});e.conversion.for(\"dataDowncast\").add(t=>{t.on(\"insert\",p,{priority:\"high\"});t.on(\"insert:listItem\",u(e.model))});e.conversion.for(\"upcast\").add(e=>{e.on(\"element:ul\",w,{priority:\"high\"});e.on(\"element:ol\",w,{priority:\"high\"});e.on(\"element:li\",v,{priority:\"high\"});e.on(\"element:li\",_)});e.model.on(\"insertContent\",C,{priority:\"high\"});e.commands.add(\"numberedList\",new i[\"a\"](e,\"numbered\"));e.commands.add(\"bulletedList\",new i[\"a\"](e,\"bulleted\"));e.commands.add(\"indentList\",new s(e,\"forward\"));e.commands.add(\"outdentList\",new s(e,\"backward\"));const r=n.view.document;this.listenTo(r,\"enter\",(e,t)=>{const n=this.editor.model.document;const i=n.selection.getLastPosition().parent;if(n.selection.isCollapsed&&i.name==\"listItem\"&&i.isEmpty){this.editor.execute(\"outdentList\");t.preventDefault();e.stop()}});this.listenTo(r,\"delete\",(e,t)=>{if(t.direction!==\"backward\"){return}const n=this.editor.model.document.selection;if(!n.isCollapsed){return}const i=n.getFirstPosition();if(!i.isAtStart){return}const r=i.parent;if(r.name!==\"listItem\"){return}const o=r.previousSibling&&r.previousSibling.name===\"listItem\";if(o){return}this.editor.execute(\"outdentList\");t.preventDefault();e.stop()},{priority:\"high\"});const o=e=>(t,n)=>{const i=this.editor.commands.get(e);if(i.isEnabled){this.editor.execute(e);n()}};e.keystrokes.set(\"Tab\",o(\"indentList\"));e.keystrokes.set(\"Shift+Tab\",o(\"outdentList\"))}afterInit(){const e=this.editor.commands;const t=e.get(\"indent\");const n=e.get(\"outdent\");if(t){t.registerChildCommand(e.get(\"indentList\"))}if(n){n.registerChildCommand(e.get(\"outdentList\"))}}}function P(e){let t=1;for(const n of e.getChildren()){if(n.name==\"ul\"||n.name==\"ol\"){for(const e of n.getChildren()){t+=P(e)}}}return t}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var i=n(1);var r=n(6);var o=n(150);var s=n(177);class a extends r[\"a\"]{constructor(e,t){super(e);this.direction=t;this._buffer=new s[\"a\"](e.model,e.config.get(\"typing.undoStep\"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model;const n=t.document;t.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const r=i.createSelection(e.selection||n.selection);const s=r.isCollapsed;if(r.isCollapsed){t.modifySelection(r,{direction:this.direction,unit:e.unit})}if(this._shouldEntireContentBeReplacedWithParagraph(e.sequence||1)){this._replaceEntireContentWithParagraph(i);return}if(r.isCollapsed){return}let a=0;r.getFirstRange().getMinimalFlatRanges().forEach(e=>{a+=Object(o[\"a\"])(e.getWalker({singleCharacters:true,ignoreElementEnd:true,shallow:true}))});t.deleteContent(r,{doNotResetEntireContent:s,direction:this.direction});this._buffer.input(a);i.setSelection(r);this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1){return false}const t=this.editor.model;const n=t.document;const i=n.selection;const r=t.schema.getLimitElement(i);const o=i.isCollapsed&&i.containsEntireContent(r);if(!o){return false}if(!t.schema.checkChild(r,\"paragraph\")){return false}const s=r.getChild(0);if(s&&s.name===\"paragraph\"){return false}return true}_replaceEntireContentWithParagraph(e){const t=this.editor.model;const n=t.document;const i=n.selection;const r=t.schema.getLimitElement(i);const o=e.createElement(\"paragraph\");e.remove(e.createRangeIn(r));e.insert(o,r);e.setSelection(o,0)}}var c=n(67);var l=n(127);var d=n(10);var u=n(38);class h extends c[\"a\"]{constructor(e){super(e);const t=e.document;let n=0;t.on(\"keyup\",(e,t)=>{if(t.keyCode==d[\"f\"].delete||t.keyCode==d[\"f\"].backspace){n=0}});t.on(\"keydown\",(e,t)=>{const r={};if(t.keyCode==d[\"f\"].delete){r.direction=\"forward\";r.unit=\"character\"}else if(t.keyCode==d[\"f\"].backspace){r.direction=\"backward\";r.unit=\"codePoint\"}else{return}const o=u[\"a\"].isMac?t.altKey:t.ctrlKey;r.unit=o?\"word\":r.unit;r.sequence=++n;i(e,t.domEvent,r)});if(u[\"a\"].isAndroid){t.on(\"beforeinput\",(t,n)=>{if(n.domEvent.inputType!=\"deleteContentBackward\"){return}const r={unit:\"codepoint\",direction:\"backward\",sequence:1};const o=n.domTarget.ownerDocument.defaultView.getSelection();if(o.anchorNode==o.focusNode&&o.anchorOffset+1!=o.focusOffset){r.selectionToRemove=e.domConverter.domSelectionToView(o)}i(t,n.domEvent,r)})}function i(e,n,i){let r;t.once(\"delete\",e=>r=e,{priority:Number.POSITIVE_INFINITY});t.fire(\"delete\",new l[\"a\"](t,n,i));if(r&&r.stop.called){e.stop()}}}observe(){}}class f extends i[\"a\"]{static get pluginName(){return\"Delete\"}init(){const e=this.editor;const t=e.editing.view;const n=t.document;t.addObserver(h);e.commands.add(\"forwardDelete\",new a(e,\"forward\"));e.commands.add(\"delete\",new a(e,\"backward\"));this.listenTo(n,\"delete\",(n,i)=>{const r={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){const t=e.model.createSelection();const n=[];for(const t of i.selectionToRemove.getRanges()){n.push(e.editing.mapper.toModelRange(t))}t.setTo(n);r.selection=t}e.execute(i.direction==\"forward\"?\"forwardDelete\":\"delete\",r);i.preventDefault();t.scrollToTheSelection()});if(u[\"a\"].isAndroid){let e=null;this.listenTo(n,\"delete\",(t,n)=>{const i=n.domTarget.ownerDocument.defaultView.getSelection();e={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}},{priority:\"lowest\"});this.listenTo(n,\"keyup\",(t,n)=>{if(e){const t=n.domTarget.ownerDocument.defaultView.getSelection();t.collapse(e.anchorNode,e.anchorOffset);t.extend(e.focusNode,e.focusOffset);e=null}})}}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(1);var r=n(6);var o=n(179);class s extends r[\"a\"]{execute(){const e=this.editor.model;const t=e.document;e.change(n=>{a(this.editor.model,n,t.selection,e.schema);this.fire(\"afterExecute\",{writer:n})})}}function a(e,t,n,i){const r=n.isCollapsed;const s=n.getFirstRange();const a=s.start.parent;const l=s.end.parent;if(i.isLimit(a)||i.isLimit(l)){if(!r&&a==l){e.deleteContent(n)}return}if(r){const e=Object(o[\"a\"])(t.model.schema,n.getAttributes());c(t,s.start);t.setSelectionAttribute(e)}else{const i=!(s.start.isAtStart&&s.end.isAtEnd);const r=a==l;e.deleteContent(n,{leaveUnmerged:i});if(i){if(r){c(t,n.focus)}else{t.setSelection(l,0)}}}}function c(e,t){e.split(t);e.setSelection(t.parent.nextSibling,0)}var l=n(180);class d extends i[\"a\"]{static get pluginName(){return\"Enter\"}init(){const e=this.editor;const t=e.editing.view;const n=t.document;t.addObserver(l[\"a\"]);e.commands.add(\"enter\",new s(e));this.listenTo(n,\"enter\",(n,i)=>{i.preventDefault();if(i.isSoft){return}e.execute(\"enter\");t.scrollToTheSelection()},{priority:\"low\"})}}},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(0);class r{constructor(e){this.editor=e;this._components=new Map}*names(){for(const e of this._components.values()){yield e.originalName}}add(e,t){if(this.has(e)){throw new i[\"b\"](\"componentfactory-item-exists: The item already exists in the component factory.\",this,{name:e})}this._components.set(o(e),{callback:t,originalName:e})}create(e){if(!this.has(e)){throw new i[\"b\"](\"componentfactory-item-missing: The required component is not registered in the factory.\",this,{name:e})}return this._components.get(o(e)).callback(this.editor.locale)}has(e){return this._components.has(o(e))}}function o(e){return String(e).toLowerCase()}var s=n(26);var a=n(13);var c=n(4);class l{constructor(e){this.editor=e;this.componentFactory=new r(e);this.focusTracker=new s[\"a\"];this._editableElementsMap=new Map;this.listenTo(e.editing.view.document,\"layoutChanged\",()=>this.update())}get element(){return null}update(){this.fire(\"update\")}destroy(){this.stopListening();this.focusTracker.destroy();for(const e of this._editableElementsMap.values()){e.ckeditorInstance=null}this._editableElementsMap=new Map}setEditableElement(e,t){this._editableElementsMap.set(e,t);if(!t.ckeditorInstance){t.ckeditorInstance=this.editor}}getEditableElement(e=\"main\"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){console.warn(\"editor-ui-deprecated-editable-elements: \"+\"The EditorUI#_editableElements property has been deprecated and will be removed in the near future.\",{editorUI:this});return this._editableElementsMap}}Object(c[\"a\"])(l,a[\"c\"])},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var i=n(3);class r extends i[\"a\"]{constructor(e,t,n){super(e);this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-content\",\"ck-editor__editable\",\"ck-rounded-corners\"],lang:e.contentLanguage,dir:e.contentLanguageDirection}});this.name=null;this.set(\"isFocused\",false);this._editableElement=n;this._hasExternalElement=!!this._editableElement;this._editingView=t}render(){super.render();if(this._hasExternalElement){this.template.apply(this.element=this._editableElement)}else{this._editableElement=this.element}this.on(\"change:isFocused\",()=>this._updateIsFocusedClasses());this._updateIsFocusedClasses()}destroy(){if(this._hasExternalElement){this.template.revert(this._editableElement)}super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;if(e.isRenderingInProgress){n(this)}else{t(this)}function t(t){e.change(n=>{const i=e.document.getRoot(t.name);n.addClass(t.isFocused?\"ck-focused\":\"ck-blurred\",i);n.removeClass(t.isFocused?\"ck-blurred\":\"ck-focused\",i)})}function n(i){e.once(\"change:isRenderingInProgress\",(e,r,o)=>{if(!o){t(i)}else{n(i)}})}}}class o extends r{constructor(e,t,n){super(e,t,n);this.extendTemplate({attributes:{role:\"textbox\",class:\"ck-editor__editable_inline\"}})}render(){super.render();const e=this._editingView;const t=this.t;e.change(n=>{const i=e.document.getRoot(this.name);n.setAttribute(\"aria-label\",t(\"Rich Text Editor, %0\",[this.name]),i)})}}},function(e,t,n){\"use strict\";function i(e,t){var n=-1,i=Array(e);while(++n<e){i[n]=t(n)}return i}var r=i;var o=n(152);var s=n(42);var a=n(89);var c=n(122);var l=n(137);var d=Object.prototype;var u=d.hasOwnProperty;function h(e,t){var n=Object(s[\"a\"])(e),i=!n&&Object(o[\"a\"])(e),d=!n&&!i&&Object(a[\"a\"])(e),h=!n&&!i&&!d&&Object(l[\"a\"])(e),f=n||i||d||h,m=f?r(e.length,String):[],g=m.length;for(var p in e){if((t||u.call(e,p))&&!(f&&(p==\"length\"||d&&(p==\"offset\"||p==\"parent\")||h&&(p==\"buffer\"||p==\"byteLength\"||p==\"byteOffset\")||Object(c[\"a\"])(p,g)))){m.push(p)}}return m}var f=t[\"a\"]=h},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var i=n(35);var r=n(63);var o=n(42);var s=n(34);var a=\"[object String]\";function c(e){return typeof e==\"string\"||!Object(o[\"a\"])(e)&&Object(s[\"a\"])(e)&&Object(r[\"a\"])(e)==a}var l=c;function d(e,t,n={},r=[]){const o=n&&n.xmlns;const s=o?e.createElementNS(o,t):e.createElement(t);for(const e in n){s.setAttribute(e,n[e])}if(l(r)||!Object(i[\"a\"])(r)){r=[r]}for(let t of r){if(l(t)){t=e.createTextNode(t)}s.appendChild(t)}return s}},function(e,t,n){\"use strict\";var i=n(3);var r=n(7);var o=n(74);var s=n(75);class a extends i[\"a\"]{constructor(e){super(e);const{t:t}=e,n=this[\"bindTemplate\"];this[\"submitView\"]=this[\"Bt\"](e,t(\"Yes\"),o[\"a\"],\"submit\"),this[\"cancelView\"]=this[\"Bt\"](e,t(\"No\"),s[\"a\"],\"cancel\"),this[\"set\"](\"message\",t(\"Are you sure?\")),this[\"setTemplate\"]({tag:\"div\",attributes:{class:[\"ck-thread__remove-confirm\"]},children:[{tag:\"div\",attributes:{class:\"ck-thread__remove-confirm-inner\"},children:[{tag:\"p\",children:[{text:n[\"to\"](\"message\")}]},{tag:\"div\",attributes:{class:\"ck-thread__remove-confirm-actions\"},children:[this[\"submitView\"],this[\"cancelView\"]]}]}]})}[\"Bt\"](e,t,n,i){const o=new r[\"a\"](e);return o[\"label\"]=t,o[\"icon\"]=n,o[\"extendTemplate\"]({attributes:{class:\"ck-thread__remove-confirm-\"+i}}),o[\"on\"](\"execute\",()=>this[\"fire\"](i)),o}}var c=[\"cancel\",\"isConfirm\",\"element\",\"confirmView\",\"message\",\"fire\",\"once\",\"destroy\",\"submit\",\"set\",\"locale\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(c,233);var l=function(e,t){e=e-0;var n=c[e];return n};var d=t[\"a\"]={showConfirm(e,t){return this[\"confirmView\"]=new a(this[l(\"0x8\")]),this[l(\"0x1\")][\"render\"](),this[l(\"0x1\")][l(\"0x2\")]=e,this[l(\"0x1\")][\"once\"](l(\"0x9\"),()=>{this[\"ti\"]()}),this[\"confirmView\"][l(\"0x4\")](l(\"0x6\"),()=>{this[\"ti\"]()}),t[\"appendChild\"](this[\"confirmView\"][l(\"0x0\")]),this[\"registerChild\"](this[l(\"0x1\")]),this[l(\"0x7\")](l(\"0xa\"),!0),new Promise(e=>this[l(\"0x1\")][\"on\"](l(\"0x6\"),e))},cancelConfirm(){this[l(\"0xa\")]&&this[\"confirmView\"][l(\"0x3\")](l(\"0x9\"))},ti(){this[\"confirmView\"][\"element\"][\"remove\"](),this[\"deregisterChild\"](this[\"confirmView\"]),this[l(\"0xa\")]=!1,this[l(\"0x1\")][l(\"0x5\")](),delete this[\"confirmView\"]}}},function(e,t,n){\"use strict\";var i=n(28);var r=Object.create;var o=function(){function e(){}return function(t){if(!Object(i[\"a\"])(t)){return{}}if(r){return r(t)}e.prototype=t;var n=new e;e.prototype=undefined;return n}}();var s=o;var a=n(116);var c=n(118);function l(e){return typeof e.constructor==\"function\"&&!Object(c[\"a\"])(e)?s(Object(a[\"a\"])(e)):{}}var d=t[\"a\"]=l},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(3);var r=n(78);class o extends i[\"a\"]{constructor(e){super(e);const{t:t}=e,n=this[\"bindTemplate\"];this[\"set\"](\"count\"),this[\"setTemplate\"]({tag:\"li\",attributes:{class:\"ck-thread__comment-count\"},children:[{text:n[\"to\"](\"count\",e=>t({string:\"%0 Comment\",plural:\"%0 Comments\",id:\"NUMBER_OF_COMMENTS\"},e))}]})}}var s=n(12);const a=[\"listenTo\",\"editorConfig\",\"from\",\"collapse\",\"createCollection\",\"change:isActive\",\"get\",\"delegate\",\"some\",\"setTemplate\",\"removeComment\",\"destroy\",\"visibleViews\",\"remove\",\"locale\",\"bind\",\"equal\",\"expand\",\"focus\",\"refreshVisibleViews\",\"comments\",\"viewUid\",\"maxThreadTotalWeight\",\"change:isEditMode\",\"isEditMode\",\"length\",\"commentUpdated\",\"add\",\"change:hasDirtyComment\",\"ck-thread__comments\",\"commentViews\",\"formatDateTime\",\"_collapsedCommentsView\",\"_model\",\"hasDirtyComment\",\"_config\",\"render\",\"updateComment\",\"count\",\"isActive\",\"stopListening\",\"maxCommentCharsWhenCollapsed\",\"insert\",\"set\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(a,111);const c=function(e,t){e=e-0;let n=a[e];return n};class l extends i[\"a\"]{constructor(e,t,n){super(e),this[c(\"0x14\")](c(\"0xb\"),!1),this[c(\"0x14\")](c(\"0x2\"),t[\"comments\"][\"length\"]),this[c(\"0x14\")](c(\"0x10\"),!1),this[c(\"0xa\")]=t,this[c(\"0xc\")]=n,this[c(\"0x7\")]=this[\"createCollection\"](),this[c(\"0x21\")]=this[c(\"0x19\")](),this[c(\"0x9\")]=new o(e),this[c(\"0x9\")][c(\"0x24\")](c(\"0xf\"))[\"to\"](this,c(\"0x2\"),e=>e-this[c(\"0xc\")][\"maxCommentsWhenCollapsed\"]);for(const e of t[c(\"0x29\")])this[\"Ct\"](e);this[\"listenTo\"](t[\"comments\"],c(\"0x4\"),(e,t)=>{this[c(\"0x2\")]++,this[\"Ct\"](t),this[\"refreshVisibleViews\"]()}),this[c(\"0x15\")](t[\"comments\"],c(\"0x22\"),(e,t)=>{this[\"length\"]--,this[\"gt\"](t),this[c(\"0x28\")]()}),this[c(\"0x15\")](t,c(\"0x3\"),()=>this[c(\"0x28\")]()),this[\"on\"](c(\"0x1a\"),()=>this[\"refreshVisibleViews\"]()),this[\"on\"](c(\"0x5\"),()=>this[c(\"0x28\")]()),this[c(\"0x1e\")]({tag:\"ul\",attributes:{class:[c(\"0x6\")]},children:this[\"visibleViews\"]})}get[\"yt\"](){return this[c(\"0xa\")][\"weight\"]>this[c(\"0xc\")][c(\"0x2b\")]&&!this[\"isActive\"]&&!this[\"hasDirtyComment\"]}[\"render\"](){super[c(\"0xd\")](),this[c(\"0x28\")]()}[\"focus\"](){this[\"element\"][c(\"0x27\")]()}[c(\"0x20\")](){this[c(\"0x9\")][c(\"0x20\")]();for(const e of this[c(\"0x7\")])e[c(\"0x20\")]();super[\"destroy\"]()}[\"refreshVisibleViews\"](){this[\"yt\"]?this[\"wt\"]():this[\"vt\"]()}[\"Ct\"](e){const t=new(this[c(\"0xc\")][\"CommentView\"])(this[c(\"0x23\")],e,{maxCommentCharsWhenCollapsed:this[c(\"0xc\")][c(\"0x12\")],formatDateTime:this[c(\"0xc\")][c(\"0x8\")],editorConfig:this[c(\"0xc\")][c(\"0x16\")]});t[c(\"0x2a\")]=e[\"id\"],t[\"delegate\"](c(\"0x1f\"))[\"to\"](this),t[c(\"0x1c\")](c(\"0xe\"))[\"to\"](this),this[c(\"0x15\")](t,c(\"0x0\"),()=>this[\"At\"]()),this[\"commentViews\"][c(\"0x4\")](t)}[\"gt\"](e){const t=this[c(\"0x7\")][c(\"0x22\")](e[\"id\"]);this[c(\"0x11\")](t),t[c(\"0x1\")]&&this[\"At\"](),t[c(\"0x20\")]()}[\"At\"](){this[c(\"0xb\")]=Array[c(\"0x17\")](this[\"commentViews\"])[c(\"0x1d\")](e=>e[c(\"0x1\")])}[\"wt\"](){const e=function(e){const t=new s[\"a\"];for(const n of e)t[c(\"0x4\")](n);return t}(this[\"commentViews\"]),t=this[c(\"0x9\")][c(\"0xf\")];for(let n=1;n<=t;n++)e[c(\"0x22\")](1);for(const t of e)t[c(\"0x18\")]();t>0&&e[c(\"0x4\")](this[\"_collapsedCommentsView\"],1),d(Object(r[\"a\"])(Array[c(\"0x17\")](this[c(\"0x21\")]),Array[\"from\"](e)),this[c(\"0x21\")],e)}[\"vt\"](){d(Object(r[\"a\"])(Array[c(\"0x17\")](this[c(\"0x21\")]),Array[c(\"0x17\")](this[c(\"0x7\")])),this[c(\"0x21\")],this[c(\"0x7\")]);for(const e of this[c(\"0x21\")])e[c(\"0x26\")]()}}function d(e,t,n){let i=0;for(const r of e)switch(r){case c(\"0x13\"):t[c(\"0x4\")](n[c(\"0x1b\")](i),i),i++;break;case\"delete\":t[c(\"0x22\")](i);break;case c(\"0x25\"):i++}}},function(e,t,n){\"use strict\";var i=n(72);var r=n(193);var o=n(84);var s=Object(r[\"a\"])((function(e,t){Object(i[\"a\"])(t,Object(o[\"a\"])(t),e)}));t[\"a\"]=s},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);if(!t.children)t.children=[];Object.defineProperty(t,\"loaded\",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,\"id\",{enumerable:true,get:function(){return t.i}});Object.defineProperty(t,\"exports\",{enumerable:true});t.webpackPolyfill=1}return t}},function(e,t,n){var i=n(371)(\"socket.io-parser\");var r=n(214);var o=n(374);var s=n(230);var a=n(231);t.protocol=4;t.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"];t.CONNECT=0;t.DISCONNECT=1;t.EVENT=2;t.ACK=3;t.ERROR=4;t.BINARY_EVENT=5;t.BINARY_ACK=6;t.Encoder=c;t.Decoder=f;function c(){}var l=t.ERROR+'\"encode error\"';c.prototype.encode=function(e,n){i(\"encoding packet %j\",e);if(t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type){h(e,n)}else{var r=d(e);n([r])}};function d(e){var n=\"\"+e.type;if(t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type){n+=e.attachments+\"-\"}if(e.nsp&&\"/\"!==e.nsp){n+=e.nsp+\",\"}if(null!=e.id){n+=e.id}if(null!=e.data){var r=u(e.data);if(r!==false){n+=r}else{return l}}i(\"encoded %j as %s\",e,n);return n}function u(e){try{return JSON.stringify(e)}catch(e){return false}}function h(e,t){function n(e){var n=o.deconstructPacket(e);var i=d(n.packet);var r=n.buffers;r.unshift(i);t(r)}o.removeBlobs(e,n)}function f(){this.reconstructor=null}r(f.prototype);f.prototype.add=function(e){var n;if(typeof e===\"string\"){n=m(e);if(t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type){this.reconstructor=new p(n);if(this.reconstructor.reconPack.attachments===0){this.emit(\"decoded\",n)}}else{this.emit(\"decoded\",n)}}else if(a(e)||e.base64){if(!this.reconstructor){throw new Error(\"got binary data when not reconstructing a packet\")}else{n=this.reconstructor.takeBinaryData(e);if(n){this.reconstructor=null;this.emit(\"decoded\",n)}}}else{throw new Error(\"Unknown type: \"+e)}};function m(e){var n=0;var r={type:Number(e.charAt(0))};if(null==t.types[r.type]){return b(\"unknown packet type \"+r.type)}if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){var o=\"\";while(e.charAt(++n)!==\"-\"){o+=e.charAt(n);if(n==e.length)break}if(o!=Number(o)||e.charAt(n)!==\"-\"){throw new Error(\"Illegal attachments\")}r.attachments=Number(o)}if(\"/\"===e.charAt(n+1)){r.nsp=\"\";while(++n){var a=e.charAt(n);if(\",\"===a)break;r.nsp+=a;if(n===e.length)break}}else{r.nsp=\"/\"}var c=e.charAt(n+1);if(\"\"!==c&&Number(c)==c){r.id=\"\";while(++n){var a=e.charAt(n);if(null==a||Number(a)!=a){--n;break}r.id+=e.charAt(n);if(n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var l=g(e.substr(n));var d=l!==false&&(r.type===t.ERROR||s(l));if(d){r.data=l}else{return b(\"invalid payload\")}}i(\"decoded %s as %j\",e,r);return r}function g(e){try{return JSON.parse(e)}catch(e){return false}}f.prototype.destroy=function(){if(this.reconstructor){this.reconstructor.finishedReconstruction()}};function p(e){this.reconPack=e;this.buffers=[]}p.prototype.takeBinaryData=function(e){this.buffers.push(e);if(this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);this.finishedReconstruction();return t}return null};p.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]};function b(e){return{type:t.ERROR,data:\"parser error: \"+e}}},function(e,t,n){if(true){e.exports=i}function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.on=i.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t);return this};i.prototype.once=function(e,t){function n(){this.off(e,n);t.apply(this,arguments)}n.fn=t;this.on(e,n);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length){delete this._callbacks[\"$\"+e];return this}var i;for(var r=0;r<n.length;r++){i=n[r];if(i===t||i.fn===t){n.splice(r,1);break}}return this};i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[\"$\"+e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i){n[i].apply(this,t)}}return this};i.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[\"$\"+e]||[]};i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var i=n(380);var r=n(216);e.exports=function(e){var t=e.xdomain;var n=e.xscheme;var o=e.enablesXDR;try{if(\"undefined\"!==typeof XMLHttpRequest&&(!t||i)){return new XMLHttpRequest}}catch(e){}try{if(\"undefined\"!==typeof XDomainRequest&&!n&&o){return new XDomainRequest}}catch(e){}if(!t){try{return new(r[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(e){}}}},function(e,t){e.exports=function(){if(typeof self!==\"undefined\"){return self}else if(typeof window!==\"undefined\"){return window}else{return Function(\"return this\")()}}()},function(e,t,n){var i=n(113);var r=n(218);e.exports=o;function o(e){this.path=e.path;this.hostname=e.hostname;this.port=e.port;this.secure=e.secure;this.query=e.query;this.timestampParam=e.timestampParam;this.timestampRequests=e.timestampRequests;this.readyState=\"\";this.agent=e.agent||false;this.socket=e.socket;this.enablesXDR=e.enablesXDR;this.withCredentials=e.withCredentials;this.pfx=e.pfx;this.key=e.key;this.passphrase=e.passphrase;this.cert=e.cert;this.ca=e.ca;this.ciphers=e.ciphers;this.rejectUnauthorized=e.rejectUnauthorized;this.forceNode=e.forceNode;this.isReactNative=e.isReactNative;this.extraHeaders=e.extraHeaders;this.localAddress=e.localAddress}r(o.prototype);o.prototype.onError=function(e,t){var n=new Error(e);n.type=\"TransportError\";n.description=t;this.emit(\"error\",n);return this};o.prototype.open=function(){if(\"closed\"===this.readyState||\"\"===this.readyState){this.readyState=\"opening\";this.doOpen()}return this};o.prototype.close=function(){if(\"opening\"===this.readyState||\"open\"===this.readyState){this.doClose();this.onClose()}return this};o.prototype.send=function(e){if(\"open\"===this.readyState){this.write(e)}else{throw new Error(\"Transport not open\")}};o.prototype.onOpen=function(){this.readyState=\"open\";this.writable=true;this.emit(\"open\")};o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)};o.prototype.onPacket=function(e){this.emit(\"packet\",e)};o.prototype.onClose=function(){this.readyState=\"closed\";this.emit(\"close\")}},function(e,t,n){if(true){e.exports=i}function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.on=i.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t);return this};i.prototype.once=function(e,t){function n(){this.off(e,n);t.apply(this,arguments)}n.fn=t;this.on(e,n);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length){delete this._callbacks[\"$\"+e];return this}var i;for(var r=0;r<n.length;r++){i=n[r];if(i===t||i.fn===t){n.splice(r,1);break}}if(n.length===0){delete this._callbacks[\"$\"+e]}return this};i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=new Array(arguments.length-1),n=this._callbacks[\"$\"+e];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i){n[i].apply(this,t)}}return this};i.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[\"$\"+e]||[]};i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){\"use strict\";e.exports=u;var i=n(87);var r;var o=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,n){this.fn=e;this.len=t;this.next=undefined;this.val=n}function l(){}function d(e){this.head=e.head;this.tail=e.tail;this.len=e.len;this.next=e.states}function u(){this.len=0;this.head=new c(l,0,0);this.tail=this.head;this.states=null}var h=function e(){return i.Buffer?function e(){return(u.create=function e(){return new r})()}:function e(){return new u}};u.create=h();u.alloc=function e(t){return new i.Array(t)};if(i.Array!==Array)u.alloc=i.pool(u.alloc,i.Array.prototype.subarray);u.prototype._push=function e(t,n,i){this.tail=this.tail.next=new c(t,n,i);this.len+=n;return this};function f(e,t,n){t[n]=e&255}function m(e,t,n){while(e>127){t[n++]=e&127|128;e>>>=7}t[n]=e}function g(e,t){this.len=e;this.next=undefined;this.val=t}g.prototype=Object.create(c.prototype);g.prototype.fn=m;u.prototype.uint32=function e(t){this.len+=(this.tail=this.tail.next=new g((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len;return this};u.prototype.int32=function e(t){return t<0?this._push(p,10,o.fromNumber(t)):this.uint32(t)};u.prototype.sint32=function e(t){return this.uint32((t<<1^t>>31)>>>0)};function p(e,t,n){while(e.hi){t[n++]=e.lo&127|128;e.lo=(e.lo>>>7|e.hi<<25)>>>0;e.hi>>>=7}while(e.lo>127){t[n++]=e.lo&127|128;e.lo=e.lo>>>7}t[n++]=e.lo}u.prototype.uint64=function e(t){var n=o.from(t);return this._push(p,n.length(),n)};u.prototype.int64=u.prototype.uint64;u.prototype.sint64=function e(t){var n=o.from(t).zzEncode();return this._push(p,n.length(),n)};u.prototype.bool=function e(t){return this._push(f,1,t?1:0)};function b(e,t,n){t[n]=e&255;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}u.prototype.fixed32=function e(t){return this._push(b,4,t>>>0)};u.prototype.sfixed32=u.prototype.fixed32;u.prototype.fixed64=function e(t){var n=o.from(t);return this._push(b,4,n.lo)._push(b,4,n.hi)};u.prototype.sfixed64=u.prototype.fixed64;u.prototype.float=function e(t){return this._push(i.float.writeFloatLE,4,t)};u.prototype.double=function e(t){return this._push(i.float.writeDoubleLE,8,t)};var _=i.Array.prototype.set?function e(t,n,i){n.set(t,i)}:function e(t,n,i){for(var r=0;r<t.length;++r)n[i+r]=t[r]};u.prototype.bytes=function e(t){var n=t.length>>>0;if(!n)return this._push(f,1,0);if(i.isString(t)){var r=u.alloc(n=s.length(t));s.decode(t,r,0);t=r}return this.uint32(n)._push(_,n,t)};u.prototype.string=function e(t){var n=a.length(t);return n?this.uint32(n)._push(a.write,n,t):this._push(f,1,0)};u.prototype.fork=function e(){this.states=new d(this);this.head=this.tail=new c(l,0,0);this.len=0;return this};u.prototype.reset=function e(){if(this.states){this.head=this.states.head;this.tail=this.states.tail;this.len=this.states.len;this.states=this.states.next}else{this.head=this.tail=new c(l,0,0);this.len=0}return this};u.prototype.ldelim=function e(){var t=this.head,n=this.tail,i=this.len;this.reset().uint32(i);if(i){this.tail.next=t.next;this.tail=n;this.len+=i}return this};u.prototype.finish=function e(){var t=this.head.next,n=this.constructor.alloc(this.len),i=0;while(t){t.fn(t.val,n,i);i+=t.len;t=t.next}return n};u._configure=function(e){r=e;u.create=h();r._configure()}},function(e,t,n){\"use strict\";e.exports=c;var i=n(87);var r;var o=i.LongBits,s=i.utf8;function a(e,t){return RangeError(\"index out of range: \"+e.pos+\" + \"+(t||1)+\" > \"+e.len)}function c(e){this.buf=e;this.pos=0;this.len=e.length}var l=typeof Uint8Array!==\"undefined\"?function e(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error(\"illegal buffer\")}:function e(t){if(Array.isArray(t))return new c(t);throw Error(\"illegal buffer\")};var d=function e(){return i.Buffer?function e(t){return(c.create=function e(t){return i.Buffer.isBuffer(t)?new r(t):l(t)})(t)}:l};c.create=d();c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice;c.prototype.uint32=function e(){var t=4294967295;return function e(){t=(this.buf[this.pos]&127)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<7)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<14)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&127)<<21)>>>0;if(this.buf[this.pos++]<128)return t;t=(t|(this.buf[this.pos]&15)<<28)>>>0;if(this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len){this.pos=this.len;throw a(this,10)}return t}}();c.prototype.int32=function e(){return this.uint32()|0};c.prototype.sint32=function e(){var t=this.uint32();return t>>>1^-(t&1)|0};function u(){var e=new o(0,0);var t=0;if(this.len-this.pos>4){for(;t<4;++t){e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0;e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0;if(this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0;return e}if(this.len-this.pos>4){for(;t<5;++t){e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}else{for(;t<5;++t){if(this.pos>=this.len)throw a(this);e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}throw Error(\"invalid varint encoding\")}c.prototype.bool=function e(){return this.uint32()!==0};function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}c.prototype.fixed32=function e(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)};c.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)|0};function f(){if(this.pos+8>this.len)throw a(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.prototype.float=function e(){if(this.pos+4>this.len)throw a(this,4);var t=i.float.readFloatLE(this.buf,this.pos);this.pos+=4;return t};c.prototype.double=function e(){if(this.pos+8>this.len)throw a(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);this.pos+=8;return t};c.prototype.bytes=function e(){var t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw a(this,t);this.pos+=t;if(Array.isArray(this.buf))return this.buf.slice(n,i);return n===i?new this.buf.constructor(0):this._slice.call(this.buf,n,i)};c.prototype.string=function e(){var t=this.bytes();return s.read(t,0,t.length)};c.prototype.skip=function e(t){if(typeof t===\"number\"){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else{do{if(this.pos>=this.len)throw a(this)}while(this.buf[this.pos++]&128)}return this};c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((e=this.uint32()&7)!==4){this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error(\"invalid wire type \"+e+\" at offset \"+this.pos)}return this};c._configure=function(e){r=e;c.create=d();r._configure();var t=i.Long?\"toLong\":\"toNumber\";i.merge(c.prototype,{int64:function e(){return u.call(this)[t](false)},uint64:function e(){return u.call(this)[t](true)},sint64:function e(){return u.call(this).zzDecode()[t](false)},fixed64:function e(){return f.call(this)[t](true)},sfixed64:function e(){return f.call(this)[t](false)}})}},function(e,t,n){\"use strict\";e.exports=s;var i=n(114);((s.prototype=Object.create(i.prototype)).constructor=s).className=\"OneOf\";var r=n(115),o=n(55);function s(e,t,n,r){if(!Array.isArray(t)){n=t;t=undefined}i.call(this,e,n);if(!(t===undefined||Array.isArray(t)))throw TypeError(\"fieldNames must be an Array\");this.oneof=t||[];this.fieldsArray=[];this.comment=r}s.fromJSON=function e(t,n){return new s(t,n.oneof,n.options,n.comment)};s.prototype.toJSON=function e(t){var n=t?Boolean(t.keepComments):false;return o.toObject([\"options\",this.options,\"oneof\",this.oneof,\"comment\",n?this.comment:undefined])};function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)if(!e.fieldsArray[t].parent)e.parent.add(e.fieldsArray[t])}s.prototype.add=function e(t){if(!(t instanceof r))throw TypeError(\"field must be a Field\");if(t.parent&&t.parent!==this.parent)t.parent.remove(t);this.oneof.push(t.name);this.fieldsArray.push(t);t.partOf=this;a(this);return this};s.prototype.remove=function e(t){if(!(t instanceof r))throw TypeError(\"field must be a Field\");var n=this.fieldsArray.indexOf(t);if(n<0)throw Error(t+\" is not a member of \"+this);this.fieldsArray.splice(n,1);n=this.oneof.indexOf(t.name);if(n>-1)this.oneof.splice(n,1);t.partOf=null;return this};s.prototype.onAdd=function e(t){i.prototype.onAdd.call(this,t);var n=this;for(var r=0;r<this.oneof.length;++r){var o=t.get(this.oneof[r]);if(o&&!o.partOf){o.partOf=n;n.fieldsArray.push(o)}}a(this)};s.prototype.onRemove=function e(t){for(var n=0,r;n<this.fieldsArray.length;++n)if((r=this.fieldsArray[n]).parent)r.parent.remove(r);i.prototype.onRemove.call(this,t)};s.d=function e(){var t=new Array(arguments.length),n=0;while(n<arguments.length)t[n]=arguments[n++];return function e(n,i){o.decorateType(n.constructor).add(new s(i,t));Object.defineProperty(n,i,{get:o.oneOfGetter(t),set:o.oneOfSetter(t)})}}},function(e,t,n){\"use strict\";e.exports=r;var i=n(87);function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}r.create=function e(t){return this.$type.create(t)};r.encode=function e(t,n){return this.$type.encode(t,n)};r.encodeDelimited=function e(t,n){return this.$type.encodeDelimited(t,n)};r.decode=function e(t){return this.$type.decode(t)};r.decodeDelimited=function e(t){return this.$type.decodeDelimited(t)};r.verify=function e(t){return this.$type.verify(t)};r.fromObject=function e(t){return this.$type.fromObject(t)};r.toObject=function e(t,n){return this.$type.toObject(t,n)};r.prototype.toJSON=function e(){return this.$type.toObject(this,i.toJSONOptions)}},function(e,t,n){var i=n(430);function r(e){return i(e,{weekStartsOn:1})}e.exports=r},function(e,t,n){var i=n(428);var r=6e4;var o=864e5;function s(e,t){var n=i(e);var s=i(t);var a=n.getTime()-n.getTimezoneOffset()*r;var c=s.getTime()-s.getTimezoneOffset()*r;return Math.round((a-c)/o)}e.exports=s},function(e,t,n){var i=n(412)(\"socket.io-parser\");var r=n(415);var o=n(416);var s=n(255);var a=n(256);t.protocol=4;t.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"];t.CONNECT=0;t.DISCONNECT=1;t.EVENT=2;t.ACK=3;t.ERROR=4;t.BINARY_EVENT=5;t.BINARY_ACK=6;t.Encoder=c;t.Decoder=f;function c(){}var l=t.ERROR+'\"encode error\"';c.prototype.encode=function(e,n){i(\"encoding packet %j\",e);if(t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type){h(e,n)}else{var r=d(e);n([r])}};function d(e){var n=\"\"+e.type;if(t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type){n+=e.attachments+\"-\"}if(e.nsp&&\"/\"!==e.nsp){n+=e.nsp+\",\"}if(null!=e.id){n+=e.id}if(null!=e.data){var r=u(e.data);if(r!==false){n+=r}else{return l}}i(\"encoded %j as %s\",e,n);return n}function u(e){try{return JSON.stringify(e)}catch(e){return false}}function h(e,t){function n(e){var n=o.deconstructPacket(e);var i=d(n.packet);var r=n.buffers;r.unshift(i);t(r)}o.removeBlobs(e,n)}function f(){this.reconstructor=null}r(f.prototype);f.prototype.add=function(e){var n;if(typeof e===\"string\"){n=m(e);if(t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type){this.reconstructor=new p(n);if(this.reconstructor.reconPack.attachments===0){this.emit(\"decoded\",n)}}else{this.emit(\"decoded\",n)}}else if(a(e)||e.base64){if(!this.reconstructor){throw new Error(\"got binary data when not reconstructing a packet\")}else{n=this.reconstructor.takeBinaryData(e);if(n){this.reconstructor=null;this.emit(\"decoded\",n)}}}else{throw new Error(\"Unknown type: \"+e)}};function m(e){var n=0;var r={type:Number(e.charAt(0))};if(null==t.types[r.type]){return b(\"unknown packet type \"+r.type)}if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){var o=n+1;while(e.charAt(++n)!==\"-\"&&n!=e.length){}var a=e.substring(o,n);if(a!=Number(a)||e.charAt(n)!==\"-\"){throw new Error(\"Illegal attachments\")}r.attachments=Number(a)}if(\"/\"===e.charAt(n+1)){var o=n+1;while(++n){var c=e.charAt(n);if(\",\"===c)break;if(n===e.length)break}r.nsp=e.substring(o,n)}else{r.nsp=\"/\"}var l=e.charAt(n+1);if(\"\"!==l&&Number(l)==l){var o=n+1;while(++n){var c=e.charAt(n);if(null==c||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){var d=g(e.substr(n));var u=d!==false&&(r.type===t.ERROR||s(d));if(u){r.data=d}else{return b(\"invalid payload\")}}i(\"decoded %s as %j\",e,r);return r}function g(e){try{return JSON.parse(e)}catch(e){return false}}f.prototype.destroy=function(){if(this.reconstructor){this.reconstructor.finishedReconstruction()}};function p(e){this.reconPack=e;this.buffers=[]}p.prototype.takeBinaryData=function(e){this.buffers.push(e);if(this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);this.finishedReconstruction();return t}return null};p.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]};function b(e){return{type:t.ERROR,data:\"parser error: \"+e}}},function(e,t,n){\"use strict\";var i=n(34);var r=n(95);function o(e){return Object(i[\"a\"])(e)&&e.nodeType===1&&!Object(r[\"a\"])(e)}t[\"a\"]=o},function(e,t,n){var i=n(9);var r=n(305);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t,n){var i=n(9);var r=n(318);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;var i=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];e.exports=function e(t){var r=t,o=t.indexOf(\"[\"),s=t.indexOf(\"]\");if(o!=-1&&s!=-1){t=t.substring(0,o)+t.substring(o,s).replace(/:/g,\";\")+t.substring(s,t.length)}var a=n.exec(t||\"\"),c={},l=14;while(l--){c[i[l]]=a[l]||\"\"}if(o!=-1&&s!=-1){c.source=r;c.host=c.host.substring(1,c.host.length-1).replace(/;/g,\":\");c.authority=c.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\");c.ipv6uri=true}return c}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)==\"[object Array]\"}},function(e,t,n){(function(t){e.exports=o;var n=typeof t===\"function\"&&typeof t.isBuffer===\"function\";var i=typeof ArrayBuffer===\"function\";var r=function(e){return typeof ArrayBuffer.isView===\"function\"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function o(e){return n&&t.isBuffer(e)||i&&(e instanceof ArrayBuffer||r(e))}}).call(this,n(146).Buffer)},function(e,t,n){var i=n(378);var r=n(238);var o=n(214);var s=n(213);var a=n(239);var c=n(240);var l=n(153)(\"socket.io-client:manager\");var d=n(237);var u=n(395);var h=Object.prototype.hasOwnProperty;e.exports=f;function f(e,t){if(!(this instanceof f))return new f(e,t);if(e&&\"object\"===typeof e){t=e;e=undefined}t=t||{};t.path=t.path||\"/socket.io\";this.nsps={};this.subs=[];this.opts=t;this.reconnection(t.reconnection!==false);this.reconnectionAttempts(t.reconnectionAttempts||Infinity);this.reconnectionDelay(t.reconnectionDelay||1e3);this.reconnectionDelayMax(t.reconnectionDelayMax||5e3);this.randomizationFactor(t.randomizationFactor||.5);this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==t.timeout?2e4:t.timeout);this.readyState=\"closed\";this.uri=e;this.connecting=[];this.lastPing=null;this.encoding=false;this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder;this.decoder=new n.Decoder;this.autoConnect=t.autoConnect!==false;if(this.autoConnect)this.open()}f.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps){if(h.call(this.nsps,e)){this.nsps[e].emit.apply(this.nsps[e],arguments)}}};f.prototype.updateSocketIds=function(){for(var e in this.nsps){if(h.call(this.nsps,e)){this.nsps[e].id=this.generateId(e)}}};f.prototype.generateId=function(e){return(e===\"/\"?\"\":e+\"#\")+this.engine.id};o(f.prototype);f.prototype.reconnection=function(e){if(!arguments.length)return this._reconnection;this._reconnection=!!e;return this};f.prototype.reconnectionAttempts=function(e){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=e;return this};f.prototype.reconnectionDelay=function(e){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=e;this.backoff&&this.backoff.setMin(e);return this};f.prototype.randomizationFactor=function(e){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=e;this.backoff&&this.backoff.setJitter(e);return this};f.prototype.reconnectionDelayMax=function(e){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=e;this.backoff&&this.backoff.setMax(e);return this};f.prototype.timeout=function(e){if(!arguments.length)return this._timeout;this._timeout=e;return this};f.prototype.maybeReconnectOnOpen=function(){if(!this.reconnecting&&this._reconnection&&this.backoff.attempts===0){this.reconnect()}};f.prototype.open=f.prototype.connect=function(e,t){l(\"readyState %s\",this.readyState);if(~this.readyState.indexOf(\"open\"))return this;l(\"opening %s\",this.uri);this.engine=i(this.uri,this.opts);var n=this.engine;var r=this;this.readyState=\"opening\";this.skipReconnect=false;var o=a(n,\"open\",(function(){r.onopen();e&&e()}));var s=a(n,\"error\",(function(t){l(\"connect_error\");r.cleanup();r.readyState=\"closed\";r.emitAll(\"connect_error\",t);if(e){var n=new Error(\"Connection error\");n.data=t;e(n)}else{r.maybeReconnectOnOpen()}}));if(false!==this._timeout){var c=this._timeout;l(\"connect attempt will timeout after %d\",c);var d=setTimeout((function(){l(\"connect attempt timed out after %d\",c);o.destroy();n.close();n.emit(\"error\",\"timeout\");r.emitAll(\"connect_timeout\",c)}),c);this.subs.push({destroy:function(){clearTimeout(d)}})}this.subs.push(o);this.subs.push(s);return this};f.prototype.onopen=function(){l(\"open\");this.cleanup();this.readyState=\"open\";this.emit(\"open\");var e=this.engine;this.subs.push(a(e,\"data\",c(this,\"ondata\")));this.subs.push(a(e,\"ping\",c(this,\"onping\")));this.subs.push(a(e,\"pong\",c(this,\"onpong\")));this.subs.push(a(e,\"error\",c(this,\"onerror\")));this.subs.push(a(e,\"close\",c(this,\"onclose\")));this.subs.push(a(this.decoder,\"decoded\",c(this,\"ondecoded\")))};f.prototype.onping=function(){this.lastPing=new Date;this.emitAll(\"ping\")};f.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)};f.prototype.ondata=function(e){this.decoder.add(e)};f.prototype.ondecoded=function(e){this.emit(\"packet\",e)};f.prototype.onerror=function(e){l(\"error\",e);this.emitAll(\"error\",e)};f.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t);this.nsps[e]=n;var i=this;n.on(\"connecting\",o);n.on(\"connect\",(function(){n.id=i.generateId(e)}));if(this.autoConnect){o()}}function o(){if(!~d(i.connecting,n)){i.connecting.push(n)}}return n};f.prototype.destroy=function(e){var t=d(this.connecting,e);if(~t)this.connecting.splice(t,1);if(this.connecting.length)return;this.close()};f.prototype.packet=function(e){l(\"writing packet %j\",e);var t=this;if(e.query&&e.type===0)e.nsp+=\"?\"+e.query;if(!t.encoding){t.encoding=true;this.encoder.encode(e,(function(n){for(var i=0;i<n.length;i++){t.engine.write(n[i],e.options)}t.encoding=false;t.processPacketQueue()}))}else{t.packetBuffer.push(e)}};f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};f.prototype.cleanup=function(){l(\"cleanup\");var e=this.subs.length;for(var t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[];this.encoding=false;this.lastPing=null;this.decoder.destroy()};f.prototype.close=f.prototype.disconnect=function(){l(\"disconnect\");this.skipReconnect=true;this.reconnecting=false;if(\"opening\"===this.readyState){this.cleanup()}this.backoff.reset();this.readyState=\"closed\";if(this.engine)this.engine.close()};f.prototype.onclose=function(e){l(\"onclose\");this.cleanup();this.backoff.reset();this.readyState=\"closed\";this.emit(\"close\",e);if(this._reconnection&&!this.skipReconnect){this.reconnect()}};f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts){l(\"reconnect failed\");this.backoff.reset();this.emitAll(\"reconnect_failed\");this.reconnecting=false}else{var t=this.backoff.duration();l(\"will wait %dms before reconnect attempt\",t);this.reconnecting=true;var n=setTimeout((function(){if(e.skipReconnect)return;l(\"attempting reconnect\");e.emitAll(\"reconnect_attempt\",e.backoff.attempts);e.emitAll(\"reconnecting\",e.backoff.attempts);if(e.skipReconnect)return;e.open((function(t){if(t){l(\"reconnect attempt error\");e.reconnecting=false;e.reconnect();e.emitAll(\"reconnect_error\",t.data)}else{l(\"reconnect success\");e.onreconnect()}}))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}};f.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=false;this.backoff.reset();this.updateSocketIds();this.emitAll(\"reconnect\",e)}},function(e,t,n){var i=n(215);var r=n(381);var o=n(391);var s=n(392);t.polling=a;t.websocket=s;function a(e){var t;var n=false;var s=false;var a=false!==e.jsonp;if(typeof location!==\"undefined\"){var c=\"https:\"===location.protocol;var l=location.port;if(!l){l=c?443:80}n=e.hostname!==location.hostname||l!==e.port;s=e.secure!==c}e.xdomain=n;e.xscheme=s;t=new i(e);if(\"open\"in t&&!e.forceJSONP){return new r(e)}else{if(!a)throw new Error(\"JSONP disabled\");return new o(e)}}},function(e,t,n){var i=n(217);var r=n(154);var o=n(113);var s=n(155);var a=n(236);var c=n(156)(\"engine.io-client:polling\");e.exports=d;var l=function(){var e=n(215);var t=new e({xdomain:false});return null!=t.responseType}();function d(e){var t=e&&e.forceBase64;if(!l||t){this.supportsBinary=false}i.call(this,e)}s(d,i);d.prototype.name=\"polling\";d.prototype.doOpen=function(){this.poll()};d.prototype.pause=function(e){var t=this;this.readyState=\"pausing\";function n(){c(\"paused\");t.readyState=\"paused\";e()}if(this.polling||!this.writable){var i=0;if(this.polling){c(\"we are currently polling - waiting to pause\");i++;this.once(\"pollComplete\",(function(){c(\"pre-pause polling complete\");--i||n()}))}if(!this.writable){c(\"we are currently writing - waiting to pause\");i++;this.once(\"drain\",(function(){c(\"pre-pause writing complete\");--i||n()}))}}else{n()}};d.prototype.poll=function(){c(\"polling\");this.polling=true;this.doPoll();this.emit(\"poll\")};d.prototype.onData=function(e){var t=this;c(\"polling got data %s\",e);var n=function(e,n,i){if(\"opening\"===t.readyState){t.onOpen()}if(\"close\"===e.type){t.onClose();return false}t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,n);if(\"closed\"!==this.readyState){this.polling=false;this.emit(\"pollComplete\");if(\"open\"===this.readyState){this.poll()}else{c('ignoring poll - transport state \"%s\"',this.readyState)}}};d.prototype.doClose=function(){var e=this;function t(){c(\"writing close packet\");e.write([{type:\"close\"}])}if(\"open\"===this.readyState){c(\"transport open - closing\");t()}else{c(\"transport not open - deferring close\");this.once(\"open\",t)}};d.prototype.write=function(e){var t=this;this.writable=false;var n=function(){t.writable=true;t.emit(\"drain\")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))};d.prototype.uri=function(){var e=this.query||{};var t=this.secure?\"https\":\"http\";var n=\"\";if(false!==this.timestampRequests){e[this.timestampParam]=a()}if(!this.supportsBinary&&!e.sid){e.b64=1}e=r.encode(e);if(this.port&&(\"https\"===t&&Number(this.port)!==443||\"http\"===t&&Number(this.port)!==80)){n=\":\"+this.port}if(e.length){e=\"?\"+e}var i=this.hostname.indexOf(\":\")!==-1;return t+\"://\"+(i?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var i=n(383);var r=Object.prototype.toString;var o=typeof Blob===\"function\"||typeof Blob!==\"undefined\"&&r.call(Blob)===\"[object BlobConstructor]\";var s=typeof File===\"function\"||typeof File!==\"undefined\"&&r.call(File)===\"[object FileConstructor]\";e.exports=a;function a(e){if(!e||typeof e!==\"object\"){return false}if(i(e)){for(var n=0,r=e.length;n<r;n++){if(a(e[n])){return true}}return false}if(typeof t===\"function\"&&t.isBuffer&&t.isBuffer(e)||typeof ArrayBuffer===\"function\"&&e instanceof ArrayBuffer||o&&e instanceof Blob||s&&e instanceof File){return true}if(e.toJSON&&typeof e.toJSON===\"function\"&&arguments.length===1){return a(e.toJSON(),true)}for(var c in e){if(Object.prototype.hasOwnProperty.call(e,c)&&a(e[c])){return true}}return false}}).call(this,n(146).Buffer)},function(e,t,n){\"use strict\";var i=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),r=64,o={},s=0,a=0,c;function l(e){var t=\"\";do{t=i[e%r]+t;e=Math.floor(e/r)}while(e>0);return t}function d(e){var t=0;for(a=0;a<e.length;a++){t=t*r+o[e.charAt(a)]}return t}function u(){var e=l(+new Date);if(e!==c)return s=0,c=e;return e+\".\"+l(s++)}for(;a<r;a++)o[i[a]]=a;u.encode=l;u.decode=d;e.exports=u},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i){if(e[i]===t)return i}return-1}},function(e,t,n){var i=n(213);var r=n(214);var o=n(394);var s=n(239);var a=n(240);var c=n(153)(\"socket.io-client:socket\");var l=n(154);var d=n(235);e.exports=t=f;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1};var h=r.prototype.emit;function f(e,t,n){this.io=e;this.nsp=t;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=false;this.disconnected=true;this.flags={};if(n&&n.query){this.query=n.query}if(this.io.autoConnect)this.open()}r(f.prototype);f.prototype.subEvents=function(){if(this.subs)return;var e=this.io;this.subs=[s(e,\"open\",a(this,\"onopen\")),s(e,\"packet\",a(this,\"onpacket\")),s(e,\"close\",a(this,\"onclose\"))]};f.prototype.open=f.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if(\"open\"===this.io.readyState)this.onopen();this.emit(\"connecting\");return this};f.prototype.send=function(){var e=o(arguments);e.unshift(\"message\");this.emit.apply(this,e);return this};f.prototype.emit=function(e){if(u.hasOwnProperty(e)){h.apply(this,arguments);return this}var t=o(arguments);var n={type:(this.flags.binary!==undefined?this.flags.binary:d(t))?i.BINARY_EVENT:i.EVENT,data:t};n.options={};n.options.compress=!this.flags||false!==this.flags.compress;if(\"function\"===typeof t[t.length-1]){c(\"emitting packet with ack id %d\",this.ids);this.acks[this.ids]=t.pop();n.id=this.ids++}if(this.connected){this.packet(n)}else{this.sendBuffer.push(n)}this.flags={};return this};f.prototype.packet=function(e){e.nsp=this.nsp;this.io.packet(e)};f.prototype.onopen=function(){c(\"transport is open - connecting\");if(\"/\"!==this.nsp){if(this.query){var e=typeof this.query===\"object\"?l.encode(this.query):this.query;c(\"sending connect packet with query %s\",e);this.packet({type:i.CONNECT,query:e})}else{this.packet({type:i.CONNECT})}}};f.prototype.onclose=function(e){c(\"close (%s)\",e);this.connected=false;this.disconnected=true;delete this.id;this.emit(\"disconnect\",e)};f.prototype.onpacket=function(e){var t=e.nsp===this.nsp;var n=e.type===i.ERROR&&e.nsp===\"/\";if(!t&&!n)return;switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit(\"error\",e.data);break}};f.prototype.onevent=function(e){var t=e.data||[];c(\"emitting event %j\",t);if(null!=e.id){c(\"attaching ack callback to event\");t.push(this.ack(e.id))}if(this.connected){h.apply(this,t)}else{this.receiveBuffer.push(t)}};f.prototype.ack=function(e){var t=this;var n=false;return function(){if(n)return;n=true;var r=o(arguments);c(\"sending ack %j\",r);t.packet({type:d(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}};f.prototype.onack=function(e){var t=this.acks[e.id];if(\"function\"===typeof t){c(\"calling ack %s with %j\",e.id,e.data);t.apply(this,e.data);delete this.acks[e.id]}else{c(\"bad ack %s\",e.id)}};f.prototype.onconnect=function(){this.connected=true;this.disconnected=false;this.emit(\"connect\");this.emitBuffered()};f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++){h.apply(this,this.receiveBuffer[e])}this.receiveBuffer=[];for(e=0;e<this.sendBuffer.length;e++){this.packet(this.sendBuffer[e])}this.sendBuffer=[]};f.prototype.ondisconnect=function(){c(\"server disconnect (%s)\",this.nsp);this.destroy();this.onclose(\"io server disconnect\")};f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++){this.subs[e].destroy()}this.subs=null}this.io.destroy(this)};f.prototype.close=f.prototype.disconnect=function(){if(this.connected){c(\"performing disconnect (%s)\",this.nsp);this.packet({type:i.DISCONNECT})}this.destroy();if(this.connected){this.onclose(\"io client disconnect\")}return this};f.prototype.compress=function(e){this.flags.compress=e;return this};f.prototype.binary=function(e){this.flags.binary=e;return this}},function(e,t){e.exports=n;function n(e,t,n){e.on(t,n);return{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if(\"string\"==typeof t)t=e[t];if(\"function\"!=typeof t)throw new Error(\"bind() requires a function\");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},function(e,t,n){\"use strict\";e.exports=i;function i(e,t){var n=new Array(arguments.length-1),i=0,r=2,o=true;while(r<arguments.length)n[i++]=arguments[r++];return new Promise((function r(s,a){n[i]=function e(t){if(o){o=false;if(t)a(t);else{var n=new Array(arguments.length-1),i=0;while(i<n.length)n[i++]=arguments[i];s.apply(null,n)}}};try{e.apply(t||null,n)}catch(e){if(o){o=false;a(e)}}}))}},function(module,exports,__webpack_require__){\"use strict\";module.exports=inquire;function inquire(moduleName){try{var mod=eval(\"quire\".replace(/^/,\"re\"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}},function(e,t,n){\"use strict\";var i=t;i.Service=n(408)},function(e,t,n){\"use strict\";e.exports={}},function(e,t,n){\"use strict\";e.exports=a;var i=n(88),r=n(148),o=n(55);function s(e,t,n,i){return t.resolvedType.group?e(\"types[%i].encode(%s,w.uint32(%i)).uint32(%i)\",n,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e(\"types[%i].encode(%s,w.uint32(%i).fork()).ldelim()\",n,i,(t.id<<3|2)>>>0)}function a(e){var t=o.codegen([\"m\",\"w\"],e.name+\"$encode\")(\"if(!w)\")(\"w=Writer.create()\");var n,a;var c=e.fieldsArray.slice().sort(o.compareFieldsById);for(var n=0;n<c.length;++n){var l=c[n].resolve(),d=e._fieldsArray.indexOf(l),u=l.resolvedType instanceof i?\"int32\":l.type,h=r.basic[u];a=\"m\"+o.safeProp(l.name);if(l.map){t(\"if(%s!=null&&Object.hasOwnProperty.call(m,%j)){\",a,l.name)(\"for(var ks=Object.keys(%s),i=0;i<ks.length;++i){\",a)(\"w.uint32(%i).fork().uint32(%i).%s(ks[i])\",(l.id<<3|2)>>>0,8|r.mapKey[l.keyType],l.keyType);if(h===undefined)t(\"types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()\",d,a);else t(\".uint32(%i).%s(%s[ks[i]]).ldelim()\",16|h,u,a);t(\"}\")(\"}\")}else if(l.repeated){t(\"if(%s!=null&&%s.length){\",a,a);if(l.packed&&r.packed[u]!==undefined){t(\"w.uint32(%i).fork()\",(l.id<<3|2)>>>0)(\"for(var i=0;i<%s.length;++i)\",a)(\"w.%s(%s[i])\",u,a)(\"w.ldelim()\")}else{t(\"for(var i=0;i<%s.length;++i)\",a);if(h===undefined)s(t,l,d,a+\"[i]\");else t(\"w.uint32(%i).%s(%s[i])\",(l.id<<3|h)>>>0,u,a)}t(\"}\")}else{if(l.optional)t(\"if(%s!=null&&Object.hasOwnProperty.call(m,%j))\",a,l.name);if(h===undefined)s(t,l,d,a);else t(\"w.uint32(%i).%s(%s)\",(l.id<<3|h)>>>0,u,a)}}return t(\"return w\")}},function(e,t,n){\"use strict\";e.exports=_;var i=n(147);((_.prototype=Object.create(i.prototype)).constructor=_).className=\"Type\";var r=n(88),o=n(221),s=n(115),a=n(247),c=n(248),l=n(222),d=n(220),u=n(219),h=n(55),f=n(245),m=n(250),g=n(251),p=n(252),b=n(253);function _(e,t){i.call(this,e,t);this.fields={};this.oneofs=undefined;this.extensions=undefined;this.reserved=undefined;this.group=undefined;this._fieldsById=null;this._fieldsArray=null;this._oneofsArray=null;this._ctor=null}Object.defineProperties(_.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],i=n.id;if(this._fieldsById[i])throw Error(\"duplicate id \"+i+\" in \"+this);this._fieldsById[i]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=_.generateConstructor(this)())},set:function(e){var t=e.prototype;if(!(t instanceof l)){(e.prototype=new l).constructor=e;h.merge(e.prototype,t)}e.$type=e.prototype.$type=this;h.merge(e,l,true);this._ctor=e;var n=0;for(;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var i={};for(n=0;n<this.oneofsArray.length;++n)i[this._oneofsArray[n].resolve().name]={get:h.oneOfGetter(this._oneofsArray[n].oneof),set:h.oneOfSetter(this._oneofsArray[n].oneof)};if(n)Object.defineProperties(e.prototype,i)}}});_.generateConstructor=function e(t){var n=h.codegen([\"p\"],t.name);for(var i=0,r;i<t.fieldsArray.length;++i)if((r=t._fieldsArray[i]).map)n(\"this%s={}\",h.safeProp(r.name));else if(r.repeated)n(\"this%s=[]\",h.safeProp(r.name));return n(\"if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)\")(\"this[ks[i]]=p[ks[i]]\")};function w(e){e._fieldsById=e._fieldsArray=e._oneofsArray=null;delete e.encode;delete e.decode;delete e.verify;return e}_.fromJSON=function e(t,n){var l=new _(t,n.options);l.extensions=n.extensions;l.reserved=n.reserved;var d=Object.keys(n.fields),u=0;for(;u<d.length;++u)l.add((typeof n.fields[d[u]].keyType!==\"undefined\"?a.fromJSON:s.fromJSON)(d[u],n.fields[d[u]]));if(n.oneofs)for(d=Object.keys(n.oneofs),u=0;u<d.length;++u)l.add(o.fromJSON(d[u],n.oneofs[d[u]]));if(n.nested)for(d=Object.keys(n.nested),u=0;u<d.length;++u){var h=n.nested[d[u]];l.add((h.id!==undefined?s.fromJSON:h.fields!==undefined?_.fromJSON:h.values!==undefined?r.fromJSON:h.methods!==undefined?c.fromJSON:i.fromJSON)(d[u],h))}if(n.extensions&&n.extensions.length)l.extensions=n.extensions;if(n.reserved&&n.reserved.length)l.reserved=n.reserved;if(n.group)l.group=true;if(n.comment)l.comment=n.comment;return l};_.prototype.toJSON=function e(t){var n=i.prototype.toJSON.call(this,t);var r=t?Boolean(t.keepComments):false;return h.toObject([\"options\",n&&n.options||undefined,\"oneofs\",i.arrayToJSON(this.oneofsArray,t),\"fields\",i.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),t)||{},\"extensions\",this.extensions&&this.extensions.length?this.extensions:undefined,\"reserved\",this.reserved&&this.reserved.length?this.reserved:undefined,\"group\",this.group||undefined,\"nested\",n&&n.nested||undefined,\"comment\",r?this.comment:undefined])};_.prototype.resolveAll=function e(){var t=this.fieldsArray,n=0;while(n<t.length)t[n++].resolve();var r=this.oneofsArray;n=0;while(n<r.length)r[n++].resolve();return i.prototype.resolveAll.call(this)};_.prototype.get=function e(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null};_.prototype.add=function e(t){if(this.get(t.name))throw Error(\"duplicate name '\"+t.name+\"' in \"+this);if(t instanceof s&&t.extend===undefined){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error(\"duplicate id \"+t.id+\" in \"+this);if(this.isReservedId(t.id))throw Error(\"id \"+t.id+\" is reserved in \"+this);if(this.isReservedName(t.name))throw Error(\"name '\"+t.name+\"' is reserved in \"+this);if(t.parent)t.parent.remove(t);this.fields[t.name]=t;t.message=this;t.onAdd(this);return w(this)}if(t instanceof o){if(!this.oneofs)this.oneofs={};this.oneofs[t.name]=t;t.onAdd(this);return w(this)}return i.prototype.add.call(this,t)};_.prototype.remove=function e(t){if(t instanceof s&&t.extend===undefined){if(!this.fields||this.fields[t.name]!==t)throw Error(t+\" is not a member of \"+this);delete this.fields[t.name];t.parent=null;t.onRemove(this);return w(this)}if(t instanceof o){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+\" is not a member of \"+this);delete this.oneofs[t.name];t.parent=null;t.onRemove(this);return w(this)}return i.prototype.remove.call(this,t)};_.prototype.isReservedId=function e(t){return i.isReservedId(this.reserved,t)};_.prototype.isReservedName=function e(t){return i.isReservedName(this.reserved,t)};_.prototype.create=function e(t){return new this.ctor(t)};_.prototype.setup=function e(){var t=this.fullName,n=[];for(var i=0;i<this.fieldsArray.length;++i)n.push(this._fieldsArray[i].resolve().resolvedType);this.encode=f(this)({Writer:u,types:n,util:h});this.decode=m(this)({Reader:d,types:n,util:h});this.verify=g(this)({types:n,util:h});this.fromObject=p.fromObject(this)({types:n,util:h});this.toObject=p.toObject(this)({types:n,util:h});var r=b[t];if(r){var o=Object.create(this);o.fromObject=this.fromObject;this.fromObject=r.fromObject.bind(o);o.toObject=this.toObject;this.toObject=r.toObject.bind(o)}return this};_.prototype.encode=function e(t,n){return this.setup().encode(t,n)};_.prototype.encodeDelimited=function e(t,n){return this.encode(t,n&&n.len?n.fork():n).ldelim()};_.prototype.decode=function e(t,n){return this.setup().decode(t,n)};_.prototype.decodeDelimited=function e(t){if(!(t instanceof d))t=d.create(t);return this.decode(t,t.uint32())};_.prototype.verify=function e(t){return this.setup().verify(t)};_.prototype.fromObject=function e(t){return this.setup().fromObject(t)};_.prototype.toObject=function e(t,n){return this.setup().toObject(t,n)};_.d=function e(t){return function e(n){h.decorateType(n,t)}}},function(e,t,n){\"use strict\";e.exports=s;var i=n(115);((s.prototype=Object.create(i.prototype)).constructor=s).className=\"MapField\";var r=n(148),o=n(55);function s(e,t,n,r,s,a){i.call(this,e,t,r,undefined,undefined,s,a);if(!o.isString(n))throw TypeError(\"keyType must be a string\");this.keyType=n;this.resolvedKeyType=null;this.map=true}s.fromJSON=function e(t,n){return new s(t,n.id,n.keyType,n.type,n.options,n.comment)};s.prototype.toJSON=function e(t){var n=t?Boolean(t.keepComments):false;return o.toObject([\"keyType\",this.keyType,\"type\",this.type,\"id\",this.id,\"extend\",this.extend,\"options\",this.options,\"comment\",n?this.comment:undefined])};s.prototype.resolve=function e(){if(this.resolved)return this;if(r.mapKey[this.keyType]===undefined)throw Error(\"invalid key type: \"+this.keyType);return i.prototype.resolve.call(this)};s.d=function e(t,n,i){if(typeof i===\"function\")i=o.decorateType(i).name;else if(i&&typeof i===\"object\")i=o.decorateEnum(i).name;return function e(r,a){o.decorateType(r.constructor).add(new s(a,t,n,i))}}},function(e,t,n){\"use strict\";e.exports=a;var i=n(147);((a.prototype=Object.create(i.prototype)).constructor=a).className=\"Service\";var r=n(249),o=n(55),s=n(243);function a(e,t){i.call(this,e,t);this.methods={};this._methodsArray=null}a.fromJSON=function e(t,n){var i=new a(t,n.options);if(n.methods)for(var o=Object.keys(n.methods),s=0;s<o.length;++s)i.add(r.fromJSON(o[s],n.methods[o[s]]));if(n.nested)i.addJSON(n.nested);i.comment=n.comment;return i};a.prototype.toJSON=function e(t){var n=i.prototype.toJSON.call(this,t);var r=t?Boolean(t.keepComments):false;return o.toObject([\"options\",n&&n.options||undefined,\"methods\",i.arrayToJSON(this.methodsArray,t)||{},\"nested\",n&&n.nested||undefined,\"comment\",r?this.comment:undefined])};Object.defineProperty(a.prototype,\"methodsArray\",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}});function c(e){e._methodsArray=null;return e}a.prototype.get=function e(t){return this.methods[t]||i.prototype.get.call(this,t)};a.prototype.resolveAll=function e(){var t=this.methodsArray;for(var n=0;n<t.length;++n)t[n].resolve();return i.prototype.resolve.call(this)};a.prototype.add=function e(t){if(this.get(t.name))throw Error(\"duplicate name '\"+t.name+\"' in \"+this);if(t instanceof r){this.methods[t.name]=t;t.parent=this;return c(this)}return i.prototype.add.call(this,t)};a.prototype.remove=function e(t){if(t instanceof r){if(this.methods[t.name]!==t)throw Error(t+\" is not a member of \"+this);delete this.methods[t.name];t.parent=null;return c(this)}return i.prototype.remove.call(this,t)};a.prototype.create=function e(t,n,i){var r=new s.Service(t,n,i);for(var a=0,c;a<this.methodsArray.length;++a){var l=o.lcFirst((c=this._methodsArray[a]).resolve().name).replace(/[^$\\w_]/g,\"\");r[l]=o.codegen([\"r\",\"c\"],o.isReserved(l)?l+\"_\":l)(\"return this.rpcCall(m,q,s,r,c)\")({m:c,q:c.resolvedRequestType.ctor,s:c.resolvedResponseType.ctor})}return r}},function(e,t,n){\"use strict\";e.exports=o;var i=n(114);((o.prototype=Object.create(i.prototype)).constructor=o).className=\"Method\";var r=n(55);function o(e,t,n,o,s,a,c,l){if(r.isObject(s)){c=s;s=a=undefined}else if(r.isObject(a)){c=a;a=undefined}if(!(t===undefined||r.isString(t)))throw TypeError(\"type must be a string\");if(!r.isString(n))throw TypeError(\"requestType must be a string\");if(!r.isString(o))throw TypeError(\"responseType must be a string\");i.call(this,e,c);this.type=t||\"rpc\";this.requestType=n;this.requestStream=s?true:undefined;this.responseType=o;this.responseStream=a?true:undefined;this.resolvedRequestType=null;this.resolvedResponseType=null;this.comment=l}o.fromJSON=function e(t,n){return new o(t,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment)};o.prototype.toJSON=function e(t){var n=t?Boolean(t.keepComments):false;return r.toObject([\"type\",this.type!==\"rpc\"&&this.type||undefined,\"requestType\",this.requestType,\"requestStream\",this.requestStream,\"responseType\",this.responseType,\"responseStream\",this.responseStream,\"options\",this.options,\"comment\",n?this.comment:undefined])};o.prototype.resolve=function e(){if(this.resolved)return this;this.resolvedRequestType=this.parent.lookupType(this.requestType);this.resolvedResponseType=this.parent.lookupType(this.responseType);return i.prototype.resolve.call(this)}},function(e,t,n){\"use strict\";e.exports=a;var i=n(88),r=n(148),o=n(55);function s(e){return\"missing required '\"+e.name+\"'\"}function a(e){var t=o.codegen([\"r\",\"l\"],e.name+\"$decode\")(\"if(!(r instanceof Reader))\")(\"r=Reader.create(r)\")(\"var c=l===undefined?r.len:r.pos+l,m=new this.ctor\"+(e.fieldsArray.filter((function(e){return e.map})).length?\",k,value\":\"\"))(\"while(r.pos<c){\")(\"var t=r.uint32()\");if(e.group)t(\"if((t&7)===4)\")(\"break\");t(\"switch(t>>>3){\");var n=0;for(;n<e.fieldsArray.length;++n){var a=e._fieldsArray[n].resolve(),c=a.resolvedType instanceof i?\"int32\":a.type,l=\"m\"+o.safeProp(a.name);t(\"case %i:\",a.id);if(a.map){t(\"if(%s===util.emptyObject)\",l)(\"%s={}\",l)(\"var c2 = r.uint32()+r.pos\");if(r.defaults[a.keyType]!==undefined)t(\"k=%j\",r.defaults[a.keyType]);else t(\"k=null\");if(r.defaults[c]!==undefined)t(\"value=%j\",r.defaults[c]);else t(\"value=null\");t(\"while(r.pos<c2){\")(\"var tag2=r.uint32()\")(\"switch(tag2>>>3){\")(\"case 1: k=r.%s(); break\",a.keyType)(\"case 2:\");if(r.basic[c]===undefined)t(\"value=types[%i].decode(r,r.uint32())\",n);else t(\"value=r.%s()\",c);t(\"break\")(\"default:\")(\"r.skipType(tag2&7)\")(\"break\")(\"}\")(\"}\");if(r.long[a.keyType]!==undefined)t('%s[typeof k===\"object\"?util.longToHash(k):k]=value',l);else t(\"%s[k]=value\",l)}else if(a.repeated){t(\"if(!(%s&&%s.length))\",l,l)(\"%s=[]\",l);if(r.packed[c]!==undefined)t(\"if((t&7)===2){\")(\"var c2=r.uint32()+r.pos\")(\"while(r.pos<c2)\")(\"%s.push(r.%s())\",l,c)(\"}else\");if(r.basic[c]===undefined)t(a.resolvedType.group?\"%s.push(types[%i].decode(r))\":\"%s.push(types[%i].decode(r,r.uint32()))\",l,n);else t(\"%s.push(r.%s())\",l,c)}else if(r.basic[c]===undefined)t(a.resolvedType.group?\"%s=types[%i].decode(r)\":\"%s=types[%i].decode(r,r.uint32())\",l,n);else t(\"%s=r.%s()\",l,c);t(\"break\")}t(\"default:\")(\"r.skipType(t&7)\")(\"break\")(\"}\")(\"}\");for(n=0;n<e._fieldsArray.length;++n){var d=e._fieldsArray[n];if(d.required)t(\"if(!m.hasOwnProperty(%j))\",d.name)(\"throw util.ProtocolError(%j,{instance:m})\",s(d))}return t(\"return m\")}},function(e,t,n){\"use strict\";e.exports=c;var i=n(88),r=n(55);function o(e,t){return e.name+\": \"+t+(e.repeated&&t!==\"array\"?\"[]\":e.map&&t!==\"object\"?\"{k:\"+e.keyType+\"}\":\"\")+\" expected\"}function s(e,t,n,r){if(t.resolvedType){if(t.resolvedType instanceof i){e(\"switch(%s){\",r)(\"default:\")(\"return%j\",o(t,\"enum value\"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e(\"case %i:\",t.resolvedType.values[s[a]]);e(\"break\")(\"}\")}else{e(\"{\")(\"var e=types[%i].verify(%s);\",n,r)(\"if(e)\")(\"return%j+e\",t.name+\".\")(\"}\")}}else{switch(t.type){case\"int32\":case\"uint32\":case\"sint32\":case\"fixed32\":case\"sfixed32\":e(\"if(!util.isInteger(%s))\",r)(\"return%j\",o(t,\"integer\"));break;case\"int64\":case\"uint64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))\",r,r,r,r)(\"return%j\",o(t,\"integer|Long\"));break;case\"float\":case\"double\":e('if(typeof %s!==\"number\")',r)(\"return%j\",o(t,\"number\"));break;case\"bool\":e('if(typeof %s!==\"boolean\")',r)(\"return%j\",o(t,\"boolean\"));break;case\"string\":e(\"if(!util.isString(%s))\",r)(\"return%j\",o(t,\"string\"));break;case\"bytes\":e('if(!(%s&&typeof %s.length===\"number\"||util.isString(%s)))',r,r,r)(\"return%j\",o(t,\"buffer\"));break}}return e}function a(e,t,n){switch(t.keyType){case\"int32\":case\"uint32\":case\"sint32\":case\"fixed32\":case\"sfixed32\":e(\"if(!util.key32Re.test(%s))\",n)(\"return%j\",o(t,\"integer key\"));break;case\"int64\":case\"uint64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(!util.key64Re.test(%s))\",n)(\"return%j\",o(t,\"integer|Long key\"));break;case\"bool\":e(\"if(!util.key2Re.test(%s))\",n)(\"return%j\",o(t,\"boolean key\"));break}return e}function c(e){var t=r.codegen([\"m\"],e.name+\"$verify\")('if(typeof m!==\"object\"||m===null)')(\"return%j\",\"object expected\");var n=e.oneofsArray,i={};if(n.length)t(\"var p={}\");for(var c=0;c<e.fieldsArray.length;++c){var l=e._fieldsArray[c].resolve(),d=\"m\"+r.safeProp(l.name);if(l.optional)t(\"if(%s!=null&&m.hasOwnProperty(%j)){\",d,l.name);if(l.map){t(\"if(!util.isObject(%s))\",d)(\"return%j\",o(l,\"object\"))(\"var k=Object.keys(%s)\",d)(\"for(var i=0;i<k.length;++i){\");a(t,l,\"k[i]\");s(t,l,c,d+\"[k[i]]\")(\"}\")}else if(l.repeated){t(\"if(!Array.isArray(%s))\",d)(\"return%j\",o(l,\"array\"))(\"for(var i=0;i<%s.length;++i){\",d);s(t,l,c,d+\"[i]\")(\"}\")}else{if(l.partOf){var u=r.safeProp(l.partOf.name);if(i[l.partOf.name]===1)t(\"if(p%s===1)\",u)(\"return%j\",l.partOf.name+\": multiple values\");i[l.partOf.name]=1;t(\"p%s=1\",u)}s(t,l,c,d)}if(l.optional)t(\"}\")}return t(\"return null\")}},function(e,t,n){\"use strict\";var i=t;var r=n(88),o=n(55);function s(e,t,n,i){if(t.resolvedType){if(t.resolvedType instanceof r){e(\"switch(d%s){\",i);for(var o=t.resolvedType.values,s=Object.keys(o),a=0;a<s.length;++a){if(t.repeated&&o[s[a]]===t.typeDefault)e(\"default:\");e(\"case%j:\",s[a])(\"case %i:\",o[s[a]])(\"m%s=%j\",i,o[s[a]])(\"break\")}e(\"}\")}else e('if(typeof d%s!==\"object\")',i)(\"throw TypeError(%j)\",t.fullName+\": object expected\")(\"m%s=types[%i].fromObject(d%s)\",i,n,i)}else{var c=false;switch(t.type){case\"double\":case\"float\":e(\"m%s=Number(d%s)\",i,i);break;case\"uint32\":case\"fixed32\":e(\"m%s=d%s>>>0\",i,i);break;case\"int32\":case\"sint32\":case\"sfixed32\":e(\"m%s=d%s|0\",i,i);break;case\"uint64\":c=true;case\"int64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(util.Long)\")(\"(m%s=util.Long.fromValue(d%s)).unsigned=%j\",i,i,c)('else if(typeof d%s===\"string\")',i)(\"m%s=parseInt(d%s,10)\",i,i)('else if(typeof d%s===\"number\")',i)(\"m%s=d%s\",i,i)('else if(typeof d%s===\"object\")',i)(\"m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)\",i,i,i,c?\"true\":\"\");break;case\"bytes\":e('if(typeof d%s===\"string\")',i)(\"util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)\",i,i,i)(\"else if(d%s.length)\",i)(\"m%s=d%s\",i,i);break;case\"string\":e(\"m%s=String(d%s)\",i,i);break;case\"bool\":e(\"m%s=Boolean(d%s)\",i,i);break}}return e}i.fromObject=function e(t){var n=t.fieldsArray;var i=o.codegen([\"d\"],t.name+\"$fromObject\")(\"if(d instanceof this.ctor)\")(\"return d\");if(!n.length)return i(\"return new this.ctor\");i(\"var m=new this.ctor\");for(var a=0;a<n.length;++a){var c=n[a].resolve(),l=o.safeProp(c.name);if(c.map){i(\"if(d%s){\",l)('if(typeof d%s!==\"object\")',l)(\"throw TypeError(%j)\",c.fullName+\": object expected\")(\"m%s={}\",l)(\"for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){\",l);s(i,c,a,l+\"[ks[i]]\")(\"}\")(\"}\")}else if(c.repeated){i(\"if(d%s){\",l)(\"if(!Array.isArray(d%s))\",l)(\"throw TypeError(%j)\",c.fullName+\": array expected\")(\"m%s=[]\",l)(\"for(var i=0;i<d%s.length;++i){\",l);s(i,c,a,l+\"[i]\")(\"}\")(\"}\")}else{if(!(c.resolvedType instanceof r))i(\"if(d%s!=null){\",l);s(i,c,a,l);if(!(c.resolvedType instanceof r))i(\"}\")}}return i(\"return m\")};function a(e,t,n,i){if(t.resolvedType){if(t.resolvedType instanceof r)e(\"d%s=o.enums===String?types[%i].values[m%s]:m%s\",i,n,i,i);else e(\"d%s=types[%i].toObject(m%s,o)\",i,n,i)}else{var o=false;switch(t.type){case\"double\":case\"float\":e(\"d%s=o.json&&!isFinite(m%s)?String(m%s):m%s\",i,i,i,i);break;case\"uint64\":o=true;case\"int64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e('if(typeof m%s===\"number\")',i)(\"d%s=o.longs===String?String(m%s):m%s\",i,i,i)(\"else\")(\"d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s\",i,i,i,i,o?\"true\":\"\",i);break;case\"bytes\":e(\"d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s\",i,i,i,i,i);break;default:e(\"d%s=m%s\",i,i);break}}return e}i.toObject=function e(t){var n=t.fieldsArray.slice().sort(o.compareFieldsById);if(!n.length)return o.codegen()(\"return {}\");var i=o.codegen([\"m\",\"o\"],t.name+\"$toObject\")(\"if(!o)\")(\"o={}\")(\"var d={}\");var s=[],c=[],l=[],d=0;for(;d<n.length;++d)if(!n[d].partOf)(n[d].resolve().repeated?s:n[d].map?c:l).push(n[d]);if(s.length){i(\"if(o.arrays||o.defaults){\");for(d=0;d<s.length;++d)i(\"d%s=[]\",o.safeProp(s[d].name));i(\"}\")}if(c.length){i(\"if(o.objects||o.defaults){\");for(d=0;d<c.length;++d)i(\"d%s={}\",o.safeProp(c[d].name));i(\"}\")}if(l.length){i(\"if(o.defaults){\");for(d=0;d<l.length;++d){var u=l[d],h=o.safeProp(u.name);if(u.resolvedType instanceof r)i(\"d%s=o.enums===String?%j:%j\",h,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)i(\"if(util.Long){\")(\"var n=new util.Long(%i,%i,%j)\",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)(\"d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n\",h)(\"}else\")(\"d%s=o.longs===String?%j:%i\",h,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f=\"[\"+Array.prototype.slice.call(u.typeDefault).join(\",\")+\"]\";i(\"if(o.bytes===String)d%s=%j\",h,String.fromCharCode.apply(String,u.typeDefault))(\"else{\")(\"d%s=%s\",h,f)(\"if(o.bytes!==Array)d%s=util.newBuffer(d%s)\",h,h)(\"}\")}else i(\"d%s=%j\",h,u.typeDefault)}i(\"}\")}var m=false;for(d=0;d<n.length;++d){var u=n[d],g=t._fieldsArray.indexOf(u),h=o.safeProp(u.name);if(u.map){if(!m){m=true;i(\"var ks2\")}i(\"if(m%s&&(ks2=Object.keys(m%s)).length){\",h,h)(\"d%s={}\",h)(\"for(var j=0;j<ks2.length;++j){\");a(i,u,g,h+\"[ks2[j]]\")(\"}\")}else if(u.repeated){i(\"if(m%s&&m%s.length){\",h,h)(\"d%s=[]\",h)(\"for(var j=0;j<m%s.length;++j){\",h);a(i,u,g,h+\"[j]\")(\"}\")}else{i(\"if(m%s!=null&&m.hasOwnProperty(%j)){\",h,u.name);a(i,u,g,h);if(u.partOf)i(\"if(o.oneofs)\")(\"d%s=%j\",o.safeProp(u.partOf.name),u.name)}i(\"}\")}return i(\"return d\")}},function(e,t,n){\"use strict\";var i=t;var r=n(222);i[\".google.protobuf.Any\"]={fromObject:function(e){if(e&&e[\"@type\"]){var t=e[\"@type\"].substring(e[\"@type\"].lastIndexOf(\"/\")+1);var n=this.lookup(t);if(n){var i=e[\"@type\"].charAt(0)===\".\"?e[\"@type\"].substr(1):e[\"@type\"];if(i.indexOf(\"/\")===-1){i=\"/\"+i}return this.create({type_url:i,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n=\"type.googleapis.com/\";var i=\"\";var o=\"\";if(t&&t.json&&e.type_url&&e.value){o=e.type_url.substring(e.type_url.lastIndexOf(\"/\")+1);i=e.type_url.substring(0,e.type_url.lastIndexOf(\"/\")+1);var s=this.lookup(o);if(s)e=s.decode(e.value)}if(!(e instanceof this.ctor)&&e instanceof r){var a=e.$type.toObject(e,t);var c=e.$type.fullName[0]===\".\"?e.$type.fullName.substr(1):e.$type.fullName;if(i===\"\"){i=n}o=i+c;a[\"@type\"]=o;return a}return this.toObject(e,t)}}},function(e,t,n){\"use strict\";e.exports=u;var i=n(147);((u.prototype=Object.create(i.prototype)).constructor=u).className=\"Root\";var r=n(115),o=n(88),s=n(221),a=n(55);var c,l,d;function u(e){i.call(this,\"\",e);this.deferred=[];this.files=[]}u.fromJSON=function e(t,n){if(!n)n=new u;if(t.options)n.setOptions(t.options);return n.addJSON(t.nested)};u.prototype.resolvePath=a.path.resolve;u.prototype.fetch=a.fetch;function h(){}u.prototype.load=function e(t,n,i){if(typeof n===\"function\"){i=n;n=undefined}var r=this;if(!i)return a.asPromise(e,r,t,n);var o=i===h;function s(e,t){if(!i)return;var n=i;i=null;if(o)throw e;n(e,t)}function c(e){var t=e.lastIndexOf(\"google/protobuf/\");if(t>-1){var n=e.substring(t);if(n in d)return n}return null}function u(e,t){try{if(a.isString(t)&&t.charAt(0)===\"{\")t=JSON.parse(t);if(!a.isString(t))r.setOptions(t.options).addJSON(t.nested);else{l.filename=e;var i=l(t,r,n),d,u=0;if(i.imports)for(;u<i.imports.length;++u)if(d=c(i.imports[u])||r.resolvePath(e,i.imports[u]))f(d);if(i.weakImports)for(u=0;u<i.weakImports.length;++u)if(d=c(i.weakImports[u])||r.resolvePath(e,i.weakImports[u]))f(d,true)}}catch(e){s(e)}if(!o&&!m)s(null,r)}function f(e,t){if(r.files.indexOf(e)>-1)return;r.files.push(e);if(e in d){if(o)u(e,d[e]);else{++m;setTimeout((function(){--m;u(e,d[e])}))}return}if(o){var n;try{n=a.fs.readFileSync(e).toString(\"utf8\")}catch(e){if(!t)s(e);return}u(e,n)}else{++m;r.fetch(e,(function(n,o){--m;if(!i)return;if(n){if(!t)s(n);else if(!m)s(null,r);return}u(e,o)}))}}var m=0;if(a.isString(t))t=[t];for(var g=0,p;g<t.length;++g)if(p=r.resolvePath(\"\",t[g]))f(p);if(o)return r;if(!m)s(null,r);return undefined};u.prototype.loadSync=function e(t,n){if(!a.isNode)throw Error(\"not supported\");return this.load(t,n,h)};u.prototype.resolveAll=function e(){if(this.deferred.length)throw Error(\"unresolvable extensions: \"+this.deferred.map((function(e){return\"'extend \"+e.extend+\"' in \"+e.parent.fullName})).join(\", \"));return i.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function m(e,t){var n=t.parent.lookup(t.extend);if(n){var i=new r(t.fullName,t.id,t.type,t.rule,undefined,t.options);i.declaringField=t;t.extensionField=i;n.add(i);return true}return false}u.prototype._handleAdd=function e(t){if(t instanceof r){if(t.extend!==undefined&&!t.extensionField)if(!m(this,t))this.deferred.push(t)}else if(t instanceof o){if(f.test(t.name))t.parent[t.name]=t.values}else if(!(t instanceof s)){if(t instanceof c)for(var n=0;n<this.deferred.length;)if(m(this,this.deferred[n]))this.deferred.splice(n,1);else++n;for(var i=0;i<t.nestedArray.length;++i)this._handleAdd(t._nestedArray[i]);if(f.test(t.name))t.parent[t.name]=t}};u.prototype._handleRemove=function e(t){if(t instanceof r){if(t.extend!==undefined){if(t.extensionField){t.extensionField.parent.remove(t.extensionField);t.extensionField=null}else{var n=this.deferred.indexOf(t);if(n>-1)this.deferred.splice(n,1)}}}else if(t instanceof o){if(f.test(t.name))delete t.parent[t.name]}else if(t instanceof i){for(var s=0;s<t.nestedArray.length;++s)this._handleRemove(t._nestedArray[s]);if(f.test(t.name))delete t.parent[t.name]}};u._configure=function(e,t,n){c=e;l=t;d=n}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)==\"[object Array]\"}},function(e,t,n){(function(t){e.exports=o;var n=typeof t===\"function\"&&typeof t.isBuffer===\"function\";var i=typeof ArrayBuffer===\"function\";var r=function(e){return typeof ArrayBuffer.isView===\"function\"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer};function o(e){return n&&t.isBuffer(e)||i&&(e instanceof ArrayBuffer||r(e))}}).call(this,n(146).Buffer)},function(e,t){function n(e){return e instanceof Date}e.exports=n},function(e,t,n){var i=n(109);var r=n(223);function o(e){var t=i(e);var n=t.getFullYear();var o=new Date(0);o.setFullYear(n+1,0,4);o.setHours(0,0,0,0);var s=r(o);var a=new Date(0);a.setFullYear(n,0,4);a.setHours(0,0,0,0);var c=r(a);if(t.getTime()>=s.getTime()){return n+1}else if(t.getTime()>=c.getTime()){return n}else{return n-1}}e.exports=o},function(e,t){var n=typeof crypto!=\"undefined\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!=\"undefined\"&&typeof window.msCrypto.getRandomValues==\"function\"&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function e(){n(i);return i}}else{var r=new Array(16);e.exports=function e(){for(var t=0,n;t<16;t++){if((t&3)===0)n=Math.random()*4294967296;r[t]=n>>>((t&3)<<3)&255}return r}}},function(e,t){var n=[];for(var i=0;i<256;++i){n[i]=(i+256).toString(16).substr(1)}function r(e,t){var i=t||0;var r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],\"-\",r[e[i++]],r[e[i++]],\"-\",r[e[i++]],r[e[i++]],\"-\",r[e[i++]],r[e[i++]],\"-\",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join(\"\")}e.exports=r},function(e,t,n){var i=n(9);var r=n(455);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t,n){var i=n(9);var r=n(456);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t,n){\"use strict\";function i(){return false}t[\"a\"]=i},function(e){e.exports=JSON.parse('{\"ar\":{\"latex\":\"LaTeX\",\"cancel\":\"إلغاء\",\"accept\":\"مموافق\",\"manual\":\"الدليل\",\"insert_math\":\"إدراج صيغة رياضية - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"ca\":{\"latex\":\"LaTeX\",\"cancel\":\"Cancel·lar\",\"accept\":\"Acceptar\",\"manual\":\"Manual\",\"insert_math\":\"Inserir fórmula matemàtica - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"cs\":{\"latex\":\"LaTeX\",\"cancel\":\"Storno\",\"accept\":\"OK\",\"manual\":\"Příručka\",\"insert_math\":\"Vložit matematický vzorec - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"da\":{\"latex\":\"LaTeX\",\"cancel\":\"Annuller\",\"accept\":\"OK\",\"manual\":\"Brugervejledning\",\"insert_math\":\"Indsæt matematisk formel - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"de\":{\"latex\":\"LaTeX\",\"cancel\":\"Abbrechen\",\"accept\":\"OK\",\"manual\":\"Handbuch\",\"insert_math\":\"Mathematische Formel einfügen - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"en\":{\"latex\":\"LaTeX\",\"cancel\":\"Cancel\",\"accept\":\"OK\",\"manual\":\"Manual\",\"insert_math\":\"Insert a math equation - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"es\":{\"latex\":\"LaTeX\",\"cancel\":\"Cancelar\",\"accept\":\"Aceptar\",\"manual\":\"Manual\",\"insert_math\":\"Insertar fórmula matemática - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"et\":{\"latex\":\"LaTeX\",\"cancel\":\"Loobu\",\"accept\":\"OK\",\"manual\":\"Käsiraamat\",\"insert_math\":\"Lisa matemaatiline valem – WIRIS\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"eu\":{\"latex\":\"LaTeX\",\"cancel\":\"Ezeztatu\",\"accept\":\"Onartu\",\"manual\":\"Gida\",\"insert_math\":\"Txertatu matematikako formula - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"fi\":{\"latex\":\"LaTeX\",\"cancel\":\"Peruuta\",\"accept\":\"OK\",\"manual\":\"Manual\",\"insert_math\":\"Liitä matemaattinen kaava - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"fr\":{\"latex\":\"LaTeX\",\"cancel\":\"Annuler\",\"accept\":\"OK\",\"manual\":\"Manuel\",\"insert_math\":\"Insérer une formule mathématique - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"gl\":{\"latex\":\"LaTeX\",\"cancel\":\"Cancelar\",\"accept\":\"Aceptar\",\"manual\":\"Manual\",\"insert_math\":\"Inserir fórmula matemática - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"he\":{\"latex\":\"LaTeX\",\"cancel\":\"ביטול\",\"accept\":\"אישור\",\"manual\":\"מדריך\",\"insert_math\":\"הוסף נוסחה מתמטית - MathType\",\"insert_chem\":\"הוספת כתיבה כימית - ChemType\",\"minimize\":\"מזערי\",\"maximize\":\"מרבי\",\"fullscreen\":\"מסך מלא\",\"exit_fullscreen\":\"יציאה ממצב מסך מלא\",\"close\":\"סגירה\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"האם לצאת? שינויים אשר בוצעו ימחקו.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\"איננה פונקציה\",\"exception_invalid_date_format\":\"תסדיר תאריך אינו תקין : \",\"exception_casting\":\"לא ניתן להמיר \",\"exception_casting_to\":\" ל \"},\"hr\":{\"latex\":\"LaTeX\",\"cancel\":\"Poništi\",\"accept\":\"U redu\",\"manual\":\"Priručnik\",\"insert_math\":\"Umetnite matematičku formulu - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"hu\":{\"latex\":\"LaTeX\",\"cancel\":\"Mégsem\",\"accept\":\"OK\",\"manual\":\"Kézikönyv\",\"insert_math\":\"Matematikai képlet beszúrása - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"it\":{\"latex\":\"LaTeX\",\"cancel\":\"Annulla\",\"accept\":\"Accetta\",\"manual\":\"Manuale\",\"insert_math\":\"Inserisci una formula matematica - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"ja\":{\"latex\":\"LaTeX\",\"cancel\":\"キャンセル\",\"accept\":\"OK\",\"manual\":\"マニュアル\",\"insert_math\":\"数式を挿入 - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"ko\":{\"latex\":\"LaTeX\",\"cancel\":\"취소\",\"accept\":\"승인\",\"manual\":\"설명서\",\"insert_math\":\"수학 공식 삽입 - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"nl\":{\"latex\":\"LaTeX\",\"cancel\":\"Annuleren\",\"accept\":\"OK\",\"manual\":\"Handleiding\",\"insert_math\":\"Wiskundige formule invoegen - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"no\":{\"latex\":\"LaTeX\",\"cancel\":\"Avbryt\",\"accept\":\"OK\",\"manual\":\"Håndbok\",\"insert_math\":\"Sett inn matematikkformel - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"nb\":{\"latex\":\"LaTeX\",\"cancel\":\"Avbryt\",\"accept\":\"OK\",\"manual\":\"Håndbok\",\"insert_math\":\"Sett inn matematikkformel - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"nn\":{\"latex\":\"LaTeX\",\"cancel\":\"Avbryt\",\"accept\":\"OK\",\"manual\":\"Håndbok\",\"insert_math\":\"Sett inn matematikkformel - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"pl\":{\"latex\":\"LaTeX\",\"cancel\":\"Anuluj\",\"accept\":\"OK\",\"manual\":\"Instrukcja\",\"insert_math\":\"Wstaw formułę matematyczną - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"pt\":{\"latex\":\"LaTeX\",\"cancel\":\"Cancelar\",\"accept\":\"OK\",\"manual\":\"Manual\",\"insert_math\":\"Inserir fórmula matemática - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"pt_br\":{\"latex\":\"LaTeX\",\"cancel\":\"Cancelar\",\"accept\":\"OK\",\"manual\":\"Manual\",\"insert_math\":\"Inserir fórmula matemática - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"ru\":{\"latex\":\"LaTeX\",\"cancel\":\"отмена\",\"accept\":\"OK\",\"manual\":\"вручную\",\"insert_math\":\"Вставить математическую формулу: WIRIS\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"sv\":{\"latex\":\"LaTeX\",\"cancel\":\"Avbryt\",\"accept\":\"OK\",\"manual\":\"Bruksanvisning\",\"insert_math\":\"Infoga matematisk formel - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"tr\":{\"latex\":\"LaTeX\",\"cancel\":\"Vazgeç\",\"accept\":\"Tamam\",\"manual\":\"Kılavuz\",\"insert_math\":\"Matematik formülü ekle - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"zh\":{\"latex\":\"LaTeX\",\"cancel\":\"取消\",\"accept\":\"确定\",\"manual\":\"手册\",\"insert_math\":\"插入数学公式 - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"el\":{\"latex\":\"LaTeX\",\"cancel\":\"Άκυρο\",\"accept\":\"ΟΚ\",\"manual\":\"Χειροκίνητα\",\"insert_math\":\"Εισαγωγή μαθηματικού τύπου - MathType\",\"insert_chem\":\"Insert a chemistry formula - ChemType\",\"minimize\":\"Minimize\",\"maximize\":\"Maximize\",\"fullscreen\":\"Full-screen\",\"exit_fullscreen\":\"Exit full-screen\",\"close\":\"Close\",\"mathtype\":\"MathType\",\"title_modalwindow\":\"MathType modal window\",\"close_modal_warning\":\"Are you sure you want to leave? The changes you made will be lost.\",\"latex_name_label\":\"Latex Formula\",\"browser_no_compatible\":\"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.\",\"error_convert_accessibility\":\"Error converting from MathML to accessible text.\",\"exception_cross_site\":\"Cross site scripting is only allowed for HTTP.\",\"exception_high_surrogate\":\"High surrogate not followed by low surrogate in fixedCharCodeAt()\",\"exception_string_length\":\"Invalid string. Length must be a multiple of 4\",\"exception_key_nonobject\":\"Object.keys called on non-object\",\"exception_null_or_undefined\":\" this is null or not defined\",\"exception_not_function\":\" is not a function\",\"exception_invalid_date_format\":\"Invalid date format : \",\"exception_casting\":\"Cannot cast \",\"exception_casting_to\":\" to \"},\"\":{}}')},function(e,t,n){var i=n(368);var r=n(213);var o=n(232);var s=n(153)(\"socket.io-client\");e.exports=t=c;var a=t.managers={};function c(e,t){if(typeof e===\"object\"){t=e;e=undefined}t=t||{};var n=i(e);var r=n.source;var c=n.id;var l=n.path;var d=a[c]&&l in a[c].nsps;var u=t.forceNew||t[\"force new connection\"]||false===t.multiplex||d;var h;if(u){s(\"ignoring socket cache for %s\",r);h=o(r,t)}else{if(!a[c]){s(\"new io instance for %s\",r);a[c]=o(r,t)}h=a[c]}if(n.query&&!t.query){t.query=n.query}return h.socket(n.path,t)}t.protocol=r.protocol;t.connect=c;t.Manager=n(232);t.Socket=n(238)},function(e,t,n){\"use strict\";(function(t){var i=n(396),r=n(397),o=/^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//,s=/^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i,a=\"[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]\",c=new RegExp(\"^\"+a+\"+\");function l(e){return(e?e:\"\").toString().replace(c,\"\")}var d=[[\"#\",\"hash\"],[\"?\",\"query\"],function e(t){return t.replace(\"\\\\\",\"/\")},[\"/\",\"pathname\"],[\"@\",\"auth\",1],[NaN,\"host\",undefined,1,1],[/:(\\d+)$/,\"port\",undefined,1],[NaN,\"hostname\",undefined,1,1]];var u={hash:1,query:1};function h(e){var n;if(typeof window!==\"undefined\")n=window;else if(typeof t!==\"undefined\")n=t;else if(typeof self!==\"undefined\")n=self;else n={};var i=n.location||{};e=e||i;var r={},s=typeof e,a;if(\"blob:\"===e.protocol){r=new g(unescape(e.pathname),{})}else if(\"string\"===s){r=new g(e,{});for(a in u)delete r[a]}else if(\"object\"===s){for(a in e){if(a in u)continue;r[a]=e[a]}if(r.slashes===undefined){r.slashes=o.test(e.href)}}return r}function f(e){e=l(e);var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():\"\",slashes:!!t[2],rest:t[3]}}function m(e,t){if(e===\"\")return t;var n=(t||\"/\").split(\"/\").slice(0,-1).concat(e.split(\"/\")),i=n.length,r=n[i-1],o=false,s=0;while(i--){if(n[i]===\".\"){n.splice(i,1)}else if(n[i]===\"..\"){n.splice(i,1);s++}else if(s){if(i===0)o=true;n.splice(i,1);s--}}if(o)n.unshift(\"\");if(r===\".\"||r===\"..\")n.push(\"\");return n.join(\"/\")}function g(e,t,n){e=l(e);if(!(this instanceof g)){return new g(e,t,n)}var o,s,a,c,u,p,b=d.slice(),_=typeof t,w=this,v=0;if(\"object\"!==_&&\"string\"!==_){n=t;t=null}if(n&&\"function\"!==typeof n)n=r.parse;t=h(t);s=f(e||\"\");o=!s.protocol&&!s.slashes;w.slashes=s.slashes||o&&t.slashes;w.protocol=s.protocol||t.protocol||\"\";e=s.rest;if(!s.slashes)b[3]=[/(.*)/,\"pathname\"];for(;v<b.length;v++){c=b[v];if(typeof c===\"function\"){e=c(e);continue}a=c[0];p=c[1];if(a!==a){w[p]=e}else if(\"string\"===typeof a){if(~(u=e.indexOf(a))){if(\"number\"===typeof c[2]){w[p]=e.slice(0,u);e=e.slice(u+c[2])}else{w[p]=e.slice(u);e=e.slice(0,u)}}}else if(u=a.exec(e)){w[p]=u[1];e=e.slice(0,u.index)}w[p]=w[p]||(o&&c[3]?t[p]||\"\":\"\");if(c[4])w[p]=w[p].toLowerCase()}if(n)w.query=n(w.query);if(o&&t.slashes&&w.pathname.charAt(0)!==\"/\"&&(w.pathname!==\"\"||t.pathname!==\"\")){w.pathname=m(w.pathname,t.pathname)}if(!i(w.port,w.protocol)){w.host=w.hostname;w.port=\"\"}w.username=w.password=\"\";if(w.auth){c=w.auth.split(\":\");w.username=c[0]||\"\";w.password=c[1]||\"\"}w.origin=w.protocol&&w.host&&w.protocol!==\"file:\"?w.protocol+\"//\"+w.host:\"null\";w.href=w.toString()}function p(e,t,n){var o=this;switch(e){case\"query\":if(\"string\"===typeof t&&t.length){t=(n||r.parse)(t)}o[e]=t;break;case\"port\":o[e]=t;if(!i(t,o.protocol)){o.host=o.hostname;o[e]=\"\"}else if(t){o.host=o.hostname+\":\"+t}break;case\"hostname\":o[e]=t;if(o.port)t+=\":\"+o.port;o.host=t;break;case\"host\":o[e]=t;if(/:\\d+$/.test(t)){t=t.split(\":\");o.port=t.pop();o.hostname=t.join(\":\")}else{o.hostname=t;o.port=\"\"}break;case\"protocol\":o.protocol=t.toLowerCase();o.slashes=!n;break;case\"pathname\":case\"hash\":if(t){var s=e===\"pathname\"?\"/\":\"#\";o[e]=t.charAt(0)!==s?s+t:t}else{o[e]=t}break;default:o[e]=t}for(var a=0;a<d.length;a++){var c=d[a];if(c[4])o[c[1]]=o[c[1]].toLowerCase()}o.origin=o.protocol&&o.host&&o.protocol!==\"file:\"?o.protocol+\"//\"+o.host:\"null\";o.href=o.toString();return o}function b(e){if(!e||\"function\"!==typeof e)e=r.stringify;var t,n=this,i=n.protocol;if(i&&i.charAt(i.length-1)!==\":\")i+=\":\";var o=i+(n.slashes?\"//\":\"\");if(n.username){o+=n.username;if(n.password)o+=\":\"+n.password;o+=\"@\"}o+=n.host+n.pathname;t=\"object\"===typeof n.query?e(n.query):n.query;if(t)o+=\"?\"!==t.charAt(0)?\"?\"+t:t;if(n.hash)o+=n.hash;return o}g.prototype={set:p,toString:b};g.extractProtocol=f;g.location=h;g.trimLeft=l;g.qs=r;e.exports=g}).call(this,n(143))},function(e,t,n){var i=n(425);var r=n(429);var o=n(258);var s=n(109);var a=n(432);var c=n(433);function l(e,t,n){var i=t?String(t):\"YYYY-MM-DDTHH:mm:ss.SSSZ\";var r=n||{};var o=r.locale;var l=c.format.formatters;var d=c.format.formattingTokensRegExp;if(o&&o.format&&o.format.formatters){l=o.format.formatters;if(o.format.formattingTokensRegExp){d=o.format.formattingTokensRegExp}}var h=s(e);if(!a(h)){return\"Invalid Date\"}var f=u(i,l,d);return f(h)}var d={M:function(e){return e.getMonth()+1},MM:function(e){return m(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return m(e.getDate(),2)},DDD:function(e){return i(e)},DDDD:function(e){return m(i(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return r(e)},WW:function(e){return m(r(e),2)},YY:function(e){return m(e.getFullYear(),4).substr(2)},YYYY:function(e){return m(e.getFullYear(),4)},GG:function(e){return String(o(e)).substr(2)},GGGG:function(e){return o(e)},H:function(e){return e.getHours()},HH:function(e){return m(e.getHours(),2)},h:function(e){var t=e.getHours();if(t===0){return 12}else if(t>12){return t%12}else{return t}},hh:function(e){return m(d[\"h\"](e),2)},m:function(e){return e.getMinutes()},mm:function(e){return m(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return m(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return m(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return m(e.getMilliseconds(),3)},Z:function(e){return f(e.getTimezoneOffset(),\":\")},ZZ:function(e){return f(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function u(e,t,n){var i=e.match(n);var r=i.length;var o;var s;for(o=0;o<r;o++){s=t[i[o]]||d[i[o]];if(s){i[o]=s}else{i[o]=h(i[o])}}return function(e){var t=\"\";for(var n=0;n<r;n++){if(i[n]instanceof Function){t+=i[n](e,d)}else{t+=i[n]}}return t}}function h(e){if(e.match(/\\[[\\s\\S]/)){return e.replace(/^\\[|]$/g,\"\")}return e.replace(/\\\\/g,\"\")}function f(e,t){t=t||\"\";var n=e>0?\"-\":\"+\";var i=Math.abs(e);var r=Math.floor(i/60);var o=i%60;return n+m(r,2)+t+m(o,2)}function m(e,t){var n=Math.abs(e).toString();while(n.length<t){n=\"0\"+n}return n}e.exports=l},function(e,t,n){var i=n(445);var r=n(446);var o=r;o.v1=i;o.v4=r;e.exports=o},function(e){e.exports=JSON.parse('{\"a\":\"21.0.0\"}')},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return _}));var i=n(4);var r=n(7);var o=n(3);var s=[\"ck-annotation__content\",\"setTemplate\",\"innerHTML\",\"ck-comment__content\",\"set\",\"render\",\"element\",\"content\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(s,315);var a=function(e,t){e=e-0;var n=s[e];return n};class c extends o[\"a\"]{constructor(e){super(e),this[a(\"0x1\")](a(\"0x4\"),\"\"),this[a(\"0x6\")]({tag:\"div\",attributes:{class:[a(\"0x0\"),a(\"0x5\")]}})}[a(\"0x2\")](){super[a(\"0x2\")](),this[\"on\"](\"change:content\",(e,t,n)=>{this[a(\"0x3\")][a(\"0x7\")]=n}),this[a(\"0x3\")][a(\"0x7\")]=this[a(\"0x4\")]}}var l=n(199);var d=n(189);const u=[\"submit\",\"expand\",\"visibleView\",\"switchToEditMode\",\"fire\",\"content\",\"_createCommentInputView\",\"_config\",\"createCollection\",\"remove\",\"focus\",\"add\",\"once\",\"locale\",\"updateComment\",\"disabledSubmit\",\"editorConfig\",\"editorReady\",\"value\",\"collapse\",\"isCollapsed\",\"destroy\",\"set\",\"isEditMode\",\"bind\",\"_model\",\"switchToDisplayMode\",\"element\",\"get\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(u,191);const h=function(e,t){e=e-0;let n=u[e];return n};class f extends o[\"a\"]{constructor(e,t,n){super(e),this[h(\"0x8\")]=t,this[\"_config\"]=n,this[h(\"0x5\")](h(\"0x6\"),!1),this[h(\"0x5\")](h(\"0x3\"),!0),this[\"visibleView\"]=this[h(\"0x14\")](),this[h(\"0xe\")][h(\"0x17\")](this[\"ut\"]())}[h(\"0xd\")](){this[h(\"0x3\")]=!1}[h(\"0x2\")](){this[h(\"0x6\")]||(this[h(\"0x3\")]=!0)}[h(\"0x16\")](){this[h(\"0xa\")][h(\"0x16\")]()}[h(\"0x4\")](){this[h(\"0xe\")][h(\"0xb\")](0)[h(\"0x4\")](),super[h(\"0x4\")]()}[h(\"0xf\")](){this[\"isEditMode\"]||(this[h(\"0x6\")]=!0,this[h(\"0xe\")][h(\"0x15\")](0)[h(\"0x4\")](),this[h(\"0xe\")][h(\"0x17\")](this[h(\"0x12\")]()))}[h(\"0x9\")](){this[h(\"0x6\")]&&(this[h(\"0x6\")]=!1,this[h(\"0xe\")][\"remove\"](0)[h(\"0x4\")](),this[h(\"0xe\")][h(\"0x17\")](this[\"ut\"]()))}[\"ut\"](){const e=new c(this[h(\"0x19\")]);return e[h(\"0x7\")](h(\"0x11\"))[\"to\"](this[h(\"0x8\")],h(\"0x11\"),this,h(\"0x3\"),(e,t)=>t?Object(d[\"a\"])(e,{limit:this[h(\"0x13\")][\"maxCommentCharsWhenCollapsed\"]}):e),e}[h(\"0x12\")](){this[h(\"0x13\")][\"editorConfig\"]||(this[\"_config\"][h(\"0x1c\")]={}),this[h(\"0x13\")][\"editorConfig\"][\"initialData\"]=this[h(\"0x8\")][\"content\"];const e=new l[\"a\"](this[h(\"0x19\")],this[\"_config\"][\"editorConfig\"]);return e[h(\"0x1\")]=this[h(\"0x8\")][h(\"0x11\")],e[\"bind\"](h(\"0x1b\"))[\"to\"](this[h(\"0x8\")],\"isReadOnly\"),e[\"on\"](h(\"0xc\"),(e,t)=>{this[h(\"0x10\")](h(\"0x1a\"),this[h(\"0x8\")][\"id\"],t),this[h(\"0x9\")](),this[h(\"0x16\")]()}),e[\"on\"](\"cancel\",()=>{this[h(\"0x9\")](),this[h(\"0x16\")]()}),e[h(\"0x18\")](h(\"0x0\"),()=>{e[h(\"0x16\")]()}),e}}var m=n(82);var g=n(183);var p='\\x3c!--\\n\\n What you\\'re currently looking at is the source code of a legally protected, proprietary software.\\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\\n\\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\\n\\n!--\\x3e\\n\\n<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z\"/></svg>\\n';var b=n(208);class _ extends f{constructor(e,t,n){super(e,t,n);const{t:i}=this[\"locale\"];this[\"set\"](\"actionIndicator\",null),this[\"set\"](\"placeholder\",i(\"Reply...\")),this[\"set\"](\"createdAt\",null),this[\"bind\"](\"createdAt\")[\"to\"](t),this[\"editButton\"]=this[\"Et\"](),this[\"removeButton\"]=this[\"Rt\"](),this[\"userView\"]=new m[\"a\"](e,t[\"author\"]),this[\"userView\"][\"extendTemplate\"]({attributes:{class:[\"ck-comment__user\",\"ck-annotation__user\"]}}),this[\"listenTo\"](t,\"change:isRemovable\",()=>this[\"cancelConfirm\"]()),this[\"setTemplate\"](this[\"_getTemplate\"]())}[\"_getTemplate\"](){const e=this[\"bindTemplate\"];return{tag:\"li\",attributes:{class:[\"ck-comment__wrapper\",e[\"if\"](\"isConfirm\",\"ck-comment--remove-confirmation\")],tabindex:-1},children:[{tag:\"div\",attributes:{class:[\"ck-comment\",\"ck-annotation\",e[\"if\"](\"isEditMode\",\"ck-comment--edit\"),e[\"to\"](\"actionIndicator\",e=>e?\"ck-comment--\"+e:\"\")],\"data-author-id\":this[\"_model\"][\"author\"][\"id\"],\"data-comment-id\":this[\"_model\"][\"id\"]},children:[this[\"userView\"],{tag:\"div\",attributes:{class:[\"ck-comment__main\",\"ck-annotation__main\"]},children:[{tag:\"div\",attributes:{class:[\"ck-comment__info\",\"ck-annotation__info\"]},children:[{tag:\"span\",children:[{text:this[\"userView\"][\"name\"]}],attributes:{class:[\"ck-comment__info-name\",\"ck-annotation__info-name\"]}},{tag:\"time\",attributes:{datetime:e[\"to\"](\"createdAt\"),class:[\"ck-comment__info-time\",\"ck-annotation__info-time\"]},children:[{text:e[\"to\"](\"createdAt\",e=>this[\"_config\"][\"formatDateTime\"](e))}]}]},{tag:\"div\",attributes:{class:[\"ck-comment__actions\",\"ck-annotation__actions\",e[\"if\"](\"isEditMode\",\"ck-comment__actions--hidden\"),e[\"if\"](\"isEditMode\",\"ck-annotation__actions--hidden\")]},children:[this[\"editButton\"],this[\"removeButton\"]]},{tag:\"div\",attributes:{class:[\"ck-annotation__content-wrapper\"]},children:this[\"visibleView\"]}]}]}]}}[\"Et\"](){const{t:e}=this[\"locale\"],t=new r[\"a\"](this[\"locale\"]);return t[\"label\"]=e(\"Edit\"),t[\"icon\"]=g[\"a\"],t[\"extendTemplate\"]({attributes:{class:\"ck-comment--edit\"}}),t[\"bind\"](\"isEnabled\")[\"to\"](this[\"_model\"],\"isReadOnly\",e=>!e),t[\"bind\"](\"isVisible\")[\"to\"](this[\"_model\"],\"isEditable\"),t[\"on\"](\"execute\",()=>this[\"switchToEditMode\"]()),t}[\"Rt\"](){const{t:e}=this[\"locale\"],t=new r[\"a\"](this[\"locale\"]);return t[\"label\"]=e(\"Remove\"),t[\"icon\"]=p,t[\"extendTemplate\"]({attributes:{class:\"ck-comment--remove\"}}),t[\"bind\"](\"isEnabled\")[\"to\"](this[\"_model\"],\"isReadOnly\",e=>!e),t[\"bind\"](\"isVisible\")[\"to\"](this[\"_model\"],\"isRemovable\"),t[\"on\"](\"execute\",()=>{this[\"showConfirm\"](e(\"Delete comment?\"),this[\"element\"])[\"then\"](()=>{this[\"fire\"](\"removeComment\",this[\"_model\"][\"id\"])})}),t}[\"Mt\"](e,t){this[\"listenTo\"](e,\"mouseenter\",()=>this[\"actionIndicator\"]=t),this[\"listenTo\"](e,\"focus\",()=>this[\"actionIndicator\"]=t),this[\"listenTo\"](e,\"mouseleave\",()=>this[\"actionIndicator\"]=null),this[\"listenTo\"](e,\"blur\",()=>this[\"actionIndicator\"]=null)}[\"_createCommentInputView\"](){const e=super[\"_createCommentInputView\"]();return e[\"bind\"](\"placeholder\")[\"to\"](this),e}[\"render\"](){super[\"render\"](),this[\"Mt\"](this[\"editButton\"][\"element\"],\"edit\"),this[\"Mt\"](this[\"removeButton\"][\"element\"],\"remove\")}}Object(i[\"a\"])(_,b[\"a\"])},function(e,t,n){\"use strict\";var i=n(28);var r=n(37);var o=function(){return r[\"a\"].Date.now()};var s=o;var a=n(99);var c=0/0;var l=/^\\s+|\\s+$/g;var d=/^[-+]0x[0-9a-f]+$/i;var u=/^0b[01]+$/i;var h=/^0o[0-7]+$/i;var f=parseInt;function m(e){if(typeof e==\"number\"){return e}if(Object(a[\"a\"])(e)){return c}if(Object(i[\"a\"])(e)){var t=typeof e.valueOf==\"function\"?e.valueOf():e;e=Object(i[\"a\"])(t)?t+\"\":t}if(typeof e!=\"string\"){return e===0?e:+e}e=e.replace(l,\"\");var n=u.test(e);return n||h.test(e)?f(e.slice(2),n?2:8):d.test(e)?c:+e}var g=m;var p=\"Expected a function\";var b=Math.max,_=Math.min;function w(e,t,n){var r,o,a,c,l,d,u=0,h=false,f=false,m=true;if(typeof e!=\"function\"){throw new TypeError(p)}t=g(t)||0;if(Object(i[\"a\"])(n)){h=!!n.leading;f=\"maxWait\"in n;a=f?b(g(n.maxWait)||0,t):a;m=\"trailing\"in n?!!n.trailing:m}function w(t){var n=r,i=o;r=o=undefined;u=t;c=e.apply(i,n);return c}function v(e){u=e;l=setTimeout(y,t);return h?w(e):c}function k(e){var n=e-d,i=e-u,r=t-n;return f?_(r,a-i):r}function x(e){var n=e-d,i=e-u;return d===undefined||n>=t||n<0||f&&i>=a}function y(){var e=s();if(x(e)){return C(e)}l=setTimeout(y,k(e))}function C(e){l=undefined;if(m&&r){return w(e)}r=o=undefined;return c}function A(){if(l!==undefined){clearTimeout(l)}u=0;r=d=o=l=undefined}function T(){return l===undefined?c:C(s())}function E(){var e=s(),n=x(e);r=arguments;o=this;d=e;if(n){if(l===undefined){return v(d)}if(f){clearTimeout(l);l=setTimeout(y,t);return w(d)}}if(l===undefined){l=setTimeout(y,t)}return c}E.cancel=A;E.flush=T;return E}var v=t[\"a\"]=w},function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var i=n(3);var r=n(188);var o=n(210);class s extends i[\"a\"]{constructor(e,t,n,i){super(e),this[\"set\"](\"isActive\",!1),this[\"set\"](\"isDirty\",!1),this[\"_model\"]=t,this[\"_localUser\"]=n,this[\"_config\"]=i,this[\"commentsListView\"]=new o[\"a\"](e,t,Object[\"assign\"]({CommentView:this[\"_config\"][\"CommentView\"]},i)),this[\"commentsListView\"][\"delegate\"](\"removeComment\")[\"to\"](this),this[\"commentsListView\"][\"delegate\"](\"updateComment\")[\"to\"](this),this[\"commentsListView\"][\"bind\"](\"isActive\")[\"to\"](this),this[\"set\"](\"length\",this[\"commentsListView\"][\"length\"]),this[\"bind\"](\"length\")[\"to\"](this[\"commentsListView\"],\"length\"),this[\"commentThreadInputView\"]=this[\"lt\"](),this[\"on\"](\"removeComment\",()=>this[\"focus\"]()),this[\"bind\"](\"isDirty\")[\"to\"](this[\"commentsListView\"],\"hasDirtyComment\",this[\"commentThreadInputView\"][\"commentInputView\"],\"value\",(e,t)=>e||!!t)}[\"focus\"](){this[\"element\"][\"focus\"]()}[\"destroy\"](){this[\"isDirty\"]=!1,this[\"commentsListView\"][\"destroy\"](),this[\"commentThreadInputView\"][\"destroy\"](),super[\"destroy\"]()}[\"lt\"](){const{t:e}=this[\"locale\"],t=new r[\"a\"](this[\"locale\"],this[\"_localUser\"],this[\"_config\"][\"editorConfig\"]),n=t[\"commentInputView\"];return t[\"bind\"](\"showInput\")[\"to\"](this,\"isActive\",this[\"_model\"],\"isReadOnly\",n,\"value\",(e,t,n)=>!!n||e&&!t),n[\"bind\"](\"placeholder\")[\"to\"](this,\"length\",t=>e(t?\"Reply...\":\"Write a comment...\")),n[\"on\"](\"submit\",(e,t)=>{this[\"fire\"](\"addComment\",t)}),n[\"on\"](\"cancel\",()=>{this[\"focus\"]()}),n[\"bind\"](\"disabledSubmit\")[\"to\"](this[\"_model\"],\"isReadOnly\"),n[\"on\"](\"cancel\",e=>{0==this[\"length\"]&&(this[\"fire\"](\"removeCommentThread\"),e[\"stop\"]())}),this[\"on\"](\"change:isActive\",(e,t,i)=>{i||this[\"length\"]||n[\"value\"]||this[\"fire\"](\"removeCommentThread\")}),t}}var a=n(4);var c=n(208);class l extends s{constructor(e,t,n,i){super(e,t,n,i),this[\"set\"](\"actionIndicator\",null),this[\"containerElement\"]=null,this[\"locale\"]=e,this[\"setTemplate\"](this[\"_getTemplate\"]()),this[\"on\"](\"change:isActive\",(e,t,n)=>{n||this[\"xt\"]()}),this[\"listenTo\"](this[\"_model\"],\"change:isReadOnly\",(e,t,n)=>{n&&this[\"xt\"]()}),this[\"length\"]>0?this[\"It\"]():this[\"listenTo\"](this[\"commentsListView\"][\"commentViews\"],\"add\",e=>{this[\"It\"](),e[\"off\"]()})}[\"_getTemplate\"](){const e=this[\"bindTemplate\"];return{tag:\"div\",attributes:{class:[\"ck-thread\",e[\"if\"](\"isActive\",\"ck-thread--active\"),e[\"if\"](\"isConfirm\",\"ck-thread--remove-confirmation\"),e[\"to\"](\"actionIndicator\",e=>e?\"ck-thread--\"+e:\"\")],\"data-thread-id\":this[\"_model\"][\"id\"],tabindex:-1},children:[{tag:\"div\",attributes:{class:\"ck-thread__container\"},children:[this[\"commentsListView\"],this[\"commentThreadInputView\"]]}]}}[\"render\"](){super[\"render\"](),this[\"containerElement\"]=this[\"element\"][\"querySelector\"](\".ck-thread__container\")}[\"xt\"](){this[\"cancelConfirm\"]();for(const e of this[\"commentsListView\"][\"commentViews\"])e[\"cancelConfirm\"]()}[\"It\"](){const{t:e}=this[\"locale\"],t=this[\"commentsListView\"][\"commentViews\"][\"get\"](0);this[\"bind\"](\"actionIndicator\")[\"to\"](t,\"actionIndicator\",e=>\"remove\"===e?\"remove\":null),t[\"placeholder\"]=e(\"Write a comment...\"),t[\"removeButton\"][\"on\"](\"execute\",t=>{t[\"stop\"](),this[\"showConfirm\"](e(\"Delete comment thread?\"),this[\"containerElement\"])[\"then\"](()=>{this[\"fire\"](\"removeCommentThread\")})},{priority:\"high\"})}}Object(a[\"a\"])(l,c[\"a\"])},function(e,t,n){\"use strict\";var i=n(131);var r=1,o=4;function s(e,t){t=typeof t==\"function\"?t:undefined;return Object(i[\"a\"])(e,r|o,t)}t[\"a\"]=s},function(e,t,n){\"use strict\";var i=n(192);function r(e,t){return Object(i[\"a\"])(e,t)}t[\"a\"]=r},function(e,t,n){var i=n(9);var r=n(276);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}\"},function(e,t,n){var i=n(9);var r=n(278);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}\"},function(e,t,n){var i=n(9);var r=n(280);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}\"},function(e,t,n){var i=n(9);var r=n(282);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}\"},function(e,t,n){var i=n(9);var r=n(284);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}\"},function(e,t,n){var i=n(9);var r=n(286);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:\"\";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var i=n(9);var r=n(288);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}\"},function(e,t,n){var i=n(9);var r=n(290);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}\"},function(e,t,n){var i=n(9);var r=n(292);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}\"},function(e,t,n){var i=n(9);var r=n(294);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}\"},function(e,t,n){var i=n(9);var r=n(296);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}\"},function(e,t,n){var i=n(9);var r=n(298);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}\"},function(e,t,n){var i=n(9);var r=n(300);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}\"},function(e,t,n){var i=n(9);var r=n(302);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:\"\";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(e,t,n){var i=n(9);var r=n(304);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}\"},function(e,t){e.exports=\".ck-content code{background-color:hsla(0,0%,78%,.3);padding:.15em;border-radius:2px}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}\"},function(e,t,n){var i=n(9);var r=n(307);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}\"},function(e,t,n){var i=n(9);var r=n(309);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content pre{padding:1em;color:#353535;background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;text-align:left;direction:ltr;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}.ck-content pre code{background:unset;padding:0;border-radius:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{top:-1px;right:10px;background:var(--ck-color-code-block-label-background);font-size:10px;font-family:var(--ck-font-face);line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);color:#fff;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}\"},function(e,t,n){var i=n(9);var r=n(311);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}\"},function(e,t,n){var i=n(9);var r=n(313);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}\"},function(e,t,n){var i=n(9);var r=n(315);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}\"},function(e,t,n){var i=n(9);var r=n(317);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}\"},function(e,t){e.exports=\".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}\"},function(e,t,n){var i=n(9);var r=n(320);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}\"},function(e,t,n){var i=n(9);var r=n(322);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{margin:15px 0;height:4px;background:#dedede;border:0}\"},function(e,t,n){var i=n(9);var r=n(324);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:\"\";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(-1*var(--ck-widget-outline-thickness));right:calc(-1*var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(e,t,n){var i=n(9);var r=n(326);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}\"},function(e,t,n){var i=n(9);var r=n(328);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}\"},function(e,t,n){var i=n(9);var r=n(330);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}\"},function(e,t,n){var i=n(9);var r=n(332);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}\"},function(e,t,n){var i=n(9);var r=n(334);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}\"},function(e,t,n){var i=n(9);var r=n(336);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}\"},function(e,t,n){var i=n(9);var r=n(338);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:50px}\"},function(e,t,n){var i=n(9);var r=n(340);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}\"},function(e,t,n){var i=n(9);var r=n(342);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}\"},function(e,t,n){var i=n(9);var r=n(344);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\"},function(e,t,n){var i=n(9);var r=n(346);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:\"\";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var i=n(9);var r=n(348);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:\"\";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t,n){var i=n(9);var r=n(350);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}\"},function(e,t,n){var i=n(9);var r=n(352);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}\"},function(module,__webpack_exports__,__webpack_require__){\"use strict\";var md5;var _unused_webpack_default_export=md5;(function(){var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.dateStr=function(e){var t=e.getMonth()+1;var n=e.getDate();var i=e.getHours();var r=e.getMinutes();var o=e.getSeconds();return e.getFullYear()+\"-\"+(t<10?\"0\"+t:\"\"+t)+\"-\"+(n<10?\"0\"+n:\"\"+n)+\" \"+(i<10?\"0\"+i:\"\"+i)+\":\"+(r<10?\"0\"+r:\"\"+r)+\":\"+(o<10?\"0\"+o:\"\"+o)};HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(\":\");var n=new Date;n.setTime(0);n.setUTCHours(t[0]);n.setUTCMinutes(t[1]);n.setUTCSeconds(t[2]);return n;case 10:var t=e.split(\"-\");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=e.split(\" \");var i=t[0].split(\"-\");var r=t[1].split(\":\");return new Date(i[0],i[1]-1,i[2],r[0],r[1],r[2]);default:throw\"Invalid date format : \"+e}};HxOverrides.cca=function(e,t){var n=e.charCodeAt(t);if(n!=n)return undefined;return n};HxOverrides.substr=function(e,t,n){if(t!=null&&t!=0&&n!=null&&n<0)return\"\";if(n==null)n=e.length;if(t<0){t=e.length+t;if(t<0)t=0}else if(n<0)n=e.length+n-t;return e.substr(t,n)};HxOverrides.remove=function(e,t){var n=0;var i=e.length;while(n<i){if(e[n]==t){e.splice(n,1);return true}n++}return false};HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(e,t){this.min=e;this.max=t};IntIter.__name__=true;IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=true;Std[\"is\"]=function(e,t){return js.Boot.__instanceof(e,t)};Std.string=function(e){return js.Boot.__string_rec(e,\"\")};Std[\"int\"]=function(e){return e|0};Std.parseInt=function(e){var t=parseInt(e,10);if(t==0&&(HxOverrides.cca(e,1)==120||HxOverrides.cca(e,1)==88))t=parseInt(e);if(isNaN(t))return null;return t};Std.parseFloat=function(e){return parseFloat(e)};Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};if(!com.wiris)com.wiris={};if(!com.wiris.js)com.wiris.js={};com.wiris.js.JsPluginTools=function(){this.tryReady()};com.wiris.js.JsPluginTools.__name__=true;com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance();haxe.Timer.delay($bind(e,e.tryReady),100)};com.wiris.js.JsPluginTools.getInstance=function(){if(com.wiris.js.JsPluginTools.instance==null)com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools;return com.wiris.js.JsPluginTools.instance};com.wiris.js.JsPluginTools.bypassEncapsulation=function(){if(window.com==null)window.com={};if(window.com.wiris==null)window.com.wiris={};if(window.com.wiris.js==null)window.com.wiris.js={};if(window.com.wiris.js.JsPluginTools==null)window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance()};com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=true;com.wiris.js.JsPluginTools.instance=this;com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=false;if(js.Lib.document.readyState){this.doLoad();this.ready=true}if(!this.ready)haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){};haxe.Log.__name__=true;haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)};haxe.Log.clear=function(){js.Boot.__clear_trace()};haxe.Md5=function(){};haxe.Md5.__name__=true;haxe.Md5.encode=function(e){return(new haxe.Md5).doEncode(e)};haxe.Md5.prototype={doEncode:function(e){var t=this.str2blks(e);var n=1732584193;var i=-271733879;var r=-1732584194;var o=271733878;var s;var a=0;while(a<t.length){var c=n;var l=i;var d=r;var u=o;s=0;n=this.ff(n,i,r,o,t[a],7,-680876936);o=this.ff(o,n,i,r,t[a+1],12,-389564586);r=this.ff(r,o,n,i,t[a+2],17,606105819);i=this.ff(i,r,o,n,t[a+3],22,-1044525330);n=this.ff(n,i,r,o,t[a+4],7,-176418897);o=this.ff(o,n,i,r,t[a+5],12,1200080426);r=this.ff(r,o,n,i,t[a+6],17,-1473231341);i=this.ff(i,r,o,n,t[a+7],22,-45705983);n=this.ff(n,i,r,o,t[a+8],7,1770035416);o=this.ff(o,n,i,r,t[a+9],12,-1958414417);r=this.ff(r,o,n,i,t[a+10],17,-42063);i=this.ff(i,r,o,n,t[a+11],22,-1990404162);n=this.ff(n,i,r,o,t[a+12],7,1804603682);o=this.ff(o,n,i,r,t[a+13],12,-40341101);r=this.ff(r,o,n,i,t[a+14],17,-1502002290);i=this.ff(i,r,o,n,t[a+15],22,1236535329);n=this.gg(n,i,r,o,t[a+1],5,-165796510);o=this.gg(o,n,i,r,t[a+6],9,-1069501632);r=this.gg(r,o,n,i,t[a+11],14,643717713);i=this.gg(i,r,o,n,t[a],20,-373897302);n=this.gg(n,i,r,o,t[a+5],5,-701558691);o=this.gg(o,n,i,r,t[a+10],9,38016083);r=this.gg(r,o,n,i,t[a+15],14,-660478335);i=this.gg(i,r,o,n,t[a+4],20,-405537848);n=this.gg(n,i,r,o,t[a+9],5,568446438);o=this.gg(o,n,i,r,t[a+14],9,-1019803690);r=this.gg(r,o,n,i,t[a+3],14,-187363961);i=this.gg(i,r,o,n,t[a+8],20,1163531501);n=this.gg(n,i,r,o,t[a+13],5,-1444681467);o=this.gg(o,n,i,r,t[a+2],9,-51403784);r=this.gg(r,o,n,i,t[a+7],14,1735328473);i=this.gg(i,r,o,n,t[a+12],20,-1926607734);n=this.hh(n,i,r,o,t[a+5],4,-378558);o=this.hh(o,n,i,r,t[a+8],11,-2022574463);r=this.hh(r,o,n,i,t[a+11],16,1839030562);i=this.hh(i,r,o,n,t[a+14],23,-35309556);n=this.hh(n,i,r,o,t[a+1],4,-1530992060);o=this.hh(o,n,i,r,t[a+4],11,1272893353);r=this.hh(r,o,n,i,t[a+7],16,-155497632);i=this.hh(i,r,o,n,t[a+10],23,-1094730640);n=this.hh(n,i,r,o,t[a+13],4,681279174);o=this.hh(o,n,i,r,t[a],11,-358537222);r=this.hh(r,o,n,i,t[a+3],16,-722521979);i=this.hh(i,r,o,n,t[a+6],23,76029189);n=this.hh(n,i,r,o,t[a+9],4,-640364487);o=this.hh(o,n,i,r,t[a+12],11,-421815835);r=this.hh(r,o,n,i,t[a+15],16,530742520);i=this.hh(i,r,o,n,t[a+2],23,-995338651);n=this.ii(n,i,r,o,t[a],6,-198630844);o=this.ii(o,n,i,r,t[a+7],10,1126891415);r=this.ii(r,o,n,i,t[a+14],15,-1416354905);i=this.ii(i,r,o,n,t[a+5],21,-57434055);n=this.ii(n,i,r,o,t[a+12],6,1700485571);o=this.ii(o,n,i,r,t[a+3],10,-1894986606);r=this.ii(r,o,n,i,t[a+10],15,-1051523);i=this.ii(i,r,o,n,t[a+1],21,-2054922799);n=this.ii(n,i,r,o,t[a+8],6,1873313359);o=this.ii(o,n,i,r,t[a+15],10,-30611744);r=this.ii(r,o,n,i,t[a+6],15,-1560198380);i=this.ii(i,r,o,n,t[a+13],21,1309151649);n=this.ii(n,i,r,o,t[a+4],6,-145523070);o=this.ii(o,n,i,r,t[a+11],10,-1120210379);r=this.ii(r,o,n,i,t[a+2],15,718787259);i=this.ii(i,r,o,n,t[a+9],21,-343485551);n=this.addme(n,c);i=this.addme(i,l);r=this.addme(r,d);o=this.addme(o,u);a+=16}return this.rhex(n)+this.rhex(i)+this.rhex(r)+this.rhex(o)},ii:function(e,t,n,i,r,o,s){return this.cmn(this.bitXOR(n,this.bitOR(t,~i)),e,t,r,o,s)},hh:function(e,t,n,i,r,o,s){return this.cmn(this.bitXOR(this.bitXOR(t,n),i),e,t,r,o,s)},gg:function(e,t,n,i,r,o,s){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(n,~i)),e,t,r,o,s)},ff:function(e,t,n,i,r,o,s){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(~t,i)),e,t,r,o,s)},cmn:function(e,t,n,i,r,o){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(i,o)),r),n)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){var t=(e.length+8>>6)+1;var n=new Array;var i=0,r=t*16;while(i<r){var o=i++;n[o]=0}var o=0;while(o<e.length){n[o>>2]|=HxOverrides.cca(e,o)<<(e.length*8+o)%4*8;o++}n[o>>2]|=128<<(e.length*8+o)%4*8;var s=e.length*8;var a=t*16-2;n[a]=s&255;n[a]|=(s>>>8&255)<<8;n[a]|=(s>>>16&255)<<16;n[a]|=(s>>>24&255)<<24;return n},rhex:function(e){var t=\"\";var n=\"0123456789abcdef\";var i=0;while(i<4){var r=i++;t+=n.charAt(e>>r*8+4&15)+n.charAt(e>>r*8&15)}return t},addme:function(e,t){var n=(e&65535)+(t&65535);var i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535},bitAND:function(e,t){var n=e&1&(t&1);var i=e>>>1&t>>>1;return i<<1|n},bitXOR:function(e,t){var n=e&1^t&1;var i=e>>>1^t>>>1;return i<<1|n},bitOR:function(e,t){var n=e&1|t&1;var i=e>>>1|t>>>1;return i<<1|n},__class__:haxe.Md5};haxe.Timer=function(e){var t=this;this.id=window.setInterval((function(){t.run()}),e)};haxe.Timer.__name__=true;haxe.Timer.delay=function(e,t){var n=new haxe.Timer(t);n.run=function(){n.stop();e()};return n};haxe.Timer.measure=function(e,t){var n=haxe.Timer.stamp();var i=e();haxe.Log.trace(haxe.Timer.stamp()-n+\"s\",t);return i};haxe.Timer.stamp=function(){return(new Date).getTime()/1e3};haxe.Timer.prototype={run:function(){},stop:function(){if(this.id==null)return;window.clearInterval(this.id);this.id=null},__class__:haxe.Timer};var js=js||{};js.Boot=function(){};js.Boot.__name__=true;js.Boot.__unhtml=function(e){return e.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\")};js.Boot.__trace=function(e,t){var n=t!=null?t.fileName+\":\"+t.lineNumber+\": \":\"\";n+=js.Boot.__string_rec(e,\"\");var i;if(typeof document!=\"undefined\"&&(i=document.getElementById(\"haxe:trace\"))!=null)i.innerHTML+=js.Boot.__unhtml(n)+\"<br/>\";else if(typeof console!=\"undefined\"&&console.log!=null)console.log(n)};js.Boot.__clear_trace=function(){var e=document.getElementById(\"haxe:trace\");if(e!=null)e.innerHTML=\"\"};js.Boot.isClass=function(e){return e.__name__};js.Boot.isEnum=function(e){return e.__ename__};js.Boot.getClass=function(e){return e.__class__};js.Boot.__string_rec=function(e,t){if(e==null)return\"null\";if(t.length>=5)return\"<...>\";var n=typeof e;if(n==\"function\"&&(e.__name__||e.__ename__))n=\"object\";switch(n){case\"object\":if(e instanceof Array){if(e.__enum__){if(e.length==2)return e[0];var i=e[0]+\"(\";t+=\"\\t\";var r=2,o=e.length;while(r<o){var s=r++;if(s!=2)i+=\",\"+js.Boot.__string_rec(e[s],t);else i+=js.Boot.__string_rec(e[s],t)}return i+\")\"}var a=e.length;var s;var i=\"[\";t+=\"\\t\";var o=0;while(o<a){var c=o++;i+=(c>0?\",\":\"\")+js.Boot.__string_rec(e[c],t)}i+=\"]\";return i}var l;try{l=e.toString}catch(e){return\"???\"}if(l!=null&&l!=Object.toString){var d=e.toString();if(d!=\"[object Object]\")return d}var u=null;var i=\"{\\n\";t+=\"\\t\";var h=e.hasOwnProperty!=null;for(var u in e){if(h&&!e.hasOwnProperty(u)){continue}if(u==\"prototype\"||u==\"__class__\"||u==\"__super__\"||u==\"__interfaces__\"||u==\"__properties__\"){continue}if(i.length!=2)i+=\", \\n\";i+=t+u+\" : \"+js.Boot.__string_rec(e[u],t)}t=t.substring(1);i+=\"\\n\"+t+\"}\";return i;case\"function\":return\"<function>\";case\"string\":return e;default:return String(e)}};js.Boot.__interfLoop=function(e,t){if(e==null)return false;if(e==t)return true;var n=e.__interfaces__;if(n!=null){var i=0,r=n.length;while(i<r){var o=i++;var s=n[o];if(s==t||js.Boot.__interfLoop(s,t))return true}}return js.Boot.__interfLoop(e.__super__,t)};js.Boot.__instanceof=function(e,t){try{if(e instanceof t){if(t==Array)return e.__enum__==null;return true}if(js.Boot.__interfLoop(e.__class__,t))return true}catch(e){if(t==null)return false}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return typeof e==\"number\";case Bool:return e===true||e===false;case String:return typeof e==\"string\";case Dynamic:return true;default:if(e==null)return false;if(t==Class&&e.__name__!=null)return true;else null;if(t==Enum&&e.__ename__!=null)return true;else null;return e.__enum__==t}};js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;else throw\"Cannot cast \"+Std.string(e)+\" to \"+Std.string(t)};js.Lib=function(){};js.Lib.__name__=true;js.Lib.debug=function(){debugger};js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,\"\"))};js.Lib.eval=function(code){return eval(code)};js.Lib.setErrorHandler=function(e){js.Lib.onerror=e};var $_;function $bind(e,t){var n=function(){return n.method.apply(n.scope,arguments)};n.scope=e;n.method=t;return n}if(Array.prototype.indexOf)HxOverrides.remove=function(e,t){var n=e.indexOf(t);if(n==-1)return false;e.splice(n,1);return true};else null;Math.__name__=[\"Math\"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(e){return isFinite(e)};Math.isNaN=function(e){return isNaN(e)};String.prototype.__class__=String;String.__name__=true;Array.prototype.__class__=Array;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__=[\"Date\"];var Int={__name__:[\"Int\"]};var Dynamic={__name__:[\"Dynamic\"]};var Float=Number;Float.__name__=[\"Float\"];var Bool=Boolean;Bool.__ename__=[\"Bool\"];var Class={__name__:[\"Class\"]};var Enum={};var Void={__ename__:[\"Void\"]};if(typeof document!=\"undefined\")js.Lib.document=document;if(typeof window!=\"undefined\"){js.Lib.window=window;js.Lib.window.onerror=function(e,t,n){var i=js.Lib.onerror;if(i==null)return false;return i(e,[t+\":\"+n])}}com.wiris.js.JsPluginTools.main();delete Array.prototype.__class__})();(function(){var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.dateStr=function(e){var t=e.getMonth()+1;var n=e.getDate();var i=e.getHours();var r=e.getMinutes();var o=e.getSeconds();return e.getFullYear()+\"-\"+(t<10?\"0\"+t:\"\"+t)+\"-\"+(n<10?\"0\"+n:\"\"+n)+\" \"+(i<10?\"0\"+i:\"\"+i)+\":\"+(r<10?\"0\"+r:\"\"+r)+\":\"+(o<10?\"0\"+o:\"\"+o)};HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(\":\");var n=new Date;n.setTime(0);n.setUTCHours(t[0]);n.setUTCMinutes(t[1]);n.setUTCSeconds(t[2]);return n;case 10:var t=e.split(\"-\");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=e.split(\" \");var i=t[0].split(\"-\");var r=t[1].split(\":\");return new Date(i[0],i[1]-1,i[2],r[0],r[1],r[2]);default:throw\"Invalid date format : \"+e}};HxOverrides.cca=function(e,t){var n=e.charCodeAt(t);if(n!=n)return undefined;return n};HxOverrides.substr=function(e,t,n){if(t!=null&&t!=0&&n!=null&&n<0)return\"\";if(n==null)n=e.length;if(t<0){t=e.length+t;if(t<0)t=0}else if(n<0)n=e.length+n-t;return e.substr(t,n)};HxOverrides.remove=function(e,t){var n=0;var i=e.length;while(n<i){if(e[n]==t){e.splice(n,1);return true}n++}return false};HxOverrides.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntIter=function(e,t){this.min=e;this.max=t};IntIter.__name__=true;IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},__class__:IntIter};var Std=function(){};Std.__name__=true;Std[\"is\"]=function(e,t){return js.Boot.__instanceof(e,t)};Std.string=function(e){return js.Boot.__string_rec(e,\"\")};Std[\"int\"]=function(e){return e|0};Std.parseInt=function(e){var t=parseInt(e,10);if(t==0&&(HxOverrides.cca(e,1)==120||HxOverrides.cca(e,1)==88))t=parseInt(e);if(isNaN(t))return null;return t};Std.parseFloat=function(e){return parseFloat(e)};Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};if(!com.wiris)com.wiris={};if(!com.wiris.js)com.wiris.js={};com.wiris.js.JsPluginTools=function(){this.tryReady()};com.wiris.js.JsPluginTools.__name__=true;com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance();haxe.Timer.delay($bind(e,e.tryReady),100)};com.wiris.js.JsPluginTools.getInstance=function(){if(com.wiris.js.JsPluginTools.instance==null)com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools;return com.wiris.js.JsPluginTools.instance};com.wiris.js.JsPluginTools.bypassEncapsulation=function(){if(window.com==null)window.com={};if(window.com.wiris==null)window.com.wiris={};if(window.com.wiris.js==null)window.com.wiris.js={};if(window.com.wiris.js.JsPluginTools==null)window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance()};com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=true;com.wiris.js.JsPluginTools.instance=this;com.wiris.js.JsPluginTools.bypassEncapsulation()},tryReady:function(){this.ready=false;if(js.Lib.document.readyState){this.doLoad();this.ready=true}if(!this.ready)haxe.Timer.delay($bind(this,this.tryReady),100)},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){};haxe.Log.__name__=true;haxe.Log.trace=function(e,t){js.Boot.__trace(e,t)};haxe.Log.clear=function(){js.Boot.__clear_trace()};haxe.Md5=function(){};haxe.Md5.__name__=true;haxe.Md5.encode=function(e){return(new haxe.Md5).doEncode(e)};haxe.Md5.prototype={doEncode:function(e){var t=this.str2blks(e);var n=1732584193;var i=-271733879;var r=-1732584194;var o=271733878;var s;var a=0;while(a<t.length){var c=n;var l=i;var d=r;var u=o;s=0;n=this.ff(n,i,r,o,t[a],7,-680876936);o=this.ff(o,n,i,r,t[a+1],12,-389564586);r=this.ff(r,o,n,i,t[a+2],17,606105819);i=this.ff(i,r,o,n,t[a+3],22,-1044525330);n=this.ff(n,i,r,o,t[a+4],7,-176418897);o=this.ff(o,n,i,r,t[a+5],12,1200080426);r=this.ff(r,o,n,i,t[a+6],17,-1473231341);i=this.ff(i,r,o,n,t[a+7],22,-45705983);n=this.ff(n,i,r,o,t[a+8],7,1770035416);o=this.ff(o,n,i,r,t[a+9],12,-1958414417);r=this.ff(r,o,n,i,t[a+10],17,-42063);i=this.ff(i,r,o,n,t[a+11],22,-1990404162);n=this.ff(n,i,r,o,t[a+12],7,1804603682);o=this.ff(o,n,i,r,t[a+13],12,-40341101);r=this.ff(r,o,n,i,t[a+14],17,-1502002290);i=this.ff(i,r,o,n,t[a+15],22,1236535329);n=this.gg(n,i,r,o,t[a+1],5,-165796510);o=this.gg(o,n,i,r,t[a+6],9,-1069501632);r=this.gg(r,o,n,i,t[a+11],14,643717713);i=this.gg(i,r,o,n,t[a],20,-373897302);n=this.gg(n,i,r,o,t[a+5],5,-701558691);o=this.gg(o,n,i,r,t[a+10],9,38016083);r=this.gg(r,o,n,i,t[a+15],14,-660478335);i=this.gg(i,r,o,n,t[a+4],20,-405537848);n=this.gg(n,i,r,o,t[a+9],5,568446438);o=this.gg(o,n,i,r,t[a+14],9,-1019803690);r=this.gg(r,o,n,i,t[a+3],14,-187363961);i=this.gg(i,r,o,n,t[a+8],20,1163531501);n=this.gg(n,i,r,o,t[a+13],5,-1444681467);o=this.gg(o,n,i,r,t[a+2],9,-51403784);r=this.gg(r,o,n,i,t[a+7],14,1735328473);i=this.gg(i,r,o,n,t[a+12],20,-1926607734);n=this.hh(n,i,r,o,t[a+5],4,-378558);o=this.hh(o,n,i,r,t[a+8],11,-2022574463);r=this.hh(r,o,n,i,t[a+11],16,1839030562);i=this.hh(i,r,o,n,t[a+14],23,-35309556);n=this.hh(n,i,r,o,t[a+1],4,-1530992060);o=this.hh(o,n,i,r,t[a+4],11,1272893353);r=this.hh(r,o,n,i,t[a+7],16,-155497632);i=this.hh(i,r,o,n,t[a+10],23,-1094730640);n=this.hh(n,i,r,o,t[a+13],4,681279174);o=this.hh(o,n,i,r,t[a],11,-358537222);r=this.hh(r,o,n,i,t[a+3],16,-722521979);i=this.hh(i,r,o,n,t[a+6],23,76029189);n=this.hh(n,i,r,o,t[a+9],4,-640364487);o=this.hh(o,n,i,r,t[a+12],11,-421815835);r=this.hh(r,o,n,i,t[a+15],16,530742520);i=this.hh(i,r,o,n,t[a+2],23,-995338651);n=this.ii(n,i,r,o,t[a],6,-198630844);o=this.ii(o,n,i,r,t[a+7],10,1126891415);r=this.ii(r,o,n,i,t[a+14],15,-1416354905);i=this.ii(i,r,o,n,t[a+5],21,-57434055);n=this.ii(n,i,r,o,t[a+12],6,1700485571);o=this.ii(o,n,i,r,t[a+3],10,-1894986606);r=this.ii(r,o,n,i,t[a+10],15,-1051523);i=this.ii(i,r,o,n,t[a+1],21,-2054922799);n=this.ii(n,i,r,o,t[a+8],6,1873313359);o=this.ii(o,n,i,r,t[a+15],10,-30611744);r=this.ii(r,o,n,i,t[a+6],15,-1560198380);i=this.ii(i,r,o,n,t[a+13],21,1309151649);n=this.ii(n,i,r,o,t[a+4],6,-145523070);o=this.ii(o,n,i,r,t[a+11],10,-1120210379);r=this.ii(r,o,n,i,t[a+2],15,718787259);i=this.ii(i,r,o,n,t[a+9],21,-343485551);n=this.addme(n,c);i=this.addme(i,l);r=this.addme(r,d);o=this.addme(o,u);a+=16}return this.rhex(n)+this.rhex(i)+this.rhex(r)+this.rhex(o)},ii:function(e,t,n,i,r,o,s){return this.cmn(this.bitXOR(n,this.bitOR(t,~i)),e,t,r,o,s)},hh:function(e,t,n,i,r,o,s){return this.cmn(this.bitXOR(this.bitXOR(t,n),i),e,t,r,o,s)},gg:function(e,t,n,i,r,o,s){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(n,~i)),e,t,r,o,s)},ff:function(e,t,n,i,r,o,s){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(~t,i)),e,t,r,o,s)},cmn:function(e,t,n,i,r,o){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(i,o)),r),n)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){var t=(e.length+8>>6)+1;var n=new Array;var i=0,r=t*16;while(i<r){var o=i++;n[o]=0}var o=0;while(o<e.length){n[o>>2]|=HxOverrides.cca(e,o)<<(e.length*8+o)%4*8;o++}n[o>>2]|=128<<(e.length*8+o)%4*8;var s=e.length*8;var a=t*16-2;n[a]=s&255;n[a]|=(s>>>8&255)<<8;n[a]|=(s>>>16&255)<<16;n[a]|=(s>>>24&255)<<24;return n},rhex:function(e){var t=\"\";var n=\"0123456789abcdef\";var i=0;while(i<4){var r=i++;t+=n.charAt(e>>r*8+4&15)+n.charAt(e>>r*8&15)}return t},addme:function(e,t){var n=(e&65535)+(t&65535);var i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535},bitAND:function(e,t){var n=e&1&(t&1);var i=e>>>1&t>>>1;return i<<1|n},bitXOR:function(e,t){var n=e&1^t&1;var i=e>>>1^t>>>1;return i<<1|n},bitOR:function(e,t){var n=e&1|t&1;var i=e>>>1|t>>>1;return i<<1|n},__class__:haxe.Md5};haxe.Timer=function(e){var t=this;this.id=window.setInterval((function(){t.run()}),e)};haxe.Timer.__name__=true;haxe.Timer.delay=function(e,t){var n=new haxe.Timer(t);n.run=function(){n.stop();e()};return n};haxe.Timer.measure=function(e,t){var n=haxe.Timer.stamp();var i=e();haxe.Log.trace(haxe.Timer.stamp()-n+\"s\",t);return i};haxe.Timer.stamp=function(){return(new Date).getTime()/1e3};haxe.Timer.prototype={run:function(){},stop:function(){if(this.id==null)return;window.clearInterval(this.id);this.id=null},__class__:haxe.Timer};var js=js||{};js.Boot=function(){};js.Boot.__name__=true;js.Boot.__unhtml=function(e){return e.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\")};js.Boot.__trace=function(e,t){var n=t!=null?t.fileName+\":\"+t.lineNumber+\": \":\"\";n+=js.Boot.__string_rec(e,\"\");var i;if(typeof document!=\"undefined\"&&(i=document.getElementById(\"haxe:trace\"))!=null)i.innerHTML+=js.Boot.__unhtml(n)+\"<br/>\";else if(typeof console!=\"undefined\"&&console.log!=null)console.log(n)};js.Boot.__clear_trace=function(){var e=document.getElementById(\"haxe:trace\");if(e!=null)e.innerHTML=\"\"};js.Boot.isClass=function(e){return e.__name__};js.Boot.isEnum=function(e){return e.__ename__};js.Boot.getClass=function(e){return e.__class__};js.Boot.__string_rec=function(e,t){if(e==null)return\"null\";if(t.length>=5)return\"<...>\";var n=typeof e;if(n==\"function\"&&(e.__name__||e.__ename__))n=\"object\";switch(n){case\"object\":if(e instanceof Array){if(e.__enum__){if(e.length==2)return e[0];var i=e[0]+\"(\";t+=\"\\t\";var r=2,o=e.length;while(r<o){var s=r++;if(s!=2)i+=\",\"+js.Boot.__string_rec(e[s],t);else i+=js.Boot.__string_rec(e[s],t)}return i+\")\"}var a=e.length;var s;var i=\"[\";t+=\"\\t\";var o=0;while(o<a){var c=o++;i+=(c>0?\",\":\"\")+js.Boot.__string_rec(e[c],t)}i+=\"]\";return i}var l;try{l=e.toString}catch(e){return\"???\"}if(l!=null&&l!=Object.toString){var d=e.toString();if(d!=\"[object Object]\")return d}var u=null;var i=\"{\\n\";t+=\"\\t\";var h=e.hasOwnProperty!=null;for(var u in e){if(h&&!e.hasOwnProperty(u)){continue}if(u==\"prototype\"||u==\"__class__\"||u==\"__super__\"||u==\"__interfaces__\"||u==\"__properties__\"){continue}if(i.length!=2)i+=\", \\n\";i+=t+u+\" : \"+js.Boot.__string_rec(e[u],t)}t=t.substring(1);i+=\"\\n\"+t+\"}\";return i;case\"function\":return\"<function>\";case\"string\":return e;default:return String(e)}};js.Boot.__interfLoop=function(e,t){if(e==null)return false;if(e==t)return true;var n=e.__interfaces__;if(n!=null){var i=0,r=n.length;while(i<r){var o=i++;var s=n[o];if(s==t||js.Boot.__interfLoop(s,t))return true}}return js.Boot.__interfLoop(e.__super__,t)};js.Boot.__instanceof=function(e,t){try{if(e instanceof t){if(t==Array)return e.__enum__==null;return true}if(js.Boot.__interfLoop(e.__class__,t))return true}catch(e){if(t==null)return false}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return typeof e==\"number\";case Bool:return e===true||e===false;case String:return typeof e==\"string\";case Dynamic:return true;default:if(e==null)return false;if(t==Class&&e.__name__!=null)return true;else null;if(t==Enum&&e.__ename__!=null)return true;else null;return e.__enum__==t}};js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;else throw\"Cannot cast \"+Std.string(e)+\" to \"+Std.string(t)};js.Lib=function(){};js.Lib.__name__=true;js.Lib.debug=function(){debugger};js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,\"\"))};js.Lib.eval=function(code){return eval(code)};js.Lib.setErrorHandler=function(e){js.Lib.onerror=e};var $_;function $bind(e,t){var n=function(){return n.method.apply(n.scope,arguments)};n.scope=e;n.method=t;return n}if(Array.prototype.indexOf)HxOverrides.remove=function(e,t){var n=e.indexOf(t);if(n==-1)return false;e.splice(n,1);return true};else null;Math.__name__=[\"Math\"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(e){return isFinite(e)};Math.isNaN=function(e){return isNaN(e)};String.prototype.__class__=String;String.__name__=true;Array.prototype.__class__=Array;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__=[\"Date\"];var Int={__name__:[\"Int\"]};var Dynamic={__name__:[\"Dynamic\"]};var Float=Number;Float.__name__=[\"Float\"];var Bool=Boolean;Bool.__ename__=[\"Bool\"];var Class={__name__:[\"Class\"]};var Enum={};var Void={__ename__:[\"Void\"]};if(typeof document!=\"undefined\")js.Lib.document=document;if(typeof window!=\"undefined\"){js.Lib.window=window;js.Lib.window.onerror=function(e,t,n){var i=js.Lib.onerror;if(i==null)return false;return i(e,[t+\":\"+n])}}com.wiris.js.JsPluginTools.main()})();delete Array.prototype.__class__},function(e,t,n){var i=n(9);var r=n(355);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".wrs_modal_overlay{position:fixed;font-family:arial,sans-serif;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.8);z-index:999998;opacity:.65;pointer-events:auto}.wrs_modal_overlay.wrs_modal_android,.wrs_modal_overlay.wrs_modal_ios{visibility:hidden;display:none}.wrs_modal_overlay.wrs_modal_ios.moodle{position:fixed}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack{background:transparent;display:none}.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized{background:rgba(0,0,0,.8)}.wrs_modal_overlay.wrs_modal_desktop.wrs_closed,.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized{background:transparent;display:none}.wrs_modal_title{color:#fff;padding:5px 0 5px 10px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-align:left}.wrs_modal_close_button{background-repeat:no-repeat}.wrs_modal_close_button,.wrs_modal_minimize_button{float:right;cursor:pointer;color:#fff;padding:5px 10px 5px 0;margin:10px 7px 0 0}.wrs_modal_minimize_button{top:inherit}.wrs_modal_stack_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_stack_button.wrs_minimized,.wrs_modal_stack_button.wrs_stack{visibility:hidden;margin:0;padding:0}.wrs_modal_maximize_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_maximize_button.wrs_maximized{visibility:hidden;margin:0;padding:0}.wrs_modal_wrapper{display:block}.wrs_modal_title_bar{display:block;background-color:#778e9a}.wrs_modal_dialogContainer{border:none;background:#fafafa;z-index:999999}.wrs_modal_dialogContainer.wrs_modal_desktop{font-size:14px}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized{position:fixed}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized{position:fixed;top:inherit;margin:0 10px 0 0}.wrs_modal_dialogContainer.wrs_closed{visibility:hidden;display:none;opacity:0}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack{position:fixed;bottom:0;right:0;box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_drag,.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag{box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_modal_android{width:99%;height:99%}.wrs_modal_dialogContainer.wrs_modal_android,.wrs_modal_dialogContainer.wrs_modal_ios{margin:auto;overflow:hidden;transform:translate(50%,-50%);top:50%;right:50%!important;position:fixed}.wrs_modal_dialogContainer.wrs_modal_ios{width:100%;height:100%}.wrs_content_container.wrs_minimized{display:none}.wrs_content_container.wrs_modal_android{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_content_container.wrs_modal_android>div:first-child,.wrs_content_container.wrs_modal_desktop>div:first-child,.wrs_content_container.wrs_modal_ios>div:first-child{flex-grow:1}.wrs_modal_wrapper.wrs_modal_android{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_content_container.wrs_modal_desktop,.wrs_content_container.wrs_modal_ios{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_ios{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_virtual_keyboard{height:100%;width:100%;top:0;left:50%;transform:translate(-50%)}@media (orientation:portrait){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}@media (orientation:landscape){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}.wrs_modal_dialogContainer.wrs_modal_badStock,.wrs_modal_wrapper.wrs_modal_badStock{width:100%;height:280px;margin:0 auto;border-width:0}.wrs_noselect{-khtml-user-select:none}.wrs_bottom_right_resizer,.wrs_noselect{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wrs_bottom_right_resizer{width:10px;height:10px;color:#778e9a;position:absolute;right:4px;bottom:8px;cursor:se-resize}.wrs_bottom_left_resizer{width:15px;height:15px;color:#778e9a;position:absolute;left:0;top:0;cursor:se-resize}.wrs_modal_controls{height:42px;margin:3px 0;overflow:hidden;line-height:normal}.wrs_modal_links{margin:10px auto 0;font-family:arial,sans-serif;padding:6px;display:inline;float:right;text-align:right}.wrs_modal_links>a{text-decoration:none;color:#778e9a;font-size:16px}.wrs_modal_button_cancel,.wrs_modal_button_cancel:active,.wrs_modal_button_cancel:focus,.wrs_modal_button_cancel:hover,.wrs_modal_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;height:32px}.wrs_modal_button_accept,.wrs_modal_button_accept:active,.wrs_modal_button_accept:focus,.wrs_modal_button_accept:hover,.wrs_modal_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor_vertical_bar{height:20px;float:right;background:none;width:20px;cursor:pointer}.wrs_modal_buttons_container{display:inline;float:left}.wrs_modal_buttons_container.wrs_modalAndroid{padding-left:6px}.wrs_modal_buttons_container.wrs_modalDesktop{padding-left:0}.wrs_modal_buttons_container>button{line-height:normal;background-image:none}.wrs_modal_wrapper{margin:6px;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized{display:none}@media only screen and (max-device-width:480px) and (orientation:portrait){#wrs_modal_wrapper{width:140%}}.wrs_popupmessage_overlay_envolture{display:none;width:100%}.wrs_popupmessage_overlay{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:4;cursor:pointer}.wrs_popupmessage_panel{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;background:#fff;max-width:500px;width:75%;border-radius:2px;padding:20px;font-family:sans-serif;font-size:15px;text-align:left;color:#2e2e2e;z-index:5;max-height:75%;overflow:auto}.wrs_popupmessage_button_area{margin:10px 0 0}.wrs_panelContainer *{border:0}.wrs_button_cancel,.wrs_button_cancel:active,.wrs_button_cancel:focus,.wrs_button_cancel:hover,.wrs_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;background-image:none;height:32px}.wrs_button_accept,.wrs_button_accept:active,.wrs_button_accept:focus,.wrs_button_accept:hover,.wrs_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor button{box-shadow:none}.wrs_editor .wrs_header button{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active{display:block}.wrs_toolbar tr:focus,.wrs_toolbar tr:hover{background:none}.wrs_modal_rtl .wrs_modal_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_modal_button_accept{margin-right:0;margin-left:5px}.wrs_modal_rtl .wrs_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_button_accept{margin-right:0;margin-left:5px}\"},function(e,t,n){var i=n(9);var r=n(357);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"google.com/maps\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*=\"open.spotify.com\"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*=\"google.com/maps\"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*=\"facebook.com\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*=\"instagram.com\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*=\"twitter.com\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(e,t,n){var i=n(9);var r=n(359);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}\"},function(e,t,n){var i=n(9);var r=n(361);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}\"},function(e,t,n){var i=n(9);var r=n(363);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}\"},function(e,t,n){var i=n(9);var r=n(365);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}\"},function(e,t,n){var i=n(9);var r=n(367);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck-content .page-break{position:relative;clear:both;padding:5px 0;display:flex;align-items:center;justify-content:center}.ck-content .page-break:after{content:\"\";position:absolute;border-bottom:2px dashed #c4c4c4;width:100%}.ck-content .page-break__label{position:relative;z-index:1;padding:.3em .6em;display:block;text-transform:uppercase;border:1px solid #c4c4c4;border-radius:2px;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;color:#333;background:#fff;box-shadow:2px 2px 1px rgba(0,0,0,.15);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}}'},function(e,t,n){var i=n(229);var r=n(153)(\"socket.io-client:url\");e.exports=o;function o(e,t){var n=e;t=t||typeof location!==\"undefined\"&&location;if(null==e)e=t.protocol+\"//\"+t.host;if(\"string\"===typeof e){if(\"/\"===e.charAt(0)){if(\"/\"===e.charAt(1)){e=t.protocol+e}else{e=t.host+e}}if(!/^(https?|wss?):\\/\\//.test(e)){r(\"protocol-less url %s\",e);if(\"undefined\"!==typeof t){e=t.protocol+\"//\"+e}else{e=\"https://\"+e}}r(\"parse %s\",e);n=i(e)}if(!n.port){if(/^(http|ws)$/.test(n.protocol)){n.port=\"80\"}else if(/^(http|ws)s$/.test(n.protocol)){n.port=\"443\"}}n.path=n.path||\"/\";var o=n.host.indexOf(\":\")!==-1;var s=o?\"[\"+n.host+\"]\":n.host;n.id=n.protocol+\"://\"+s+\":\"+n.port;n.href=n.protocol+\"://\"+s+(t&&t.port===n.port?\"\":\":\"+n.port);return n}},function(e,t,n){function i(e){i.debug=i;i.default=i;i.coerce=d;i.disable=a;i.enable=s;i.enabled=c;i.humanize=n(370);Object.keys(e).forEach(t=>{i[t]=e[t]});i.instances=[];i.names=[];i.skips=[];i.formatters={};function t(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return i.colors[Math.abs(t)%i.colors.length]}i.selectColor=t;function i(e){let n;function s(...e){if(!s.enabled){return}const t=s;const r=Number(new Date);const o=r-(n||r);t.diff=o;t.prev=n;t.curr=r;n=r;e[0]=i.coerce(e[0]);if(typeof e[0]!==\"string\"){e.unshift(\"%O\")}let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if(n===\"%%\"){return n}a++;const o=i.formatters[r];if(typeof o===\"function\"){const i=e[a];n=o.call(t,i);e.splice(a,1);a--}return n});i.formatArgs.call(t,e);const c=t.log||i.log;c.apply(t,e)}s.namespace=e;s.enabled=i.enabled(e);s.useColors=i.useColors();s.color=t(e);s.destroy=r;s.extend=o;if(typeof i.init===\"function\"){i.init(s)}i.instances.push(s);return s}function r(){const e=i.instances.indexOf(this);if(e!==-1){i.instances.splice(e,1);return true}return false}function o(e,t){const n=i(this.namespace+(typeof t===\"undefined\"?\":\":t)+e);n.log=this.log;return n}function s(e){i.save(e);i.names=[];i.skips=[];let t;const n=(typeof e===\"string\"?e:\"\").split(/[\\s,]+/);const r=n.length;for(t=0;t<r;t++){if(!n[t]){continue}e=n[t].replace(/\\*/g,\".*?\");if(e[0]===\"-\"){i.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\"))}else{i.names.push(new RegExp(\"^\"+e+\"$\"))}}for(t=0;t<i.instances.length;t++){const e=i.instances[t];e.enabled=i.enabled(e.namespace)}}function a(){const e=[...i.names.map(l),...i.skips.map(l).map(e=>\"-\"+e)].join(\",\");i.enable(\"\");return e}function c(e){if(e[e.length-1]===\"*\"){return true}let t;let n;for(t=0,n=i.skips.length;t<n;t++){if(i.skips[t].test(e)){return false}}for(t=0,n=i.names.length;t<n;t++){if(i.names[t].test(e)){return true}}return false}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}function d(e){if(e instanceof Error){return e.stack||e.message}return e}i.enable(i.load());return i}e.exports=i},function(e,t){var n=1e3;var i=n*60;var r=i*60;var o=r*24;var s=o*7;var a=o*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n===\"string\"&&e.length>0){return c(e)}else if(n===\"number\"&&isFinite(e)){return t.long?d(e):l(e)}throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))};function c(e){e=String(e);if(e.length>100){return}var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t){return}var c=parseFloat(t[1]);var l=(t[2]||\"ms\").toLowerCase();switch(l){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return c*a;case\"weeks\":case\"week\":case\"w\":return c*s;case\"days\":case\"day\":case\"d\":return c*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return c*r;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return c*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return c*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return c;default:return undefined}}function l(e){var t=Math.abs(e);if(t>=o){return Math.round(e/o)+\"d\"}if(t>=r){return Math.round(e/r)+\"h\"}if(t>=i){return Math.round(e/i)+\"m\"}if(t>=n){return Math.round(e/n)+\"s\"}return e+\"ms\"}function d(e){var t=Math.abs(e);if(t>=o){return u(e,t,o,\"day\")}if(t>=r){return u(e,t,r,\"hour\")}if(t>=i){return u(e,t,i,\"minute\")}if(t>=n){return u(e,t,n,\"second\")}return e+\" ms\"}function u(e,t,n,i){var r=t>=n*1.5;return Math.round(e/n)+\" \"+i+(r?\"s\":\"\")}},function(e,t,n){(function(i){t=e.exports=n(372);t.log=s;t.formatArgs=o;t.save=a;t.load=c;t.useColors=r;t.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:l();t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"];function r(){if(typeof window!==\"undefined\"&&window.process&&window.process.type===\"renderer\"){return true}if(typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)){return false}return typeof document!==\"undefined\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!==\"undefined\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}};function o(e){var n=this.useColors;e[0]=(n?\"%c\":\"\")+this.namespace+(n?\" %c\":\" \")+e[0]+(n?\"%c \":\" \")+\"+\"+t.humanize(this.diff);if(!n)return;var i=\"color: \"+this.color;e.splice(1,0,i,\"color: inherit\");var r=0;var o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){if(\"%%\"===e)return;r++;if(\"%c\"===e){o=r}}));e.splice(o,0,i)}function s(){return\"object\"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{if(null==e){t.storage.removeItem(\"debug\")}else{t.storage.debug=e}}catch(e){}}function c(){var e;try{e=t.storage.debug}catch(e){}if(!e&&typeof i!==\"undefined\"&&\"env\"in i){e=i.env.DEBUG}return e}t.enable(c());function l(){try{return window.localStorage}catch(e){}}}).call(this,n(145))},function(e,t,n){t=e.exports=r.debug=r[\"default\"]=r;t.coerce=l;t.disable=a;t.enable=s;t.enabled=c;t.humanize=n(373);t.instances=[];t.names=[];t.skips=[];t.formatters={};function i(e){var n=0,i;for(i in e){n=(n<<5)-n+e.charCodeAt(i);n|=0}return t.colors[Math.abs(n)%t.colors.length]}function r(e){var n;function r(){if(!r.enabled)return;var e=r;var i=+new Date;var o=i-(n||i);e.diff=o;e.prev=n;e.curr=i;n=i;var s=new Array(arguments.length);for(var a=0;a<s.length;a++){s[a]=arguments[a]}s[0]=t.coerce(s[0]);if(\"string\"!==typeof s[0]){s.unshift(\"%O\")}var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,i){if(n===\"%%\")return n;c++;var r=t.formatters[i];if(\"function\"===typeof r){var o=s[c];n=r.call(e,o);s.splice(c,1);c--}return n}));t.formatArgs.call(e,s);var l=r.log||t.log||console.log.bind(console);l.apply(e,s)}r.namespace=e;r.enabled=t.enabled(e);r.useColors=t.useColors();r.color=i(e);r.destroy=o;if(\"function\"===typeof t.init){t.init(r)}t.instances.push(r);return r}function o(){var e=t.instances.indexOf(this);if(e!==-1){t.instances.splice(e,1);return true}else{return false}}function s(e){t.save(e);t.names=[];t.skips=[];var n;var i=(typeof e===\"string\"?e:\"\").split(/[\\s,]+/);var r=i.length;for(n=0;n<r;n++){if(!i[n])continue;e=i[n].replace(/\\*/g,\".*?\");if(e[0]===\"-\"){t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\"))}else{t.names.push(new RegExp(\"^\"+e+\"$\"))}}for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}}function a(){t.enable(\"\")}function c(e){if(e[e.length-1]===\"*\"){return true}var n,i;for(n=0,i=t.skips.length;n<i;n++){if(t.skips[n].test(e)){return false}}for(n=0,i=t.names.length;n<i;n++){if(t.names[n].test(e)){return true}}return false}function l(e){if(e instanceof Error)return e.stack||e.message;return e}},function(e,t){var n=1e3;var i=n*60;var r=i*60;var o=r*24;var s=o*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n===\"string\"&&e.length>0){return a(e)}else if(n===\"number\"&&isNaN(e)===false){return t.long?l(e):c(e)}throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))};function a(e){e=String(e);if(e.length>100){return}var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t){return}var a=parseFloat(t[1]);var c=(t[2]||\"ms\").toLowerCase();switch(c){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return a*s;case\"days\":case\"day\":case\"d\":return a*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return a*r;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return a*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return a*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return a;default:return undefined}}function c(e){if(e>=o){return Math.round(e/o)+\"d\"}if(e>=r){return Math.round(e/r)+\"h\"}if(e>=i){return Math.round(e/i)+\"m\"}if(e>=n){return Math.round(e/n)+\"s\"}return e+\"ms\"}function l(e){return d(e,o,\"day\")||d(e,r,\"hour\")||d(e,i,\"minute\")||d(e,n,\"second\")||e+\" ms\"}function d(e,t,n){if(e<t){return}if(e<t*1.5){return Math.floor(e/t)+\" \"+n}return Math.ceil(e/t)+\" \"+n+\"s\"}},function(e,t,n){var i=n(230);var r=n(231);var o=Object.prototype.toString;var s=typeof Blob===\"function\"||typeof Blob!==\"undefined\"&&o.call(Blob)===\"[object BlobConstructor]\";var a=typeof File===\"function\"||typeof File!==\"undefined\"&&o.call(File)===\"[object FileConstructor]\";t.deconstructPacket=function(e){var t=[];var n=e.data;var i=e;i.data=c(n,t);i.attachments=t.length;return{packet:i,buffers:t}};function c(e,t){if(!e)return e;if(r(e)){var n={_placeholder:true,num:t.length};t.push(e);return n}else if(i(e)){var o=new Array(e.length);for(var s=0;s<e.length;s++){o[s]=c(e[s],t)}return o}else if(typeof e===\"object\"&&!(e instanceof Date)){var o={};for(var a in e){o[a]=c(e[a],t)}return o}return e}t.reconstructPacket=function(e,t){e.data=l(e.data,t);e.attachments=undefined;return e};function l(e,t){if(!e)return e;if(e&&e._placeholder){return t[e.num]}else if(i(e)){for(var n=0;n<e.length;n++){e[n]=l(e[n],t)}}else if(typeof e===\"object\"){for(var r in e){e[r]=l(e[r],t)}}return e}t.removeBlobs=function(e,t){function n(e,l,d){if(!e)return e;if(s&&e instanceof Blob||a&&e instanceof File){o++;var u=new FileReader;u.onload=function(){if(d){d[l]=this.result}else{c=this.result}if(!--o){t(c)}};u.readAsArrayBuffer(e)}else if(i(e)){for(var h=0;h<e.length;h++){n(e[h],h,e)}}else if(typeof e===\"object\"&&!r(e)){for(var f in e){n(e[f],f,e)}}}var o=0;var c=e;n(c);if(!o){t(c)}}},function(e,t,n){\"use strict\";t.byteLength=d;t.toByteArray=h;t.fromByteArray=g;var i=[];var r=[];var o=typeof Uint8Array!==\"undefined\"?Uint8Array:Array;var s=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";for(var a=0,c=s.length;a<c;++a){i[a]=s[a];r[s.charCodeAt(a)]=a}r[\"-\".charCodeAt(0)]=62;r[\"_\".charCodeAt(0)]=63;function l(e){var t=e.length;if(t%4>0){throw new Error(\"Invalid string. Length must be a multiple of 4\")}var n=e.indexOf(\"=\");if(n===-1)n=t;var i=n===t?0:4-n%4;return[n,i]}function d(e){var t=l(e);var n=t[0];var i=t[1];return(n+i)*3/4-i}function u(e,t,n){return(t+n)*3/4-n}function h(e){var t;var n=l(e);var i=n[0];var s=n[1];var a=new o(u(e,i,s));var c=0;var d=s>0?i-4:i;var h;for(h=0;h<d;h+=4){t=r[e.charCodeAt(h)]<<18|r[e.charCodeAt(h+1)]<<12|r[e.charCodeAt(h+2)]<<6|r[e.charCodeAt(h+3)];a[c++]=t>>16&255;a[c++]=t>>8&255;a[c++]=t&255}if(s===2){t=r[e.charCodeAt(h)]<<2|r[e.charCodeAt(h+1)]>>4;a[c++]=t&255}if(s===1){t=r[e.charCodeAt(h)]<<10|r[e.charCodeAt(h+1)]<<4|r[e.charCodeAt(h+2)]>>2;a[c++]=t>>8&255;a[c++]=t&255}return a}function f(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[e&63]}function m(e,t,n){var i;var r=[];for(var o=t;o<n;o+=3){i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255);r.push(f(i))}return r.join(\"\")}function g(e){var t;var n=e.length;var r=n%3;var o=[];var s=16383;for(var a=0,c=n-r;a<c;a+=s){o.push(m(e,a,a+s>c?c:a+s))}if(r===1){t=e[n-1];o.push(i[t>>2]+i[t<<4&63]+\"==\")}else if(r===2){t=(e[n-2]<<8)+e[n-1];o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+\"=\")}return o.join(\"\")}},function(e,t){t.read=function(e,t,n,i,r){var o,s;var a=r*8-i-1;var c=(1<<a)-1;var l=c>>1;var d=-7;var u=n?r-1:0;var h=n?-1:1;var f=e[t+u];u+=h;o=f&(1<<-d)-1;f>>=-d;d+=a;for(;d>0;o=o*256+e[t+u],u+=h,d-=8){}s=o&(1<<-d)-1;o>>=-d;d+=i;for(;d>0;s=s*256+e[t+u],u+=h,d-=8){}if(o===0){o=1-l}else if(o===c){return s?NaN:(f?-1:1)*Infinity}else{s=s+Math.pow(2,i);o=o-l}return(f?-1:1)*s*Math.pow(2,o-i)};t.write=function(e,t,n,i,r,o){var s,a,c;var l=o*8-r-1;var d=(1<<l)-1;var u=d>>1;var h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;var f=i?0:o-1;var m=i?1:-1;var g=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;s=d}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(c=Math.pow(2,-s))<1){s--;c*=2}if(s+u>=1){t+=h/c}else{t+=h*Math.pow(2,1-u)}if(t*c>=2){s++;c/=2}if(s+u>=d){a=0;s=d}else if(s+u>=1){a=(t*c-1)*Math.pow(2,r);s=s+u}else{a=t*Math.pow(2,u-1)*Math.pow(2,r);s=0}}for(;r>=8;e[n+f]=a&255,f+=m,a/=256,r-=8){}s=s<<r|a;l+=r;for(;l>0;e[n+f]=s&255,f+=m,s/=256,l-=8){}e[n+f-m]|=g*128}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)==\"[object Array]\"}},function(e,t,n){e.exports=n(379);e.exports.parser=n(113)},function(e,t,n){var i=n(233);var r=n(218);var o=n(156)(\"engine.io-client:socket\");var s=n(237);var a=n(113);var c=n(229);var l=n(154);e.exports=d;function d(e,t){if(!(this instanceof d))return new d(e,t);t=t||{};if(e&&\"object\"===typeof e){t=e;e=null}if(e){e=c(e);t.hostname=e.host;t.secure=e.protocol===\"https\"||e.protocol===\"wss\";t.port=e.port;if(e.query)t.query=e.query}else if(t.host){t.hostname=c(t.host).host}this.secure=null!=t.secure?t.secure:typeof location!==\"undefined\"&&\"https:\"===location.protocol;if(t.hostname&&!t.port){t.port=this.secure?\"443\":\"80\"}this.agent=t.agent||false;this.hostname=t.hostname||(typeof location!==\"undefined\"?location.hostname:\"localhost\");this.port=t.port||(typeof location!==\"undefined\"&&location.port?location.port:this.secure?443:80);this.query=t.query||{};if(\"string\"===typeof this.query)this.query=l.decode(this.query);this.upgrade=false!==t.upgrade;this.path=(t.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\";this.forceJSONP=!!t.forceJSONP;this.jsonp=false!==t.jsonp;this.forceBase64=!!t.forceBase64;this.enablesXDR=!!t.enablesXDR;this.withCredentials=false!==t.withCredentials;this.timestampParam=t.timestampParam||\"t\";this.timestampRequests=t.timestampRequests;this.transports=t.transports||[\"polling\",\"websocket\"];this.transportOptions=t.transportOptions||{};this.readyState=\"\";this.writeBuffer=[];this.prevBufferLen=0;this.policyPort=t.policyPort||843;this.rememberUpgrade=t.rememberUpgrade||false;this.binaryType=null;this.onlyBinaryUpgrades=t.onlyBinaryUpgrades;this.perMessageDeflate=false!==t.perMessageDeflate?t.perMessageDeflate||{}:false;if(true===this.perMessageDeflate)this.perMessageDeflate={};if(this.perMessageDeflate&&null==this.perMessageDeflate.threshold){this.perMessageDeflate.threshold=1024}this.pfx=t.pfx||null;this.key=t.key||null;this.passphrase=t.passphrase||null;this.cert=t.cert||null;this.ca=t.ca||null;this.ciphers=t.ciphers||null;this.rejectUnauthorized=t.rejectUnauthorized===undefined?true:t.rejectUnauthorized;this.forceNode=!!t.forceNode;this.isReactNative=typeof navigator!==\"undefined\"&&typeof navigator.product===\"string\"&&navigator.product.toLowerCase()===\"reactnative\";if(typeof self===\"undefined\"||this.isReactNative){if(t.extraHeaders&&Object.keys(t.extraHeaders).length>0){this.extraHeaders=t.extraHeaders}if(t.localAddress){this.localAddress=t.localAddress}}this.id=null;this.upgrades=null;this.pingInterval=null;this.pingTimeout=null;this.pingIntervalTimer=null;this.pingTimeoutTimer=null;this.open()}d.priorWebsocketSuccess=false;r(d.prototype);d.protocol=a.protocol;d.Socket=d;d.Transport=n(217);d.transports=n(233);d.parser=n(113);d.prototype.createTransport=function(e){o('creating transport \"%s\"',e);var t=u(this.query);t.EIO=a.protocol;t.transport=e;var n=this.transportOptions[e]||{};if(this.id)t.sid=this.id;var r=new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative});return r};function u(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return t}d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&this.transports.indexOf(\"websocket\")!==-1){e=\"websocket\"}else if(0===this.transports.length){var t=this;setTimeout((function(){t.emit(\"error\",\"No transports available\")}),0);return}else{e=this.transports[0]}this.readyState=\"opening\";try{e=this.createTransport(e)}catch(e){this.transports.shift();this.open();return}e.open();this.setTransport(e)};d.prototype.setTransport=function(e){o(\"setting transport %s\",e.name);var t=this;if(this.transport){o(\"clearing existing transport %s\",this.transport.name);this.transport.removeAllListeners()}this.transport=e;e.on(\"drain\",(function(){t.onDrain()})).on(\"packet\",(function(e){t.onPacket(e)})).on(\"error\",(function(e){t.onError(e)})).on(\"close\",(function(){t.onClose(\"transport close\")}))};d.prototype.probe=function(e){o('probing transport \"%s\"',e);var t=this.createTransport(e,{probe:1});var n=false;var i=this;d.priorWebsocketSuccess=false;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}if(n)return;o('probe transport \"%s\" opened',e);t.send([{type:\"ping\",data:\"probe\"}]);t.once(\"packet\",(function(r){if(n)return;if(\"pong\"===r.type&&\"probe\"===r.data){o('probe transport \"%s\" pong',e);i.upgrading=true;i.emit(\"upgrading\",t);if(!t)return;d.priorWebsocketSuccess=\"websocket\"===t.name;o('pausing current transport \"%s\"',i.transport.name);i.transport.pause((function(){if(n)return;if(\"closed\"===i.readyState)return;o(\"changing transport and sending upgrade packet\");h();i.setTransport(t);t.send([{type:\"upgrade\"}]);i.emit(\"upgrade\",t);t=null;i.upgrading=false;i.flush()}))}else{o('probe transport \"%s\" failed',e);var s=new Error(\"probe error\");s.transport=t.name;i.emit(\"upgradeError\",s)}}))}function s(){if(n)return;n=true;h();t.close();t=null}function a(n){var r=new Error(\"probe error: \"+n);r.transport=t.name;s();o('probe transport \"%s\" failed because of error: %s',e,n);i.emit(\"upgradeError\",r)}function c(){a(\"transport closed\")}function l(){a(\"socket closed\")}function u(e){if(t&&e.name!==t.name){o('\"%s\" works - aborting \"%s\"',e.name,t.name);s()}}function h(){t.removeListener(\"open\",r);t.removeListener(\"error\",a);t.removeListener(\"close\",c);i.removeListener(\"close\",l);i.removeListener(\"upgrading\",u)}t.once(\"open\",r);t.once(\"error\",a);t.once(\"close\",c);this.once(\"close\",l);this.once(\"upgrading\",u);t.open()};d.prototype.onOpen=function(){o(\"socket open\");this.readyState=\"open\";d.priorWebsocketSuccess=\"websocket\"===this.transport.name;this.emit(\"open\");this.flush();if(\"open\"===this.readyState&&this.upgrade&&this.transport.pause){o(\"starting upgrade probes\");for(var e=0,t=this.upgrades.length;e<t;e++){this.probe(this.upgrades[e])}}};d.prototype.onPacket=function(e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){o('socket receive: type \"%s\", data \"%s\"',e.type,e.data);this.emit(\"packet\",e);this.emit(\"heartbeat\");switch(e.type){case\"open\":this.onHandshake(JSON.parse(e.data));break;case\"pong\":this.setPing();this.emit(\"pong\");break;case\"error\":var t=new Error(\"server error\");t.code=e.data;this.onError(t);break;case\"message\":this.emit(\"data\",e.data);this.emit(\"message\",e.data);break}}else{o('packet received with socket readyState \"%s\"',this.readyState)}};d.prototype.onHandshake=function(e){this.emit(\"handshake\",e);this.id=e.sid;this.transport.query.sid=e.sid;this.upgrades=this.filterUpgrades(e.upgrades);this.pingInterval=e.pingInterval;this.pingTimeout=e.pingTimeout;this.onOpen();if(\"closed\"===this.readyState)return;this.setPing();this.removeListener(\"heartbeat\",this.onHeartbeat);this.on(\"heartbeat\",this.onHeartbeat)};d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){if(\"closed\"===t.readyState)return;t.onClose(\"ping timeout\")}),e||t.pingInterval+t.pingTimeout)};d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer);e.pingIntervalTimer=setTimeout((function(){o(\"writing ping packet - expecting pong within %sms\",e.pingTimeout);e.ping();e.onHeartbeat(e.pingTimeout)}),e.pingInterval)};d.prototype.ping=function(){var e=this;this.sendPacket(\"ping\",(function(){e.emit(\"ping\")}))};d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;if(0===this.writeBuffer.length){this.emit(\"drain\")}else{this.flush()}};d.prototype.flush=function(){if(\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){o(\"flushing %d packets in socket\",this.writeBuffer.length);this.transport.send(this.writeBuffer);this.prevBufferLen=this.writeBuffer.length;this.emit(\"flush\")}};d.prototype.write=d.prototype.send=function(e,t,n){this.sendPacket(\"message\",e,t,n);return this};d.prototype.sendPacket=function(e,t,n,i){if(\"function\"===typeof t){i=t;t=undefined}if(\"function\"===typeof n){i=n;n=null}if(\"closing\"===this.readyState||\"closed\"===this.readyState){return}n=n||{};n.compress=false!==n.compress;var r={type:e,data:t,options:n};this.emit(\"packetCreate\",r);this.writeBuffer.push(r);if(i)this.once(\"flush\",i);this.flush()};d.prototype.close=function(){if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var e=this;if(this.writeBuffer.length){this.once(\"drain\",(function(){if(this.upgrading){i()}else{t()}}))}else if(this.upgrading){i()}else{t()}}function t(){e.onClose(\"forced close\");o(\"socket closing - telling transport to close\");e.transport.close()}function n(){e.removeListener(\"upgrade\",n);e.removeListener(\"upgradeError\",n);t()}function i(){e.once(\"upgrade\",n);e.once(\"upgradeError\",n)}return this};d.prototype.onError=function(e){o(\"socket error %j\",e);d.priorWebsocketSuccess=false;this.emit(\"error\",e);this.onClose(\"transport error\",e)};d.prototype.onClose=function(e,t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){o('socket close with reason: \"%s\"',e);var n=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);this.transport.removeAllListeners(\"close\");this.transport.close();this.transport.removeAllListeners();this.readyState=\"closed\";this.id=null;this.emit(\"close\",e,t);n.writeBuffer=[];n.prevBufferLen=0}};d.prototype.filterUpgrades=function(e){var t=[];for(var n=0,i=e.length;n<i;n++){if(~s(this.transports,e[n]))t.push(e[n])}return t}},function(e,t){try{e.exports=typeof XMLHttpRequest!==\"undefined\"&&\"withCredentials\"in new XMLHttpRequest}catch(t){e.exports=false}},function(e,t,n){var i=n(215);var r=n(234);var o=n(218);var s=n(155);var a=n(156)(\"engine.io-client:polling-xhr\");var c=n(216);e.exports=d;e.exports.Request=u;function l(){}function d(e){r.call(this,e);this.requestTimeout=e.requestTimeout;this.extraHeaders=e.extraHeaders;if(typeof location!==\"undefined\"){var t=\"https:\"===location.protocol;var n=location.port;if(!n){n=t?443:80}this.xd=typeof location!==\"undefined\"&&e.hostname!==location.hostname||n!==e.port;this.xs=e.secure!==t}}s(d,r);d.prototype.supportsBinary=true;d.prototype.request=function(e){e=e||{};e.uri=this.uri();e.xd=this.xd;e.xs=this.xs;e.agent=this.agent||false;e.supportsBinary=this.supportsBinary;e.enablesXDR=this.enablesXDR;e.withCredentials=this.withCredentials;e.pfx=this.pfx;e.key=this.key;e.passphrase=this.passphrase;e.cert=this.cert;e.ca=this.ca;e.ciphers=this.ciphers;e.rejectUnauthorized=this.rejectUnauthorized;e.requestTimeout=this.requestTimeout;e.extraHeaders=this.extraHeaders;return new u(e)};d.prototype.doWrite=function(e,t){var n=typeof e!==\"string\"&&e!==undefined;var i=this.request({method:\"POST\",data:e,isBinary:n});var r=this;i.on(\"success\",t);i.on(\"error\",(function(e){r.onError(\"xhr post error\",e)}));this.sendXhr=i};d.prototype.doPoll=function(){a(\"xhr poll\");var e=this.request();var t=this;e.on(\"data\",(function(e){t.onData(e)}));e.on(\"error\",(function(e){t.onError(\"xhr poll error\",e)}));this.pollXhr=e};function u(e){this.method=e.method||\"GET\";this.uri=e.uri;this.xd=!!e.xd;this.xs=!!e.xs;this.async=false!==e.async;this.data=undefined!==e.data?e.data:null;this.agent=e.agent;this.isBinary=e.isBinary;this.supportsBinary=e.supportsBinary;this.enablesXDR=e.enablesXDR;this.withCredentials=e.withCredentials;this.requestTimeout=e.requestTimeout;this.pfx=e.pfx;this.key=e.key;this.passphrase=e.passphrase;this.cert=e.cert;this.ca=e.ca;this.ciphers=e.ciphers;this.rejectUnauthorized=e.rejectUnauthorized;this.extraHeaders=e.extraHeaders;this.create()}o(u.prototype);u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx;e.key=this.key;e.passphrase=this.passphrase;e.cert=this.cert;e.ca=this.ca;e.ciphers=this.ciphers;e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new i(e);var n=this;try{a(\"xhr open %s: %s\",this.method,this.uri);t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(true);for(var r in this.extraHeaders){if(this.extraHeaders.hasOwnProperty(r)){t.setRequestHeader(r,this.extraHeaders[r])}}}}catch(e){}if(\"POST\"===this.method){try{if(this.isBinary){t.setRequestHeader(\"Content-type\",\"application/octet-stream\")}else{t.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}}catch(e){}}try{t.setRequestHeader(\"Accept\",\"*/*\")}catch(e){}if(\"withCredentials\"in t){t.withCredentials=this.withCredentials}if(this.requestTimeout){t.timeout=this.requestTimeout}if(this.hasXDR()){t.onload=function(){n.onLoad()};t.onerror=function(){n.onError(t.responseText)}}else{t.onreadystatechange=function(){if(t.readyState===2){try{var e=t.getResponseHeader(\"Content-Type\");if(n.supportsBinary&&e===\"application/octet-stream\"||e===\"application/octet-stream; charset=UTF-8\"){t.responseType=\"arraybuffer\"}}catch(e){}}if(4!==t.readyState)return;if(200===t.status||1223===t.status){n.onLoad()}else{setTimeout((function(){n.onError(typeof t.status===\"number\"?t.status:0)}),0)}}}a(\"xhr data %s\",this.data);t.send(this.data)}catch(e){setTimeout((function(){n.onError(e)}),0);return}if(typeof document!==\"undefined\"){this.index=u.requestsCount++;u.requests[this.index]=this}};u.prototype.onSuccess=function(){this.emit(\"success\");this.cleanup()};u.prototype.onData=function(e){this.emit(\"data\",e);this.onSuccess()};u.prototype.onError=function(e){this.emit(\"error\",e);this.cleanup(true)};u.prototype.cleanup=function(e){if(\"undefined\"===typeof this.xhr||null===this.xhr){return}if(this.hasXDR()){this.xhr.onload=this.xhr.onerror=l}else{this.xhr.onreadystatechange=l}if(e){try{this.xhr.abort()}catch(e){}}if(typeof document!==\"undefined\"){delete u.requests[this.index]}this.xhr=null};u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader(\"Content-Type\")}catch(e){}if(t===\"application/octet-stream\"||t===\"application/octet-stream; charset=UTF-8\"){e=this.xhr.response||this.xhr.responseText}else{e=this.xhr.responseText}}catch(e){this.onError(e)}if(null!=e){this.onData(e)}};u.prototype.hasXDR=function(){return typeof XDomainRequest!==\"undefined\"&&!this.xs&&this.enablesXDR};u.prototype.abort=function(){this.cleanup()};u.requestsCount=0;u.requests={};if(typeof document!==\"undefined\"){if(typeof attachEvent===\"function\"){attachEvent(\"onunload\",f)}else if(typeof addEventListener===\"function\"){var h=\"onpagehide\"in c?\"pagehide\":\"unload\";addEventListener(h,f,false)}}function f(){for(var e in u.requests){if(u.requests.hasOwnProperty(e)){u.requests[e].abort()}}}},function(e,t){e.exports=Object.keys||function e(t){var n=[];var i=Object.prototype.hasOwnProperty;for(var r in t){if(i.call(t,r)){n.push(r)}}return n}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return n.call(e)==\"[object Array]\"}},function(e,t){e.exports=function(e,t,n){var i=e.byteLength;t=t||0;n=n||i;if(e.slice){return e.slice(t,n)}if(t<0){t+=i}if(n<0){n+=i}if(n>i){n=i}if(t>=i||t>=n||i===0){return new ArrayBuffer(0)}var r=new Uint8Array(e);var o=new Uint8Array(n-t);for(var s=t,a=0;s<n;s++,a++){o[a]=r[s]}return o.buffer}},function(e,t){e.exports=n;function n(e,t,n){var r=false;n=n||i;o.count=e;return e===0?t():o;function o(e,i){if(o.count<=0){throw new Error(\"after called too many times\")}--o.count;if(e){r=true;t(e);t=n}else if(o.count===0&&!r){t(null,i)}}}function i(){}},function(e,t){\n/*! https://mths.be/utf8js v2.1.2 by @mathias */\nvar n=String.fromCharCode;function i(e){var t=[];var n=0;var i=e.length;var r;var o;while(n<i){r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){o=e.charCodeAt(n++);if((o&64512)==56320){t.push(((r&1023)<<10)+(o&1023)+65536)}else{t.push(r);n--}}else{t.push(r)}}return t}function r(e){var t=e.length;var i=-1;var r;var o=\"\";while(++i<t){r=e[i];if(r>65535){r-=65536;o+=n(r>>>10&1023|55296);r=56320|r&1023}o+=n(r)}return o}function o(e,t){if(e>=55296&&e<=57343){if(t){throw Error(\"Lone surrogate U+\"+e.toString(16).toUpperCase()+\" is not a scalar value\")}return false}return true}function s(e,t){return n(e>>t&63|128)}function a(e,t){if((e&4294967168)==0){return n(e)}var i=\"\";if((e&4294965248)==0){i=n(e>>6&31|192)}else if((e&4294901760)==0){if(!o(e,t)){e=65533}i=n(e>>12&15|224);i+=s(e,6)}else if((e&4292870144)==0){i=n(e>>18&7|240);i+=s(e,12);i+=s(e,6)}i+=n(e&63|128);return i}function c(e,t){t=t||{};var n=false!==t.strict;var r=i(e);var o=r.length;var s=-1;var c;var l=\"\";while(++s<o){c=r[s];l+=a(c,n)}return l}function l(){if(f>=h){throw Error(\"Invalid byte index\")}var e=u[f]&255;f++;if((e&192)==128){return e&63}throw Error(\"Invalid continuation byte\")}function d(e){var t;var n;var i;var r;var s;if(f>h){throw Error(\"Invalid byte index\")}if(f==h){return false}t=u[f]&255;f++;if((t&128)==0){return t}if((t&224)==192){n=l();s=(t&31)<<6|n;if(s>=128){return s}else{throw Error(\"Invalid continuation byte\")}}if((t&240)==224){n=l();i=l();s=(t&15)<<12|n<<6|i;if(s>=2048){return o(s,e)?s:65533}else{throw Error(\"Invalid continuation byte\")}}if((t&248)==240){n=l();i=l();r=l();s=(t&7)<<18|n<<12|i<<6|r;if(s>=65536&&s<=1114111){return s}}throw Error(\"Invalid UTF-8 detected\")}var u;var h;var f;function m(e,t){t=t||{};var n=false!==t.strict;u=i(e);h=u.length;f=0;var o=[];var s;while((s=d(n))!==false){o.push(s)}return r(o)}e.exports={version:\"2.1.2\",encode:c,decode:m}},function(e,t){(function(){\"use strict\";var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";var n=new Uint8Array(256);for(var i=0;i<e.length;i++){n[e.charCodeAt(i)]=i}t.encode=function(t){var n=new Uint8Array(t),i,r=n.length,o=\"\";for(i=0;i<r;i+=3){o+=e[n[i]>>2];o+=e[(n[i]&3)<<4|n[i+1]>>4];o+=e[(n[i+1]&15)<<2|n[i+2]>>6];o+=e[n[i+2]&63]}if(r%3===2){o=o.substring(0,o.length-1)+\"=\"}else if(r%3===1){o=o.substring(0,o.length-2)+\"==\"}return o};t.decode=function(e){var t=e.length*.75,i=e.length,r,o=0,s,a,c,l;if(e[e.length-1]===\"=\"){t--;if(e[e.length-2]===\"=\"){t--}}var d=new ArrayBuffer(t),u=new Uint8Array(d);for(r=0;r<i;r+=4){s=n[e.charCodeAt(r)];a=n[e.charCodeAt(r+1)];c=n[e.charCodeAt(r+2)];l=n[e.charCodeAt(r+3)];u[o++]=s<<2|a>>4;u[o++]=(a&15)<<4|c>>2;u[o++]=(c&3)<<6|l&63}return d}})()},function(e,t){var n=typeof n!==\"undefined\"?n:typeof WebKitBlobBuilder!==\"undefined\"?WebKitBlobBuilder:typeof MSBlobBuilder!==\"undefined\"?MSBlobBuilder:typeof MozBlobBuilder!==\"undefined\"?MozBlobBuilder:false;var i=function(){try{var e=new Blob([\"hi\"]);return e.size===2}catch(e){return false}}();var r=i&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return e.size===2}catch(e){return false}}();var o=n&&n.prototype.append&&n.prototype.getBlob;function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength));t=n.buffer}return t}return e}))}function a(e,t){t=t||{};var i=new n;s(e).forEach((function(e){i.append(e)}));return t.type?i.getBlob(t.type):i.getBlob()}function c(e,t){return new Blob(s(e),t||{})}if(typeof Blob!==\"undefined\"){a.prototype=Blob.prototype;c.prototype=Blob.prototype}e.exports=function(){if(i){return r?Blob:c}else if(o){return a}else{return undefined}}()},function(e,t,n){function i(e){i.debug=i;i.default=i;i.coerce=d;i.disable=a;i.enable=s;i.enabled=c;i.humanize=n(390);Object.keys(e).forEach(t=>{i[t]=e[t]});i.instances=[];i.names=[];i.skips=[];i.formatters={};function t(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return i.colors[Math.abs(t)%i.colors.length]}i.selectColor=t;function i(e){let n;function s(...e){if(!s.enabled){return}const t=s;const r=Number(new Date);const o=r-(n||r);t.diff=o;t.prev=n;t.curr=r;n=r;e[0]=i.coerce(e[0]);if(typeof e[0]!==\"string\"){e.unshift(\"%O\")}let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if(n===\"%%\"){return n}a++;const o=i.formatters[r];if(typeof o===\"function\"){const i=e[a];n=o.call(t,i);e.splice(a,1);a--}return n});i.formatArgs.call(t,e);const c=t.log||i.log;c.apply(t,e)}s.namespace=e;s.enabled=i.enabled(e);s.useColors=i.useColors();s.color=t(e);s.destroy=r;s.extend=o;if(typeof i.init===\"function\"){i.init(s)}i.instances.push(s);return s}function r(){const e=i.instances.indexOf(this);if(e!==-1){i.instances.splice(e,1);return true}return false}function o(e,t){const n=i(this.namespace+(typeof t===\"undefined\"?\":\":t)+e);n.log=this.log;return n}function s(e){i.save(e);i.names=[];i.skips=[];let t;const n=(typeof e===\"string\"?e:\"\").split(/[\\s,]+/);const r=n.length;for(t=0;t<r;t++){if(!n[t]){continue}e=n[t].replace(/\\*/g,\".*?\");if(e[0]===\"-\"){i.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\"))}else{i.names.push(new RegExp(\"^\"+e+\"$\"))}}for(t=0;t<i.instances.length;t++){const e=i.instances[t];e.enabled=i.enabled(e.namespace)}}function a(){const e=[...i.names.map(l),...i.skips.map(l).map(e=>\"-\"+e)].join(\",\");i.enable(\"\");return e}function c(e){if(e[e.length-1]===\"*\"){return true}let t;let n;for(t=0,n=i.skips.length;t<n;t++){if(i.skips[t].test(e)){return false}}for(t=0,n=i.names.length;t<n;t++){if(i.names[t].test(e)){return true}}return false}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}function d(e){if(e instanceof Error){return e.stack||e.message}return e}i.enable(i.load());return i}e.exports=i},function(e,t){var n=1e3;var i=n*60;var r=i*60;var o=r*24;var s=o*7;var a=o*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n===\"string\"&&e.length>0){return c(e)}else if(n===\"number\"&&isFinite(e)){return t.long?d(e):l(e)}throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))};function c(e){e=String(e);if(e.length>100){return}var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t){return}var c=parseFloat(t[1]);var l=(t[2]||\"ms\").toLowerCase();switch(l){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return c*a;case\"weeks\":case\"week\":case\"w\":return c*s;case\"days\":case\"day\":case\"d\":return c*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return c*r;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return c*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return c*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return c;default:return undefined}}function l(e){var t=Math.abs(e);if(t>=o){return Math.round(e/o)+\"d\"}if(t>=r){return Math.round(e/r)+\"h\"}if(t>=i){return Math.round(e/i)+\"m\"}if(t>=n){return Math.round(e/n)+\"s\"}return e+\"ms\"}function d(e){var t=Math.abs(e);if(t>=o){return u(e,t,o,\"day\")}if(t>=r){return u(e,t,r,\"hour\")}if(t>=i){return u(e,t,i,\"minute\")}if(t>=n){return u(e,t,n,\"second\")}return e+\" ms\"}function u(e,t,n,i){var r=t>=n*1.5;return Math.round(e/n)+\" \"+i+(r?\"s\":\"\")}},function(e,t,n){var i=n(234);var r=n(155);var o=n(216);e.exports=d;var s=/\\n/g;var a=/\\\\n/g;var c;function l(){}function d(e){i.call(this,e);this.query=this.query||{};if(!c){c=o.___eio=o.___eio||[]}this.index=c.length;var t=this;c.push((function(e){t.onData(e)}));this.query.j=this.index;if(typeof addEventListener===\"function\"){addEventListener(\"beforeunload\",(function(){if(t.script)t.script.onerror=l}),false)}}r(d,i);d.prototype.supportsBinary=false;d.prototype.doClose=function(){if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}if(this.form){this.form.parentNode.removeChild(this.form);this.form=null;this.iframe=null}i.prototype.doClose.call(this)};d.prototype.doPoll=function(){var e=this;var t=document.createElement(\"script\");if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}t.async=true;t.src=this.uri();t.onerror=function(t){e.onError(\"jsonp poll error\",t)};var n=document.getElementsByTagName(\"script\")[0];if(n){n.parentNode.insertBefore(t,n)}else{(document.head||document.body).appendChild(t)}this.script=t;var i=\"undefined\"!==typeof navigator&&/gecko/i.test(navigator.userAgent);if(i){setTimeout((function(){var e=document.createElement(\"iframe\");document.body.appendChild(e);document.body.removeChild(e)}),100)}};d.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i=document.createElement(\"form\");var r=document.createElement(\"textarea\");var o=this.iframeId=\"eio_iframe_\"+this.index;var c;i.className=\"socketio\";i.style.position=\"absolute\";i.style.top=\"-1000px\";i.style.left=\"-1000px\";i.target=o;i.method=\"POST\";i.setAttribute(\"accept-charset\",\"utf-8\");r.name=\"d\";i.appendChild(r);document.body.appendChild(i);this.form=i;this.area=r}this.form.action=this.uri();function l(){d();t()}function d(){if(n.iframe){try{n.form.removeChild(n.iframe)}catch(e){n.onError(\"jsonp polling iframe removal error\",e)}}try{var e='<iframe src=\"javascript:0\" name=\"'+n.iframeId+'\">';c=document.createElement(e)}catch(e){c=document.createElement(\"iframe\");c.name=n.iframeId;c.src=\"javascript:0\"}c.id=n.iframeId;n.form.appendChild(c);n.iframe=c}d();e=e.replace(a,\"\\\\\\n\");this.area.value=e.replace(s,\"\\\\n\");try{this.form.submit()}catch(e){}if(this.iframe.attachEvent){this.iframe.onreadystatechange=function(){if(n.iframe.readyState===\"complete\"){l()}}}else{this.iframe.onload=l}}},function(e,t,n){(function(t){var i=n(217);var r=n(113);var o=n(154);var s=n(155);var a=n(236);var c=n(156)(\"engine.io-client:websocket\");var l,d;if(typeof WebSocket!==\"undefined\"){l=WebSocket}else if(typeof self!==\"undefined\"){l=self.WebSocket||self.MozWebSocket}if(typeof window===\"undefined\"){try{d=n(393)}catch(e){}}var u=l||d;e.exports=h;function h(e){var t=e&&e.forceBase64;if(t){this.supportsBinary=false}this.perMessageDeflate=e.perMessageDeflate;this.usingBrowserWebSocket=l&&!e.forceNode;this.protocols=e.protocols;if(!this.usingBrowserWebSocket){u=d}i.call(this,e)}s(h,i);h.prototype.name=\"websocket\";h.prototype.supportsBinary=true;h.prototype.doOpen=function(){if(!this.check()){return}var e=this.uri();var t=this.protocols;var n={};if(!this.isReactNative){n.agent=this.agent;n.perMessageDeflate=this.perMessageDeflate;n.pfx=this.pfx;n.key=this.key;n.passphrase=this.passphrase;n.cert=this.cert;n.ca=this.ca;n.ciphers=this.ciphers;n.rejectUnauthorized=this.rejectUnauthorized}if(this.extraHeaders){n.headers=this.extraHeaders}if(this.localAddress){n.localAddress=this.localAddress}try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new u(e,t):new u(e):new u(e,t,n)}catch(e){return this.emit(\"error\",e)}if(this.ws.binaryType===undefined){this.supportsBinary=false}if(this.ws.supports&&this.ws.supports.binary){this.supportsBinary=true;this.ws.binaryType=\"nodebuffer\"}else{this.ws.binaryType=\"arraybuffer\"}this.addEventListeners()};h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()};this.ws.onclose=function(){e.onClose()};this.ws.onmessage=function(t){e.onData(t.data)};this.ws.onerror=function(t){e.onError(\"websocket error\",t)}};h.prototype.write=function(e){var n=this;this.writable=false;var i=e.length;for(var o=0,s=i;o<s;o++){(function(e){r.encodePacket(e,n.supportsBinary,(function(r){if(!n.usingBrowserWebSocket){var o={};if(e.options){o.compress=e.options.compress}if(n.perMessageDeflate){var s=\"string\"===typeof r?t.byteLength(r):r.length;if(s<n.perMessageDeflate.threshold){o.compress=false}}}try{if(n.usingBrowserWebSocket){n.ws.send(r)}else{n.ws.send(r,o)}}catch(e){c(\"websocket closed before onclose event\")}--i||a()}))})(e[o])}function a(){n.emit(\"flush\");setTimeout((function(){n.writable=true;n.emit(\"drain\")}),0)}};h.prototype.onClose=function(){i.prototype.onClose.call(this)};h.prototype.doClose=function(){if(typeof this.ws!==\"undefined\"){this.ws.close()}};h.prototype.uri=function(){var e=this.query||{};var t=this.secure?\"wss\":\"ws\";var n=\"\";if(this.port&&(\"wss\"===t&&Number(this.port)!==443||\"ws\"===t&&Number(this.port)!==80)){n=\":\"+this.port}if(this.timestampRequests){e[this.timestampParam]=a()}if(!this.supportsBinary){e.b64=1}e=o.encode(e);if(e.length){e=\"?\"+e}var i=this.hostname.indexOf(\":\")!==-1;return t+\"://\"+(i?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+e};h.prototype.check=function(){return!!u&&!(\"__initialize\"in u&&this.name===h.prototype.name)}}).call(this,n(146).Buffer)},function(e,t){},function(e,t){e.exports=n;function n(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++){n[i-t]=e[i]}return n}},function(e,t){e.exports=n;function n(e){e=e||{};this.ms=e.min||100;this.max=e.max||1e4;this.factor=e.factor||2;this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0;this.attempts=0}n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random();var n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};n.prototype.reset=function(){this.attempts=0};n.prototype.setMin=function(e){this.ms=e};n.prototype.setMax=function(e){this.max=e};n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){\"use strict\";e.exports=function e(t,n){n=n.split(\":\")[0];t=+t;if(!t)return false;switch(n){case\"http\":case\"ws\":return t!==80;case\"https\":case\"wss\":return t!==443;case\"ftp\":return t!==21;case\"gopher\":return t!==70;case\"file\":return false}return t!==0}},function(e,t,n){\"use strict\";var i=Object.prototype.hasOwnProperty,r;function o(e){try{return decodeURIComponent(e.replace(/\\+/g,\" \"))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}function a(e){var t=/([^=?#&]+)=?([^&]*)/g,n={},i;while(i=t.exec(e)){var r=o(i[1]),s=o(i[2]);if(r===null||s===null||r in n)continue;n[r]=s}return n}function c(e,t){t=t||\"\";var n=[],o,a;if(\"string\"!==typeof t)t=\"?\";for(a in e){if(i.call(e,a)){o=e[a];if(!o&&(o===null||o===r||isNaN(o))){o=\"\"}a=s(a);o=s(o);if(a===null||o===null)continue;n.push(a+\"=\"+o)}}return n.length?t+n.join(\"&\"):\"\"}t.stringify=c;t.parse=a},function(e,t,n){\"use strict\";var i=e.exports=n(399);i.build=\"light\";function r(e,t,n){if(typeof t===\"function\"){n=t;t=new i.Root}else if(!t)t=new i.Root;return t.load(e,n)}i.load=r;function o(e,t){if(!t)t=new i.Root;return t.loadSync(e)}i.loadSync=o;i.encoder=n(245);i.decoder=n(250);i.verifier=n(251);i.converter=n(252);i.ReflectionObject=n(114);i.Namespace=n(147);i.Root=n(254);i.Enum=n(88);i.Type=n(246);i.Field=n(115);i.OneOf=n(221);i.MapField=n(247);i.Service=n(248);i.Method=n(249);i.Message=n(222);i.wrappers=n(253);i.types=n(148);i.util=n(55);i.ReflectionObject._configure(i.Root);i.Namespace._configure(i.Type,i.Service,i.Enum);i.Root._configure(i.Type);i.Field._configure(i.Type)},function(e,t,n){\"use strict\";var i=t;i.build=\"minimal\";i.Writer=n(219);i.BufferWriter=n(406);i.Reader=n(220);i.BufferReader=n(407);i.util=n(87);i.rpc=n(243);i.roots=n(244);i.configure=r;function r(){i.util._configure();i.Writer._configure(i.BufferWriter);i.Reader._configure(i.BufferReader)}r()},function(e,t,n){\"use strict\";var i=t;i.length=function e(t){var n=t.length;if(!n)return 0;var i=0;while(--n%4>1&&t.charAt(n)===\"=\")++i;return Math.ceil(t.length*3)/4-i};var r=new Array(64);var o=new Array(123);for(var s=0;s<64;)o[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;i.encode=function e(t,n,i){var o=null,s=[];var a=0,c=0,l;while(n<i){var d=t[n++];switch(c){case 0:s[a++]=r[d>>2];l=(d&3)<<4;c=1;break;case 1:s[a++]=r[l|d>>4];l=(d&15)<<2;c=2;break;case 2:s[a++]=r[l|d>>6];s[a++]=r[d&63];c=0;break}if(a>8191){(o||(o=[])).push(String.fromCharCode.apply(String,s));a=0}}if(c){s[a++]=r[l];s[a++]=61;if(c===1)s[a++]=61}if(o){if(a)o.push(String.fromCharCode.apply(String,s.slice(0,a)));return o.join(\"\")}return String.fromCharCode.apply(String,s.slice(0,a))};var a=\"invalid encoding\";i.decode=function e(t,n,i){var r=i;var s=0,c;for(var l=0;l<t.length;){var d=t.charCodeAt(l++);if(d===61&&s>1)break;if((d=o[d])===undefined)throw Error(a);switch(s){case 0:c=d;s=1;break;case 1:n[i++]=c<<2|(d&48)>>4;c=d;s=2;break;case 2:n[i++]=(c&15)<<4|(d&60)>>2;c=d;s=3;break;case 3:n[i++]=(c&3)<<6|d;s=0;break}}if(s===1)throw Error(a);return i-r};i.test=function e(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(e,t,n){\"use strict\";e.exports=i;function i(){this._listeners={}}i.prototype.on=function e(t,n,i){(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:i||this});return this};i.prototype.off=function e(t,n){if(t===undefined)this._listeners={};else{if(n===undefined)this._listeners[t]=[];else{var i=this._listeners[t];for(var r=0;r<i.length;)if(i[r].fn===n)i.splice(r,1);else++r}}return this};i.prototype.emit=function e(t){var n=this._listeners[t];if(n){var i=[],r=1;for(;r<arguments.length;)i.push(arguments[r++]);for(r=0;r<n.length;)n[r].fn.apply(n[r++].ctx,i)}return this}},function(e,t,n){\"use strict\";e.exports=i(i);function i(e){if(typeof Float32Array!==\"undefined\")(function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),i=n[3]===128;function r(e,i,r){t[0]=e;i[r]=n[0];i[r+1]=n[1];i[r+2]=n[2];i[r+3]=n[3]}function o(e,i,r){t[0]=e;i[r]=n[3];i[r+1]=n[2];i[r+2]=n[1];i[r+3]=n[0]}e.writeFloatLE=i?r:o;e.writeFloatBE=i?o:r;function s(e,i){n[0]=e[i];n[1]=e[i+1];n[2]=e[i+2];n[3]=e[i+3];return t[0]}function a(e,i){n[3]=e[i];n[2]=e[i+1];n[1]=e[i+2];n[0]=e[i+3];return t[0]}e.readFloatLE=i?s:a;e.readFloatBE=i?a:s})();else(function(){function t(e,t,n,i){var r=t<0?1:0;if(r)t=-t;if(t===0)e(1/t>0?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,n,i);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,n,i);else{var o=Math.floor(Math.log(t)/Math.LN2),s=Math.round(t*Math.pow(2,-o)*8388608)&8388607;e((r<<31|o+127<<23|s)>>>0,n,i)}}e.writeFloatLE=t.bind(null,r);e.writeFloatBE=t.bind(null,o);function n(e,t,n){var i=e(t,n),r=(i>>31)*2+1,o=i>>>23&255,s=i&8388607;return o===255?s?NaN:r*Infinity:o===0?r*1401298464324817e-60*s:r*Math.pow(2,o-150)*(s+8388608)}e.readFloatLE=n.bind(null,s);e.readFloatBE=n.bind(null,a)})();if(typeof Float64Array!==\"undefined\")(function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),i=n[7]===128;function r(e,i,r){t[0]=e;i[r]=n[0];i[r+1]=n[1];i[r+2]=n[2];i[r+3]=n[3];i[r+4]=n[4];i[r+5]=n[5];i[r+6]=n[6];i[r+7]=n[7]}function o(e,i,r){t[0]=e;i[r]=n[7];i[r+1]=n[6];i[r+2]=n[5];i[r+3]=n[4];i[r+4]=n[3];i[r+5]=n[2];i[r+6]=n[1];i[r+7]=n[0]}e.writeDoubleLE=i?r:o;e.writeDoubleBE=i?o:r;function s(e,i){n[0]=e[i];n[1]=e[i+1];n[2]=e[i+2];n[3]=e[i+3];n[4]=e[i+4];n[5]=e[i+5];n[6]=e[i+6];n[7]=e[i+7];return t[0]}function a(e,i){n[7]=e[i];n[6]=e[i+1];n[5]=e[i+2];n[4]=e[i+3];n[3]=e[i+4];n[2]=e[i+5];n[1]=e[i+6];n[0]=e[i+7];return t[0]}e.readDoubleLE=i?s:a;e.readDoubleBE=i?a:s})();else(function(){function t(e,t,n,i,r,o){var s=i<0?1:0;if(s)i=-i;if(i===0){e(0,r,o+t);e(1/i>0?0:2147483648,r,o+n)}else if(isNaN(i)){e(0,r,o+t);e(2146959360,r,o+n)}else if(i>17976931348623157e292){e(0,r,o+t);e((s<<31|2146435072)>>>0,r,o+n)}else{var a;if(i<22250738585072014e-324){a=i/5e-324;e(a>>>0,r,o+t);e((s<<31|a/4294967296)>>>0,r,o+n)}else{var c=Math.floor(Math.log(i)/Math.LN2);if(c===1024)c=1023;a=i*Math.pow(2,-c);e(a*4503599627370496>>>0,r,o+t);e((s<<31|c+1023<<20|a*1048576&1048575)>>>0,r,o+n)}}}e.writeDoubleLE=t.bind(null,r,0,4);e.writeDoubleBE=t.bind(null,o,4,0);function n(e,t,n,i,r){var o=e(i,r+t),s=e(i,r+n);var a=(s>>31)*2+1,c=s>>>20&2047,l=4294967296*(s&1048575)+o;return c===2047?l?NaN:a*Infinity:c===0?a*5e-324*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.readDoubleLE=n.bind(null,s,0,4);e.readDoubleBE=n.bind(null,a,4,0)})();return e}function r(e,t,n){t[n]=e&255;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24;t[n+1]=e>>>16&255;t[n+2]=e>>>8&255;t[n+3]=e&255}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}},function(e,t,n){\"use strict\";var i=t;i.length=function e(t){var n=0,i=0;for(var r=0;r<t.length;++r){i=t.charCodeAt(r);if(i<128)n+=1;else if(i<2048)n+=2;else if((i&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){++r;n+=4}else n+=3}return n};i.read=function e(t,n,i){var r=i-n;if(r<1)return\"\";var o=null,s=[],a=0,c;while(n<i){c=t[n++];if(c<128)s[a++]=c;else if(c>191&&c<224)s[a++]=(c&31)<<6|t[n++]&63;else if(c>239&&c<365){c=((c&7)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536;s[a++]=55296+(c>>10);s[a++]=56320+(c&1023)}else s[a++]=(c&15)<<12|(t[n++]&63)<<6|t[n++]&63;if(a>8191){(o||(o=[])).push(String.fromCharCode.apply(String,s));a=0}}if(o){if(a)o.push(String.fromCharCode.apply(String,s.slice(0,a)));return o.join(\"\")}return String.fromCharCode.apply(String,s.slice(0,a))};i.write=function e(t,n,i){var r=i,o,s;for(var a=0;a<t.length;++a){o=t.charCodeAt(a);if(o<128){n[i++]=o}else if(o<2048){n[i++]=o>>6|192;n[i++]=o&63|128}else if((o&64512)===55296&&((s=t.charCodeAt(a+1))&64512)===56320){o=65536+((o&1023)<<10)+(s&1023);++a;n[i++]=o>>18|240;n[i++]=o>>12&63|128;n[i++]=o>>6&63|128;n[i++]=o&63|128}else{n[i++]=o>>12|224;n[i++]=o>>6&63|128;n[i++]=o&63|128}}return i-r}},function(e,t,n){\"use strict\";e.exports=i;function i(e,t,n){var i=n||8192;var r=i>>>1;var o=null;var s=i;return function n(a){if(a<1||a>r)return e(a);if(s+a>i){o=e(i);s=0}var c=t.call(o,s,s+=a);if(s&7)s=(s|7)+1;return c}}},function(e,t,n){\"use strict\";e.exports=r;var i=n(87);function r(e,t){this.lo=e>>>0;this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0};o.zzEncode=o.zzDecode=function(){return this};o.length=function(){return 1};var s=r.zeroHash=\"\\0\\0\\0\\0\\0\\0\\0\\0\";r.fromNumber=function e(t){if(t===0)return o;var n=t<0;if(n)t=-t;var i=t>>>0,s=(t-i)/4294967296>>>0;if(n){s=~s>>>0;i=~i>>>0;if(++i>4294967295){i=0;if(++s>4294967295)s=0}}return new r(i,s)};r.from=function e(t){if(typeof t===\"number\")return r.fromNumber(t);if(i.isString(t)){if(i.Long)t=i.Long.fromString(t);else return r.fromNumber(parseInt(t,10))}return t.low||t.high?new r(t.low>>>0,t.high>>>0):o};r.prototype.toNumber=function e(t){if(!t&&this.hi>>>31){var n=~this.lo+1>>>0,i=~this.hi>>>0;if(!n)i=i+1>>>0;return-(n+i*4294967296)}return this.lo+this.hi*4294967296};r.prototype.toLong=function e(t){return i.Long?new i.Long(this.lo|0,this.hi|0,Boolean(t)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;r.fromHash=function e(t){if(t===s)return o;return new r((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)};r.prototype.toHash=function e(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};r.prototype.zzEncode=function e(){var t=this.hi>>31;this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0;this.lo=(this.lo<<1^t)>>>0;return this};r.prototype.zzDecode=function e(){var t=-(this.lo&1);this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0;this.hi=(this.hi>>>1^t)>>>0;return this};r.prototype.length=function e(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?n===0?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}},function(e,t,n){\"use strict\";e.exports=o;var i=n(219);(o.prototype=Object.create(i.prototype)).constructor=o;var r=n(87);function o(){i.call(this)}o._configure=function(){o.alloc=r._Buffer_allocUnsafe;o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&r.Buffer.prototype.set.name===\"set\"?function e(t,n,i){n.set(t,i)}:function e(t,n,i){if(t.copy)t.copy(n,i,0,t.length);else for(var r=0;r<t.length;)n[i++]=t[r++]}};o.prototype.bytes=function e(t){if(r.isString(t))t=r._Buffer_from(t,\"base64\");var n=t.length>>>0;this.uint32(n);if(n)this._push(o.writeBytesBuffer,n,t);return this};function s(e,t,n){if(e.length<40)r.utf8.write(e,t,n);else if(t.utf8Write)t.utf8Write(e,n);else t.write(e,n)}o.prototype.string=function e(t){var n=r.Buffer.byteLength(t);this.uint32(n);if(n)this._push(s,n,t);return this};o._configure()},function(e,t,n){\"use strict\";e.exports=o;var i=n(220);(o.prototype=Object.create(i.prototype)).constructor=o;var r=n(87);function o(e){i.call(this,e)}o._configure=function(){if(r.Buffer)o.prototype._slice=r.Buffer.prototype.slice};o.prototype.string=function e(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString(\"utf-8\",this.pos,this.pos=Math.min(this.pos+t,this.len))};o._configure()},function(e,t,n){\"use strict\";e.exports=r;var i=n(87);(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r;function r(e,t,n){if(typeof e!==\"function\")throw TypeError(\"rpcImpl must be a function\");i.EventEmitter.call(this);this.rpcImpl=e;this.requestDelimited=Boolean(t);this.responseDelimited=Boolean(n)}r.prototype.rpcCall=function e(t,n,r,o,s){if(!o)throw TypeError(\"request must be specified\");var a=this;if(!s)return i.asPromise(e,a,t,n,r,o);if(!a.rpcImpl){setTimeout((function(){s(Error(\"already ended\"))}),0);return undefined}try{return a.rpcImpl(t,n[a.requestDelimited?\"encodeDelimited\":\"encode\"](o).finish(),(function e(n,i){if(n){a.emit(\"error\",n,t);return s(n)}if(i===null){a.end(true);return undefined}if(!(i instanceof r)){try{i=r[a.responseDelimited?\"decodeDelimited\":\"decode\"](i)}catch(n){a.emit(\"error\",n,t);return s(n)}}a.emit(\"data\",i,t);return s(null,i)}))}catch(e){a.emit(\"error\",e,t);setTimeout((function(){s(e)}),0);return undefined}};r.prototype.end=function e(t){if(this.rpcImpl){if(!t)this.rpcImpl(null,null,null);this.rpcImpl=null;this.emit(\"end\").off()}return this}},function(e,t,n){\"use strict\";e.exports=i;function i(e,t){if(typeof e===\"string\"){t=e;e=undefined}var n=[];function r(e){if(typeof e!==\"string\"){var t=o();if(i.verbose)console.log(\"codegen: \"+t);t=\"return \"+t;if(e){var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),l=0;while(l<s.length){a[l]=s[l];c[l]=e[s[l++]]}a[l]=t;return Function.apply(null,a).apply(null,c)}return Function(t)()}var d=new Array(arguments.length-1),u=0;while(u<d.length)d[u]=arguments[++u];u=0;e=e.replace(/%([%dfijs])/g,(function e(t,n){var i=d[u++];switch(n){case\"d\":case\"f\":return String(Number(i));case\"i\":return String(Math.floor(i));case\"j\":return JSON.stringify(i);case\"s\":return String(i)}return\"%\"}));if(u!==d.length)throw Error(\"parameter count mismatch\");n.push(e);return r}function o(i){return\"function \"+(i||t||\"\")+\"(\"+(e&&e.join(\",\")||\"\")+\"){\\n  \"+n.join(\"\\n  \")+\"\\n}\"}r.toString=o;return r}i.verbose=false},function(e,t,n){\"use strict\";e.exports=s;var i=n(241),r=n(242);var o=r(\"fs\");function s(e,t,n){if(typeof t===\"function\"){n=t;t={}}else if(!t)t={};if(!n)return i(s,this,e,t);if(!t.xhr&&o&&o.readFile)return o.readFile(e,(function i(r,o){return r&&typeof XMLHttpRequest!==\"undefined\"?s.xhr(e,t,n):r?n(r):n(null,t.binary?o:o.toString(\"utf8\"))}));return s.xhr(e,t,n)}s.xhr=function e(t,n,i){var r=new XMLHttpRequest;r.onreadystatechange=function e(){if(r.readyState!==4)return undefined;if(r.status!==0&&r.status!==200)return i(Error(\"status \"+r.status));if(n.binary){var t=r.response;if(!t){t=[];for(var o=0;o<r.responseText.length;++o)t.push(r.responseText.charCodeAt(o)&255)}return i(null,typeof Uint8Array!==\"undefined\"?new Uint8Array(t):t)}return i(null,r.responseText)};if(n.binary){if(\"overrideMimeType\"in r)r.overrideMimeType(\"text/plain; charset=x-user-defined\");r.responseType=\"arraybuffer\"}r.open(\"GET\",t);r.send()}},function(e,t,n){\"use strict\";var i=t;var r=i.isAbsolute=function e(t){return/^(?:\\/|\\w+:)/.test(t)};var o=i.normalize=function e(t){t=t.replace(/\\\\/g,\"/\").replace(/\\/{2,}/g,\"/\");var n=t.split(\"/\"),i=r(t),o=\"\";if(i)o=n.shift()+\"/\";for(var s=0;s<n.length;){if(n[s]===\"..\"){if(s>0&&n[s-1]!==\"..\")n.splice(--s,2);else if(i)n.splice(s,1);else++s}else if(n[s]===\".\")n.splice(s,1);else++s}return o+n.join(\"/\")};i.resolve=function e(t,n,i){if(!i)n=o(n);if(r(n))return n;if(!i)t=o(t);return(t=t.replace(/(?:\\/|^)[^/]+$/,\"\")).length?o(t+\"/\"+n):n}},function(e,t,n){(function(i){t.log=s;t.formatArgs=o;t.save=a;t.load=c;t.useColors=r;t.storage=l();t.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"];function r(){if(typeof window!==\"undefined\"&&window.process&&(window.process.type===\"renderer\"||window.process.__nwjs)){return true}if(typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)){return false}return typeof document!==\"undefined\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!==\"undefined\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!==\"undefined\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function o(t){t[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+t[0]+(this.useColors?\"%c \":\" \")+\"+\"+e.exports.humanize(this.diff);if(!this.useColors){return}const n=\"color: \"+this.color;t.splice(1,0,n,\"color: inherit\");let i=0;let r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{if(e===\"%%\"){return}i++;if(e===\"%c\"){r=i}});t.splice(r,0,n)}function s(...e){return typeof console===\"object\"&&console.log&&console.log(...e)}function a(e){try{if(e){t.storage.setItem(\"debug\",e)}else{t.storage.removeItem(\"debug\")}}catch(e){}}function c(){let e;try{e=t.storage.getItem(\"debug\")}catch(e){}if(!e&&typeof i!==\"undefined\"&&\"env\"in i){e=i.env.DEBUG}return e}function l(){try{return localStorage}catch(e){}}e.exports=n(413)(t);const{formatters:d}=e.exports;d.j=function(e){try{return JSON.stringify(e)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}}}).call(this,n(145))},function(e,t,n){function i(e){i.debug=i;i.default=i;i.coerce=d;i.disable=a;i.enable=s;i.enabled=c;i.humanize=n(414);Object.keys(e).forEach(t=>{i[t]=e[t]});i.instances=[];i.names=[];i.skips=[];i.formatters={};function t(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return i.colors[Math.abs(t)%i.colors.length]}i.selectColor=t;function i(e){let n;function s(...e){if(!s.enabled){return}const t=s;const r=Number(new Date);const o=r-(n||r);t.diff=o;t.prev=n;t.curr=r;n=r;e[0]=i.coerce(e[0]);if(typeof e[0]!==\"string\"){e.unshift(\"%O\")}let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if(n===\"%%\"){return n}a++;const o=i.formatters[r];if(typeof o===\"function\"){const i=e[a];n=o.call(t,i);e.splice(a,1);a--}return n});i.formatArgs.call(t,e);const c=t.log||i.log;c.apply(t,e)}s.namespace=e;s.enabled=i.enabled(e);s.useColors=i.useColors();s.color=t(e);s.destroy=r;s.extend=o;if(typeof i.init===\"function\"){i.init(s)}i.instances.push(s);return s}function r(){const e=i.instances.indexOf(this);if(e!==-1){i.instances.splice(e,1);return true}return false}function o(e,t){const n=i(this.namespace+(typeof t===\"undefined\"?\":\":t)+e);n.log=this.log;return n}function s(e){i.save(e);i.names=[];i.skips=[];let t;const n=(typeof e===\"string\"?e:\"\").split(/[\\s,]+/);const r=n.length;for(t=0;t<r;t++){if(!n[t]){continue}e=n[t].replace(/\\*/g,\".*?\");if(e[0]===\"-\"){i.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\"))}else{i.names.push(new RegExp(\"^\"+e+\"$\"))}}for(t=0;t<i.instances.length;t++){const e=i.instances[t];e.enabled=i.enabled(e.namespace)}}function a(){const e=[...i.names.map(l),...i.skips.map(l).map(e=>\"-\"+e)].join(\",\");i.enable(\"\");return e}function c(e){if(e[e.length-1]===\"*\"){return true}let t;let n;for(t=0,n=i.skips.length;t<n;t++){if(i.skips[t].test(e)){return false}}for(t=0,n=i.names.length;t<n;t++){if(i.names[t].test(e)){return true}}return false}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}function d(e){if(e instanceof Error){return e.stack||e.message}return e}i.enable(i.load());return i}e.exports=i},function(e,t){var n=1e3;var i=n*60;var r=i*60;var o=r*24;var s=o*7;var a=o*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n===\"string\"&&e.length>0){return c(e)}else if(n===\"number\"&&isFinite(e)){return t.long?d(e):l(e)}throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(e))};function c(e){e=String(e);if(e.length>100){return}var t=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t){return}var c=parseFloat(t[1]);var l=(t[2]||\"ms\").toLowerCase();switch(l){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return c*a;case\"weeks\":case\"week\":case\"w\":return c*s;case\"days\":case\"day\":case\"d\":return c*o;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return c*r;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return c*i;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return c*n;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return c;default:return undefined}}function l(e){var t=Math.abs(e);if(t>=o){return Math.round(e/o)+\"d\"}if(t>=r){return Math.round(e/r)+\"h\"}if(t>=i){return Math.round(e/i)+\"m\"}if(t>=n){return Math.round(e/n)+\"s\"}return e+\"ms\"}function d(e){var t=Math.abs(e);if(t>=o){return u(e,t,o,\"day\")}if(t>=r){return u(e,t,r,\"hour\")}if(t>=i){return u(e,t,i,\"minute\")}if(t>=n){return u(e,t,n,\"second\")}return e+\" ms\"}function u(e,t,n,i){var r=t>=n*1.5;return Math.round(e/n)+\" \"+i+(r?\"s\":\"\")}},function(e,t,n){if(true){e.exports=i}function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.on=i.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t);return this};i.prototype.once=function(e,t){function n(){this.off(e,n);t.apply(this,arguments)}n.fn=t;this.on(e,n);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length){delete this._callbacks[\"$\"+e];return this}var i;for(var r=0;r<n.length;r++){i=n[r];if(i===t||i.fn===t){n.splice(r,1);break}}return this};i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[\"$\"+e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i){n[i].apply(this,t)}}return this};i.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[\"$\"+e]||[]};i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var i=n(255);var r=n(256);var o=Object.prototype.toString;var s=typeof Blob===\"function\"||typeof Blob!==\"undefined\"&&o.call(Blob)===\"[object BlobConstructor]\";var a=typeof File===\"function\"||typeof File!==\"undefined\"&&o.call(File)===\"[object FileConstructor]\";t.deconstructPacket=function(e){var t=[];var n=e.data;var i=e;i.data=c(n,t);i.attachments=t.length;return{packet:i,buffers:t}};function c(e,t){if(!e)return e;if(r(e)){var n={_placeholder:true,num:t.length};t.push(e);return n}else if(i(e)){var o=new Array(e.length);for(var s=0;s<e.length;s++){o[s]=c(e[s],t)}return o}else if(typeof e===\"object\"&&!(e instanceof Date)){var o={};for(var a in e){o[a]=c(e[a],t)}return o}return e}t.reconstructPacket=function(e,t){e.data=l(e.data,t);e.attachments=undefined;return e};function l(e,t){if(!e)return e;if(e&&e._placeholder){return t[e.num]}else if(i(e)){for(var n=0;n<e.length;n++){e[n]=l(e[n],t)}}else if(typeof e===\"object\"){for(var r in e){e[r]=l(e[r],t)}}return e}t.removeBlobs=function(e,t){function n(e,l,d){if(!e)return e;if(s&&e instanceof Blob||a&&e instanceof File){o++;var u=new FileReader;u.onload=function(){if(d){d[l]=this.result}else{c=this.result}if(!--o){t(c)}};u.readAsArrayBuffer(e)}else if(i(e)){for(var h=0;h<e.length;h++){n(e[h],h,e)}}else if(typeof e===\"object\"&&!r(e)){for(var f in e){n(e[f],f,e)}}}var o=0;var c=e;n(c);if(!o){t(c)}}},function(e,t,n){var i=n(9);var r=n(418);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-user-colors--0:#6d78e8;--ck-user-colors--0-alpha:rgba(109,120,232,0.15);--ck-user-colors--1:#007a6c;--ck-user-colors--1-alpha:rgba(0,122,108,0.15);--ck-user-colors--2:#ba4545;--ck-user-colors--2-alpha:rgba(186,69,69,0.15);--ck-user-colors--3:#5635b1;--ck-user-colors--3-alpha:rgba(86,53,177,0.15);--ck-user-colors--4:#548a2e;--ck-user-colors--4-alpha:rgba(84,138,46,0.15);--ck-user-colors--5:#c3185d;--ck-user-colors--5-alpha:rgba(195,24,93,0.15);--ck-user-colors--6:#ea4343;--ck-user-colors--6-alpha:rgba(234,67,67,0.15);--ck-user-colors--7:#0bc3d0;--ck-user-colors--7-alpha:rgba(11,195,208,0.15);--ck-user-dot-size:6px}.ck .ck-user__color--0{color:var(--ck-user-colors--0)}.ck .ck-user__bg-color--0{background-color:var(--ck-user-colors--0)}.ck .ck-user__selection--0{background-color:var(--ck-user-colors--0-alpha)}.ck .ck-user__selection--0.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--0)}.ck .ck-user__marker--0,.ck .ck-user__marker--0 .ck-user__marker-dot,.ck .ck-user__marker--0:after{background-color:var(--ck-user-colors--0)}.ck .ck-user__marker--0 .ck-user__marker-line{border:1px solid var(--ck-user-colors--0)}.ck .ck-user__color--1{color:var(--ck-user-colors--1)}.ck .ck-user__bg-color--1{background-color:var(--ck-user-colors--1)}.ck .ck-user__selection--1{background-color:var(--ck-user-colors--1-alpha)}.ck .ck-user__selection--1.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--1)}.ck .ck-user__marker--1,.ck .ck-user__marker--1 .ck-user__marker-dot,.ck .ck-user__marker--1:after{background-color:var(--ck-user-colors--1)}.ck .ck-user__marker--1 .ck-user__marker-line{border:1px solid var(--ck-user-colors--1)}.ck .ck-user__color--2{color:var(--ck-user-colors--2)}.ck .ck-user__bg-color--2{background-color:var(--ck-user-colors--2)}.ck .ck-user__selection--2{background-color:var(--ck-user-colors--2-alpha)}.ck .ck-user__selection--2.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--2)}.ck .ck-user__marker--2,.ck .ck-user__marker--2 .ck-user__marker-dot,.ck .ck-user__marker--2:after{background-color:var(--ck-user-colors--2)}.ck .ck-user__marker--2 .ck-user__marker-line{border:1px solid var(--ck-user-colors--2)}.ck .ck-user__color--3{color:var(--ck-user-colors--3)}.ck .ck-user__bg-color--3{background-color:var(--ck-user-colors--3)}.ck .ck-user__selection--3{background-color:var(--ck-user-colors--3-alpha)}.ck .ck-user__selection--3.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--3)}.ck .ck-user__marker--3,.ck .ck-user__marker--3 .ck-user__marker-dot,.ck .ck-user__marker--3:after{background-color:var(--ck-user-colors--3)}.ck .ck-user__marker--3 .ck-user__marker-line{border:1px solid var(--ck-user-colors--3)}.ck .ck-user__color--4{color:var(--ck-user-colors--4)}.ck .ck-user__bg-color--4{background-color:var(--ck-user-colors--4)}.ck .ck-user__selection--4{background-color:var(--ck-user-colors--4-alpha)}.ck .ck-user__selection--4.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--4)}.ck .ck-user__marker--4,.ck .ck-user__marker--4 .ck-user__marker-dot,.ck .ck-user__marker--4:after{background-color:var(--ck-user-colors--4)}.ck .ck-user__marker--4 .ck-user__marker-line{border:1px solid var(--ck-user-colors--4)}.ck .ck-user__color--5{color:var(--ck-user-colors--5)}.ck .ck-user__bg-color--5{background-color:var(--ck-user-colors--5)}.ck .ck-user__selection--5{background-color:var(--ck-user-colors--5-alpha)}.ck .ck-user__selection--5.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--5)}.ck .ck-user__marker--5,.ck .ck-user__marker--5 .ck-user__marker-dot,.ck .ck-user__marker--5:after{background-color:var(--ck-user-colors--5)}.ck .ck-user__marker--5 .ck-user__marker-line{border:1px solid var(--ck-user-colors--5)}.ck .ck-user__color--6{color:var(--ck-user-colors--6)}.ck .ck-user__bg-color--6{background-color:var(--ck-user-colors--6)}.ck .ck-user__selection--6{background-color:var(--ck-user-colors--6-alpha)}.ck .ck-user__selection--6.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--6)}.ck .ck-user__marker--6,.ck .ck-user__marker--6 .ck-user__marker-dot,.ck .ck-user__marker--6:after{background-color:var(--ck-user-colors--6)}.ck .ck-user__marker--6 .ck-user__marker-line{border:1px solid var(--ck-user-colors--6)}.ck .ck-user__color--7{color:var(--ck-user-colors--7)}.ck .ck-user__bg-color--7{background-color:var(--ck-user-colors--7)}.ck .ck-user__selection--7{background-color:var(--ck-user-colors--7-alpha)}.ck .ck-user__selection--7.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--7)}.ck .ck-user__marker--7,.ck .ck-user__marker--7 .ck-user__marker-dot,.ck .ck-user__marker--7:after{background-color:var(--ck-user-colors--7)}.ck .ck-user__marker--7 .ck-user__marker-line{border:1px solid var(--ck-user-colors--7)}\"},function(e,t,n){var i=n(9);var r=n(420);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:\"\";width:0;height:0}:root{--ck-color-presence-list-dropdown-background:#fff;--ck-color-presence-list-dropdown-arrow-border:#ebebeb;--ck-presence-list-dropdown-list-max-width:250px;--ck-presence-list-dropdown-list-min-width:180px;--ck-presence-list-users-tooltip-max-width:120px;--ck-presence-list-users-tooltip-min-width:25px}.ck.ck-presence-list{display:flex;align-items:center;margin-right:var(--ck-spacing-standard);transition:margin-right .2s ease-in-out;font-size:var(--ck-font-size-base)}.ck.ck-presence-list *{box-sizing:border-box}.ck.ck-presence-list__list{display:flex;justify-content:flex-end}.ck.ck-presence-list__counter{color:var(--ck-color-base-text)}.ck.ck-presence-list__counter--hidden{display:none}.ck.ck-presence-list__list-item{font:inherit;color:inherit;border:0;padding:0;outline:none;background:none;position:relative;margin-left:var(--ck-spacing-standard)}.ck.ck-presence-list__list-item:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-presence-list__list-item .ck.ck-tooltip{display:block}.ck.ck-presence-list__list-item .ck-tooltip__text span{display:block;max-width:var(--ck-presence-list-users-tooltip-max-width);overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__marker{position:relative;display:block;width:100%;height:3px;margin-top:3px}.ck.ck-presence-list--collapsed .ck-presence-list__list{min-width:calc(var(--ck-user-avatar-size)*1.5);margin-left:var(--ck-spacing-standard)}.ck.ck-presence-list--collapsed .ck-presence-list__list *{cursor:pointer;transition:all .4s ease-in-out}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item{margin-left:calc(var(--ck-user-avatar-size)*-1 + 5px)}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item .ck-tooltip{display:none}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(5){opacity:.15}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(4){opacity:.35}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(3){opacity:.55}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(2){opacity:.75}.ck.ck-presence-list__balloon{--ck-color-panel-border:var(--ck-color-presence-list-dropdown-arrow-border);--ck-color-panel-background:var(--ck-color-presence-list-dropdown-background);background-color:var(--ck-color-presence-list-dropdown-background);border:0;opacity:1;animation:fadeIn .3s ease-in-out}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper{max-height:80vh;min-width:var(--ck-presence-list-dropdown-list-min-width);max-width:var(--ck-presence-list-dropdown-list-max-width);overflow-y:auto;overflow-x:hidden;border-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item{font:inherit;color:inherit;border:0;padding:0;outline:none;background:none;display:flex;align-items:center;position:relative;padding:var(--ck-spacing-standard)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:first-of-type .ck-presence-list__marker{border-top-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:last-of-type .ck-presence-list__marker{border-bottom-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck-user__full-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ck-color-base-text);margin-left:var(--ck-spacing-standard)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck.ck-presence-list__marker{position:absolute;left:0;margin:0;height:100%;width:3px}.ck-presence-list__balloon button.ck-presence-list__dropdown-list-item *,.ck-presence-list__list button.ck-presence-list__list-item *{cursor:pointer}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}'},function(e,t,n){var i=n(9);var r=n(422);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-user-avatar-size:40px;--ck-user-avatar-background:#3670ab;--ck-user-avatar-color:#fff}.ck.ck-user{display:flex;justify-content:center;align-items:center;position:relative;border-radius:50%;overflow:hidden;background-color:var(--ck-user-avatar-background);height:var(--ck-user-avatar-size);width:var(--ck-user-avatar-size);min-width:var(--ck-user-avatar-size);min-height:var(--ck-user-avatar-size)}.ck.ck-user__name{color:var(--ck-user-avatar-color);cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-user__name.ck-user__name--hidden{display:none}.ck.ck-user__img{display:none;width:inherit;height:inherit;background-position:50%;background-repeat:no-repeat;background-size:cover;background-color:var(--ck-user-avatar-background);border-radius:50%;border:2px solid var(--ck-user-avatar-background)}.ck.ck-user__img.ck-user__anonymous{display:block;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%23FFF' d='M9.8 20H2c0-5.7 5-5.7 6-7l.2-.8c-1.6-.8-2.7-2.7-2.7-5 0-2.8 2-5.2 4.3-5.2S14 4.4 14 7.3c0 2.2-1 4-2.6 5l.2.6c1.2 1.3 6 1.4 6 7H9.8z'/%3E%3C/svg%3E\\\")}.ck.ck-user__img.ck-user__anonymous+.ck-user__name{display:none}.ck.ck-user__img.ck-user__avatar{display:block;background-color:#fff}.ck.ck-user__img.ck-user__img--hidden{display:none}\"},function(e,t,n){var i=n(9);var r=n(424);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-annotation-icon:grey;--ck-color-annotation-info:#757575;--ck-annotation-button-size:0.85em}.ck .ck-annotation{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:flex;position:relative;animation:fadeInLeft .3s;transition:background-color .3s ease;padding:var(--ck-spacing-standard)}.ck .ck-annotation .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotation-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-annotation__main{display:flex;flex-wrap:wrap;justify-content:space-between;width:calc(100% - var(--ck-user-avatar-size));transition:all .2s ease;border-radius:var(--ck-border-radius);padding-left:var(--ck-spacing-standard)}.ck .ck-annotation__main p{margin:0;white-space:normal;font-size:var(--ck-font-size-base);line-height:1.5em}.ck .ck-annotation__user{margin-top:var(--ck-spacing-small)}.ck .ck-annotation__info{display:flex;align-items:center;color:var(--ck-color-annotation-info);min-height:2.4em}.ck .ck-annotation__info-name,.ck .ck-annotation__info-time{font-weight:700;max-width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small)}.ck .ck-annotation__info-time{margin-left:var(--ck-spacing-large)}.ck .ck-annotation__actions{transition:opacity .2s ease;opacity:.5}.ck .ck-annotation__content-wrapper{width:100%}@keyframes fadeInLeft{0%{transform:translate3d(-5%,0,0);opacity:0}to{transform:translateZ(0);opacity:1}}\"},function(e,t,n){var i=n(109);var r=n(427);var o=n(224);function s(e){var t=i(e);var n=o(t,r(t));var s=n+1;return s}e.exports=s},function(e,t){var n=6e4;e.exports=function e(t){var i=new Date(t.getTime());var r=i.getTimezoneOffset();i.setSeconds(0,0);var o=i.getTime()%n;return r*n+o}},function(e,t,n){var i=n(109);function r(e){var t=i(e);var n=new Date(0);n.setFullYear(t.getFullYear(),0,1);n.setHours(0,0,0,0);return n}e.exports=r},function(e,t,n){var i=n(109);function r(e){var t=i(e);t.setHours(0,0,0,0);return t}e.exports=r},function(e,t,n){var i=n(109);var r=n(223);var o=n(431);var s=6048e5;function a(e){var t=i(e);var n=r(t).getTime()-o(t).getTime();return Math.round(n/s)+1}e.exports=a},function(e,t,n){var i=n(109);function r(e,t){var n=t?Number(t.weekStartsOn)||0:0;var r=i(e);var o=r.getDay();var s=(o<n?7:0)+o-n;r.setDate(r.getDate()-s);r.setHours(0,0,0,0);return r}e.exports=r},function(e,t,n){var i=n(258);var r=n(223);function o(e){var t=i(e);var n=new Date(0);n.setFullYear(t,0,4);n.setHours(0,0,0,0);var o=r(n);return o}e.exports=o},function(e,t,n){var i=n(257);function r(e){if(i(e)){return!isNaN(e)}else{throw new TypeError(toString.call(e)+\" is not an instance of Date\")}}e.exports=r},function(e,t,n){var i=n(434);var r=n(435);e.exports={distanceInWords:i(),format:r()}},function(e,t){function n(){var e={lessThanXSeconds:{one:\"less than a second\",other:\"less than {{count}} seconds\"},xSeconds:{one:\"1 second\",other:\"{{count}} seconds\"},halfAMinute:\"half a minute\",lessThanXMinutes:{one:\"less than a minute\",other:\"less than {{count}} minutes\"},xMinutes:{one:\"1 minute\",other:\"{{count}} minutes\"},aboutXHours:{one:\"about 1 hour\",other:\"about {{count}} hours\"},xHours:{one:\"1 hour\",other:\"{{count}} hours\"},xDays:{one:\"1 day\",other:\"{{count}} days\"},aboutXMonths:{one:\"about 1 month\",other:\"about {{count}} months\"},xMonths:{one:\"1 month\",other:\"{{count}} months\"},aboutXYears:{one:\"about 1 year\",other:\"about {{count}} years\"},xYears:{one:\"1 year\",other:\"{{count}} years\"},overXYears:{one:\"over 1 year\",other:\"over {{count}} years\"},almostXYears:{one:\"almost 1 year\",other:\"almost {{count}} years\"}};function t(t,n,i){i=i||{};var r;if(typeof e[t]===\"string\"){r=e[t]}else if(n===1){r=e[t].one}else{r=e[t].other.replace(\"{{count}}\",n)}if(i.addSuffix){if(i.comparison>0){return\"in \"+r}else{return r+\" ago\"}}return r}return{localize:t}}e.exports=n},function(e,t,n){var i=n(436);function r(){var e=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];var t=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var n=[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"];var r=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];var s=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];var a=[\"AM\",\"PM\"];var c=[\"am\",\"pm\"];var l=[\"a.m.\",\"p.m.\"];var d={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return s[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?c[1]:c[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};var u=[\"M\",\"D\",\"DDD\",\"d\",\"Q\",\"W\"];u.forEach((function(e){d[e+\"o\"]=function(t,n){return o(n[e](t))}}));return{formatters:d,formattingTokensRegExp:i(d)}}function o(e){var t=e%100;if(t>20||t<10){switch(t%10){case 1:return e+\"st\";case 2:return e+\"nd\";case 3:return e+\"rd\"}}return e+\"th\"}e.exports=r},function(e,t){var n=[\"M\",\"MM\",\"Q\",\"D\",\"DD\",\"DDD\",\"DDDD\",\"d\",\"E\",\"W\",\"WW\",\"YY\",\"YYYY\",\"GG\",\"GGGG\",\"H\",\"HH\",\"h\",\"hh\",\"m\",\"mm\",\"s\",\"ss\",\"S\",\"SS\",\"SSS\",\"Z\",\"ZZ\",\"X\",\"x\"];function i(e){var t=[];for(var i in e){if(e.hasOwnProperty(i)){t.push(i)}}var r=n.concat(t).sort().reverse();var o=new RegExp(\"(\\\\[[^\\\\[]*\\\\])|(\\\\\\\\)?\"+\"(\"+r.join(\"|\")+\"|.)\",\"g\");return o}e.exports=i},function(e,t,n){var i=n(9);var r=n(438);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-color-comment-background:#f3f7fb;--ck-color-comment-separator:#cddeef;--ck-color-comment-remove-background:#fcc;--ck-color-comment-input-background:var(--ck-color-comment-background)}.ck .ck-comment__wrapper{font-size:var(--ck-font-size-base);position:relative;outline:0;transition:all .3s linear}.ck .ck-comment__wrapper.ck-comment--remove-confirmation{transform:translate3d(-100%,0,0)}.ck .ck-comment__wrapper:first-of-type{border-top-right-radius:var(--ck-border-radius);border-top-left-radius:var(--ck-border-radius)}.ck .ck-comment:after{content:\"\";display:block;position:absolute;opacity:1;top:calc(var(--ck-user-avatar-size) + var(--ck-spacing-small));left:calc(var(--ck-spacing-standard) + var(--ck-user-avatar-size)/2 - 2px);width:4px;height:100%;background-color:var(--ck-color-comment-separator)}.ck .ck-comment--remove{background-color:var(--ck-color-comment-remove-background)}.ck .ck-comment--remove:after{opacity:0}.ck .ck-comment--edit{background-color:var(--ck-color-comment-input-background)}.ck .ck-comment--edit:after{opacity:0}.ck .ck-comment__main .ck-comment__input-wrapper{display:flex;flex-direction:column;position:relative;transition:all .3s linear}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input{padding:0}.ck .ck-comment__content{word-break:break-word}.ck .ck-comment__user{z-index:var(--ck-z-default)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--submit{color:var(--ck-color-button-save)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--cancel{color:var(--ck-color-button-cancel)}.ck .ck-comment__input p,.ck .ck-comment p{margin:0}.ck .ck-comment__input ol,.ck .ck-comment__input ul,.ck .ck-comment ol,.ck .ck-comment ul{padding-left:10px;margin-left:10px}.ck .ck-comment__input ul,.ck .ck-comment ul{list-style:disc;margin-bottom:5px;margin-top:0}.ck .ck-comment__input ul ul,.ck .ck-comment ul ul{list-style:circle}.ck .ck-comment__input ul ul ul,.ck .ck-comment ul ul ul{list-style:square}'},function(e,t,n){var i=n(9);var r=n(440);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-color-thread-remove-background:var(--ck-color-comment-remove-background);--ck-color-comment-count:#5891ca}.ck .ck-thread{width:100%;color:var(--ck-color-base-text);outline:0;background-color:var(--ck-color-base-background);overflow:hidden;transition:all .3s ease;border-radius:var(--ck-border-radius)}.ck .ck-thread__comments .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread__container{transition:transform .3s ease}.ck .ck-thread__comments{position:relative;z-index:var(--ck-z-default);list-style:none;margin:0;padding:0;border-radius:var(--ck-border-radius);overflow:hidden}.ck .ck-thread__comment-count{--ck-user-avatar-size:28px;padding-left:calc(var(--ck-user-avatar-size) + var(--ck-spacing-standard)*2);color:var(--ck-color-comment-count);font-size:var(--ck-font-size-base);font-weight:700;cursor:pointer;transition:background-color .3s ease}.ck .ck-thread__comment-count:before{content:\"\\\\25BC\";margin-right:var(--ck-spacing-small)}.ck .ck-thread--active .ck-comment__options.ck-dropdown{display:block}.ck .ck-thread--active .ck-thread__input{display:block;background-color:var(--ck-color-comment-background)}.ck .ck-thread--remove .ck-comment{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-thread__input--active{background-color:var(--ck-color-base-background)}.ck .ck-thread--remove .ck-thread__comment-count,.ck .ck-thread--remove .ck-thread__input--active.ck-thread__input{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-comment__wrapper .ck-comment:after{opacity:0}.ck .ck-thread--remove-confirmation .ck-thread__container{transform:translate3d(-100%,0,0)}.ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck .ck-thread__remove-confirm{font-size:var(--ck-font-size-base);position:absolute;display:flex;justify-content:flex-start;top:0;left:100%;width:100%;height:100%;background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:var(--ck-spacing-standard);height:100%;width:100%;max-height:400px}.ck .ck-thread__remove-confirm p{font-weight:700;margin:0}.ck .ck-thread__input{width:calc(100% - var(--ck-user-avatar-size));transition:background-color .2s ease-in-out;border-radius:var(--ck-border-radius)}'},function(e,t,n){var i=n(9);var r=n(442);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-comment__input-container{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:none;padding:var(--ck-spacing-standard);background:var(--ck-color-comment-background)}.ck .ck-comment__input-container--active{display:flex}.ck .ck-comment__input{padding:var(--ck-spacing-standard);padding-top:var(--ck-spacing-medium);color:var(--ck-color-base-text);border-width:0;resize:none;background-color:transparent;transition:color .3s ease-in-out}.ck .ck-comment__input:focus{outline:none}.ck .ck-comment__input .ck-editor__editable_inline{--ck-focus-ring:none;--ck-inner-shadow:none;padding:0;overflow:visible;border:0;background-color:transparent;word-break:break-word}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :first-child{margin-top:0}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :last-child{margin-bottom:0}.ck .ck-comment__input-actions{width:100%;text-align:right;display:none}.ck .ck-comment__input-actions.ck-comment__input-actions--active{display:block}.ck .ck-comment__input-actions .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotations-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-comment__input-actions .ck-button.ck-disabled{opacity:.3}.ck .ck-comment__input-textarea{display:block}\"},function(e,t,n){var i=n(9);var r=n(444);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-user__marker{display:inline;position:relative;cursor:default}.ck .ck-user__marker:after{content:attr(data-name);display:none;position:absolute;font-family:Georgia,sans-serif;font-size:var(--ck-font-size-base);line-height:1;font-style:normal;font-weight:400;left:0;opacity:0;top:-20px;padding:var(--ck-spacing-small);color:#fff;white-space:nowrap;transition:opacity .2s linear,transform .3s ease-in-out;z-index:99999}.ck .ck-user__marker:hover .ck-user__marker-dot{width:0}.ck .ck-user__marker:hover:after{display:block;opacity:1;animation:fadeInLeft .3s ease-in-out}.ck .ck-user__marker-line{position:absolute;bottom:0;height:100%;width:0}.ck .ck-user__marker-dot{display:block;position:absolute;left:50%;top:calc(var(--ck-user-dot-size)/2*-1);width:var(--ck-user-dot-size);height:var(--ck-user-dot-size);border-radius:50%;transform:translate(-50%,-50%);cursor:default}.ck .ck-placeholder .ck-user__marker{display:none}@keyframes fadeInLeft{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}\"},function(e,t,n){var i=n(259);var r=n(260);var o;var s;var a=0;var c=0;function l(e,t,n){var l=t&&n||0;var d=t||[];e=e||{};var u=e.node||o;var h=e.clockseq!==undefined?e.clockseq:s;if(u==null||h==null){var f=i();if(u==null){u=o=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]}if(h==null){h=s=(f[6]<<8|f[7])&16383}}var m=e.msecs!==undefined?e.msecs:(new Date).getTime();var g=e.nsecs!==undefined?e.nsecs:c+1;var p=m-a+(g-c)/1e4;if(p<0&&e.clockseq===undefined){h=h+1&16383}if((p<0||m>a)&&e.nsecs===undefined){g=0}if(g>=1e4){throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\")}a=m;c=g;s=h;m+=122192928e5;var b=((m&268435455)*1e4+g)%4294967296;d[l++]=b>>>24&255;d[l++]=b>>>16&255;d[l++]=b>>>8&255;d[l++]=b&255;var _=m/4294967296*1e4&268435455;d[l++]=_>>>8&255;d[l++]=_&255;d[l++]=_>>>24&15|16;d[l++]=_>>>16&255;d[l++]=h>>>8|128;d[l++]=h&255;for(var w=0;w<6;++w){d[l+w]=u[w]}return t?t:r(d)}e.exports=l},function(e,t,n){var i=n(259);var r=n(260);function o(e,t,n){var o=t&&n||0;if(typeof e==\"string\"){t=e===\"binary\"?new Array(16):null;e=null}e=e||{};var s=e.random||(e.rng||i)();s[6]=s[6]&15|64;s[8]=s[8]&63|128;if(t){for(var a=0;a<16;++a){t[o+a]=s[a]}}return t||r(s)}e.exports=o},function(e,t,n){var i=n(9);var r=n(448);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-comment-marker:#fef7a9;--ck-color-comment-marker-active:#fdf05d}.ck-comment-marker{background:var(--ck-color-comment-marker);border-top:3px solid transparent;border-bottom:3px solid transparent}.ck-comment-marker.ck-widget{background-color:transparent;border:3px solid var(--ck-color-comment-marker)}.ck-comment-marker--active{background:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget{border-color:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget .ck-comment-marker{background-color:var(--ck-color-comment-marker)}.ck-comment-marker--active .ck-comment-marker{background:var(--ck-color-comment-marker-active)}\"},function(e,t,n){var i=n(9);var r=n(450);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-inline-annotation-container-width:300px;--ck-inline-annotation-container-max-height:400px}.ck.ck-balloon-panel .ck-annotation-wrapper{position:static;width:var(--ck-inline-annotation-container-width);max-height:var(--ck-inline-annotation-container-max-height);overflow-y:auto;overscroll-behavior-y:contain;overflow-x:hidden}.ck.ck-balloon-panel .ck-annotation{animation:none}.ck.ck-balloon-panel .ck-annotation-wrapper *{white-space:normal}.ck.ck-balloon-panel .ck-annotation-wrapper strong{font-weight:700}.ck.ck-balloon-panel .ck-annotation-wrapper i{font-style:italic}.ck.ck-balloon-panel button.ck-suggestion--accept .ck-tooltip__text,.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{text-align:center}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip{left:unset;right:0}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{left:unset}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text:after{left:calc(100% - 10px)}\"},function(e,t,n){var i=n(9);var r=n(452);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-annotation-wrapper-background:#fff;--ck-color-annotation-wrapper-drop-shadow:0 1px 1px 1px #e6e6e6}.ck.ck-sidebar{position:relative;transition:min-height .25s ease;outline:0}.ck-sidebar-item{position:absolute;width:100%;transition:top .3s ease,box-shadow .3s ease}.ck-sidebar-item--no-animation{transition:top 0s ease!important}.ck.ck-annotation-wrapper{outline:0;border-radius:var(--ck-border-radius);background:var(--ck-color-annotation-wrapper-background);box-shadow:var(--ck-color-annotation-wrapper-drop-shadow)}.ck.ck-annotation-wrapper:not(.ck-annotation-wrapper--active):hover{box-shadow:var(--ck-drop-shadow)}.ck.ck-annotation-wrapper--active{box-shadow:var(--ck-drop-shadow-active)}.ck.ck-annotation-wrapper--active .ck-annotation__actions,.ck.ck-annotation-wrapper:hover .ck-annotation__actions{opacity:1}.ck.ck-annotation-wrapper--active .ck-suggestion--accept,.ck.ck-annotation-wrapper:hover .ck-suggestion--accept{color:var(--ck-color-button-save)}.ck.ck-annotation-wrapper--active .ck-suggestion--discard,.ck.ck-annotation-wrapper:hover .ck-suggestion--discard{color:var(--ck-color-button-cancel)}\"},function(e,t,n){var i=n(9);var r=n(454);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-annotation-counter-icon-size:18px;--ck-annotation-counter-number-size:10px;--ck-color-annotation-counter-comment:#f2de02;--ck-color-annotation-counter-suggestion-insertion:#5ad86b;--ck-color-annotation-counter-suggestion-deletion:#d85a79;--ck-color-annotation-counter-suggestion-format:#5ac1d8}.ck.ck-sidebar--narrow .ck-sidebar-item{display:flex;justify-content:center}.ck.ck-sidebar--narrow .ck-annotation-counter{font-size:var(--ck-annotation-counter-icon-size);min-height:unset;padding:0;cursor:pointer;color:grey}.ck.ck-sidebar--narrow .ck-annotation-counter:focus,.ck.ck-sidebar--narrow .ck-annotation-counter:hover{background:transparent;box-shadow:none;color:#4d4d4d}.ck.ck-sidebar--narrow .ck-annotation-counter__badge{border-radius:50%;position:absolute;width:16px;height:16px;background:#333;font-weight:700;color:#fff;font-size:var(--ck-annotation-counter-number-size);font-family:var(--ck-font-face);right:0;top:0;text-shadow:-1px 0 2px #444,1px 0 2px #444;display:flex;justify-content:center;line-height:16px;z-index:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--edit-mode{line-height:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-insertion,.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-replace{background:var(--ck-color-annotation-counter-suggestion-insertion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-deletion{background:var(--ck-color-annotation-counter-suggestion-deletion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-format{background:var(--ck-color-annotation-counter-suggestion-format)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--comment{background:var(--ck-color-annotation-counter-comment)}\"},function(e,t){e.exports=\":root{--ck-color-comment-box-border:#f2de02;--ck-color-suggestion-box-deletion-border:#d85a79;--ck-color-suggestion-box-insertion-border:#5ad86b;--ck-color-suggestion-box-format-border:#5ac1d8}.ck .ck-suggestion{border-top-left-radius:var(--ck-border-radius)}.ck .ck-annotation{border-left:3px solid transparent}.ck .ck-comment,.ck .ck-comment__input-container,.ck .ck-thread__comment-count{border-left:3px solid var(--ck-color-comment-box-border)}.ck .ck-suggestion-insertion .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-replace .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-format .ck-suggestion{border-left-color:var(--ck-color-suggestion-box-format-border)}.ck .ck-suggestion-wrapper{outline:0}.ck .ck-suggestion-type{font-weight:700}.ck .ck-suggestion-insertion .ck-comment,.ck .ck-suggestion-insertion .ck-comment__input-container,.ck .ck-suggestion-insertion .ck-thread__comment-count,.ck .ck-suggestion-replace .ck-comment,.ck .ck-suggestion-replace .ck-comment__input-container,.ck .ck-suggestion-replace .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion .ck-comment,.ck .ck-suggestion-deletion .ck-comment__input-container,.ck .ck-suggestion-deletion .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-format .ck-comment,.ck .ck-suggestion-format .ck-comment__input-container,.ck .ck-suggestion-format .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-format-border)}\"},function(e,t){e.exports=':root{--ck-color-suggestion-marker-insertion-border:rgba(30,174,49,0.35);--ck-color-suggestion-marker-insertion-border-active:rgba(19,109,31,0.5);--ck-color-suggestion-marker-insertion-background:rgba(102,229,119,0.35);--ck-color-suggestion-marker-insertion-background-active:rgba(37,218,61,0.5);--ck-color-suggestion-marker-deletion-border:rgba(174,30,66,0.35);--ck-color-suggestion-marker-deletion-border-active:rgba(109,19,41,0.5);--ck-color-suggestion-marker-deletion-background:rgba(229,102,134,0.35);--ck-color-suggestion-marker-deletion-background-active:rgba(218,37,82,0.5);--ck-color-suggestion-marker-deletion-stroke:rgba(87,15,33,0.5);--ck-color-suggestion-marker-format-border:rgba(10,160,194,0.4);--ck-color-suggestion-marker-format-border-active:rgba(10,160,194,0.65);--ck-color-suggestion-widget-insertion-background:rgba(102,229,119,0.05);--ck-color-suggestion-widget-insertion-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-widget-deletion-background:rgba(229,102,134,0.05);--ck-color-suggestion-widget-deletion-background-active:rgba(196,33,74,0.07);--ck-color-suggestion-widget-format-background:rgba(10,160,194,0.09);--ck-color-suggestion-widget-format-background-active:rgba(10,160,194,0.16)}.ck-suggestion-marker-insertion{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background)}.ck-suggestion-marker-insertion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-suggestion-marker-insertion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-deletion{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background)}.ck-suggestion-marker-deletion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-suggestion-marker-deletion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-merge:after{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background);color:var(--ck-color-suggestion-marker-deletion-stroke);content:\"¶\"}.ck-suggestion-marker-merge.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-suggestion-marker-split:after{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background);color:var(--ck-color-suggestion-marker-insertion-border);content:\"¶\"}.ck-suggestion-marker-split.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-suggestion-marker-formatInline{border-top:3px solid var(--ck-color-suggestion-marker-format-border);border-bottom:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatInline.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-formatInline.ck-widget{background:none;border:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatInline.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-formatBlock{border:0;background:none;box-shadow:-7px 0 0 0 var(--ck-color-base-background),-10px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-5px 0 0 0 var(--ck-color-base-background),-8px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content ol .ck-suggestion-marker-formatBlock,.ck-content ul .ck-suggestion-marker-formatBlock{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content ol .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-content ul .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}'},function(e,t,n){var i=n(9);var r=n(458);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-suggestion-marker-deletion.ck-widget.ck-horizontal-line{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-suggestion-marker-deletion.ck-widget.ck-horizontal-line.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-suggestion-marker-insertion.ck-widget.ck-horizontal-line{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-suggestion-marker-insertion.ck-widget.ck-horizontal-line.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}\"},function(e,t,n){var i=n(9);var r=n(460);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-suggestion-marker-deletion.ck-widget.image{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-suggestion-marker-deletion.ck-widget.image img{opacity:.6}.ck-suggestion-marker-deletion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active,.ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-suggestion-marker-insertion.ck-widget.image,.ck-suggestion-marker-insertion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active,.ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}\"},function(e,t,n){var i=n(9);var r=n(462);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-suggestion-marker-deletion.ck-widget.media{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-suggestion-marker-deletion.ck-widget.media .ck-media__wrapper{opacity:.6}.ck-suggestion-marker-deletion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-suggestion-marker-insertion.ck-widget.media{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-suggestion-marker-insertion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}\"},function(e,t,n){var i=n(9);var r=n(464);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-suggestion-marker-deletion.ck-widget.page-break{background-color:var(--ck-color-suggestion-widget-deletion-background)}.ck-suggestion-marker-deletion.ck-widget.page-break.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-suggestion-marker-insertion.ck-widget.page-break{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-suggestion-marker-insertion.ck-widget.page-break.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}\"},function(e,t,n){var i=n(9);var r=n(466);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-suggestion-widget-th-insertion-background:rgba(102,229,119,0.12);--ck-color-suggestion-widget-th-insertion-background-active:rgba(37,218,61,0.14);--ck-color-suggestion-widget-th-deletion-background:rgba(229,102,134,0.14);--ck-color-suggestion-widget-th-deletion-background-active:rgba(196,33,74,0.16)}.ck-content figure.table .ck-suggestion-marker-formatBlock{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content figure.table .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-deletion.ck-widget.table table{border-color:var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.table th{background-color:var(--ck-color-suggestion-widget-th-deletion-background);border-color:var(--ck-color-suggestion-marker-deletion-border);text-decoration:none}.ck-suggestion-marker-deletion.ck-widget.table td{background-color:var(--ck-color-suggestion-widget-deletion-background);border-color:var(--ck-color-suggestion-marker-deletion-border);text-decoration:none}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active table{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active th{background-color:var(--ck-color-suggestion-widget-th-deletion-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active td{background-color:var(--ck-color-suggestion-widget-deletion-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table table,.ck-suggestion-marker-insertion.ck-widget.table th{border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.table th{background-color:var(--ck-color-suggestion-widget-th-insertion-background)}.ck-suggestion-marker-insertion.ck-widget.table td{background-color:var(--ck-color-suggestion-widget-insertion-background);border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active table{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active th{background-color:var(--ck-color-suggestion-widget-th-insertion-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active td{background-color:var(--ck-color-suggestion-widget-insertion-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-widget.table th.ck-suggestion-marker-insertion{background-color:var(--ck-color-suggestion-widget-th-insertion-background)}.ck-widget.table th.ck-suggestion-marker-insertion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-th-insertion-background-active)}.ck-widget.table th.ck-suggestion-marker-deletion{background-color:var(--ck-color-suggestion-widget-th-deletion-background);text-decoration:none}.ck-widget.table th.ck-suggestion-marker-deletion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-th-deletion-background-active)}.ck-widget.table td.ck-suggestion-marker-insertion{background-color:var(--ck-color-suggestion-widget-insertion-background)}.ck-widget.table td.ck-suggestion-marker-insertion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-insertion-background-active)}.ck-widget.table td.ck-suggestion-marker-deletion{background-color:var(--ck-color-suggestion-widget-deletion-background);text-decoration:none}.ck-widget.table td.ck-suggestion-marker-deletion.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-deletion-background-active)}.ck-widget.table td.ck-suggestion-marker-formatBlock,.ck-widget.table td.ck-suggestion-marker-formatInline,.ck-widget.table th.ck-suggestion-marker-formatBlock,.ck-widget.table th.ck-suggestion-marker-formatInline{background-color:var(--ck-color-suggestion-widget-format-background);box-shadow:none}.ck-widget.table td.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-widget.table td.ck-suggestion-marker-formatInline.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-formatInline.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-widget-format-background-active);box-shadow:none}\"},function(e,t,n){var i=n(9);var r=n(468);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-restricted-editing-exception-background:rgba(255,169,77,0.2);--ck-color-restricted-editing-exception-hover-background:rgba(255,169,77,0.35);--ck-color-restricted-editing-exception-brackets:rgba(204,105,0,0.4);--ck-color-restricted-editing-selected-exception-background:rgba(255,169,77,0.5);--ck-color-restricted-editing-selected-exception-brackets:rgba(204,105,0,0.6)}.ck-editor__editable .restricted-editing-exception{transition:background .2s ease-in-out;background-color:var(--ck-color-restricted-editing-exception-background);border:1px solid;border-image:linear-gradient(90deg,var(--ck-color-restricted-editing-exception-brackets) 0,var(--ck-color-restricted-editing-exception-brackets) 5px,transparent 6px,transparent calc(100% - 6px),var(--ck-color-restricted-editing-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-exception-brackets)) 1}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_selected{background-color:var(--ck-color-restricted-editing-selected-exception-background);border-image:linear-gradient(90deg,var(--ck-color-restricted-editing-selected-exception-brackets) 0,var(--ck-color-restricted-editing-selected-exception-brackets) 5px,var(--ck-color-restricted-editing-selected-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-selected-exception-brackets)) 1}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_collapsed{padding-left:1ch}.ck-restricted-editing_mode_restricted,.ck-restricted-editing_mode_restricted *{cursor:default}.ck-restricted-editing_mode_restricted .restricted-editing-exception,.ck-restricted-editing_mode_restricted .restricted-editing-exception *{cursor:text}.ck-restricted-editing_mode_restricted .restricted-editing-exception:hover{background:var(--ck-color-restricted-editing-exception-hover-background)}\"},function(e,t,n){var i=n(9);var r=n(470);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}\"},function(e,t,n){var i=n(9);var r=n(472);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-character-grid .ck-character-grid__tiles{display:grid;grid-template-columns:repeat(10,1fr)}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{overflow-y:auto;overflow-x:hidden;width:350px;max-height:200px}.ck.ck-character-grid .ck-character-grid__tiles{margin:var(--ck-spacing-standard) var(--ck-spacing-large);grid-gap:var(--ck-spacing-standard)}.ck.ck-character-grid .ck-character-grid__tile{width:var(--ck-character-grid-tile-size);height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);font-size:1.2em;padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);width:100%;text-align:center}\"},function(e,t,n){var i=n(9);var r=n(474);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-character-info{display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large);border-top:1px solid var(--ck-color-base-border)}.ck.ck-character-info>*{text-transform:uppercase;font-size:var(--ck-font-size-small)}.ck.ck-character-info .ck-character-info__name{max-width:280px;text-overflow:ellipsis;overflow:hidden}.ck.ck-character-info .ck-character-info__code{opacity:.6}\"},function(e,t,n){var i=n(9);var r=n(476);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck.ck-special-characters-navigation>.ck-label{max-width:160px;text-overflow:ellipsis;overflow:hidden}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}\"},function(e,t,n){var i=n(9);var r=n(478);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}\"},function(e,t,n){var i=n(9);var r=n(480);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}\"},function(e,t,n){var i=n(9);var r=n(482);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:\"\";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(e,t,n){var i=n(9);var r=n(484);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=\".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}\"},function(e,t,n){var i=n(9);var r=n(486);r=r.__esModule?r.default:r;if(typeof r===\"string\"){r=[[e.i,r,\"\"]]}var o={injectType:\"singletonStyleTag\",attributes:{\"data-cke\":true}};o.insert=\"head\";o.singleton=true;var s=i(r,o);e.exports=r.locals||{}},function(e,t){e.exports=':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;display:inline-block;position:relative;width:var(--ck-todo-list-checkmark-size);height:var(--ck-todo-list-checkmark-size);vertical-align:middle;border:0;left:-25px;margin-right:-15px;right:0;margin-left:0}.ck-content .todo-list .todo-list__label>input:before{display:block;position:absolute;box-sizing:border-box;content:\"\";width:100%;height:100%;border:1px solid #333;border-radius:2px;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out}.ck-content .todo-list .todo-list__label>input:after{display:block;position:absolute;box-sizing:content-box;pointer-events:none;content:\"\";left:calc(var(--ck-todo-list-checkmark-size)/3);top:calc(var(--ck-todo-list-checkmark-size)/5.3);width:calc(var(--ck-todo-list-checkmark-size)/5.3);height:calc(var(--ck-todo-list-checkmark-size)/2.6);border-left:0 solid transparent;border-bottom:calc(var(--ck-todo-list-checkmark-size)/8) solid transparent;border-right:calc(var(--ck-todo-list-checkmark-size)/8) solid transparent;border-top:0 solid transparent;transform:rotate(45deg)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-right:0;right:-25px;margin-left:-15px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}'},function(e,t,n){\"use strict\";n.r(t);var i={};n.r(i);n.d(i,\"Encoder\",(function(){return Sf}));n.d(i,\"Decoder\",(function(){return Of}));var r=n(190);var o=n(174);var s=n(91);var a=n(204);function c({origin:e,originKeystrokeHandler:t,originFocusTracker:n,toolbar:i,beforeFocus:r,afterBlur:o}){n.add(i.element);t.set(\"Alt+F10\",(e,t)=>{if(n.isFocused&&!i.focusTracker.isFocused){if(r){r()}i.focus();t()}});i.keystrokes.set(\"Esc\",(t,n)=>{if(i.focusTracker.isFocused){e.focus();if(o){o()}n()}})}function l(e){if(Array.isArray(e)){return{items:e}}if(!e){return{items:[]}}return Object.assign({items:[]},e)}var d=n(111);class u extends a[\"a\"]{constructor(e,t){super(e);this.view=t;this._toolbarConfig=l(e.config.get(\"toolbar\"))}init(){const e=this.editor;const t=this.view;const n=e.editing.view;const i=t.editable;const r=n.document.getRoot();t.editable.name=r.rootName;t.render();const o=i.element;this.setEditableElement(i.name,o);this.focusTracker.add(o);t.editable.bind(\"isFocused\").to(this.focusTracker);n.attachDomRoot(o);this._initPlaceholder();this._initToolbar();this.fire(\"ready\")}destroy(){const e=this.view;const t=this.editor.editing.view;t.detachDomRoot(e.editable.name);e.destroy();super.destroy()}_initToolbar(){const e=this.editor;const t=this.view;const n=t.toolbar;n.fillFromConfig(this._toolbarConfig.items,this.componentFactory);c({origin:e.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:n})}_initPlaceholder(){const e=this.editor;const t=e.editing.view;const n=t.document.getRoot();const i=e.sourceElement;const r=e.config.get(\"placeholder\")||i&&i.tagName.toLowerCase()===\"textarea\"&&i.getAttribute(\"placeholder\");if(r){Object(d[\"b\"])({view:t,element:n,text:r,isDirectHost:false})}}}var h=n(176);var f=n(205);var m=n(3);var g=n(26);var p=n(48);var b=n(31);class _ extends m[\"a\"]{constructor(e){super(e);this.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-toolbar__separator\"]}})}}var w=n(4);var v=n(29);var k=n(18);var x=n(56);const y=100;class C{constructor(e,t){if(!C._observerInstance){C._createObserver()}this._element=e;this._callback=t;C._addElementCallback(e,t);C._observerInstance.observe(e)}destroy(){C._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){if(!C._elementCallbacks){C._elementCallbacks=new Map}let n=C._elementCallbacks.get(e);if(!n){n=new Set;C._elementCallbacks.set(e,n)}n.add(t)}static _deleteElementCallback(e,t){const n=C._getElementCallbacks(e);if(n){n.delete(t);if(!n.size){C._elementCallbacks.delete(e);C._observerInstance.unobserve(e)}}if(C._elementCallbacks&&!C._elementCallbacks.size){C._observerInstance=null;C._elementCallbacks=null}}static _getElementCallbacks(e){if(!C._elementCallbacks){return null}return C._elementCallbacks.get(e)}static _createObserver(){let e;if(typeof v[\"a\"].window.ResizeObserver===\"function\"){e=v[\"a\"].window.ResizeObserver}else{e=A}C._observerInstance=new e(e=>{for(const t of e){if(!t.target.offsetParent){continue}const e=C._getElementCallbacks(t.target);if(e){for(const n of e){n(t)}}}})}}C._observerInstance=null;C._elementCallbacks=null;class A{constructor(e){this._callback=e;this._elements=new Set;this._previousRects=new Map;this._periodicCheckTimeout=null}observe(e){this._elements.add(e);this._checkElementRectsAndExecuteCallback();if(this._elements.size===1){this._startPeriodicCheck()}}unobserve(e){this._elements.delete(e);this._previousRects.delete(e);if(!this._elements.size){this._stopPeriodicCheck()}}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback();this._periodicCheckTimeout=setTimeout(e,y)};this.listenTo(v[\"a\"].window,\"resize\",()=>{this._checkElementRectsAndExecuteCallback()});this._periodicCheckTimeout=setTimeout(e,y)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout);this.stopListening();this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const e=[];for(const t of this._elements){if(this._hasRectChanged(t)){e.push({target:t,contentRect:this._previousRects.get(t)})}}if(e.length){this._callback(e)}}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e)){return false}const t=new k[\"a\"](e);const n=this._previousRects.get(e);const i=!n||!n.isEqual(t);this._previousRects.set(e,t);return i}}Object(w[\"a\"])(A,x[\"a\"]);function T(e){return e.bindTemplate.to(t=>{if(t.target===e.element){t.preventDefault()}})}class E extends m[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;this.set(\"isVisible\",false);this.set(\"position\",\"se\");this.children=this.createCollection();this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-reset\",\"ck-dropdown__panel\",t.to(\"position\",e=>`ck-dropdown__panel_${e}`),t.if(\"isVisible\",\"ck-dropdown__panel-visible\")]},children:this.children,on:{selectstart:t.to(e=>e.preventDefault())}})}focus(){if(this.children.length){this.children.first.focus()}}focusLast(){if(this.children.length){const e=this.children.last;if(typeof e.focusLast===\"function\"){e.focusLast()}else{e.focus()}}}}var S=n(281);function O(e){if(!e||!e.parentNode){return null}if(e.offsetParent===v[\"a\"].document.body){return null}return e.offsetParent}var I=n(172);var P=n(117);function M({element:e,target:t,positions:n,limiter:i,fitInViewport:r}){if(Object(P[\"a\"])(t)){t=t()}if(Object(P[\"a\"])(i)){i=i()}const o=O(e);const s=new k[\"a\"](e);const a=new k[\"a\"](t);let c;let l;if(!i&&!r){[l,c]=R(n[0],a,s)}else{const e=i&&new k[\"a\"](i).getVisible();const t=r&&new k[\"a\"](v[\"a\"].window);const o=N(n,{targetRect:a,elementRect:s,limiterRect:e,viewportRect:t});[l,c]=o||R(n[0],a,s)}let d=B(c);if(o){d=L(d,o)}return{left:d.left,top:d.top,name:l}}function R(e,t,n){const i=e(t,n);if(!i){return null}const{left:r,top:o,name:s}=i;return[s,n.clone().moveTo(r,o)]}function N(e,t){const{elementRect:n,viewportRect:i}=t;const r=n.getArea();const o=j(e,t);if(i){const e=o.filter(({viewportIntersectArea:e})=>e===r);const t=D(e,r);if(t){return t}}return D(o,r)}function j(e,{targetRect:t,elementRect:n,limiterRect:i,viewportRect:r}){const o=[];const s=n.getArea();for(const a of e){const e=R(a,t,n);if(!e){continue}const[c,l]=e;let d=0;let u=0;if(i){if(r){const e=i.getIntersection(r);if(e){d=e.getIntersectionArea(l)}}else{d=i.getIntersectionArea(l)}}if(r){u=r.getIntersectionArea(l)}const h={positionName:c,positionRect:l,limiterIntersectArea:d,viewportIntersectArea:u};if(d===s){return[h]}o.push(h)}return o}function D(e,t){let n=0;let i;let r;for(const{positionName:o,positionRect:s,limiterIntersectArea:a,viewportIntersectArea:c}of e){if(a===t){return[o,s]}const e=c**2+a**2;if(e>n){n=e;i=s;r=o}}return i?[r,i]:null}function L({left:e,top:t},n){const i=B(new k[\"a\"](n));const r=Object(I[\"a\"])(n);e-=i.left;t-=i.top;e+=n.scrollLeft;t+=n.scrollTop;e-=r.left;t-=r.top;return{left:e,top:t}}function B({left:e,top:t}){const{scrollX:n,scrollY:i}=v[\"a\"].window;return{left:e+n,top:t+i}}class F extends m[\"a\"]{constructor(e,t,n){super(e);const i=this.bindTemplate;this.buttonView=t;this.panelView=n;this.set(\"isOpen\",false);this.set(\"isEnabled\",true);this.set(\"class\");this.set(\"id\");this.set(\"panelPosition\",\"auto\");this.keystrokes=new b[\"a\"];this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-dropdown\",i.to(\"class\"),i.if(\"isEnabled\",\"ck-disabled\",e=>!e)],id:i.to(\"id\"),\"aria-describedby\":i.to(\"ariaDescribedById\")},children:[t,n]});t.extendTemplate({attributes:{class:[\"ck-dropdown__button\"]}})}render(){super.render();this.listenTo(this.buttonView,\"open\",()=>{this.isOpen=!this.isOpen});this.panelView.bind(\"isVisible\").to(this,\"isOpen\");this.on(\"change:isOpen\",()=>{if(!this.isOpen){return}if(this.panelPosition===\"auto\"){this.panelView.position=F._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:true,positions:this._panelPositions}).name}else{this.panelView.position=this.panelPosition}});this.keystrokes.listenTo(this.element);const e=(e,t)=>{if(this.isOpen){this.buttonView.focus();this.isOpen=false;t()}};this.keystrokes.set(\"arrowdown\",(e,t)=>{if(this.buttonView.isEnabled&&!this.isOpen){this.isOpen=true;t()}});this.keystrokes.set(\"arrowright\",(e,t)=>{if(this.isOpen){t()}});this.keystrokes.set(\"arrowleft\",e);this.keystrokes.set(\"esc\",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:n,northWest:i}=F.defaultPanelPositions;if(this.locale.uiLanguageDirection===\"ltr\"){return[e,t,n,i]}else{return[t,e,i,n]}}}F.defaultPanelPositions={southEast:e=>({top:e.bottom,left:e.left,name:\"se\"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:\"sw\"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:\"ne\"}),northWest:(e,t)=>({top:e.bottom-t.height,left:e.left-t.width+e.width,name:\"nw\"})};F._getOptimalPosition=M;var z=n(7);var V='<svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z\"/></svg>';var U=n(100);class H extends z[\"a\"]{constructor(e){super(e);this.arrowView=this._createArrowView();this.extendTemplate({attributes:{\"aria-haspopup\":true}});this.delegate(\"execute\").to(this,\"open\")}render(){super.render();this.children.add(this.arrowView)}_createArrowView(){const e=new U[\"a\"];e.content=V;e.extendTemplate({attributes:{class:\"ck-dropdown__arrow\"}});return e}}var W=n(289);class $ extends m[\"a\"]{constructor(){super();this.items=this.createCollection();this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this._focusCycler=new p[\"a\"]({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"arrowup\",focusNext:\"arrowdown\"}});this.setTemplate({tag:\"ul\",attributes:{class:[\"ck\",\"ck-reset\",\"ck-list\"]},children:this.items})}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element)}this.items.on(\"add\",(e,t)=>{this.focusTracker.add(t.element)});this.items.on(\"remove\",(e,t)=>{this.focusTracker.remove(t.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class q extends m[\"a\"]{constructor(e){super(e);this.children=this.createCollection();this.setTemplate({tag:\"li\",attributes:{class:[\"ck\",\"ck-list__item\"]},children:this.children})}focus(){this.children.first.focus()}}class Y extends m[\"a\"]{constructor(e){super(e);this.setTemplate({tag:\"li\",attributes:{class:[\"ck\",\"ck-list__separator\"]}})}}var J=n(291);class G extends z[\"a\"]{constructor(e){super(e);this.isToggleable=true;this.toggleSwitchView=this._createToggleView();this.extendTemplate({attributes:{class:\"ck-switchbutton\"}})}render(){super.render();this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new m[\"a\"];e.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-button__toggle\"]},children:[{tag:\"span\",attributes:{class:[\"ck\",\"ck-button__toggle__inner\"]}}]});return e}}function K({emitter:e,activator:t,callback:n,contextElements:i}){e.listenTo(document,\"mousedown\",(e,{target:r})=>{if(!t()){return}for(const e of i){if(e.contains(r)){return}}n()})}var X=n(293);var Q=n(295);function Z(e,t=H){const n=new t(e);const i=new E(e);const r=new F(e,n,i);n.bind(\"isEnabled\").to(r);if(n instanceof H){n.bind(\"isOn\").to(r,\"isOpen\")}else{n.arrowView.bind(\"isOn\").to(r,\"isOpen\")}ne(r);return r}function ee(e,t){const n=e.locale;const i=n.t;const r=e.toolbarView=new le(n);r.set(\"ariaLabel\",i(\"Dropdown toolbar\"));e.extendTemplate({attributes:{class:[\"ck-toolbar-dropdown\"]}});t.map(e=>r.items.add(e));e.panelView.children.add(r);r.items.delegate(\"execute\").to(e)}function te(e,t){const n=e.locale;const i=e.listView=new $(n);i.items.bindTo(t).using(({type:e,model:t})=>{if(e===\"separator\"){return new Y(n)}else if(e===\"button\"||e===\"switchbutton\"){const i=new q(n);let r;if(e===\"button\"){r=new z[\"a\"](n)}else{r=new G(n)}r.bind(...Object.keys(t)).to(t);r.delegate(\"execute\").to(i);i.children.add(r);return i}});e.panelView.children.add(i);i.items.delegate(\"execute\").to(e)}function ne(e){ie(e);re(e);oe(e)}function ie(e){e.on(\"render\",()=>{K({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=false},contextElements:[e.element]})})}function re(e){e.on(\"execute\",t=>{if(t.source instanceof G){return}e.isOpen=false})}function oe(e){e.keystrokes.set(\"arrowdown\",(t,n)=>{if(e.isOpen){e.panelView.focus();n()}});e.keystrokes.set(\"arrowup\",(t,n)=>{if(e.isOpen){e.panelView.focusLast();n()}})}var se=n(0);var ae='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"9.5\" cy=\"4.5\" r=\"1.5\"/><circle cx=\"9.5\" cy=\"10.5\" r=\"1.5\"/><circle cx=\"9.5\" cy=\"16.5\" r=\"1.5\"/></svg>';var ce=n(297);class le extends m[\"a\"]{constructor(e,t){super(e);const n=this.bindTemplate;const i=this.t;this.options=t||{};this.set(\"ariaLabel\",i(\"Editor toolbar\"));this.set(\"maxWidth\",\"auto\");this.items=this.createCollection();this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this.set(\"class\");this.set(\"isCompact\",false);this.itemsView=new de(e);this.children=this.createCollection();this.children.add(this.itemsView);this.focusables=this.createCollection();this._focusCycler=new p[\"a\"]({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[\"arrowleft\",\"arrowup\"],focusNext:[\"arrowright\",\"arrowdown\"]}});this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-toolbar\",n.to(\"class\"),n.if(\"isCompact\",\"ck-toolbar_compact\")],role:\"toolbar\",\"aria-label\":n.to(\"ariaLabel\"),style:{maxWidth:n.to(\"maxWidth\")}},children:this.children,on:{mousedown:T(this)}});this._behavior=this.options.shouldGroupWhenFull?new he(this):new ue(this)}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element)}this.items.on(\"add\",(e,t)=>{this.focusTracker.add(t.element)});this.items.on(\"remove\",(e,t)=>{this.focusTracker.remove(t.element)});this.keystrokes.listenTo(this.element);this._behavior.render(this)}destroy(){this._behavior.destroy();return super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t){this.items.addMany(e.map(e=>{if(e==\"|\"){return new _}else if(t.has(e)){return t.create(e)}else{console.warn(Object(se[\"a\"])(\"toolbarview-item-unavailable: The requested toolbar item is unavailable.\"),{name:e})}}).filter(e=>e!==undefined))}}class de extends m[\"a\"]{constructor(e){super(e);this.children=this.createCollection();this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-toolbar__items\"]},children:this.children})}}class ue{constructor(e){const t=e.bindTemplate;e.set(\"isVertical\",false);e.itemsView.children.bindTo(e.items).using(e=>e);e.focusables.bindTo(e.items).using(e=>e);e.extendTemplate({attributes:{class:[t.if(\"isVertical\",\"ck-toolbar_vertical\")]}})}render(){}destroy(){}}class he{constructor(e){this.viewChildren=e.children;this.viewFocusables=e.focusables;this.viewItemsView=e.itemsView;this.viewFocusTracker=e.focusTracker;this.viewLocale=e.locale;this.ungroupedItems=e.createCollection();this.groupedItems=e.createCollection();this.groupedItemsDropdown=this._createGroupedItemsDropdown();this.resizeObserver=null;this.cachedPadding=null;this.shouldUpdateGroupingOnNextResize=false;e.itemsView.children.bindTo(this.ungroupedItems).using(e=>e);this.ungroupedItems.on(\"add\",this._updateFocusCycleableItems.bind(this));this.ungroupedItems.on(\"remove\",this._updateFocusCycleableItems.bind(this));e.children.on(\"add\",this._updateFocusCycleableItems.bind(this));e.children.on(\"remove\",this._updateFocusCycleableItems.bind(this));e.items.on(\"change\",(e,t)=>{const n=t.index;for(const e of t.removed){if(n>=this.ungroupedItems.length){this.groupedItems.remove(e)}else{this.ungroupedItems.remove(e)}}for(let e=n;e<n+t.added.length;e++){const i=t.added[e-n];if(e>this.ungroupedItems.length){this.groupedItems.add(i,e-this.ungroupedItems.length)}else{this.ungroupedItems.add(i,e)}}this._updateGrouping()});e.extendTemplate({attributes:{class:[\"ck-toolbar_grouping\"]}})}render(e){this.viewElement=e.element;this._enableGroupingOnResize();this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy();this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement)){return}if(!this.viewElement.offsetParent){this.shouldUpdateGroupingOnNextResize=true;return}let e;while(this._areItemsOverflowing){this._groupLastItem();e=true}if(!e&&this.groupedItems.length){while(this.groupedItems.length&&!this._areItemsOverflowing){this._ungroupFirstItem()}if(this._areItemsOverflowing){this._groupLastItem()}}}get _areItemsOverflowing(){if(!this.ungroupedItems.length){return false}const e=this.viewElement;const t=this.viewLocale.uiLanguageDirection;const n=new k[\"a\"](e.lastChild);const i=new k[\"a\"](e);if(!this.cachedPadding){const n=v[\"a\"].window.getComputedStyle(e);const i=t===\"ltr\"?\"paddingRight\":\"paddingLeft\";this.cachedPadding=Number.parseInt(n[i])}if(t===\"ltr\"){return n.right>i.right-this.cachedPadding}else{return n.left<i.left+this.cachedPadding}}_enableGroupingOnResize(){let e;this.resizeObserver=new C(this.viewElement,t=>{if(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize){this.shouldUpdateGroupingOnNextResize=false;this._updateGrouping();e=t.contentRect.width}});this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on(\"change:maxWidth\",()=>{this._updateGrouping()})}_groupLastItem(){if(!this.groupedItems.length){this.viewChildren.add(new _);this.viewChildren.add(this.groupedItemsDropdown);this.viewFocusTracker.add(this.groupedItemsDropdown.element)}this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first));if(!this.groupedItems.length){this.viewChildren.remove(this.groupedItemsDropdown);this.viewChildren.remove(this.viewChildren.last);this.viewFocusTracker.remove(this.groupedItemsDropdown.element)}}_createGroupedItemsDropdown(){const e=this.viewLocale;const t=e.t;const n=Z(e);n.class=\"ck-toolbar__grouped-dropdown\";n.panelPosition=e.uiLanguageDirection===\"ltr\"?\"sw\":\"se\";ee(n,[]);n.buttonView.set({label:t(\"Show more items\"),tooltip:true,icon:ae});n.toolbarView.items.bindTo(this.groupedItems).using(e=>e);return n}_updateFocusCycleableItems(){this.viewFocusables.clear();this.ungroupedItems.map(e=>{this.viewFocusables.add(e)});if(this.groupedItems.length){this.viewFocusables.add(this.groupedItemsDropdown)}}}class fe extends h[\"a\"]{constructor(e,t,n={}){super(e);this.toolbar=new le(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull});this.editable=new f[\"a\"](e,t,n.editableElement);this.toolbar.extendTemplate({attributes:{class:[\"ck-reset_all\",\"ck-rounded-corners\"],dir:e.uiLanguageDirection}})}render(){super.render();this.registerChild([this.toolbar,this.editable])}}function me(e){if(e instanceof HTMLTextAreaElement){return e.value}return e.innerHTML}function ge(e,t){if(e instanceof HTMLTextAreaElement){e.value=t}e.innerHTML=t}var pe=n(226);function be(e){const t=e.sourceElement;if(!t){return}if(t.ckeditorInstance){throw new se[\"b\"](\"editor-source-element-already-used: \"+\"The DOM element cannot be used to create multiple editor instances.\",e)}t.ckeditorInstance=e;e.once(\"destroy\",()=>{delete t.ckeditorInstance})}class _e extends r[\"a\"]{constructor(e,t){super(t);if(Object(pe[\"a\"])(e)){this.sourceElement=e;be(this)}this.data.processor=new s[\"a\"](this.data.viewDocument);this.model.document.createRoot();const n=!this.config.get(\"toolbar.shouldNotGroupWhenFull\");const i=new fe(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:n});this.ui=new u(this,i)}destroy(){const e=this.getData();this.ui.destroy();return super.destroy().then(()=>{if(this.sourceElement){ge(this.sourceElement,e)}})}static create(e,t={}){return new Promise(n=>{const i=Object(pe[\"a\"])(e);if(i&&e.tagName===\"TEXTAREA\"){throw new se[\"b\"](\"editor-wrong-element: This type of editor cannot be initialized inside <textarea> element.\",null)}const r=new this(e,t);n(r.initPlugins().then(()=>{r.ui.init()}).then(()=>{if(!i&&t.initialData){throw new se[\"b\"](\"editor-create-initial-data: \"+\"The config.initialData option cannot be used together with initial data passed in Editor.create().\",null)}const n=t.initialData||we(e);return r.data.init(n)}).then(()=>r.fire(\"ready\")).then(()=>r))})}}Object(w[\"a\"])(_e,o[\"a\"]);function we(e){return Object(pe[\"a\"])(e)?me(e):e}var ve=n(1);var ke=n(6);var xe=n(19);const ye=[\"left\",\"right\",\"center\",\"justify\"];function Ce(e){return ye.includes(e)}function Ae(e,t){if(t.contentLanguageDirection==\"rtl\"){return e===\"right\"}else{return e===\"left\"}}const Te=\"alignment\";class Ee extends ke[\"a\"]{refresh(){const e=this.editor;const t=e.locale;const n=Object(xe[\"a\"])(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!n&&this._canBeAligned(n);if(this.isEnabled&&n.hasAttribute(\"alignment\")){this.value=n.getAttribute(\"alignment\")}else{this.value=t.contentLanguageDirection===\"rtl\"?\"right\":\"left\"}}execute(e={}){const t=this.editor;const n=t.locale;const i=t.model;const r=i.document;const o=e.value;i.change(e=>{const t=Array.from(r.selection.getSelectedBlocks()).filter(e=>this._canBeAligned(e));const i=t[0].getAttribute(\"alignment\");const s=Ae(o,n)||i===o||!o;if(s){Se(t,e)}else{Oe(t,e,o)}})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Te)}}function Se(e,t){for(const n of e){t.removeAttribute(Te,n)}}function Oe(e,t,n){for(const i of e){t.setAttribute(Te,n,i)}}class Ie extends ve[\"a\"]{static get pluginName(){return\"AlignmentEditing\"}constructor(e){super(e);e.config.define(\"alignment\",{options:[...ye]})}init(){const e=this.editor;const t=e.locale;const n=e.model.schema;const i=e.config.get(\"alignment.options\").filter(Ce);n.extend(\"$block\",{allowAttributes:\"alignment\"});e.model.schema.setAttributeProperties(\"alignment\",{isFormatting:true});const r=Pe(i.filter(e=>!Ae(e,t)));e.conversion.attributeToAttribute(r);e.commands.add(\"alignment\",new Ee(e))}}function Pe(e){const t={model:{key:\"alignment\",values:e.slice()},view:{}};for(const n of e){t.view[n]={key:\"style\",value:{\"text-align\":n}}}return t}var Me='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z\"/></svg>';var Re='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z\"/></svg>';var Ne='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z\"/></svg>';var je='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z\"/></svg>';const De=new Map([[\"left\",Me],[\"right\",Re],[\"center\",Ne],[\"justify\",je]]);class Le extends ve[\"a\"]{get localizedOptionTitles(){const e=this.editor.t;return{left:e(\"Align left\"),right:e(\"Align right\"),center:e(\"Align center\"),justify:e(\"Justify\")}}static get pluginName(){return\"AlignmentUI\"}init(){const e=this.editor;const t=e.ui.componentFactory;const n=e.t;const i=e.config.get(\"alignment.options\");i.filter(Ce).forEach(e=>this._addButton(e));t.add(\"alignment\",e=>{const r=Z(e);const o=i.map(e=>t.create(`alignment:${e}`));ee(r,o);r.buttonView.set({label:n(\"Text alignment\"),tooltip:true});r.toolbarView.isVertical=true;r.toolbarView.ariaLabel=n(\"Text alignment toolbar\");r.extendTemplate({attributes:{class:\"ck-alignment-dropdown\"}});const s=e.contentLanguageDirection===\"rtl\"?Re:Me;r.buttonView.bind(\"icon\").toMany(o,\"isOn\",(...e)=>{const t=e.findIndex(e=>e);if(t<0){return s}return o[t].icon});r.bind(\"isEnabled\").toMany(o,\"isEnabled\",(...e)=>e.some(e=>e));return r})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const i=t.commands.get(\"alignment\");const r=new z[\"a\"](n);r.set({label:this.localizedOptionTitles[e],icon:De.get(e),tooltip:true,isToggleable:true});r.bind(\"isEnabled\").to(i);r.bind(\"isOn\").to(i,\"value\",t=>t===e);this.listenTo(r,\"execute\",()=>{t.execute(\"alignment\",{value:e});t.editing.view.focus()});return r})}}class Be extends ve[\"a\"]{static get requires(){return[Ie,Le]}static get pluginName(){return\"Alignment\"}}var Fe=n(200);var ze=n(11);function Ve(e,t){let n=e.start;const i=Array.from(e.getItems()).reduce((e,i)=>{if(!(i.is(\"$text\")||i.is(\"$textProxy\"))){n=t.createPositionAfter(i);return\"\"}return e+i.data},\"\");return{text:i,range:t.createRange(n,e.end)}}class Ue{constructor(e,t){this.model=e;this.testCallback=t;this.hasMatch=false;this.set(\"isEnabled\",true);this.on(\"change:isEnabled\",()=>{if(this.isEnabled){this._startListening()}else{this.stopListening(e.document.selection);this.stopListening(e.document)}});this._startListening()}_startListening(){const e=this.model;const t=e.document;this.listenTo(t.selection,\"change:range\",(e,{directChange:n})=>{if(!n){return}if(!t.selection.isCollapsed){if(this.hasMatch){this.fire(\"unmatched\");this.hasMatch=false}return}this._evaluateTextBeforeSelection(\"selection\")});this.listenTo(t,\"change:data\",(e,t)=>{if(t.type==\"transparent\"){return}this._evaluateTextBeforeSelection(\"data\",{batch:t})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model;const i=n.document;const r=i.selection;const o=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus);const{text:s,range:a}=Ve(o,n);const c=this.testCallback(s);if(!c&&this.hasMatch){this.fire(\"unmatched\")}this.hasMatch=!!c;if(c){const n=Object.assign(t,{text:s,range:a});if(typeof c==\"object\"){Object.assign(n,c)}this.fire(`matched:${e}`,n)}}}Object(w[\"a\"])(Ue,ze[\"a\"]);const He=4;const We=new RegExp(\"(^|\\\\s)\"+\"(\"+\"(\"+\"(?:(?:(?:https?|ftp):)?\\\\/\\\\/)\"+\"(?:\\\\S+(?::\\\\S*)?@)?\"+\"(?:\"+\"(?![-_])(?:[-\\\\w\\\\u00a1-\\\\uffff]{0,63}[^-_]\\\\.)+\"+\"(?:[a-z\\\\u00a1-\\\\uffff]{2,})\"+\")\"+\"(?::\\\\d{2,5})?\"+\"(?:[/?#]\\\\S*)?\"+\")\"+\"|\"+\"(\"+\"(www.|(\\\\S+@))\"+\"((?![-_])(?:[-\\\\w\\\\u00a1-\\\\uffff]{0,63}[^-_]\\\\.))+\"+\"(?:[a-z\\\\u00a1-\\\\uffff]{2,})\"+\")\"+\")$\",\"i\");const $e=2;const qe=/^[\\S]+@((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})$/i;class Ye extends ve[\"a\"]{static get pluginName(){return\"AutoLink\"}init(){const e=this.editor;const t=e.model.document.selection;t.on(\"change:range\",()=>{this.isEnabled=!t.anchor.parent.is(\"element\",\"codeBlock\")});this._enableTypingHandling()}afterInit(){this._enableEnterHandling();this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor;const t=new Ue(e.model,e=>{if(!Je(e)){return}const t=Ge(e.substr(0,e.length-1));if(t){return{url:t}}});const n=e.plugins.get(\"Input\");t.on(\"matched:data\",(t,i)=>{const{batch:r,range:o,url:s}=i;if(!n.isInput(r)){return}const a=o.end.getShiftedBy(-1);const c=a.getShiftedBy(-s.length);const l=e.model.createRange(c,a);this._applyAutoLink(s,l)});t.bind(\"isEnabled\").to(this)}_enableEnterHandling(){const e=this.editor;const t=e.model;const n=e.commands.get(\"enter\");if(!n){return}n.on(\"execute\",()=>{const e=t.document.selection.getFirstPosition();const n=t.createRange(t.createPositionAt(e.parent.previousSibling,0),t.createPositionAt(e.parent.previousSibling,\"end\"));this._checkAndApplyAutoLinkOnRange(n)})}_enableShiftEnterHandling(){const e=this.editor;const t=e.model;const n=e.commands.get(\"shiftEnter\");if(!n){return}n.on(\"execute\",()=>{const e=t.document.selection.getFirstPosition();const n=t.createRange(t.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model;const{text:n,range:i}=Ve(e,t);const r=Ge(n);if(r){const e=t.createRange(i.end.getShiftedBy(-r.length),i.end);this._applyAutoLink(r,e)}}_applyAutoLink(e,t){const n=this.editor.model;if(!this.isEnabled||!Xe(t,n)){return}n.enqueueChange(n=>{const i=Ke(e)?`mailto:${e}`:e;n.setAttribute(\"linkHref\",i,t)})}}function Je(e){return e.length>He&&e[e.length-1]===\" \"&&e[e.length-2]!==\" \"}function Ge(e){const t=We.exec(e);return t?t[$e]:null}function Ke(e){return qe.exec(e)}function Xe(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),\"linkHref\")}var Qe=n(70);var Ze=n(271);class et extends ve[\"a\"]{static get pluginName(){return\"Autosave\"}static get requires(){return[Qe[\"a\"]]}constructor(e){super(e);const t=e.config.get(\"autosave\")||{};const n=t.waitingTime||1e3;this.set(\"state\",\"synchronized\");this._debouncedSave=Object(Ze[\"a\"])(this._save.bind(this),n);this._lastDocumentVersion=e.model.document.version;this._domEmitter=Object.create(x[\"a\"]);this._config=t}init(){const e=this.editor;const t=e.model.document;const n=e.t;this._pendingActions=e.plugins.get(Qe[\"a\"]);this.listenTo(t,\"change:data\",()=>{if(!this._saveCallbacks.length){return}if(this.state==\"synchronized\"){this._action=this._pendingActions.add(n(\"Saving changes\"));this.state=\"waiting\";this._debouncedSave()}else if(this.state==\"waiting\"){this._debouncedSave()}});this.listenTo(e,\"destroy\",()=>this._flush(),{priority:\"highest\"});this._domEmitter.listenTo(window,\"beforeunload\",(e,t)=>{if(this._pendingActions.hasAny){t.returnValue=this._pendingActions.first.message}})}destroy(){this._domEmitter.stopListening();super.destroy()}_flush(){this._debouncedSave.flush()}_save(){const e=this.editor.model.document.version;if(e<this._lastDocumentVersion||this.editor.state===\"initializing\"){this._debouncedSave.cancel();return}this._lastDocumentVersion=e;this.state=\"saving\";Promise.resolve().then(()=>Promise.all(this._saveCallbacks.map(e=>e(this.editor)))).catch(e=>{this.state=\"error\";this.state=\"saving\";this._debouncedSave();throw e}).then(()=>{if(this.editor.model.document.version>this._lastDocumentVersion){this.state=\"waiting\";this._debouncedSave()}else{this.state=\"synchronized\";this._pendingActions.remove(this._action);this._action=null}})}get _saveCallbacks(){const e=[];if(this.adapter&&this.adapter.save){e.push(this.adapter.save)}if(this._config.save){e.push(this._config.save)}return e}}Object(w[\"a\"])(et,ze[\"a\"]);class tt extends ke[\"a\"]{refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model;const n=t.schema;const i=t.document.selection;const r=Array.from(i.getSelectedBlocks());const o=e.forceValue===undefined?!this.value:e.forceValue;t.change(e=>{if(!o){this._removeQuote(e,r.filter(nt))}else{const t=r.filter(e=>nt(e)||rt(n,e));this._applyQuote(e,t)}})}_getValue(){const e=this.editor.model.document.selection;const t=Object(xe[\"a\"])(e.getSelectedBlocks());return!!(t&&nt(t))}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const n=Object(xe[\"a\"])(e.getSelectedBlocks());if(!n){return false}return rt(t,n)}_removeQuote(e,t){it(e,t).reverse().forEach(t=>{if(t.start.isAtStart&&t.end.isAtEnd){e.unwrap(t.start.parent);return}if(t.start.isAtStart){const n=e.createPositionBefore(t.start.parent);e.move(t,n);return}if(!t.end.isAtEnd){e.split(t.end)}const n=e.createPositionAfter(t.end.parent);e.move(t,n)})}_applyQuote(e,t){const n=[];it(e,t).reverse().forEach(t=>{let i=nt(t.start);if(!i){i=e.createElement(\"blockQuote\");e.wrap(t,i)}n.push(i)});n.reverse().reduce((t,n)=>{if(t.nextSibling==n){e.merge(e.createPositionAfter(t));return t}return n})}}function nt(e){return e.parent.name==\"blockQuote\"?e.parent:null}function it(e,t){let n;let i=0;const r=[];while(i<t.length){const o=t[i];const s=t[i+1];if(!n){n=e.createPositionBefore(o)}if(!s||o.nextSibling!=s){r.push(e.createRange(n,e.createPositionAfter(o)));n=null}i++}return r}function rt(e,t){const n=e.checkChild(t.parent,\"blockQuote\");const i=e.checkChild([\"$root\",\"blockQuote\"],t);return n&&i}class ot extends ve[\"a\"]{static get pluginName(){return\"BlockQuoteEditing\"}init(){const e=this.editor;const t=e.model.schema;e.commands.add(\"blockQuote\",new tt(e));t.register(\"blockQuote\",{allowWhere:\"$block\",allowContentOf:\"$root\"});t.addChildCheck((e,t)=>{if(e.endsWith(\"blockQuote\")&&t.name==\"blockQuote\"){return false}});e.conversion.elementToElement({model:\"blockQuote\",view:\"blockquote\"});e.model.document.registerPostFixer(n=>{const i=e.model.document.differ.getChanges();for(const e of i){if(e.type==\"insert\"){const i=e.position.nodeAfter;if(!i){continue}if(i.is(\"element\",\"blockQuote\")&&i.isEmpty){n.remove(i);return true}else if(i.is(\"element\",\"blockQuote\")&&!t.checkChild(e.position,i)){n.unwrap(i);return true}else if(i.is(\"element\")){const e=n.createRangeIn(i);for(const i of e.getItems()){if(i.is(\"element\",\"blockQuote\")&&!t.checkChild(n.createPositionBefore(i),i)){n.unwrap(i);return true}}}}else if(e.type==\"remove\"){const t=e.position.parent;if(t.is(\"element\",\"blockQuote\")&&t.isEmpty){n.remove(t);return true}}}return false})}afterInit(){const e=this.editor;const t=e.commands.get(\"blockQuote\");this.listenTo(this.editor.editing.view.document,\"enter\",(e,n)=>{const i=this.editor.model.document;const r=i.selection.getLastPosition().parent;if(i.selection.isCollapsed&&r.isEmpty&&t.value){this.editor.execute(\"blockQuote\");this.editor.editing.view.scrollToTheSelection();n.preventDefault();e.stop()}})}}var st='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z\"/></svg>';var at=n(299);class ct extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(\"blockQuote\",n=>{const i=e.commands.get(\"blockQuote\");const r=new z[\"a\"](n);r.set({label:t(\"Block quote\"),icon:st,tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(\"blockQuote\");e.editing.view.focus()});return r})}}class lt extends ve[\"a\"]{static get requires(){return[ot,ct]}static get pluginName(){return\"BlockQuote\"}}var dt=n(196);var ut='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z\"/><path d=\"M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z\"/></svg>';class ht extends ve[\"a\"]{static get pluginName(){return\"CKFinderUI\"}init(){const e=this.editor;const t=e.ui.componentFactory;const n=e.t;t.add(\"ckfinder\",t=>{const i=e.commands.get(\"ckfinder\");const r=new z[\"a\"](t);r.set({label:n(\"Insert image or file\"),icon:ut,tooltip:true});r.bind(\"isEnabled\").to(i);r.on(\"execute\",()=>{e.execute(\"ckfinder\");e.editing.view.focus()});return r})}}var ft=n(67);class mt extends ft[\"a\"]{observe(e){this.listenTo(e,\"load\",(e,t)=>{const n=t.target;if(n.tagName==\"IMG\"){this._fireEvents(t)}},{useCapture:true})}_fireEvents(e){if(this.isEnabled){this.document.fire(\"layoutChanged\");this.document.fire(\"imageLoaded\",e)}}}var gt=n(13);class pt{constructor(){this._stack=[]}add(e,t){const n=this._stack;const i=n[0];this._insertDescriptor(e);const r=n[0];if(i!==r&&!bt(i,r)){this.fire(\"change:top\",{oldDescriptor:i,newDescriptor:r,writer:t})}}remove(e,t){const n=this._stack;const i=n[0];this._removeDescriptor(e);const r=n[0];if(i!==r&&!bt(i,r)){this.fire(\"change:top\",{oldDescriptor:i,newDescriptor:r,writer:t})}}_insertDescriptor(e){const t=this._stack;const n=t.findIndex(t=>t.id===e.id);if(bt(e,t[n])){return}if(n>-1){t.splice(n,1)}let i=0;while(t[i]&&_t(t[i],e)){i++}t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack;const n=t.findIndex(t=>t.id===e);if(n>-1){t.splice(n,1)}}}Object(w[\"a\"])(pt,gt[\"c\"]);function bt(e,t){return e&&t&&e.priority==t.priority&&wt(e.classes)==wt(t.classes)}function _t(e,t){if(e.priority>t.priority){return true}else if(e.priority<t.priority){return false}return wt(e.classes)>wt(t.classes)}function wt(e){return Array.isArray(e)?e.sort().join(\",\"):e}var vt=n(110);function kt(e){return t=>t+e}var xt=n(301);const yt=kt(\"px\");const Ct=v[\"a\"].document.body;class At extends m[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;this.set(\"top\",0);this.set(\"left\",0);this.set(\"position\",\"arrow_nw\");this.set(\"isVisible\",false);this.set(\"withArrow\",true);this.set(\"class\");this.content=this.createCollection();this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-balloon-panel\",t.to(\"position\",e=>`ck-balloon-panel_${e}`),t.if(\"isVisible\",\"ck-balloon-panel_visible\"),t.if(\"withArrow\",\"ck-balloon-panel_with-arrow\"),t.to(\"class\")],style:{top:t.to(\"top\",yt),left:t.to(\"left\",yt)}},children:this.content})}show(){this.isVisible=true}hide(){this.isVisible=false}attachTo(e){this.show();const t=At.defaultPositions;const n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:Ct,fitInViewport:true},e);const i=At._getOptimalPosition(n);const r=parseInt(i.left);const o=parseInt(i.top);const s=i.name;Object.assign(this,{top:o,left:r,position:s})}pin(e){this.unpin();this._pinWhenIsVisibleCallback=()=>{if(this.isVisible){this._startPinning(e)}else{this._stopPinning()}};this._startPinning(e);this.listenTo(this,\"change:isVisible\",this._pinWhenIsVisibleCallback)}unpin(){if(this._pinWhenIsVisibleCallback){this._stopPinning();this.stopListening(this,\"change:isVisible\",this._pinWhenIsVisibleCallback);this._pinWhenIsVisibleCallback=null;this.hide()}}_startPinning(e){this.attachTo(e);const t=Tt(e.target);const n=e.limiter?Tt(e.limiter):Ct;this.listenTo(v[\"a\"].document,\"scroll\",(i,r)=>{const o=r.target;const s=t&&o.contains(t);const a=n&&o.contains(n);if(s||a||!t||!n){this.attachTo(e)}},{useCapture:true});this.listenTo(v[\"a\"].window,\"resize\",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(v[\"a\"].document,\"scroll\");this.stopListening(v[\"a\"].window,\"resize\")}}function Tt(e){if(Object(pe[\"a\"])(e)){return e}if(Object(vt[\"a\"])(e)){return e.commonAncestorContainer}if(typeof e==\"function\"){return Tt(e())}return null}At.arrowHorizontalOffset=25;At.arrowVerticalOffset=10;At._getOptimalPosition=M;At.defaultPositions={northWestArrowSouthWest:(e,t)=>({top:Et(e,t),left:e.left-At.arrowHorizontalOffset,name:\"arrow_sw\"}),northWestArrowSouthMiddleWest:(e,t)=>({top:Et(e,t),left:e.left-t.width*.25-At.arrowHorizontalOffset,name:\"arrow_smw\"}),northWestArrowSouth:(e,t)=>({top:Et(e,t),left:e.left-t.width/2,name:\"arrow_s\"}),northWestArrowSouthMiddleEast:(e,t)=>({top:Et(e,t),left:e.left-t.width*.75+At.arrowHorizontalOffset,name:\"arrow_sme\"}),northWestArrowSouthEast:(e,t)=>({top:Et(e,t),left:e.left-t.width+At.arrowHorizontalOffset,name:\"arrow_se\"}),northArrowSouthWest:(e,t)=>({top:Et(e,t),left:e.left+e.width/2-At.arrowHorizontalOffset,name:\"arrow_sw\"}),northArrowSouthMiddleWest:(e,t)=>({top:Et(e,t),left:e.left+e.width/2-t.width*.25-At.arrowHorizontalOffset,name:\"arrow_smw\"}),northArrowSouth:(e,t)=>({top:Et(e,t),left:e.left+e.width/2-t.width/2,name:\"arrow_s\"}),northArrowSouthMiddleEast:(e,t)=>({top:Et(e,t),left:e.left+e.width/2-t.width*.75+At.arrowHorizontalOffset,name:\"arrow_sme\"}),northArrowSouthEast:(e,t)=>({top:Et(e,t),left:e.left+e.width/2-t.width+At.arrowHorizontalOffset,name:\"arrow_se\"}),northEastArrowSouthWest:(e,t)=>({top:Et(e,t),left:e.right-At.arrowHorizontalOffset,name:\"arrow_sw\"}),northEastArrowSouthMiddleWest:(e,t)=>({top:Et(e,t),left:e.right-t.width*.25-At.arrowHorizontalOffset,name:\"arrow_smw\"}),northEastArrowSouth:(e,t)=>({top:Et(e,t),left:e.right-t.width/2,name:\"arrow_s\"}),northEastArrowSouthMiddleEast:(e,t)=>({top:Et(e,t),left:e.right-t.width*.75+At.arrowHorizontalOffset,name:\"arrow_sme\"}),northEastArrowSouthEast:(e,t)=>({top:Et(e,t),left:e.right-t.width+At.arrowHorizontalOffset,name:\"arrow_se\"}),southWestArrowNorthWest:(e,t)=>({top:St(e,t),left:e.left-At.arrowHorizontalOffset,name:\"arrow_nw\"}),southWestArrowNorthMiddleWest:(e,t)=>({top:St(e,t),left:e.left-t.width*.25-At.arrowHorizontalOffset,name:\"arrow_nmw\"}),southWestArrowNorth:(e,t)=>({top:St(e,t),left:e.left-t.width/2,name:\"arrow_n\"}),southWestArrowNorthMiddleEast:(e,t)=>({top:St(e,t),left:e.left-t.width*.75+At.arrowHorizontalOffset,name:\"arrow_nme\"}),southWestArrowNorthEast:(e,t)=>({top:St(e,t),left:e.left-t.width+At.arrowHorizontalOffset,name:\"arrow_ne\"}),southArrowNorthWest:(e,t)=>({top:St(e,t),left:e.left+e.width/2-At.arrowHorizontalOffset,name:\"arrow_nw\"}),southArrowNorthMiddleWest:(e,t)=>({top:St(e,t),left:e.left+e.width/2-t.width*.25-At.arrowHorizontalOffset,name:\"arrow_nmw\"}),southArrowNorth:(e,t)=>({top:St(e,t),left:e.left+e.width/2-t.width/2,name:\"arrow_n\"}),southArrowNorthMiddleEast:(e,t)=>({top:St(e,t),left:e.left+e.width/2-t.width*.75+At.arrowHorizontalOffset,name:\"arrow_nme\"}),southArrowNorthEast:(e,t)=>({top:St(e,t),left:e.left+e.width/2-t.width+At.arrowHorizontalOffset,name:\"arrow_ne\"}),southEastArrowNorthWest:(e,t)=>({top:St(e,t),left:e.right-At.arrowHorizontalOffset,name:\"arrow_nw\"}),southEastArrowNorthMiddleWest:(e,t)=>({top:St(e,t),left:e.right-t.width*.25-At.arrowHorizontalOffset,name:\"arrow_nmw\"}),southEastArrowNorth:(e,t)=>({top:St(e,t),left:e.right-t.width/2,name:\"arrow_n\"}),southEastArrowNorthMiddleEast:(e,t)=>({top:St(e,t),left:e.right-t.width*.75+At.arrowHorizontalOffset,name:\"arrow_nme\"}),southEastArrowNorthEast:(e,t)=>({top:St(e,t),left:e.right-t.width+At.arrowHorizontalOffset,name:\"arrow_ne\"})};function Et(e,t){return e.top-t.height-At.arrowVerticalOffset}function St(e){return e.bottom+At.arrowVerticalOffset}var Ot='<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z\"/><path fill-opacity=\".256\" d=\"M1 1h14v14H1z\"/><g class=\"ck-icon__selected-indicator\"><path d=\"M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z\"/><path fill-opacity=\".254\" d=\"M1 1h14v14H1z\"/></g></svg>';const It=\"widget-type-around\";function Pt(e,t,n){return e&&Bt(e)&&!n.isInline(t)}function Mt(e){return e.closest(\".ck-widget__type-around__button\")}function Rt(e){return e.classList.contains(\"ck-widget__type-around__button_before\")?\"before\":\"after\"}function Nt(e,t){const n=e.closest(\".ck-widget\");return t.mapDomToView(n)}function jt(e){return e.getAttribute(It)}const Dt=\"ck-widget\";const Lt=\"ck-widget_selected\";function Bt(e){if(!e.is(\"element\")){return false}return!!e.getCustomProperty(\"widget\")}function Ft(e,t,n={}){if(!e.is(\"containerElement\")){throw new se[\"b\"](\"widget-to-widget-wrong-element-type: The element passed to toWidget() must be a container element instance.\",null,{element:e})}t.setAttribute(\"contenteditable\",\"false\",e);t.addClass(Dt,e);t.setCustomProperty(\"widget\",true,e);e.getFillerOffset=Yt;if(n.label){Vt(e,n.label,t)}if(n.hasSelectionHandle){Jt(e,t)}zt(e,t,(e,t,n)=>n.addClass(i(t.classes),e),(e,t,n)=>n.removeClass(i(t.classes),e));return e;function i(e){return Array.isArray(e)?e:[e]}}function zt(e,t,n,i){const r=new pt;r.on(\"change:top\",(t,r)=>{if(r.oldDescriptor){i(e,r.oldDescriptor,r.writer)}if(r.newDescriptor){n(e,r.newDescriptor,r.writer)}});t.setCustomProperty(\"addHighlight\",(e,t,n)=>r.add(t,n),e);t.setCustomProperty(\"removeHighlight\",(e,t,n)=>r.remove(t,n),e)}function Vt(e,t,n){n.setCustomProperty(\"widgetLabel\",t,e)}function Ut(e){const t=e.getCustomProperty(\"widgetLabel\");if(!t){return\"\"}return typeof t==\"function\"?t():t}function Ht(e,t){t.addClass([\"ck-editor__editable\",\"ck-editor__nested-editable\"],e);t.setAttribute(\"contenteditable\",e.isReadOnly?\"false\":\"true\",e);e.on(\"change:isReadOnly\",(n,i,r)=>{t.setAttribute(\"contenteditable\",r?\"false\":\"true\",e)});e.on(\"change:isFocused\",(n,i,r)=>{if(r){t.addClass(\"ck-editor__nested-editable_focused\",e)}else{t.removeClass(\"ck-editor__nested-editable_focused\",e)}});return e}function Wt(e,t){const n=e.getSelectedElement();if(n){const i=jt(e);if(i){return t.createPositionAt(n,i)}if(t.schema.isBlock(n)){return t.createPositionAfter(n)}}const i=e.getSelectedBlocks().next().value;if(i){if(i.isEmpty){return t.createPositionAt(i,0)}const n=t.createPositionAfter(i);if(e.focus.isTouching(n)){return n}return t.createPositionBefore(i)}return e.focus}function $t(e,t){return(n,i)=>{const{mapper:r,viewPosition:o}=i;const s=r.findMappedViewAncestor(o);if(!t(s)){return}const a=r.toModelElement(s);i.modelPosition=e.createPositionAt(a,o.isAtStart?\"before\":\"after\")}}function qt(e,t){const n=new k[\"a\"](v[\"a\"].window);const i=n.getIntersection(e);const r=t.height+At.arrowVerticalOffset;if(e.top-r>n.top||e.bottom+r<n.bottom){return null}const o=i||e;const s=o.left+o.width/2-t.width/2;return{top:Math.max(e.top,0)+At.arrowVerticalOffset,left:s,name:\"arrow_n\"}}function Yt(){return null}function Jt(e,t){const n=t.createUIElement(\"div\",{class:\"ck ck-widget__selection-handle\"},(function(e){const t=this.toDomElement(e);const n=new U[\"a\"];n.set(\"content\",Ot);n.render();t.appendChild(n.element);return t}));t.insert(t.createPositionAt(e,0),n);t.addClass([\"ck-widget_with-selection-handle\"],e)}function Gt(e,t,n){t.setCustomProperty(\"image\",true,e);return Ft(e,t,{label:i});function i(){const t=tn(e);const i=t.getAttribute(\"alt\");return i?`${i} ${n}`:n}}function Kt(e){return!!e.getCustomProperty(\"image\")&&Bt(e)}function Xt(e){const t=e.getSelectedElement();if(t&&Kt(t)){return t}return null}function Qt(e){return!!e&&e.is(\"element\",\"image\")}function Zt(e,t,n={}){const i=e.createElement(\"image\",n);const r=Wt(t.document.selection,t);t.insertContent(i,r);if(i.parent){e.setSelection(i,\"on\")}}function en(e){const t=e.schema;const n=e.document.selection;return nn(n,t,e)&&!rn(n,t)&&on(n)}function tn(e){const t=[];for(const n of e.getChildren()){t.push(n);if(n.is(\"element\")){t.push(...n.getChildren())}}return t.find(e=>e.is(\"element\",\"img\"))}function nn(e,t,n){const i=sn(e,n);return t.checkChild(i,\"image\")}function rn(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}function on(e){return[...e.focus.getAncestors()].every(e=>!e.is(\"element\",\"image\"))}function sn(e,t){const n=Wt(e,t);const i=n.parent;if(i.isEmpty&&!i.is(\"element\",\"$root\")){return i.parent}return i}function an(){return t=>{t.on(\"element:figure\",e)};function e(e,t,n){if(!n.consumable.test(t.viewItem,{name:true,classes:\"image\"})){return}const i=tn(t.viewItem);if(!i||!i.hasAttribute(\"src\")||!n.consumable.test(i,{name:true})){return}const r=n.convertItem(i,t.modelCursor);const o=Object(xe[\"a\"])(r.modelRange.getItems());if(!o){return}n.convertChildren(t.viewItem,n.writer.createPositionAt(o,0));t.modelRange=r.modelRange;t.modelCursor=r.modelCursor}}function cn(){return t=>{t.on(\"attribute:srcset:image\",e)};function e(e,t,n){if(!n.consumable.consume(t.item,e.name)){return}const i=n.writer;const r=n.mapper.toViewElement(t.item);const o=tn(r);if(t.attributeNewValue===null){const e=t.attributeOldValue;if(e.data){i.removeAttribute(\"srcset\",o);i.removeAttribute(\"sizes\",o);if(e.width){i.removeAttribute(\"width\",o)}}}else{const e=t.attributeNewValue;if(e.data){i.setAttribute(\"srcset\",e.data,o);i.setAttribute(\"sizes\",\"100vw\",o);if(e.width){i.setAttribute(\"width\",e.width,o)}}}}}function ln(e){return n=>{n.on(`attribute:${e}:image`,t)};function t(e,t,n){if(!n.consumable.consume(t.item,e.name)){return}const i=n.writer;const r=n.mapper.toViewElement(t.item);const o=tn(r);i.setAttribute(t.attributeKey,t.attributeNewValue||\"\",o)}}class dn extends ke[\"a\"]{refresh(){this.isEnabled=en(this.editor.model)}execute(e){const t=this.editor.model;t.change(n=>{const i=Array.isArray(e.source)?e.source:[e.source];for(const e of i){Zt(n,t,{src:e})}})}}class un extends ve[\"a\"]{static get pluginName(){return\"ImageEditing\"}init(){const e=this.editor;const t=e.model.schema;const n=e.t;const i=e.conversion;e.editing.view.addObserver(mt);t.register(\"image\",{isObject:true,isBlock:true,allowWhere:\"$block\",allowAttributes:[\"alt\",\"src\",\"srcset\"]});i.for(\"dataDowncast\").elementToElement({model:\"image\",view:(e,t)=>hn(t)});i.for(\"editingDowncast\").elementToElement({model:\"image\",view:(e,t)=>Gt(hn(t),t,n(\"image widget\"))});i.for(\"downcast\").add(ln(\"src\")).add(ln(\"alt\")).add(cn());i.for(\"upcast\").elementToElement({view:{name:\"img\",attributes:{src:true}},model:(e,t)=>t.createElement(\"image\",{src:e.getAttribute(\"src\")})}).attributeToAttribute({view:{name:\"img\",key:\"alt\"},model:\"alt\"}).attributeToAttribute({view:{name:\"img\",key:\"srcset\"},model:{key:\"srcset\",value:e=>{const t={data:e.getAttribute(\"srcset\")};if(e.hasAttribute(\"width\")){t.width=e.getAttribute(\"width\")}return t}}}).add(an());e.commands.add(\"imageInsert\",new dn(e))}}function hn(e){const t=e.createEmptyElement(\"img\");const n=e.createContainerElement(\"figure\",{class:\"image\"});e.insert(e.createPositionAt(n,0),t);return n}var fn=n(57);class mn extends fn[\"a\"]{constructor(e){super(e);this.domEventType=\"mousedown\"}onDomEvent(e){this.fire(e.type,e)}}var gn=n(10);var pn=n(39);class bn extends ve[\"a\"]{static get pluginName(){return\"TwoStepCaretMovement\"}constructor(e){super(e);this.attributes=new Set;this._overrideUid=null}init(){const e=this.editor;const t=e.model;const n=e.editing.view;const i=e.locale;const r=t.document.selection;this.listenTo(n.document,\"keydown\",(e,t)=>{if(!r.isCollapsed){return}if(t.shiftKey||t.altKey||t.ctrlKey){return}const n=t.keyCode==gn[\"f\"].arrowright;const o=t.keyCode==gn[\"f\"].arrowleft;if(!n&&!o){return}const s=i.contentLanguageDirection;let a=false;if(s===\"ltr\"&&n||s===\"rtl\"&&o){a=this._handleForwardMovement(t)}else{a=this._handleBackwardMovement(t)}if(a===true){e.stop()}},{priority:pn[\"a\"].get(\"high\")+1});this._isNextGravityRestorationSkipped=false;this.listenTo(r,\"change:range\",(e,t)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=false;return}if(!this._isGravityOverridden){return}if(!t.directChange&&xn(r.getFirstPosition(),this.attributes)){return}this._restoreGravity()})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes;const n=this.editor.model;const i=n.document.selection;const r=i.getFirstPosition();if(this._isGravityOverridden){return false}if(r.isAtStart&&_n(i,t)){return false}if(xn(r,t)){vn(e);this._overrideGravity();return true}}_handleBackwardMovement(e){const t=this.attributes;const n=this.editor.model;const i=n.document.selection;const r=i.getFirstPosition();if(this._isGravityOverridden){vn(e);this._restoreGravity();wn(n,t,r);return true}else{if(r.isAtStart){if(_n(i,t)){vn(e);wn(n,t,r);return true}return false}if(kn(r,t)){if(r.isAtEnd&&!_n(i,t)&&xn(r,t)){vn(e);wn(n,t,r);return true}this._isNextGravityRestorationSkipped=true;this._overrideGravity();return false}}}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid);this._overrideUid=null})}}function _n(e,t){for(const n of t){if(e.hasAttribute(n)){return true}}return false}function wn(e,t,n){const i=n.nodeBefore;e.change(e=>{if(i){e.setSelectionAttribute(i.getAttributes())}else{e.removeSelectionAttribute(t)}})}function vn(e){e.preventDefault()}function kn(e,t){const n=e.getShiftedBy(-1);return xn(n,t)}function xn(e,t){const{nodeBefore:n,nodeAfter:i}=e;for(const e of t){const t=n?n.getAttribute(e):undefined;const r=i?i.getAttribute(e):undefined;if(r!==t){return true}}return false}function yn(e,t,n,i){return i.createRange(Cn(e,t,n,true,i),Cn(e,t,n,false,i))}function Cn(e,t,n,i,r){let o=e.textNode||(i?e.nodeBefore:e.nodeAfter);let s=null;while(o&&o.getAttribute(t)==n){s=o;o=i?o.previousSibling:o.nextSibling}return s?r.createPositionAt(s,i?\"before\":\"after\"):e}function An(e,t,n,i){const r=e.editing.view;const o=new Set;r.document.registerPostFixer(r=>{const s=e.model.document.selection;let a=false;if(s.hasAttribute(t)){const c=yn(s.getFirstPosition(),t,s.getAttribute(t),e.model);const l=e.editing.mapper.toViewRange(c);for(const e of l.getItems()){if(e.is(\"element\",n)&&!e.hasClass(i)){r.addClass(i,e);o.add(e);a=true}}}return a});e.conversion.for(\"editingDowncast\").add(e=>{e.on(\"insert\",t,{priority:\"highest\"});e.on(\"remove\",t,{priority:\"highest\"});e.on(\"attribute\",t,{priority:\"highest\"});e.on(\"selection\",t,{priority:\"highest\"});function t(){r.change(e=>{for(const t of o.values()){e.removeClass(i,t);o.delete(t)}})}})}var Tn=n(132);var En=n(77);var Sn=n(53);var On=n(12);class In{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){if(Array.isArray(e)){e.forEach(e=>this._definitions.add(e))}else{this._definitions.add(e)}}getDispatcher(){return e=>{e.on(\"attribute:linkHref\",(e,t,n)=>{if(!n.consumable.test(t.item,\"attribute:linkHref\")){return}const i=n.writer;const r=i.document.selection;for(const e of this._definitions){const o=i.createAttributeElement(\"a\",e.attributes,{priority:5});i.setCustomProperty(\"link\",true,o);if(e.callback(t.attributeNewValue)){if(t.item.is(\"selection\")){i.wrap(r.getFirstRange(),o)}else{i.wrap(n.mapper.toViewRange(t.range),o)}}else{i.unwrap(n.mapper.toViewRange(t.range),o)}}},{priority:\"high\"})}}getDispatcherForLinkedImage(){return e=>{e.on(\"attribute:linkHref:image\",(e,t,n)=>{const i=n.mapper.toViewElement(t.item);const r=Array.from(i.getChildren()).find(e=>e.name===\"a\");for(const e of this._definitions){const i=Object(Sn[\"a\"])(e.attributes);if(e.callback(t.attributeNewValue)){for(const[e,t]of i){if(e===\"class\"){n.writer.addClass(t,r)}else{n.writer.setAttribute(e,t,r)}}}else{for(const[e,t]of i){if(e===\"class\"){n.writer.removeClass(t,r)}else{n.writer.removeAttribute(e,r)}}}}})}}}var Pn=n(169);function Mn(e,t,n){var i=e.length;n=n===undefined?i:n;return!t&&n>=i?e:Object(Pn[\"a\"])(e,t,n)}var Rn=Mn;var Nn=\"\\\\ud800-\\\\udfff\",jn=\"\\\\u0300-\\\\u036f\",Dn=\"\\\\ufe20-\\\\ufe2f\",Ln=\"\\\\u20d0-\\\\u20ff\",Bn=jn+Dn+Ln,Fn=\"\\\\ufe0e\\\\ufe0f\";var zn=\"\\\\u200d\";var Vn=RegExp(\"[\"+zn+Nn+Bn+Fn+\"]\");function Un(e){return Vn.test(e)}var Hn=Un;function Wn(e){return e.split(\"\")}var $n=Wn;var qn=\"\\\\ud800-\\\\udfff\",Yn=\"\\\\u0300-\\\\u036f\",Jn=\"\\\\ufe20-\\\\ufe2f\",Gn=\"\\\\u20d0-\\\\u20ff\",Kn=Yn+Jn+Gn,Xn=\"\\\\ufe0e\\\\ufe0f\";var Qn=\"[\"+qn+\"]\",Zn=\"[\"+Kn+\"]\",ei=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",ti=\"(?:\"+Zn+\"|\"+ei+\")\",ni=\"[^\"+qn+\"]\",ii=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",ri=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",oi=\"\\\\u200d\";var si=ti+\"?\",ai=\"[\"+Xn+\"]?\",ci=\"(?:\"+oi+\"(?:\"+[ni,ii,ri].join(\"|\")+\")\"+ai+si+\")*\",li=ai+si+ci,di=\"(?:\"+[ni+Zn+\"?\",Zn,ii,ri,Qn].join(\"|\")+\")\";var ui=RegExp(ei+\"(?=\"+ei+\")|\"+di+li,\"g\");function hi(e){return e.match(ui)||[]}var fi=hi;function mi(e){return Hn(e)?fi(e):$n(e)}var gi=mi;var pi=n(135);function bi(e){return function(t){t=Object(pi[\"a\"])(t);var n=Hn(t)?gi(t):undefined;var i=n?n[0]:t.charAt(0);var r=n?Rn(n,1).join(\"\"):t.slice(1);return i[e]()+r}}var _i=bi;var wi=_i(\"toUpperCase\");var vi=wi;const ki=/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;const xi=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;const yi=\"Ctrl+K\";function Ci(e){return e.is(\"attributeElement\")&&!!e.getCustomProperty(\"link\")}function Ai(e,t){const n=t.createAttributeElement(\"a\",{href:e},{priority:5});t.setCustomProperty(\"link\",true,n);return n}function Ti(e){e=String(e);return Ei(e)?e:\"#\"}function Ei(e){const t=e.replace(ki,\"\");return t.match(xi)}function Si(e,t){const n={\"Open in a new tab\":e(\"Open in a new tab\"),Downloadable:e(\"Downloadable\")};t.forEach(e=>{if(e.label&&n[e.label]){e.label=n[e.label]}return e});return t}function Oi(e){const t=[];if(e){for(const[n,i]of Object.entries(e)){const e=Object.assign({},i,{id:`link${vi(n)}`});t.push(e)}}return t}function Ii(e,t){if(!e){return false}return e.is(\"element\",\"image\")&&t.checkAttribute(\"image\",\"linkHref\")}class Pi extends ke[\"a\"]{constructor(e){super(e);this.manualDecorators=new On[\"a\"];this.automaticDecorators=new In}restoreManualDecoratorStates(){for(const e of this.manualDecorators){e.value=this._getDecoratorStateFromModel(e.id)}}refresh(){const e=this.editor.model;const t=e.document;const n=Object(xe[\"a\"])(t.selection.getSelectedBlocks());if(Ii(n,e.schema)){this.value=n.getAttribute(\"linkHref\");this.isEnabled=e.schema.checkAttribute(n,\"linkHref\")}else{this.value=t.selection.getAttribute(\"linkHref\");this.isEnabled=e.schema.checkAttributeInSelection(t.selection,\"linkHref\")}for(const e of this.manualDecorators){e.value=this._getDecoratorStateFromModel(e.id)}}execute(e,t={}){const n=this.editor.model;const i=n.document.selection;const r=[];const o=[];for(const e in t){if(t[e]){r.push(e)}else{o.push(e)}}n.change(t=>{if(i.isCollapsed){const s=i.getFirstPosition();if(i.hasAttribute(\"linkHref\")){const a=yn(s,\"linkHref\",i.getAttribute(\"linkHref\"),n);t.setAttribute(\"linkHref\",e,a);r.forEach(e=>{t.setAttribute(e,true,a)});o.forEach(e=>{t.removeAttribute(e,a)});t.setSelection(t.createPositionAfter(a.end.nodeBefore))}else if(e!==\"\"){const o=Object(Sn[\"a\"])(i.getAttributes());o.set(\"linkHref\",e);r.forEach(e=>{o.set(e,true)});const a=t.createText(e,o);n.insertContent(a,s);t.setSelection(t.createPositionAfter(a))}[\"linkHref\",...r,...o].forEach(e=>{t.removeSelectionAttribute(e)})}else{const s=n.schema.getValidRanges(i.getRanges(),\"linkHref\");const a=[];for(const e of i.getSelectedBlocks()){if(n.schema.checkAttribute(e,\"linkHref\")){a.push(t.createRangeOn(e))}}const c=a.slice();for(const e of s){if(this._isRangeToUpdate(e,a)){c.push(e)}}for(const n of c){t.setAttribute(\"linkHref\",e,n);r.forEach(e=>{t.setAttribute(e,true,n)});o.forEach(e=>{t.removeAttribute(e,n)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model;const n=t.document;const i=Object(xe[\"a\"])(n.selection.getSelectedBlocks());if(Ii(i,t.schema)){return i.getAttribute(e)}return n.selection.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t){if(n.containsRange(e)){return false}}return true}}class Mi extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=e.document;const n=Object(xe[\"a\"])(t.selection.getSelectedBlocks());if(Ii(n,e.schema)){this.isEnabled=e.schema.checkAttribute(n,\"linkHref\")}else{this.isEnabled=e.schema.checkAttributeInSelection(t.selection,\"linkHref\")}}execute(){const e=this.editor;const t=this.editor.model;const n=t.document.selection;const i=e.commands.get(\"link\");t.change(e=>{const r=n.isCollapsed?[yn(n.getFirstPosition(),\"linkHref\",n.getAttribute(\"linkHref\"),t)]:n.getRanges();for(const t of r){e.removeAttribute(\"linkHref\",t);if(i){for(const n of i.manualDecorators){e.removeAttribute(n.id,t)}}}})}}class Ri{constructor({id:e,label:t,attributes:n,defaultValue:i}){this.id=e;this.set(\"value\");this.defaultValue=i;this.label=t;this.attributes=n}}Object(w[\"a\"])(Ri,ze[\"a\"]);var Ni=n(303);const ji=\"ck-link_selected\";const Di=\"automatic\";const Li=\"manual\";const Bi=/^(https?:)?\\/\\//;class Fi extends ve[\"a\"]{static get pluginName(){return\"LinkEditing\"}static get requires(){return[bn,Tn[\"a\"],En[\"a\"]]}constructor(e){super(e);e.config.define(\"link\",{addTargetToExternalLinks:false})}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:\"linkHref\"});e.conversion.for(\"dataDowncast\").attributeToElement({model:\"linkHref\",view:Ai});e.conversion.for(\"editingDowncast\").attributeToElement({model:\"linkHref\",view:(e,t)=>Ai(Ti(e),t)});e.conversion.for(\"upcast\").elementToAttribute({view:{name:\"a\",attributes:{href:true}},model:{key:\"linkHref\",value:e=>e.getAttribute(\"href\")}});e.commands.add(\"link\",new Pi(e));e.commands.add(\"unlink\",new Mi(e));const t=Si(e.t,Oi(e.config.get(\"link.decorators\")));this._enableAutomaticDecorators(t.filter(e=>e.mode===Di));this._enableManualDecorators(t.filter(e=>e.mode===Li));const n=e.plugins.get(bn);n.registerAttribute(\"linkHref\");An(e,\"linkHref\",\"a\",ji);this._enableInsertContentSelectionAttributesFixer();this._enableClickingAfterLink();this._enableTypingOverLink();this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(e){const t=this.editor;const n=t.commands.get(\"link\");const i=n.automaticDecorators;if(t.config.get(\"link.addTargetToExternalLinks\")){i.add({id:\"linkIsExternal\",mode:Di,callback:e=>Bi.test(e),attributes:{target:\"_blank\",rel:\"noopener noreferrer\"}})}i.add(e);if(i.length){t.conversion.for(\"downcast\").add(i.getDispatcher())}}_enableManualDecorators(e){if(!e.length){return}const t=this.editor;const n=t.commands.get(\"link\");const i=n.manualDecorators;e.forEach(e=>{t.model.schema.extend(\"$text\",{allowAttributes:e.id});i.add(new Ri(e));t.conversion.for(\"downcast\").attributeToElement({model:e.id,view:(t,n)=>{if(t){const t=i.get(e.id).attributes;const r=n.createAttributeElement(\"a\",t,{priority:5});n.setCustomProperty(\"link\",true,r);return r}}});t.conversion.for(\"upcast\").elementToAttribute({view:{name:\"a\",attributes:i.get(e.id).attributes},model:{key:e.id}})})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=e.commands.get(\"link\");this.listenTo(t,\"insertContent\",()=>{const e=n.anchor.nodeBefore;const r=n.anchor.nodeAfter;if(!n.hasAttribute(\"linkHref\")){return}if(!e){return}if(!e.hasAttribute(\"linkHref\")){return}if(r&&r.hasAttribute(\"linkHref\")){return}t.change(e=>{zi(e,i.manualDecorators)})},{priority:\"low\"})}_enableClickingAfterLink(){const e=this.editor;const t=e.commands.get(\"link\");e.editing.view.addObserver(mn);let n=false;this.listenTo(e.editing.view.document,\"mousedown\",()=>{n=true});this.listenTo(e.editing.view.document,\"selectionChange\",()=>{if(!n){return}n=false;const i=e.model.document.selection;if(!i.isCollapsed){return}if(!i.hasAttribute(\"linkHref\")){return}const r=i.getFirstPosition();const o=yn(r,\"linkHref\",i.getAttribute(\"linkHref\"),e.model);if(r.isTouching(o.start)||r.isTouching(o.end)){e.model.change(e=>{zi(e,t.manualDecorators)})}})}_enableTypingOverLink(){const e=this.editor;const t=e.editing.view;let n;let i;this.listenTo(t.document,\"delete\",()=>{i=true},{priority:\"high\"});this.listenTo(e.model,\"deleteContent\",()=>{const t=e.model.document.selection;if(t.isCollapsed){return}if(i){i=false;return}if(!Ui(e)){return}if(Vi(e.model)){n=t.getAttributes()}},{priority:\"high\"});this.listenTo(e.model,\"insertContent\",(t,[r])=>{i=false;if(!Ui(e)){return}if(!n){return}e.model.change(e=>{for(const[t,i]of n){e.setAttribute(t,i,r)}});n=null},{priority:\"high\"})}_handleDeleteContentAfterLink(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=e.editing.view;const r=e.commands.get(\"link\");let o=false;let s=false;this.listenTo(i.document,\"delete\",(e,t)=>{s=t.domEvent.keyCode===gn[\"f\"].backspace},{priority:\"high\"});this.listenTo(t,\"deleteContent\",()=>{o=false;const e=n.getFirstPosition();const i=n.getAttribute(\"linkHref\");if(!i){return}const r=yn(e,\"linkHref\",i,t);o=r.containsPosition(e)||r.end.isEqual(e)},{priority:\"high\"});this.listenTo(t,\"deleteContent\",()=>{if(!s){return}s=false;if(o){return}e.model.enqueueChange(e=>{zi(e,r.manualDecorators)})},{priority:\"low\"})}}function zi(e,t){e.removeSelectionAttribute(\"linkHref\");for(const n of t){e.removeSelectionAttribute(n.id)}}function Vi(e){const t=e.document.selection;const n=t.getFirstPosition();const i=t.getLastPosition();const r=n.nodeAfter;if(!r){return false}if(!r.is(\"$text\")){return false}if(!r.hasAttribute(\"linkHref\")){return false}const o=i.textNode||i.nodeBefore;if(r===o){return true}const s=yn(n,\"linkHref\",r.getAttribute(\"linkHref\"),e);return s.containsRange(e.createRange(n,i),true)}function Ui(e){const t=e.plugins.get(\"Input\");return t.isInput(e.model.change(e=>e.batch))}var Hi=n(27);class Wi extends Hi[\"a\"]{static get pluginName(){return\"Notification\"}init(){this.on(\"show:warning\",(e,t)=>{window.alert(t.message)},{priority:\"lowest\"})}showSuccess(e,t={}){this._showNotification({message:e,type:\"success\",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:\"info\",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:\"warning\",namespace:t.namespace,title:t.title})}_showNotification(e){const t=`show:${e.type}`+(e.namespace?`:${e.namespace}`:\"\");this.fire(t,{message:e.message,type:e.type,title:e.title||\"\"})}}class $i extends ke[\"a\"]{constructor(e){super(e);this.stopListening(this.editor.model.document,\"change\");this.listenTo(this.editor.model.document,\"change\",()=>this.refresh(),{priority:\"low\"})}refresh(){const e=this.editor.commands.get(\"imageInsert\");const t=this.editor.commands.get(\"link\");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor;const t=this.editor.config.get(\"ckfinder.openerMethod\")||\"modal\";if(t!=\"popup\"&&t!=\"modal\"){throw new se[\"b\"]('ckfinder-unknown-openerMethod: The openerMethod config option must by \"popup\" or \"modal\".',e)}const n=this.editor.config.get(\"ckfinder.options\")||{};n.chooseFiles=true;const i=n.onInit;if(!n.language){n.language=e.locale.uiLanguage}n.onInit=t=>{if(i){i(t)}t.on(\"files:choose\",n=>{const i=n.data.files.toArray();const r=i.filter(e=>!e.isImage());const o=i.filter(e=>e.isImage());for(const t of r){e.execute(\"link\",t.getUrl())}const s=[];for(const e of o){const n=e.getUrl();s.push(n?n:t.request(\"file:getProxyUrl\",{file:e}))}if(s.length){qi(e,s)}});t.on(\"file:choose:resizedImage\",t=>{const n=t.data.resizedUrl;if(!n){const t=e.plugins.get(\"Notification\");const n=e.locale.t;t.showWarning(n(\"Could not obtain resized image URL.\"),{title:n(\"Selecting resized image failed\"),namespace:\"ckfinder\"});return}qi(e,[n])})};window.CKFinder[t](n)}}function qi(e,t){const n=e.commands.get(\"imageInsert\");if(!n.isEnabled){const t=e.plugins.get(\"Notification\");const n=e.locale.t;t.showWarning(n(\"Could not insert image at the current position.\"),{title:n(\"Inserting image failed\"),namespace:\"ckfinder\"});return}e.execute(\"imageInsert\",{source:t})}class Yi extends ve[\"a\"]{static get pluginName(){return\"CKFinderEditing\"}static get requires(){return[Wi,un,Fi]}init(){const e=this.editor;e.commands.add(\"ckfinder\",new $i(e))}}class Ji{constructor(){const e=new window.FileReader;this._reader=e;this._data=undefined;this.set(\"loaded\",0);e.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;this.total=e.size;return new Promise((n,i)=>{t.onload=()=>{const e=t.result;this._data=e;n(e)};t.onerror=()=>{i(\"error\")};t.onabort=()=>{i(\"aborted\")};this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}Object(w[\"a\"])(Ji,ze[\"a\"]);var Gi=n(17);class Ki extends ve[\"a\"]{static get pluginName(){return\"FileRepository\"}static get requires(){return[Qe[\"a\"]]}init(){this.loaders=new On[\"a\"];this.loaders.on(\"add\",()=>this._updatePendingAction());this.loaders.on(\"remove\",()=>this._updatePendingAction());this._loadersMap=new Map;this._pendingAction=null;this.set(\"uploaded\",0);this.set(\"uploadTotal\",null);this.bind(\"uploadedPercent\").to(this,\"uploaded\",this,\"uploadTotal\",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter){console.warn(Object(se[\"a\"])(\"filerepository-no-upload-adapter: Upload adapter is not defined.\"));return null}const t=new Xi(Promise.resolve(e),this.createUploadAdapter);this.loaders.add(t);this._loadersMap.set(e,t);if(e instanceof Promise){t.file.then(e=>{this._loadersMap.set(e,t)}).catch(()=>{})}t.on(\"change:uploaded\",()=>{let e=0;for(const t of this.loaders){e+=t.uploaded}this.uploaded=e});t.on(\"change:uploadTotal\",()=>{let e=0;for(const t of this.loaders){if(t.uploadTotal){e+=t.uploadTotal}}this.uploadTotal=e});return t}destroyLoader(e){const t=e instanceof Xi?e:this.getLoader(e);t._destroy();this.loaders.remove(t);this._loadersMap.forEach((e,n)=>{if(e===t){this._loadersMap.delete(n)}})}_updatePendingAction(){const e=this.editor.plugins.get(Qe[\"a\"]);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t;const n=e=>`${t(\"Upload in progress\")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent));this._pendingAction.bind(\"message\").to(this,\"uploadedPercent\",n)}}else{e.remove(this._pendingAction);this._pendingAction=null}}}Object(w[\"a\"])(Ki,ze[\"a\"]);class Xi{constructor(e,t){this.id=Object(Gi[\"a\"])();this._filePromiseWrapper=this._createFilePromiseWrapper(e);this._adapter=t(this);this._reader=new Ji;this.set(\"status\",\"idle\");this.set(\"uploaded\",0);this.set(\"uploadTotal\",null);this.bind(\"uploadedPercent\").to(this,\"uploaded\",this,\"uploadTotal\",(e,t)=>t?e/t*100:0);this.set(\"uploadResponse\",null)}get file(){if(!this._filePromiseWrapper){return Promise.resolve(null)}else{return this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null)}}get data(){return this._reader.data}read(){if(this.status!=\"idle\"){throw new se[\"b\"](\"filerepository-read-wrong-status: You cannot call read if the status is different than idle.\",this)}this.status=\"reading\";return this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!==\"reading\"){throw this.status}this.status=\"idle\";return e}).catch(e=>{if(e===\"aborted\"){this.status=\"aborted\";throw\"aborted\"}this.status=\"error\";throw this._reader.error?this._reader.error:e})}upload(){if(this.status!=\"idle\"){throw new se[\"b\"](\"filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.\",this)}this.status=\"uploading\";return this.file.then(()=>this._adapter.upload()).then(e=>{this.uploadResponse=e;this.status=\"idle\";return e}).catch(e=>{if(this.status===\"aborted\"){throw\"aborted\"}this.status=\"error\";throw e})}abort(){const e=this.status;this.status=\"aborted\";if(!this._filePromiseWrapper.isFulfilled){this._filePromiseWrapper.promise.catch(()=>{});this._filePromiseWrapper.rejecter(\"aborted\")}else if(e==\"reading\"){this._reader.abort()}else if(e==\"uploading\"&&this._adapter.abort){this._adapter.abort()}this._destroy()}_destroy(){this._filePromiseWrapper=undefined;this._reader=undefined;this._adapter=undefined;this.uploadResponse=undefined}_createFilePromiseWrapper(e){const t={};t.promise=new Promise((n,i)=>{t.rejecter=i;t.isFulfilled=false;e.then(e=>{t.isFulfilled=true;n(e)}).catch(e=>{t.isFulfilled=true;i(e)})});return t}}Object(w[\"a\"])(Xi,ze[\"a\"]);const Qi=\"ckCsrfToken\";const Zi=40;const er=\"abcdefghijklmnopqrstuvwxyz0123456789\";function tr(){let e=nr(Qi);if(!e||e.length!=Zi){e=rr(Zi);ir(Qi,e)}return e}function nr(e){e=e.toLowerCase();const t=document.cookie.split(\";\");for(const n of t){const t=n.split(\"=\");const i=decodeURIComponent(t[0].trim().toLowerCase());if(i===e){return decodeURIComponent(t[1])}}return null}function ir(e,t){document.cookie=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)+\";path=/\"}function rr(e){let t=\"\";const n=new Uint8Array(e);window.crypto.getRandomValues(n);for(let e=0;e<n.length;e++){const i=er.charAt(n[e]%er.length);t+=Math.random()>.5?i.toUpperCase():i}return t}class or extends ve[\"a\"]{static get requires(){return[Ki]}static get pluginName(){return\"CKFinderUploadAdapter\"}init(){const e=this.editor.config.get(\"ckfinder.uploadUrl\");if(!e){return}this.editor.plugins.get(Ki).createUploadAdapter=t=>new sr(t,e,this.editor.t)}}class sr{constructor(e,t,n){this.loader=e;this.url=t;this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest();this._initListeners(t,n,e);this._sendRequest(e)}))}abort(){if(this.xhr){this.xhr.abort()}}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open(\"POST\",this.url,true);e.responseType=\"json\"}_initListeners(e,t,n){const i=this.xhr;const r=this.loader;const o=this.t;const s=o(\"Cannot upload file:\")+` ${n.name}.`;i.addEventListener(\"error\",()=>t(s));i.addEventListener(\"abort\",()=>t());i.addEventListener(\"load\",()=>{const n=i.response;if(!n||!n.uploaded){return t(n&&n.error&&n.error.message?n.error.message:s)}e({default:n.url})});if(i.upload){i.upload.addEventListener(\"progress\",e=>{if(e.lengthComputable){r.uploadTotal=e.total;r.uploaded=e.loaded}})}}_sendRequest(e){const t=new FormData;t.append(\"upload\",e);t.append(\"ckCsrfToken\",tr());this.xhr.send(t)}}class ar extends ve[\"a\"]{static get pluginName(){return\"CKFinder\"}static get requires(){return[Yi,ht,or]}}var cr=n(68);const lr=\"code\";const dr=\"ck-code_selected\";class ur extends ve[\"a\"]{static get pluginName(){return\"CodeEditing\"}static get requires(){return[bn]}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:lr});e.model.schema.setAttributeProperties(lr,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:lr,view:\"code\",upcastAlso:{styles:{\"word-wrap\":\"break-word\"}}});e.commands.add(lr,new cr[\"a\"](e,lr));e.plugins.get(bn).registerAttribute(lr);An(e,lr,\"code\",dr)}}var hr='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.5 5.7l5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z\"/></svg>';var fr=n(227);const mr=\"code\";class gr extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(mr,n=>{const i=e.commands.get(mr);const r=new z[\"a\"](n);r.set({label:t(\"Code\"),icon:hr,tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(mr);e.editing.view.focus()});return r})}}class pr extends ve[\"a\"]{static get requires(){return[ur,gr]}static get pluginName(){return\"Code\"}}var br=n(136);function _r(e){const t=e.t;const n=e.config.get(\"codeBlock.languages\");for(const e of n){if(e.label===\"Plain text\"){e.label=t(\"Plain text\")}if(e.class===undefined){e.class=`language-${e.language}`}}return n}function wr(e,t,n){const i={};for(const r of e){if(t===\"class\"){i[r[t].split(\" \").shift()]=r[n]}else{i[r[t]]=r[n]}}return i}function vr(e){return e.data.match(/^(\\s*)/)[0]}function kr(e,t){const n=e.createDocumentFragment();const i=t.split(\"\\n\").map(t=>e.createText(t));const r=i[i.length-1];for(const t of i){e.append(t,n);if(t!==r){e.appendElement(\"softBreak\",n)}}return n}function xr(e){const t=e.document.selection;const n=[];if(t.isCollapsed){n.push(t.anchor)}else{const i=t.getFirstRange().getWalker({ignoreElementEnd:true,direction:\"backward\"});for(const{item:t}of i){if(t.is(\"$textProxy\")&&t.parent.is(\"element\",\"codeBlock\")){const i=vr(t.textNode);const{parent:r,startOffset:o}=t.textNode;const s=e.createPositionAt(r,o+i.length);n.push(s)}}}return n}function yr(e){const t=Object(xe[\"a\"])(e.getSelectedBlocks());return t&&t.is(\"element\",\"codeBlock\")}class Cr extends ke[\"a\"]{refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor;const n=t.model;const i=n.document.selection;const r=_r(t);const o=r[0];const s=Array.from(i.getSelectedBlocks());const a=e.forceValue===undefined?!this.value:e.forceValue;const c=e.language||o.language;n.change(e=>{if(a){this._applyCodeBlock(e,s,c)}else{this._removeCodeBlock(e,s)}})}_getValue(){const e=this.editor.model.document.selection;const t=Object(xe[\"a\"])(e.getSelectedBlocks());const n=!!(t&&t.is(\"element\",\"codeBlock\"));return n?t.getAttribute(\"language\"):false}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const n=Object(xe[\"a\"])(e.getSelectedBlocks());if(!n){return false}return Ar(t,n)}_applyCodeBlock(e,t,n){const i=this.editor.model.schema;const r=t.filter(e=>Ar(i,e));for(const t of r){e.rename(t,\"codeBlock\");e.setAttribute(\"language\",n,t);i.removeDisallowedAttributes([t],e)}r.reverse().forEach((t,n)=>{const i=r[n+1];if(t.previousSibling===i){e.appendElement(\"softBreak\",i);e.merge(e.createPositionBefore(t))}})}_removeCodeBlock(e,t){const n=t.filter(e=>e.is(\"element\",\"codeBlock\"));for(const t of n){const n=e.createRangeOn(t);for(const t of Array.from(n.getItems()).reverse()){if(t.is(\"element\",\"softBreak\")&&t.parent.is(\"element\",\"codeBlock\")){const{position:n}=e.split(e.createPositionBefore(t));e.rename(n.nodeAfter,\"paragraph\");e.removeAttribute(\"language\",n.nodeAfter);e.remove(t)}}e.rename(t,\"paragraph\");e.removeAttribute(\"language\",t)}}}function Ar(e,t){if(t.is(\"rootElement\")||e.isLimit(t)){return false}return e.checkChild(t.parent,\"codeBlock\")}class Tr extends ke[\"a\"]{constructor(e){super(e);this._indentSequence=e.config.get(\"codeBlock.indentSequence\")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor;const t=e.model;t.change(e=>{const n=xr(t);for(const t of n){e.insertText(this._indentSequence,t)}})}_checkEnabled(){if(!this._indentSequence){return false}return yr(this.editor.model.document.selection)}}class Er extends ke[\"a\"]{constructor(e){super(e);this._indentSequence=e.config.get(\"codeBlock.indentSequence\")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor;const t=e.model;t.change(e=>{const n=xr(t);for(const t of n){const n=Sr(this.editor.model,t,this._indentSequence);if(n){e.remove(n)}}})}_checkEnabled(){if(!this._indentSequence){return false}const e=this.editor.model;if(!yr(e.document.selection)){return false}return xr(e).some(t=>Sr(e,t,this._indentSequence))}}function Sr(e,t,n){const i=Or(t);if(!i){return null}const r=vr(i);const o=r.lastIndexOf(n);if(o+n.length!==r.length){return null}if(o===-1){return null}const{parent:s,startOffset:a}=i;return e.createRange(e.createPositionAt(s,a+o),e.createPositionAt(s,a+o+n.length))}function Or(e){let t=e.parent.getChild(e.index);if(!t||t.is(\"element\",\"softBreak\")){t=e.nodeBefore}if(!t||t.is(\"element\",\"softBreak\")){return null}return t}function Ir(e,t,n=false){const i=wr(t,\"language\",\"class\");const r=wr(t,\"language\",\"label\");return(t,o,s)=>{const{writer:a,mapper:c,consumable:l}=s;if(!l.consume(o.item,\"insert\")){return}const d=o.item.getAttribute(\"language\");const u=c.toViewPosition(e.createPositionBefore(o.item));const h={};if(n){h[\"data-language\"]=r[d];h.spellcheck=\"false\"}const f=a.createContainerElement(\"pre\",h);const m=a.createContainerElement(\"code\",{class:i[d]||null});a.insert(a.createPositionAt(f,0),m);a.insert(u,f);c.bindElements(o.item,m)}}function Pr(e){return(t,n,i)=>{if(n.item.parent.name!==\"codeBlock\"){return}const{writer:r,mapper:o,consumable:s}=i;if(!s.consume(n.item,\"insert\")){return}const a=o.toViewPosition(e.createPositionBefore(n.item));r.insert(a,r.createText(\"\\n\"))}}function Mr(e,t){const n=wr(t,\"class\",\"language\");const i=t[0].language;return(t,r,o)=>{const s=r.viewItem;const a=s.getChild(0);if(!a||!a.is(\"element\",\"code\")){return}const{consumable:c,writer:l}=o;if(!c.test(s,{name:true})||!c.test(a,{name:true})){return}const d=l.createElement(\"codeBlock\");const u=[...a.getClassNames()];if(!u.length){u.push(\"\")}for(const e of u){const t=n[e];if(t){l.setAttribute(\"language\",t,d);break}}if(!d.hasAttribute(\"language\")){l.setAttribute(\"language\",i,d)}const h=[...e.createRangeIn(a)].filter(e=>e.type===\"text\").map(({item:e})=>e.data).join(\"\");const f=kr(l,h);l.append(f,d);const m=o.splitToAllowedParent(d,r.modelCursor);if(!m){return}l.insert(d,m.position);c.consume(s,{name:true});c.consume(a,{name:true});const g=o.getSplitParts(d);r.modelRange=l.createRange(o.writer.createPositionBefore(d),o.writer.createPositionAfter(g[g.length-1]));if(m.cursorParent){r.modelCursor=l.createPositionAt(m.cursorParent,0)}else{r.modelCursor=r.modelRange.end}}}const Rr=\"paragraph\";class Nr extends ve[\"a\"]{static get pluginName(){return\"CodeBlockEditing\"}static get requires(){return[br[\"a\"]]}constructor(e){super(e);e.config.define(\"codeBlock\",{languages:[{language:\"plaintext\",label:\"Plain text\"},{language:\"c\",label:\"C\"},{language:\"cs\",label:\"C#\"},{language:\"cpp\",label:\"C++\"},{language:\"css\",label:\"CSS\"},{language:\"diff\",label:\"Diff\"},{language:\"html\",label:\"HTML\"},{language:\"java\",label:\"Java\"},{language:\"javascript\",label:\"JavaScript\"},{language:\"php\",label:\"PHP\"},{language:\"python\",label:\"Python\"},{language:\"ruby\",label:\"Ruby\"},{language:\"typescript\",label:\"TypeScript\"},{language:\"xml\",label:\"XML\"}],indentSequence:\"\\t\"})}init(){const e=this.editor;const t=e.model.schema;const n=e.model;const i=_r(e);e.commands.add(\"codeBlock\",new Cr(e));e.commands.add(\"indentCodeBlock\",new Tr(e));e.commands.add(\"outdentCodeBlock\",new Er(e));const r=e=>(t,n)=>{const i=this.editor.commands.get(e);if(i.isEnabled){this.editor.execute(e);n()}};e.keystrokes.set(\"Tab\",r(\"indentCodeBlock\"));e.keystrokes.set(\"Shift+Tab\",r(\"outdentCodeBlock\"));t.register(\"codeBlock\",{allowWhere:\"$block\",isBlock:true,allowAttributes:[\"language\"]});t.extend(\"$text\",{allowIn:\"codeBlock\"});t.addAttributeCheck(e=>{if(e.endsWith(\"codeBlock $text\")){return false}});e.editing.downcastDispatcher.on(\"insert:codeBlock\",Ir(n,i,true));e.data.downcastDispatcher.on(\"insert:codeBlock\",Ir(n,i));e.data.downcastDispatcher.on(\"insert:softBreak\",Pr(n),{priority:\"high\"});e.data.upcastDispatcher.on(\"element:pre\",Mr(e.editing.view,i));this.listenTo(e.editing.view.document,\"clipboardInput\",(e,t)=>{const i=n.document.selection;if(!i.anchor.parent.is(\"element\",\"codeBlock\")){return}const r=t.dataTransfer.getData(\"text/plain\");n.change(t=>{n.insertContent(kr(t,r),i);e.stop()})});this.listenTo(n,\"getSelectedContent\",(e,[i])=>{const r=i.anchor;if(i.isCollapsed||!r.parent.is(\"element\",\"codeBlock\")||!r.hasSameParentAs(i.focus)){return}n.change(n=>{const o=e.return;if(o.childCount>1||i.containsEntireContent(r.parent)){const t=n.createElement(\"codeBlock\",r.parent.getAttributes());n.append(o,t);const i=n.createDocumentFragment();n.append(t,i);e.return=i}else{const e=o.getChild(0);if(t.checkAttribute(e,\"code\")){n.setAttribute(\"code\",true,e)}}})})}afterInit(){const e=this.editor;const t=e.commands;const n=t.get(\"indent\");const i=t.get(\"outdent\");if(n){n.registerChildCommand(t.get(\"indentCodeBlock\"))}if(i){i.registerChildCommand(t.get(\"outdentCodeBlock\"))}this.listenTo(e.editing.view.document,\"enter\",(t,n)=>{const i=e.model.document.selection.getLastPosition().parent;if(!i.is(\"element\",\"codeBlock\")){return}Dr(e,n.isSoft)||Lr(e,n.isSoft)||jr(e);n.preventDefault();t.stop()})}}function jr(e){const t=e.model;const n=t.document;const i=n.selection.getLastPosition();const r=i.nodeBefore||i.textNode;let o;if(r&&r.is(\"$text\")){o=vr(r)}e.model.change(t=>{e.execute(\"shiftEnter\");if(o){t.insertText(o,n.selection.anchor)}})}function Dr(e,t){const n=e.model;const i=n.document;const r=e.editing.view;const o=i.selection.getLastPosition();const s=o.nodeAfter;if(t||!i.selection.isCollapsed||!o.isAtStart){return false}if(!s||!s.is(\"element\",\"softBreak\")){return false}e.model.change(t=>{e.execute(\"enter\");const n=i.selection.anchor.parent.previousSibling;t.rename(n,Rr);t.setSelection(n,\"in\");e.model.schema.removeDisallowedAttributes([n],t);t.remove(s)});r.scrollToTheSelection();return true}function Lr(e,t){const n=e.model;const i=n.document;const r=e.editing.view;const o=i.selection.getLastPosition();const s=o.nodeBefore;let a;if(t||!i.selection.isCollapsed||!o.isAtEnd||!s){return false}if(s.is(\"element\",\"softBreak\")){a=n.createRangeOn(s)}else if(s.is(\"$text\")&&!s.data.match(/\\S/)&&s.previousSibling&&s.previousSibling.is(\"element\",\"softBreak\")){a=n.createRange(n.createPositionBefore(s.previousSibling),n.createPositionAfter(s))}else{return false}e.model.change(t=>{t.remove(a);e.execute(\"enter\");const n=i.selection.anchor.parent;t.rename(n,Rr);e.model.schema.removeDisallowedAttributes([n],t)});r.scrollToTheSelection();return true}var Br=n(211);class Fr{constructor(e,t){if(t){Object(Br[\"a\"])(this,t)}if(e){this.set(e)}}}Object(w[\"a\"])(Fr,ze[\"a\"]);var zr=n(306);class Vr extends m[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;this.set(\"icon\");this.set(\"isEnabled\",true);this.set(\"isOn\",false);this.set(\"isToggleable\",false);this.set(\"isVisible\",true);this.set(\"keystroke\");this.set(\"label\");this.set(\"tabindex\",-1);this.set(\"tooltip\");this.set(\"tooltipPosition\",\"s\");this.set(\"type\",\"button\");this.set(\"withText\",false);this.children=this.createCollection();this.actionView=this._createActionView();this.arrowView=this._createArrowView();this.keystrokes=new b[\"a\"];this.focusTracker=new g[\"a\"];this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-splitbutton\",t.if(\"isVisible\",\"ck-hidden\",e=>!e),this.arrowView.bindTemplate.if(\"isOn\",\"ck-splitbutton_open\")]},children:this.children})}render(){super.render();this.children.add(this.actionView);this.children.add(this.arrowView);this.focusTracker.add(this.actionView.element);this.focusTracker.add(this.arrowView.element);this.keystrokes.listenTo(this.element);this.keystrokes.set(\"arrowright\",(e,t)=>{if(this.focusTracker.focusedElement===this.actionView.element){this.arrowView.focus();t()}});this.keystrokes.set(\"arrowleft\",(e,t)=>{if(this.focusTracker.focusedElement===this.arrowView.element){this.actionView.focus();t()}})}focus(){this.actionView.focus()}_createActionView(){const e=new z[\"a\"];e.bind(\"icon\",\"isEnabled\",\"isOn\",\"isToggleable\",\"keystroke\",\"label\",\"tabindex\",\"tooltip\",\"tooltipPosition\",\"type\",\"withText\").to(this);e.extendTemplate({attributes:{class:\"ck-splitbutton__action\"}});e.delegate(\"execute\").to(this);return e}_createArrowView(){const e=new z[\"a\"];const t=e.bindTemplate;e.icon=V;e.extendTemplate({attributes:{class:\"ck-splitbutton__arrow\",\"aria-haspopup\":true,\"aria-expanded\":t.to(\"isOn\",e=>String(e))}});e.bind(\"isEnabled\").to(this);e.delegate(\"execute\").to(this,\"open\");return e}}var Ur='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231l.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2l-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z\"/></svg>';var Hr=n(308);class Wr extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;const n=e.ui.componentFactory;const i=_r(e);const r=i[0];n.add(\"codeBlock\",n=>{const o=e.commands.get(\"codeBlock\");const s=Z(n,Vr);const a=s.buttonView;a.set({label:t(\"Insert code block\"),tooltip:true,icon:Ur,isToggleable:true});a.bind(\"isOn\").to(o,\"value\",e=>!!e);a.on(\"execute\",()=>{e.execute(\"codeBlock\",{language:r.language});e.editing.view.focus()});s.on(\"execute\",t=>{e.execute(\"codeBlock\",{language:t.source._codeBlockLanguage,forceValue:true});e.editing.view.focus()});s.class=\"ck-code-block-dropdown\";s.bind(\"isEnabled\").to(o);te(s,this._getLanguageListItemDefinitions(i));return s})}_getLanguageListItemDefinitions(e){const t=this.editor;const n=t.commands.get(\"codeBlock\");const i=new On[\"a\"];for(const t of e){const e={type:\"button\",model:new Fr({_codeBlockLanguage:t.language,label:t.label,withText:true})};e.model.bind(\"isOn\").to(n,\"value\",t=>t===e.model._codeBlockLanguage);i.add(e)}return i}}class $r extends ve[\"a\"]{static get requires(){return[Nr,Wr]}static get pluginName(){return\"CodeBlock\"}}var qr=n(195);class Yr extends ke[\"a\"]{constructor(e,t){super(e);this.attributeKey=t}refresh(){const e=this.editor.model;const t=e.document;this.value=t.selection.getAttribute(this.attributeKey);this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model;const n=t.document;const i=n.selection;const r=e.value;t.change(e=>{if(i.isCollapsed){if(r){e.setSelectionAttribute(this.attributeKey,r)}else{e.removeSelectionAttribute(this.attributeKey)}}else{const n=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const t of n){if(r){e.setAttribute(this.attributeKey,r,t)}else{e.removeAttribute(this.attributeKey,t)}}}})}}var Jr='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"ck-icon__fill\" d=\"M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z\"/><path d=\"M14.814 6.035L8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z\"/></svg>';class Gr extends z[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;this.set(\"color\");this.set(\"hasBorder\");this.icon=Jr;this.extendTemplate({attributes:{style:{backgroundColor:t.to(\"color\")},class:[\"ck\",\"ck-color-grid__tile\",t.if(\"hasBorder\",\"ck-color-table__color-tile_bordered\")]}})}render(){super.render();this.iconView.fillColor=\"hsl(0, 0%, 100%)\"}}var Kr=n(310);class Xr extends m[\"a\"]{constructor(e,t){super(e);const n=t&&t.colorDefinitions||[];const i={};if(t&&t.columns){i.gridTemplateColumns=`repeat( ${t.columns}, 1fr)`}this.set(\"selectedColor\");this.items=this.createCollection();this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this._focusCycler=new p[\"a\"]({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"arrowleft\",focusNext:\"arrowright\"}});this.items.on(\"add\",(e,t)=>{t.isOn=t.color===this.selectedColor});n.forEach(e=>{const t=new Gr;t.set({color:e.color,label:e.label,tooltip:true,hasBorder:e.options.hasBorder});t.on(\"execute\",()=>{this.fire(\"execute\",{value:e.color,hasBorder:e.options.hasBorder,label:e.label})});this.items.add(t)});this.setTemplate({tag:\"div\",children:this.items,attributes:{class:[\"ck\",\"ck-color-grid\"],style:i}});this.on(\"change:selectedColor\",(e,t,n)=>{for(const e of this.items){e.isOn=e.color===n}})}focus(){if(this.items.length){this.items.first.focus()}}focusLast(){if(this.items.length){this.items.last.focus()}}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element)}this.items.on(\"add\",(e,t)=>{this.focusTracker.add(t.element)});this.items.on(\"remove\",(e,t)=>{this.focusTracker.remove(t.element)});this.keystrokes.listenTo(this.element)}}var Qr=n(130);class Zr extends On[\"a\"]{constructor(e){super(e);this.set(\"isEmpty\",true);this.on(\"change\",()=>{this.set(\"isEmpty\",this.length===0)})}add(e,t){if(this.find(t=>t.color===e.color)){return}super.add(e,t)}hasColor(e){return!!this.find(t=>t.color===e)}}Object(w[\"a\"])(Zr,ze[\"a\"]);var eo=n(61);var to='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z\"/><path d=\"M4 18h5.523v-1H4zm-2 0h1v-1H2z\"/></svg>';var no=n(314);class io extends m[\"a\"]{constructor(e,{colors:t,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o}){super(e);this.items=this.createCollection();this.colorDefinitions=t;this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this.set(\"selectedColor\");this.removeButtonLabel=i;this.columns=n;this.documentColors=new Zr;this.documentColorsCount=o;this._focusCycler=new p[\"a\"]({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"arrowup\",focusNext:\"arrowdown\"}});this._documentColorsLabel=r;this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-color-table\"]},children:this.items});this.items.add(this._removeColorButton())}updateDocumentColors(e,t){const n=e.document;const i=this.documentColorsCount;this.documentColors.clear();for(const r of n.getRootNames()){const o=n.getRoot(r);const s=e.createRangeIn(o);for(const e of s.getItems()){if(e.is(\"$textProxy\")&&e.hasAttribute(t)){this._addColorToDocumentColors(e.getAttribute(t));if(this.documentColors.length>=i){return}}}}}updateSelectedColors(){const e=this.documentColorsGrid;const t=this.staticColorsGrid;const n=this.selectedColor;t.selectedColor=n;if(e){e.selectedColor=n}}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element)}this.keystrokes.listenTo(this.element)}appendGrids(){if(this.staticColorsGrid){return}this.staticColorsGrid=this._createStaticColorsGrid();this.items.add(this.staticColorsGrid);if(this.documentColorsCount){const e=eo[\"a\"].bind(this.documentColors,this.documentColors);const t=new Qr[\"a\"](this.locale);t.text=this._documentColorsLabel;t.extendTemplate({attributes:{class:[\"ck\",\"ck-color-grid__label\",e.if(\"isEmpty\",\"ck-hidden\")]}});this.items.add(t);this.documentColorsGrid=this._createDocumentColorsGrid();this.items.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const e=new z[\"a\"];e.set({withText:true,icon:to,tooltip:true,label:this.removeButtonLabel});e.class=\"ck-color-table__remove-color\";e.on(\"execute\",()=>{this.fire(\"execute\",{value:null})});return e}_createStaticColorsGrid(){const e=new Xr(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});e.delegate(\"execute\").to(this);return e}_createDocumentColorsGrid(){const e=eo[\"a\"].bind(this.documentColors,this.documentColors);const t=new Xr(this.locale,{columns:this.columns});t.delegate(\"execute\").to(this);t.extendTemplate({attributes:{class:e.if(\"isEmpty\",\"ck-hidden\")}});t.items.bindTo(this.documentColors).using(e=>{const t=new Gr;t.set({color:e.color,hasBorder:e.options&&e.options.hasBorder});if(e.label){t.set({label:e.label,tooltip:true})}t.on(\"execute\",()=>{this.fire(\"execute\",{value:e.color})});return t});this.documentColors.on(\"change:isEmpty\",(e,n,i)=>{if(i){t.selectedColor=null}});return t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find(t=>t.color===e);if(!t){this.documentColors.add({color:e,label:e,options:{hasBorder:false}})}else{this.documentColors.add(Object.assign({},t))}}}const ro=\"fontSize\";const oo=\"fontFamily\";const so=\"fontColor\";const ao=\"fontBackgroundColor\";function co(e,t){const n={model:{key:e,values:[]},view:{},upcastAlso:{}};for(const e of t){n.model.values.push(e.model);n.view[e.model]=e.view;if(e.upcastAlso){n.upcastAlso[e.model]=e.upcastAlso}}return n}function lo(e){return t=>fo(t.getStyle(e))}function uo(e){return(t,n)=>n.createAttributeElement(\"span\",{style:`${e}:${t}`},{priority:7})}function ho({dropdownView:e,colors:t,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o}){const s=e.locale;const a=new io(s,{colors:t,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o});e.colorTableView=a;e.panelView.children.add(a);a.delegate(\"execute\").to(e,\"execute\");return a}function fo(e){return e.replace(/\\s/g,\"\")}class mo extends Yr{constructor(e){super(e,so)}}class go extends ve[\"a\"]{static get pluginName(){return\"FontColorEditing\"}constructor(e){super(e);e.config.define(so,{colors:[{color:\"hsl(0, 0%, 0%)\",label:\"Black\"},{color:\"hsl(0, 0%, 30%)\",label:\"Dim grey\"},{color:\"hsl(0, 0%, 60%)\",label:\"Grey\"},{color:\"hsl(0, 0%, 90%)\",label:\"Light grey\"},{color:\"hsl(0, 0%, 100%)\",label:\"White\",hasBorder:true},{color:\"hsl(0, 75%, 60%)\",label:\"Red\"},{color:\"hsl(30, 75%, 60%)\",label:\"Orange\"},{color:\"hsl(60, 75%, 60%)\",label:\"Yellow\"},{color:\"hsl(90, 75%, 60%)\",label:\"Light green\"},{color:\"hsl(120, 75%, 60%)\",label:\"Green\"},{color:\"hsl(150, 75%, 60%)\",label:\"Aquamarine\"},{color:\"hsl(180, 75%, 60%)\",label:\"Turquoise\"},{color:\"hsl(210, 75%, 60%)\",label:\"Light blue\"},{color:\"hsl(240, 75%, 60%)\",label:\"Blue\"},{color:\"hsl(270, 75%, 60%)\",label:\"Purple\"}],columns:5});e.conversion.for(\"upcast\").elementToAttribute({view:{name:\"span\",styles:{color:/[\\s\\S]+/}},model:{key:so,value:lo(\"color\")}});e.conversion.for(\"downcast\").attributeToElement({model:so,view:uo(\"color\")});e.commands.add(so,new mo(e));e.model.schema.extend(\"$text\",{allowAttributes:so});e.model.schema.setAttributeProperties(so,{isFormatting:true,copyOnEnter:true})}}function po(e,t){const n=e.t;const i={Black:n(\"Black\"),\"Dim grey\":n(\"Dim grey\"),Grey:n(\"Grey\"),\"Light grey\":n(\"Light grey\"),White:n(\"White\"),Red:n(\"Red\"),Orange:n(\"Orange\"),Yellow:n(\"Yellow\"),\"Light green\":n(\"Light green\"),Green:n(\"Green\"),Aquamarine:n(\"Aquamarine\"),Turquoise:n(\"Turquoise\"),\"Light blue\":n(\"Light blue\"),Blue:n(\"Blue\"),Purple:n(\"Purple\")};return t.map(e=>{const t=i[e.label];if(t&&t!=e.label){e.label=t}return e})}function bo(e){return e.map(_o).filter(e=>!!e)}function _o(e){if(typeof e===\"string\"){return{model:e,label:e,hasBorder:false,view:{name:\"span\",styles:{color:e}}}}else{return{model:e.color,label:e.label||e.color,hasBorder:e.hasBorder===undefined?false:e.hasBorder,view:{name:\"span\",styles:{color:`${e.color}`}}}}}class wo extends ve[\"a\"]{constructor(e,{commandName:t,icon:n,componentName:i,dropdownLabel:r}){super(e);this.commandName=t;this.componentName=i;this.icon=n;this.dropdownLabel=r;this.columns=e.config.get(`${this.componentName}.columns`);this.colorTableView}init(){const e=this.editor;const t=e.locale;const n=t.t;const i=e.commands.get(this.commandName);const r=bo(e.config.get(this.componentName).colors);const o=po(t,r);const s=e.config.get(`${this.componentName}.documentColors`);e.ui.componentFactory.add(this.componentName,t=>{const r=Z(t);this.colorTableView=ho({dropdownView:r,colors:o.map(e=>({label:e.label,color:e.model,options:{hasBorder:e.hasBorder}})),columns:this.columns,removeButtonLabel:n(\"Remove color\"),documentColorsLabel:s!==0?n(\"Document colors\"):undefined,documentColorsCount:s===undefined?this.columns:s});this.colorTableView.bind(\"selectedColor\").to(i,\"value\");r.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:true});r.extendTemplate({attributes:{class:\"ck-color-ui-dropdown\"}});r.bind(\"isEnabled\").to(i);r.on(\"execute\",(t,n)=>{e.execute(this.commandName,n);e.editing.view.focus()});r.on(\"change:isOpen\",(t,n,i)=>{r.colorTableView.appendGrids();if(i){if(s!==0){this.colorTableView.updateDocumentColors(e.model,this.componentName)}this.colorTableView.updateSelectedColors()}});return r})}}var vo='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z\"/></svg>';class ko extends wo{constructor(e){const t=e.locale.t;super(e,{commandName:so,componentName:so,icon:vo,dropdownLabel:t(\"Font Color\")})}static get pluginName(){return\"FontColorUI\"}}class xo extends ve[\"a\"]{static get requires(){return[go,ko]}static get pluginName(){return\"FontColor\"}}class yo extends Yr{constructor(e){super(e,oo)}}function Co(e){return e.map(Ao).filter(e=>!!e)}function Ao(e){if(typeof e===\"object\"){return e}if(e===\"default\"){return{title:\"Default\",model:undefined}}if(typeof e!==\"string\"){return}return To(e)}function To(e){const t=e.replace(/\"|'/g,\"\").split(\",\");const n=t[0];const i=t.map(Eo).join(\", \");return{title:n,model:i,view:{name:\"span\",styles:{\"font-family\":i},priority:7}}}function Eo(e){e=e.trim();if(e.indexOf(\" \")>0){e=`'${e}'`}return e}class So extends ve[\"a\"]{static get pluginName(){return\"FontFamilyEditing\"}constructor(e){super(e);e.config.define(oo,{options:[\"default\",\"Arial, Helvetica, sans-serif\",\"Courier New, Courier, monospace\",\"Georgia, serif\",\"Lucida Sans Unicode, Lucida Grande, sans-serif\",\"Tahoma, Geneva, sans-serif\",\"Times New Roman, Times, serif\",\"Trebuchet MS, Helvetica, sans-serif\",\"Verdana, Geneva, sans-serif\"],supportAllValues:false})}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:oo});e.model.schema.setAttributeProperties(oo,{isFormatting:true,copyOnEnter:true});const t=Co(e.config.get(\"fontFamily.options\")).filter(e=>e.model);const n=co(oo,t);if(e.config.get(\"fontFamily.supportAllValues\")){this._prepareAnyValueConverters()}else{e.conversion.attributeToElement(n)}e.commands.add(oo,new yo(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for(\"downcast\").attributeToElement({model:oo,view:(e,t)=>t.createAttributeElement(\"span\",{style:\"font-family:\"+e},{priority:7})});e.conversion.for(\"upcast\").attributeToAttribute({model:{key:oo,value:e=>e.getStyle(\"font-family\")},view:{name:\"span\",styles:{\"font-family\":/.*/}}})}}var Oo='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z\"/></svg>';class Io extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;const n=this._getLocalizedOptions();const i=e.commands.get(oo);e.ui.componentFactory.add(oo,r=>{const o=Z(r);te(o,Po(n,i));o.buttonView.set({label:t(\"Font Family\"),icon:Oo,tooltip:true});o.extendTemplate({attributes:{class:\"ck-font-family-dropdown\"}});o.bind(\"isEnabled\").to(i);this.listenTo(o,\"execute\",t=>{e.execute(t.source.commandName,{value:t.source.commandParam});e.editing.view.focus()});return o})}_getLocalizedOptions(){const e=this.editor;const t=e.t;const n=Co(e.config.get(oo).options);return n.map(e=>{if(e.title===\"Default\"){e.title=t(\"Default\")}return e})}}function Po(e,t){const n=new On[\"a\"];for(const i of e){const e={type:\"button\",model:new Fr({commandName:oo,commandParam:i.model,label:i.title,withText:true})};e.model.bind(\"isOn\").to(t,\"value\",e=>{if(e===i.model){return true}if(!e||!i.model){return false}return e.split(\",\")[0].replace(/'/g,\"\").toLowerCase()===i.model.toLowerCase()});if(i.view&&i.view.styles){e.model.set(\"labelStyle\",`font-family: ${i.view.styles[\"font-family\"]}`)}n.add(e)}return n}class Mo extends ve[\"a\"]{static get requires(){return[So,Io]}static get pluginName(){return\"FontFamily\"}}class Ro extends Yr{constructor(e){super(e,ro)}}function No(e){return e.map(e=>Do(e)).filter(e=>!!e)}const jo={get tiny(){return{title:\"Tiny\",model:\"tiny\",view:{name:\"span\",classes:\"text-tiny\",priority:7}}},get small(){return{title:\"Small\",model:\"small\",view:{name:\"span\",classes:\"text-small\",priority:7}}},get big(){return{title:\"Big\",model:\"big\",view:{name:\"span\",classes:\"text-big\",priority:7}}},get huge(){return{title:\"Huge\",model:\"huge\",view:{name:\"span\",classes:\"text-huge\",priority:7}}}};function Do(e){if(zo(e)){return Bo(e)}const t=Fo(e);if(t){return Bo(t)}if(e===\"default\"){return{model:undefined,title:\"Default\"}}if(Vo(e)){return}return Lo(e)}function Lo(e){if(typeof e===\"number\"||typeof e===\"string\"){e={title:String(e),model:`${parseFloat(e)}px`}}e.view={name:\"span\",styles:{\"font-size\":e.model}};return Bo(e)}function Bo(e){if(!e.view.priority){e.view.priority=7}return e}function Fo(e){return jo[e]||jo[e.model]}function zo(e){return typeof e===\"object\"&&e.title&&e.model&&e.view}function Vo(e){let t;if(typeof e===\"object\"){if(!e.model){throw new se[\"b\"](\"font-size-invalid-definition: Provided font size definition is invalid.\",null,e)}else{t=parseFloat(e.model)}}else{t=parseFloat(e)}return isNaN(t)}class Uo extends ve[\"a\"]{static get pluginName(){return\"FontSizeEditing\"}constructor(e){super(e);e.config.define(ro,{options:[\"tiny\",\"small\",\"default\",\"big\",\"huge\"],supportAllValues:false})}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:ro});e.model.schema.setAttributeProperties(ro,{isFormatting:true,copyOnEnter:true});const t=e.config.get(\"fontSize.supportAllValues\");const n=No(this.editor.config.get(\"fontSize.options\")).filter(e=>e.model);const i=co(ro,n);if(t){this._prepareAnyValueConverters(i)}else{e.conversion.attributeToElement(i)}e.commands.add(ro,new Ro(e))}_prepareAnyValueConverters(e){const t=this.editor;const n=e.model.values.filter(e=>!String(e).match(/[\\d.]+[\\w%]+/));if(n.length){throw new se[\"b\"](\"font-size-invalid-use-of-named-presets: \"+\"If config.fontSize.supportAllValues is set to true, you need to use numerical values as font size options.\",null,{presets:n})}t.conversion.for(\"downcast\").attributeToElement({model:ro,view:(e,t)=>{if(!e){return}return t.createAttributeElement(\"span\",{style:\"font-size:\"+e},{priority:7})}});t.conversion.for(\"upcast\").attributeToAttribute({model:{key:ro,value:e=>e.getStyle(\"font-size\")},view:{name:\"span\"}})}}var Ho='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z\"/></svg>';var Wo=n(316);class $o extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;const n=this._getLocalizedOptions();const i=e.commands.get(ro);e.ui.componentFactory.add(ro,r=>{const o=Z(r);te(o,qo(n,i));o.buttonView.set({label:t(\"Font Size\"),icon:Ho,tooltip:true});o.extendTemplate({attributes:{class:[\"ck-font-size-dropdown\"]}});o.bind(\"isEnabled\").to(i);this.listenTo(o,\"execute\",t=>{e.execute(t.source.commandName,{value:t.source.commandParam});e.editing.view.focus()});return o})}_getLocalizedOptions(){const e=this.editor;const t=e.t;const n={Default:t(\"Default\"),Tiny:t(\"Tiny\"),Small:t(\"Small\"),Big:t(\"Big\"),Huge:t(\"Huge\")};const i=No(e.config.get(ro).options);return i.map(e=>{const t=n[e.title];if(t&&t!=e.title){e=Object.assign({},e,{title:t})}return e})}}function qo(e,t){const n=new On[\"a\"];for(const i of e){const e={type:\"button\",model:new Fr({commandName:ro,commandParam:i.model,label:i.title,class:\"ck-fontsize-option\",withText:true})};if(i.view&&i.view.styles){e.model.set(\"labelStyle\",`font-size:${i.view.styles[\"font-size\"]}`)}if(i.view&&i.view.classes){e.model.set(\"class\",`${e.model.class} ${i.view.classes}`)}e.model.bind(\"isOn\").to(t,\"value\",e=>e===i.model);n.add(e)}return n}class Yo extends ve[\"a\"]{static get requires(){return[Uo,$o]}static get pluginName(){return\"FontSize\"}}var Jo=n(102);class Go extends ke[\"a\"]{constructor(e,t){super(e);this.modelElements=t}refresh(){const e=Object(xe[\"a\"])(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name;this.isEnabled=!!e&&this.modelElements.some(t=>Ko(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model;const n=t.document;const i=e.value;t.change(e=>{const r=Array.from(n.selection.getSelectedBlocks()).filter(e=>Ko(e,i,t.schema));for(const t of r){if(!t.is(\"element\",i)){e.rename(t,i)}}})}}function Ko(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}const Xo=\"paragraph\";class Qo extends ve[\"a\"]{static get pluginName(){return\"HeadingEditing\"}constructor(e){super(e);e.config.define(\"heading\",{options:[{model:\"paragraph\",title:\"Paragraph\",class:\"ck-heading_paragraph\"},{model:\"heading1\",view:\"h2\",title:\"Heading 1\",class:\"ck-heading_heading1\"},{model:\"heading2\",view:\"h3\",title:\"Heading 2\",class:\"ck-heading_heading2\"},{model:\"heading3\",view:\"h4\",title:\"Heading 3\",class:\"ck-heading_heading3\"}]})}static get requires(){return[Jo[\"a\"]]}init(){const e=this.editor;const t=e.config.get(\"heading.options\");const n=[];for(const i of t){if(i.model!==Xo){e.model.schema.register(i.model,{inheritAllFrom:\"$block\"});e.conversion.elementToElement(i);n.push(i.model)}}this._addDefaultH1Conversion(e);e.commands.add(\"heading\",new Go(e,n))}afterInit(){const e=this.editor;const t=e.commands.get(\"enter\");const n=e.config.get(\"heading.options\");if(t){this.listenTo(t,\"afterExecute\",(t,i)=>{const r=e.model.document.selection.getFirstPosition().parent;const o=n.some(e=>r.is(\"element\",e.model));if(o&&!r.is(\"element\",Xo)&&r.childCount===0){i.writer.rename(r,Xo)}})}}_addDefaultH1Conversion(e){e.conversion.for(\"upcast\").elementToElement({model:\"heading1\",view:\"h1\",converterPriority:pn[\"a\"].get(\"low\")+1})}}function Zo(e){const t=e.t;const n={Paragraph:t(\"Paragraph\"),\"Heading 1\":t(\"Heading 1\"),\"Heading 2\":t(\"Heading 2\"),\"Heading 3\":t(\"Heading 3\"),\"Heading 4\":t(\"Heading 4\"),\"Heading 5\":t(\"Heading 5\"),\"Heading 6\":t(\"Heading 6\")};return e.config.get(\"heading.options\").map(e=>{const t=n[e.title];if(t&&t!=e.title){e.title=t}return e})}var es=n(228);class ts extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;const n=Zo(e);const i=t(\"Choose heading\");const r=t(\"Heading\");e.ui.componentFactory.add(\"heading\",t=>{const o={};const s=new On[\"a\"];const a=e.commands.get(\"heading\");const c=e.commands.get(\"paragraph\");const l=[a];for(const e of n){const t={type:\"button\",model:new Fr({label:e.title,class:e.class,withText:true})};if(e.model===\"paragraph\"){t.model.bind(\"isOn\").to(c,\"value\");t.model.set(\"commandName\",\"paragraph\");l.push(c)}else{t.model.bind(\"isOn\").to(a,\"value\",t=>t===e.model);t.model.set({commandName:\"heading\",commandValue:e.model})}s.add(t);o[e.model]=e.title}const d=Z(t);te(d,s);d.buttonView.set({isOn:false,withText:true,tooltip:r});d.extendTemplate({attributes:{class:[\"ck-heading-dropdown\"]}});d.bind(\"isEnabled\").toMany(l,\"isEnabled\",(...e)=>e.some(e=>e));d.buttonView.bind(\"label\").to(a,\"value\",c,\"value\",(e,t)=>{const n=e||t&&\"paragraph\";return o[n]?o[n]:i});this.listenTo(d,\"execute\",t=>{e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:undefined);e.editing.view.focus()});return d})}}class ns extends ve[\"a\"]{static get requires(){return[Qo,ts]}static get pluginName(){return\"Heading\"}}class is extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=e.document;this.value=t.selection.getAttribute(\"highlight\");this.isEnabled=e.schema.checkAttributeInSelection(t.selection,\"highlight\")}execute(e={}){const t=this.editor.model;const n=t.document;const i=n.selection;const r=e.value;t.change(e=>{const n=t.schema.getValidRanges(i.getRanges(),\"highlight\");if(i.isCollapsed){const t=i.getFirstPosition();if(i.hasAttribute(\"highlight\")){const n=e=>e.item.hasAttribute(\"highlight\")&&e.item.getAttribute(\"highlight\")===this.value;const i=t.getLastMatchingPosition(n,{direction:\"backward\"});const o=t.getLastMatchingPosition(n);const s=e.createRange(i,o);if(!r||this.value===r){e.removeAttribute(\"highlight\",s);e.removeSelectionAttribute(\"highlight\")}else{e.setAttribute(\"highlight\",r,s);e.setSelectionAttribute(\"highlight\",r)}}else if(r){e.setSelectionAttribute(\"highlight\",r)}}else{for(const t of n){if(r){e.setAttribute(\"highlight\",r,t)}else{e.removeAttribute(\"highlight\",t)}}}})}}class rs extends ve[\"a\"]{static get pluginName(){return\"HighlightEditing\"}constructor(e){super(e);e.config.define(\"highlight\",{options:[{model:\"yellowMarker\",class:\"marker-yellow\",title:\"Yellow marker\",color:\"var(--ck-highlight-marker-yellow)\",type:\"marker\"},{model:\"greenMarker\",class:\"marker-green\",title:\"Green marker\",color:\"var(--ck-highlight-marker-green)\",type:\"marker\"},{model:\"pinkMarker\",class:\"marker-pink\",title:\"Pink marker\",color:\"var(--ck-highlight-marker-pink)\",type:\"marker\"},{model:\"blueMarker\",class:\"marker-blue\",title:\"Blue marker\",color:\"var(--ck-highlight-marker-blue)\",type:\"marker\"},{model:\"redPen\",class:\"pen-red\",title:\"Red pen\",color:\"var(--ck-highlight-pen-red)\",type:\"pen\"},{model:\"greenPen\",class:\"pen-green\",title:\"Green pen\",color:\"var(--ck-highlight-pen-green)\",type:\"pen\"}]})}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:\"highlight\"});const t=e.config.get(\"highlight.options\");e.conversion.attributeToElement(os(t));e.commands.add(\"highlight\",new is(e))}}function os(e){const t={model:{key:\"highlight\",values:[]},view:{}};for(const n of e){t.model.values.push(n.model);t.view[n.model]={name:\"mark\",classes:n.class}}return t}var ss='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"ck-icon__fill\" d=\"M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z\"/><path d=\"M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z\"/></svg>';var as='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"ck-icon__fill\" d=\"M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z\"/><path d=\"M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z\"/></svg>';var cs=n(319);class ls extends ve[\"a\"]{get localizedOptionTitles(){const e=this.editor.t;return{\"Yellow marker\":e(\"Yellow marker\"),\"Green marker\":e(\"Green marker\"),\"Pink marker\":e(\"Pink marker\"),\"Blue marker\":e(\"Blue marker\"),\"Red pen\":e(\"Red pen\"),\"Green pen\":e(\"Green pen\")}}static get pluginName(){return\"HighlightUI\"}init(){const e=this.editor.config.get(\"highlight.options\");for(const t of e){this._addHighlighterButton(t)}this._addRemoveHighlightButton();this._addDropdown(e)}_addRemoveHighlightButton(){const e=this.editor.t;this._addButton(\"removeHighlight\",e(\"Remove highlight\"),to)}_addHighlighterButton(e){const t=this.editor.commands.get(\"highlight\");this._addButton(\"highlight:\"+e.model,e.title,us(e.type),e.model,n);function n(n){n.bind(\"isEnabled\").to(t,\"isEnabled\");n.bind(\"isOn\").to(t,\"value\",t=>t===e.model);n.iconView.fillColor=e.color;n.isToggleable=true}}_addButton(e,t,n,i,r=(()=>{})){const o=this.editor;o.ui.componentFactory.add(e,e=>{const s=new z[\"a\"](e);const a=this.localizedOptionTitles[t]?this.localizedOptionTitles[t]:t;s.set({label:a,icon:n,tooltip:true});s.on(\"execute\",()=>{o.execute(\"highlight\",{value:i});o.editing.view.focus()});r(s);return s})}_addDropdown(e){const t=this.editor;const n=t.t;const i=t.ui.componentFactory;const r=e[0];const o=e.reduce((e,t)=>{e[t.model]=t;return e},{});i.add(\"highlight\",s=>{const a=t.commands.get(\"highlight\");const c=Z(s,Vr);const l=c.buttonView;l.set({tooltip:n(\"Highlight\"),lastExecuted:r.model,commandValue:r.model,isToggleable:true});l.bind(\"icon\").to(a,\"value\",e=>us(u(e,\"type\")));l.bind(\"color\").to(a,\"value\",e=>u(e,\"color\"));l.bind(\"commandValue\").to(a,\"value\",e=>u(e,\"model\"));l.bind(\"isOn\").to(a,\"value\",e=>!!e);l.delegate(\"execute\").to(c);const d=e.map(e=>{const t=i.create(\"highlight:\"+e.model);this.listenTo(t,\"execute\",()=>c.buttonView.set({lastExecuted:e.model}));return t});c.bind(\"isEnabled\").toMany(d,\"isEnabled\",(...e)=>e.some(e=>e));d.push(new _);d.push(i.create(\"removeHighlight\"));ee(c,d);ds(c);c.toolbarView.ariaLabel=n(\"Text highlight toolbar\");l.on(\"execute\",()=>{t.execute(\"highlight\",{value:l.commandValue});t.editing.view.focus()});function u(e,t){const n=!e||e===l.lastExecuted?l.lastExecuted:e;return o[n][t]}return c})}}function ds(e){const t=e.buttonView.actionView;t.iconView.bind(\"fillColor\").to(e.buttonView,\"color\")}function us(e){return e===\"marker\"?ss:as}class hs extends ve[\"a\"]{static get requires(){return[rs,ls]}static get pluginName(){return\"Highlight\"}}class fs extends ke[\"a\"]{refresh(){this.isEnabled=ms(this.editor.model)}execute(){const e=this.editor.model;e.change(t=>{const n=t.createElement(\"horizontalLine\");e.insertContent(n);let i=n.nextSibling;const r=i&&e.schema.checkChild(i,\"$text\");if(!r&&e.schema.checkChild(n.parent,\"paragraph\")){i=t.createElement(\"paragraph\");e.insertContent(i,t.createPositionAfter(n))}if(i){t.setSelection(i,0)}})}}function ms(e){const t=e.schema;const n=e.document.selection;return gs(n,t,e)&&!ps(n,t)}function gs(e,t,n){const i=bs(e,n);return t.checkChild(i,\"horizontalLine\")}function ps(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}function bs(e,t){const n=Wt(e,t);const i=n.parent;if(i.isEmpty&&!i.is(\"element\",\"$root\")){return i.parent}return i}var _s=n(321);class ws extends ve[\"a\"]{static get pluginName(){return\"HorizontalLineEditing\"}init(){const e=this.editor;const t=e.model.schema;const n=e.t;const i=e.conversion;t.register(\"horizontalLine\",{isObject:true,allowWhere:\"$block\"});i.for(\"dataDowncast\").elementToElement({model:\"horizontalLine\",view:(e,t)=>t.createEmptyElement(\"hr\")});i.for(\"editingDowncast\").elementToElement({model:\"horizontalLine\",view:(e,t)=>{const i=n(\"Horizontal line\");const r=t.createContainerElement(\"div\");const o=t.createEmptyElement(\"hr\");t.addClass(\"ck-horizontal-line\",r);t.setCustomProperty(\"hr\",true,r);t.insert(t.createPositionAt(r,0),o);return vs(r,t,i)}});i.for(\"upcast\").elementToElement({view:\"hr\",model:\"horizontalLine\"});e.commands.add(\"horizontalLine\",new fs(e))}}function vs(e,t,n){t.setCustomProperty(\"horizontalLine\",true,e);return Ft(e,t,{label:n})}var ks='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 9h16v2H2z\"/></svg>';class xs extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(\"horizontalLine\",n=>{const i=e.commands.get(\"horizontalLine\");const r=new z[\"a\"](n);r.set({label:t(\"Horizontal line\"),icon:ks,tooltip:true});r.bind(\"isEnabled\").to(i,\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(\"horizontalLine\");e.editing.view.focus()});return r})}}class ys extends ve[\"a\"]{static get requires(){return[ws,xs]}static get pluginName(){return\"HorizontalLine\"}}var Cs=n(178);var As='<svg viewBox=\"0 0 10 8\" xmlns=\"http://www.w3.org/2000/svg\"><polyline points=\"8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914\" transform=\"translate(1,0)\"></polyline><line x1=\"0\" y1=\"4.21581031\" x2=\"2\" y2=\"2.17810059\" transform=\"translate(1, 0)\"></line><line x1=\"0\" y1=\"6.21581031\" x2=\"2\" y2=\"4.17810059\" transform=\"translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)\"></line></svg>\\n';var Ts=n(323);const Es=[\"before\",\"after\"];const Ss=(new DOMParser).parseFromString(As,\"image/svg+xml\").firstChild;const Os=\"ck-widget__type-around_disabled\";class Is extends ve[\"a\"]{static get pluginName(){return\"WidgetTypeAround\"}constructor(e){super(e);this._currentFakeCaretModelElement=null}init(){const e=this.editor;const t=e.editing.view;this.on(\"change:isEnabled\",(n,i,r)=>{t.change(e=>{for(const n of t.document.roots){if(r){e.removeClass(Os,n)}else{e.addClass(Os,n)}}});if(!r){e.model.change(e=>{e.removeSelectionAttribute(It)})}});this._enableTypeAroundUIInjection();this._enableInsertingParagraphsOnButtonClick();this._enableInsertingParagraphsOnEnterKeypress();this._enableInsertingParagraphsOnTypingKeystroke();this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows();this._enableDeleteIntegration();this._enableInsertContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor;const i=n.editing.view;n.execute(\"insertParagraph\",{position:n.model.createPositionAt(e,t)});i.focus();i.scrollToTheSelection()}_listenToIfEnabled(e,t,n,i){this.listenTo(e,t,(...e)=>{if(this.isEnabled){n(...e)}},i)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=jt(n);if(!i){return false}const r=n.getSelectedElement();this._insertParagraph(r,i);return true}_enableTypeAroundUIInjection(){const e=this.editor;const t=e.model.schema;const n=e.locale.t;const i={before:n(\"Insert paragraph before block\"),after:n(\"Insert paragraph after block\")};e.editing.downcastDispatcher.on(\"insert\",(e,n,r)=>{const o=r.mapper.toViewElement(n.item);if(Pt(o,n.item,t)){Ps(r.writer,i,o)}},{priority:\"low\"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=t.schema;const r=e.editing.view;this._listenToIfEnabled(r.document,\"keydown\",(e,t)=>{if(Object(gn[\"d\"])(t.keyCode)){this._handleArrowKeyPress(e,t)}},{priority:pn[\"a\"].get(\"high\")+10});this._listenToIfEnabled(n,\"change:range\",(t,n)=>{if(!n.directChange){return}e.model.change(e=>{e.removeSelectionAttribute(It)})});this._listenToIfEnabled(t.document,\"change:data\",()=>{const t=n.getSelectedElement();if(t){const n=e.editing.mapper.toViewElement(t);if(Pt(n,t,i)){return}}e.model.change(e=>{e.removeSelectionAttribute(It)})});this._listenToIfEnabled(e.editing.downcastDispatcher,\"selection\",(e,t,n)=>{const r=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);if(e){r.removeClass(Es.map(o),e);this._currentFakeCaretModelElement=null}}const s=t.selection.getSelectedElement();if(!s){return}const a=n.mapper.toViewElement(s);if(!Pt(a,s,i)){return}const c=jt(t.selection);if(!c){return}r.addClass(o(c),a);this._currentFakeCaretModelElement=s});this._listenToIfEnabled(e.ui.focusTracker,\"change:isFocused\",(t,n,i)=>{if(!i){e.model.change(e=>{e.removeSelectionAttribute(It)})}});function o(e){return`ck-widget_type-around_show-fake-caret_${e}`}}_handleArrowKeyPress(e,t){const n=this.editor;const i=n.model;const r=i.document.selection;const o=i.schema;const s=n.editing.view;const a=t.keyCode;const c=Object(gn[\"e\"])(a,n.locale.contentLanguageDirection);const l=s.document.selection.getSelectedElement();const d=n.editing.mapper.toModelElement(l);let u;if(Pt(l,d,o)){u=this._handleArrowKeyPressOnSelectedWidget(c)}else if(r.isCollapsed){u=this._handleArrowKeyPressWhenSelectionNextToAWidget(c)}if(u){t.preventDefault();e.stop()}}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor;const n=t.model;const i=n.document.selection;const r=jt(i);return n.change(t=>{if(r){const n=r===(e?\"after\":\"before\");if(!n){t.removeSelectionAttribute(It);return true}}else{t.setSelectionAttribute(It,e?\"after\":\"before\");return true}return false})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor;const n=t.model;const i=n.schema;const r=t.plugins.get(\"Widget\");const o=r._getObjectElementNextToSelection(e);const s=t.editing.mapper.toViewElement(o);if(Pt(s,o,i)){n.change(t=>{r._setSelectionOverElement(o);t.setSelectionAttribute(It,e?\"before\":\"after\")});return true}return false}_enableInsertingParagraphsOnButtonClick(){const e=this.editor;const t=e.editing.view;this._listenToIfEnabled(t.document,\"mousedown\",(n,i)=>{const r=Mt(i.domTarget);if(!r){return}const o=Rt(r);const s=Nt(r,t.domConverter);const a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,o);i.preventDefault();n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor;const t=e.editing.view;this._listenToIfEnabled(t.document,\"enter\",(n,i)=>{const r=t.document.selection.getSelectedElement();const o=e.editing.mapper.toModelElement(r);const s=e.model.schema;let a;if(this._insertParagraphAccordingToFakeCaretPosition()){a=true}else if(Pt(r,o,s)){this._insertParagraph(o,i.isSoft?\"before\":\"after\");a=true}if(a){i.preventDefault();n.stop()}})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor;const t=e.editing.view;const n=[gn[\"f\"].enter,gn[\"f\"].delete,gn[\"f\"].backspace];this._listenToIfEnabled(t.document,\"keydown\",(e,t)=>{if(!n.includes(t.keyCode)&&!Object(Cs[\"b\"])(t)){this._insertParagraphAccordingToFakeCaretPosition()}},{priority:pn[\"a\"].get(\"high\")+1})}_enableDeleteIntegration(){const e=this.editor;const t=e.editing.view;const n=e.model;const i=n.schema;this._listenToIfEnabled(t.document,\"delete\",(t,r)=>{const o=jt(n.document.selection);if(!o){return}const s=r.direction;const a=n.document.selection.getSelectedElement();const c=o===\"before\";const l=s==\"forward\";const d=c===l;if(d){e.execute(\"delete\",{selection:n.createSelection(a,\"on\")})}else{const t=i.getNearestSelectionRange(n.createPositionAt(a,o),s);if(t){if(!t.isCollapsed){n.change(n=>{n.setSelection(t);e.execute(l?\"forwardDelete\":\"delete\")})}else{const r=n.createSelection(t.start);n.modifySelection(r,{direction:s});if(!r.focus.isEqual(t.start)){n.change(n=>{n.setSelection(t);e.execute(l?\"forwardDelete\":\"delete\")})}else{const e=Ns(i,t.start.parent);n.deleteContent(n.createSelection(e,\"on\"),{doNotAutoparagraph:true})}}}}r.preventDefault();t.stop()},{priority:pn[\"a\"].get(\"high\")+1})}_enableInsertContentIntegration(){const e=this.editor;const t=this.editor.model;const n=t.document.selection;this._listenToIfEnabled(e.model,\"insertContent\",(e,[i,r])=>{if(r&&!r.is(\"documentSelection\")){return}const o=jt(n);if(!o){return}e.stop();return t.change(e=>{const r=n.getSelectedElement();const s=t.createPositionAt(r,o);const a=e.createSelection(s);const c=t.insertContent(i,a);e.setSelection(a);return c})},{priority:\"high\"})}}function Ps(e,t,n){const i=e.createUIElement(\"div\",{class:\"ck ck-reset_all ck-widget__type-around\"},(function(e){const n=this.toDomElement(e);Ms(n,t);Rs(n);return n}));e.insert(e.createPositionAt(n,\"end\"),i)}function Ms(e,t){for(const n of Es){const i=new eo[\"a\"]({tag:\"div\",attributes:{class:[\"ck\",\"ck-widget__type-around__button\",`ck-widget__type-around__button_${n}`],title:t[n]},children:[e.ownerDocument.importNode(Ss,true)]});e.appendChild(i.render())}}function Rs(e){const t=new eo[\"a\"]({tag:\"div\",attributes:{class:[\"ck\",\"ck-widget__type-around__fake-caret\"]}});e.appendChild(t.render())}function Ns(e,t){let n=t;for(const i of t.getAncestors({parentFirst:true})){if(i.childCount>1||e.isLimit(i)){break}n=i}return n}var js=n(38);var Ds=n(325);class Ls extends ve[\"a\"]{static get pluginName(){return\"Widget\"}static get requires(){return[Is]}init(){const e=this.editor.editing.view;const t=e.document;this._previouslySelected=new Set;this.editor.editing.downcastDispatcher.on(\"selection\",(e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer;const r=i.document.selection;const o=r.getSelectedElement();let s=null;for(const e of r.getRanges()){for(const t of e){const e=t.item;if(Bt(e)&&!Fs(e,s)){i.addClass(Lt,e);this._previouslySelected.add(e);s=e;if(e==o){i.setSelection(r.getRanges(),{fake:true,label:Ut(o)})}}}}},{priority:\"low\"});e.addObserver(mn);this.listenTo(t,\"mousedown\",(...e)=>this._onMousedown(...e));this.listenTo(t,\"keydown\",(...e)=>{this._handleSelectionChangeOnArrowKeyPress(...e)},{priority:\"high\"});this.listenTo(t,\"keydown\",(...e)=>{this._preventDefaultOnArrowKeyPress(...e)},{priority:pn[\"a\"].get(\"high\")-20});this.listenTo(t,\"delete\",(e,t)=>{if(this._handleDelete(t.direction==\"forward\")){t.preventDefault();e.stop()}},{priority:\"high\"})}_onMousedown(e,t){const n=this.editor;const i=n.editing.view;const r=i.document;let o=t.target;if(Bs(o)){if((js[\"a\"].isSafari||js[\"a\"].isGecko)&&t.domEvent.detail>=3){const e=n.editing.mapper;const i=o.is(\"attributeElement\")?o.findAncestor(e=>!e.is(\"attributeElement\")):o;const r=e.toModelElement(i);t.preventDefault();this.editor.model.change(e=>{e.setSelection(r,\"in\")})}return}if(!Bt(o)){o=o.findAncestor(Bt);if(!o){return}}t.preventDefault();if(!r.isFocused){i.focus()}const s=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(s)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode;if(!Object(gn[\"d\"])(n)){return}const i=this.editor.model;const r=i.schema;const o=i.document.selection;const s=o.getSelectedElement();const a=Object(gn[\"e\"])(n,this.editor.locale.contentLanguageDirection);if(s&&r.isObject(s)){const n=a?o.getLastPosition():o.getFirstPosition();const s=r.getNearestSelectionRange(n,a?\"forward\":\"backward\");if(s){i.change(e=>{e.setSelection(s)});t.preventDefault();e.stop()}return}if(!o.isCollapsed){return}const c=this._getObjectElementNextToSelection(a);if(c&&r.isObject(c)){this._setSelectionOverElement(c);t.preventDefault();e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=t.keyCode;if(!Object(gn[\"d\"])(n)){return}const i=this.editor.model;const r=i.schema;const o=i.document.selection.getSelectedElement();if(o&&r.isObject(o)){t.preventDefault();e.stop()}}_handleDelete(e){if(this.editor.isReadOnly){return}const t=this.editor.model.document;const n=t.selection;if(!n.isCollapsed){return}const i=this._getObjectElementNextToSelection(e);if(i){this.editor.model.change(e=>{let t=n.anchor.parent;while(t.isEmpty){const n=t;t=n.parent;e.remove(n)}this._setSelectionOverElement(i)});return true}}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model;const n=t.schema;const i=t.document.selection;const r=t.createSelection(i);t.modifySelection(r,{direction:e?\"forward\":\"backward\"});const o=e?r.focus.nodeBefore:r.focus.nodeAfter;if(!!o&&n.isObject(o)){return o}return null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected){e.removeClass(Lt,t)}this._previouslySelected.clear()}}function Bs(e){while(e){if(e.is(\"editableElement\")&&!e.is(\"rootElement\")){return true}if(Bt(e)){return false}e=e.parent}return false}function Fs(e,t){if(!t){return false}return Array.from(e.getAncestors()).includes(t)}class zs extends ke[\"a\"]{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Qt(e);if(Qt(e)&&e.hasAttribute(\"alt\")){this.value=e.getAttribute(\"alt\")}else{this.value=false}}execute(e){const t=this.editor.model;const n=t.document.selection.getSelectedElement();t.change(t=>{t.setAttribute(\"alt\",e.newValue,n)})}}class Vs extends ve[\"a\"]{static get pluginName(){return\"ImageTextAlternativeEditing\"}init(){this.editor.commands.add(\"imageTextAlternative\",new zs(this.editor))}}var Us=n(58);var Hs=n(327);class Ws extends m[\"a\"]{constructor(e,t){super(e);const n=`ck-labeled-field-view-${Object(Gi[\"a\"])()}`;const i=`ck-labeled-field-view-status-${Object(Gi[\"a\"])()}`;this.fieldView=t(this,n,i);this.set(\"label\");this.set(\"isEnabled\",true);this.set(\"errorText\",null);this.set(\"infoText\",null);this.set(\"class\");this.labelView=this._createLabelView(n);this.statusView=this._createStatusView(i);this.bind(\"_statusText\").to(this,\"errorText\",this,\"infoText\",(e,t)=>e||t);const r=this.bindTemplate;this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-labeled-field-view\",r.to(\"class\"),r.if(\"isEnabled\",\"ck-disabled\",e=>!e)]},children:[this.labelView,this.fieldView,this.statusView]})}_createLabelView(e){const t=new Qr[\"a\"](this.locale);t.for=e;t.bind(\"text\").to(this,\"label\");return t}_createStatusView(e){const t=new m[\"a\"](this.locale);const n=this.bindTemplate;t.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-labeled-field-view__status\",n.if(\"errorText\",\"ck-labeled-field-view__status_error\"),n.if(\"_statusText\",\"ck-hidden\",e=>!e)],id:e,role:n.if(\"errorText\",\"alert\")},children:[{text:n.to(\"_statusText\")}]});return t}focus(){this.fieldView.focus()}}var $s=n(329);class qs extends m[\"a\"]{constructor(e){super(e);this.set(\"value\");this.set(\"id\");this.set(\"placeholder\");this.set(\"isReadOnly\",false);this.set(\"hasError\",false);this.set(\"ariaDescribedById\");const t=this.bindTemplate;this.setTemplate({tag:\"input\",attributes:{type:\"text\",class:[\"ck\",\"ck-input\",\"ck-input-text\",t.if(\"hasError\",\"ck-error\")],id:t.to(\"id\"),placeholder:t.to(\"placeholder\"),readonly:t.to(\"isReadOnly\"),\"aria-invalid\":t.if(\"hasError\",true),\"aria-describedby\":t.to(\"ariaDescribedById\")},on:{input:t.to(\"input\")}})}render(){super.render();const e=e=>{this.element.value=!e&&e!==0?\"\":e};e(this.value);this.on(\"change:value\",(t,n,i)=>{e(i)})}select(){this.element.select()}focus(){this.element.focus()}}function Ys(e,t,n){const i=new qs(e.locale);i.set({id:t,ariaDescribedById:n});i.bind(\"isReadOnly\").to(e,\"isEnabled\",e=>!e);i.bind(\"hasError\").to(e,\"errorText\",e=>!!e);i.on(\"input\",()=>{e.errorText=null});return i}function Js(e,t,n){const i=Z(e.locale);i.set({id:t,ariaDescribedById:n});i.bind(\"isEnabled\").to(e);return i}function Gs({view:e}){e.listenTo(e.element,\"submit\",(t,n)=>{n.preventDefault();e.fire(\"submit\")},{useCapture:true})}var Ks=n(74);var Xs=n(75);var Qs=n(331);class Zs extends m[\"a\"]{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this.labeledInput=this._createLabeledInputView();this.saveButtonView=this._createButton(t(\"Save\"),Ks[\"a\"],\"ck-button-save\");this.saveButtonView.type=\"submit\";this.cancelButtonView=this._createButton(t(\"Cancel\"),Xs[\"a\"],\"ck-button-cancel\",\"cancel\");this._focusables=new Us[\"a\"];this._focusCycler=new p[\"a\"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}});this.setTemplate({tag:\"form\",attributes:{class:[\"ck\",\"ck-text-alternative-form\"],tabindex:\"-1\"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render();this.keystrokes.listenTo(this.element);Gs({view:this});[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element)})}_createButton(e,t,n,i){const r=new z[\"a\"](this.locale);r.set({label:e,icon:t,tooltip:true});r.extendTemplate({attributes:{class:n}});if(i){r.delegate(\"execute\").to(this,i)}return r}_createLabeledInputView(){const e=this.locale.t;const t=new Ws(this.locale,Ys);t.label=e(\"Text alternative\");t.fieldView.placeholder=e(\"Text alternative\");return t}}var ea='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z\"/></svg>';var ta='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z\"/></svg>';var na=n(333);var ia=n(335);const ra=kt(\"px\");class oa extends ve[\"a\"]{static get pluginName(){return\"ContextualBalloon\"}constructor(e){super(e);this.positionLimiter=()=>{const e=this.editor.editing.view;const t=e.document;const n=t.selection.editableElement;if(n){return e.domConverter.mapViewToDom(n.root)}return null};this.set(\"visibleView\",null);this.view=new At(e.locale);e.ui.view.body.add(this.view);e.ui.focusTracker.add(this.view.element);this._viewToStack=new Map;this._idToStack=new Map;this.set(\"_numberOfStacks\",0);this.set(\"_singleViewMode\",false);this._rotatorView=this._createRotatorView();this._fakePanelsView=this._createFakePanelsView()}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view)){throw new se[\"b\"](\"contextualballoon-add-view-exist: Cannot add configuration of the same view twice.\",[this,e])}const t=e.stackId||\"main\";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]]));this._viewToStack.set(e.view,this._idToStack.get(t));this._numberOfStacks=this._idToStack.size;if(!this._visibleStack||e.singleViewMode){this.showStack(t)}return}const n=this._idToStack.get(t);if(e.singleViewMode){this.showStack(t)}n.set(e.view,e);this._viewToStack.set(e.view,n);if(n===this._visibleStack){this._showView(e)}}remove(e){if(!this.hasView(e)){throw new se[\"b\"](\"contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.\",[this,e])}const t=this._viewToStack.get(e);if(this._singleViewMode&&this.visibleView===e){this._singleViewMode=false}if(this.visibleView===e){if(t.size===1){if(this._idToStack.size>1){this._showNextStack()}else{this.view.hide();this.visibleView=null;this._rotatorView.hideView()}}else{this._showView(Array.from(t.values())[t.size-2])}}if(t.size===1){this._idToStack.delete(this._getStackId(t));this._numberOfStacks=this._idToStack.size}else{t.delete(e)}this._viewToStack.delete(e)}updatePosition(e){if(e){this._visibleStack.get(this.visibleView).position=e}this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t){throw new se[\"b\"](\"contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.\",this)}if(this._visibleStack===t){return}this._showView(Array.from(t.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){const t=Array.from(this._idToStack.entries()).find(t=>t[1]===e);return t[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;if(!e[t]){t=0}this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;if(!e[t]){t=e.length-1}this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new sa(this.editor.locale);const t=this.editor.locale.t;this.view.content.add(e);e.bind(\"isNavigationVisible\").to(this,\"_numberOfStacks\",this,\"_singleViewMode\",(e,t)=>!t&&e>1);e.on(\"change:isNavigationVisible\",()=>this.updatePosition(),{priority:\"low\"});e.bind(\"counter\").to(this,\"visibleView\",this,\"_numberOfStacks\",(e,n)=>{if(n<2){return\"\"}const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t(\"%0 of %1\",[i,n])});e.buttonNextView.on(\"execute\",()=>{if(e.focusTracker.isFocused){this.editor.editing.view.focus()}this._showNextStack()});e.buttonPrevView.on(\"execute\",()=>{if(e.focusTracker.isFocused){this.editor.editing.view.focus()}this._showPrevStack()});return e}_createFakePanelsView(){const e=new aa(this.editor.locale,this.view);e.bind(\"numberOfPanels\").to(this,\"_numberOfStacks\",this,\"_singleViewMode\",(e,t)=>{const n=!t&&e>=2;return n?Math.min(e-1,2):0});e.listenTo(this.view,\"change:top\",()=>e.updatePosition());e.listenTo(this.view,\"change:left\",()=>e.updatePosition());this.editor.ui.view.body.add(e);return e}_showView({view:e,balloonClassName:t=\"\",withArrow:n=true,singleViewMode:i=false}){this.view.class=t;this.view.withArrow=n;this._rotatorView.showView(e);this.visibleView=e;this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition();if(i){this._singleViewMode=true}}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;if(e&&!e.limiter){e=Object.assign({},e,{limiter:this.positionLimiter})}return e}}class sa extends m[\"a\"]{constructor(e){super(e);const t=e.t;const n=this.bindTemplate;this.set(\"isNavigationVisible\",true);this.focusTracker=new g[\"a\"];this.buttonPrevView=this._createButtonView(t(\"Previous\"),ea);this.buttonNextView=this._createButtonView(t(\"Next\"),ta);this.content=this.createCollection();this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-balloon-rotator\"],\"z-index\":\"-1\"},children:[{tag:\"div\",attributes:{class:[\"ck-balloon-rotator__navigation\",n.to(\"isNavigationVisible\",e=>e?\"\":\"ck-hidden\")]},children:[this.buttonPrevView,{tag:\"span\",attributes:{class:[\"ck-balloon-rotator__counter\"]},children:[{text:n.to(\"counter\")}]},this.buttonNextView]},{tag:\"div\",attributes:{class:\"ck-balloon-rotator__content\"},children:this.content}]})}render(){super.render();this.focusTracker.add(this.element)}showView(e){this.hideView();this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new z[\"a\"](this.locale);n.set({label:e,icon:t,tooltip:true});return n}}class aa extends m[\"a\"]{constructor(e,t){super(e);const n=this.bindTemplate;this.set(\"top\",0);this.set(\"left\",0);this.set(\"height\",0);this.set(\"width\",0);this.set(\"numberOfPanels\",0);this.content=this.createCollection();this._balloonPanelView=t;this.setTemplate({tag:\"div\",attributes:{class:[\"ck-fake-panel\",n.to(\"numberOfPanels\",e=>e?\"\":\"ck-hidden\")],style:{top:n.to(\"top\",ra),left:n.to(\"left\",ra),width:n.to(\"width\",ra),height:n.to(\"height\",ra)}},children:this.content});this.on(\"change:numberOfPanels\",(e,t,n,i)=>{if(n>i){this._addPanels(n-i)}else{this._removePanels(i-n)}this.updatePosition()})}_addPanels(e){while(e--){const e=new m[\"a\"];e.setTemplate({tag:\"div\"});this.content.add(e);this.registerChild(e)}}_removePanels(e){while(e--){const e=this.content.last;this.content.remove(e);this.deregisterChild(e);e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView;const{width:n,height:i}=new k[\"a\"](this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:i})}}}var ca='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z\"/></svg>';function la(e){const t=e.plugins.get(\"ContextualBalloon\");if(Xt(e.editing.view.document.selection)){const n=da(e);t.updatePosition(n)}}function da(e){const t=e.editing.view;const n=At.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class ua extends ve[\"a\"]{static get requires(){return[oa]}static get pluginName(){return\"ImageTextAlternativeUI\"}init(){this._createButton();this._createForm()}destroy(){super.destroy();this._form.destroy()}_createButton(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(\"imageTextAlternative\",n=>{const i=e.commands.get(\"imageTextAlternative\");const r=new z[\"a\"](n);r.set({label:t(\"Change image text alternative\"),icon:ca,tooltip:true});r.bind(\"isEnabled\").to(i,\"isEnabled\");this.listenTo(r,\"execute\",()=>{this._showForm()});return r})}_createForm(){const e=this.editor;const t=e.editing.view;const n=t.document;this._balloon=this.editor.plugins.get(\"ContextualBalloon\");this._form=new Zs(e.locale);this._form.render();this.listenTo(this._form,\"submit\",()=>{e.execute(\"imageTextAlternative\",{newValue:this._form.labeledInput.fieldView.element.value});this._hideForm(true)});this.listenTo(this._form,\"cancel\",()=>{this._hideForm(true)});this._form.keystrokes.set(\"Esc\",(e,t)=>{this._hideForm(true);t()});this.listenTo(e.ui,\"update\",()=>{if(!Xt(n.selection)){this._hideForm(true)}else if(this._isVisible){la(e)}});K({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible){return}const e=this.editor;const t=e.commands.get(\"imageTextAlternative\");const n=this._form.labeledInput;if(!this._isInBalloon){this._balloon.add({view:this._form,position:da(e)})}n.fieldView.value=n.fieldView.element.value=t.value||\"\";this._form.labeledInput.fieldView.select()}_hideForm(e){if(!this._isInBalloon){return}if(this._form.focusTracker.isFocused){this._form.saveButtonView.focus()}this._balloon.remove(this._form);if(e){this.editor.editing.view.focus()}}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class ha extends ve[\"a\"]{static get requires(){return[Vs,ua]}static get pluginName(){return\"ImageTextAlternative\"}}var fa=n(337);class ma extends ve[\"a\"]{static get requires(){return[un,Ls,ha]}static get pluginName(){return\"Image\"}}function ga(e,t){return n=>{const i=n.createEditableElement(\"figcaption\");n.setCustomProperty(\"imageCaption\",true,i);Object(d[\"b\"])({view:e,element:i,text:t});return Ht(i,n)}}function pa(e){return!!e.getCustomProperty(\"imageCaption\")}function ba(e){for(const t of e.getChildren()){if(!!t&&t.is(\"element\",\"caption\")){return t}}return null}function _a(e){const t=e.parent;if(e.name==\"figcaption\"&&t&&t.name==\"figure\"&&t.hasClass(\"image\")){return{name:true}}return null}class wa extends ve[\"a\"]{static get pluginName(){return\"ImageCaptionEditing\"}init(){const e=this.editor;const t=e.editing.view;const n=e.model.schema;const i=e.data;const r=e.editing;const o=e.t;n.register(\"caption\",{allowIn:\"image\",allowContentOf:\"$block\",isLimit:true});e.model.document.registerPostFixer(e=>this._insertMissingModelCaptionElement(e));e.conversion.for(\"upcast\").elementToElement({view:_a,model:\"caption\"});const s=e=>e.createContainerElement(\"figcaption\");i.downcastDispatcher.on(\"insert:caption\",va(s,false));const a=ga(t,o(\"Enter image caption\"));r.downcastDispatcher.on(\"insert:caption\",va(a));r.downcastDispatcher.on(\"insert\",this._fixCaptionVisibility(e=>e.item),{priority:\"high\"});r.downcastDispatcher.on(\"remove\",this._fixCaptionVisibility(e=>e.position.parent),{priority:\"high\"});t.document.registerPostFixer(e=>this._updateCaptionVisibility(e))}_updateCaptionVisibility(e){const t=this.editor.editing.mapper;const n=this._lastSelectedCaption;let i;const r=this.editor.model.document.selection;const o=r.getSelectedElement();if(o&&o.is(\"element\",\"image\")){const e=ba(o);i=t.toViewElement(e)}const s=r.getFirstPosition();const a=xa(s.parent);if(a){i=t.toViewElement(a)}if(i){if(n){if(n===i){return Ca(i,e)}else{ya(n,e);this._lastSelectedCaption=i;return Ca(i,e)}}else{this._lastSelectedCaption=i;return Ca(i,e)}}else{if(n){const t=ya(n,e);this._lastSelectedCaption=null;return t}else{return false}}}_fixCaptionVisibility(e){return(t,n,i)=>{const r=e(n);const o=xa(r);const s=this.editor.editing.mapper;const a=i.writer;if(o){const e=s.toViewElement(o);if(e){if(o.childCount){a.removeClass(\"ck-hidden\",e)}else{a.addClass(\"ck-hidden\",e)}}}}}_insertMissingModelCaptionElement(e){const t=this.editor.model;const n=t.document.differ.getChanges();const i=[];for(const e of n){if(e.type==\"insert\"&&e.name!=\"$text\"){const n=e.position.nodeAfter;if(n.is(\"element\",\"image\")&&!ba(n)){i.push(n)}if(!n.is(\"element\",\"image\")&&n.childCount){for(const e of t.createRangeIn(n).getItems()){if(e.is(\"element\",\"image\")&&!ba(e)){i.push(e)}}}}}for(const t of i){e.appendElement(\"caption\",t)}return!!i.length}}function va(e,t=true){return(n,i,r)=>{const o=i.item;if(!o.childCount&&!t){return}if(Qt(o.parent)){if(!r.consumable.consume(i.item,\"insert\")){return}const t=r.mapper.toViewElement(i.range.start.parent);const n=e(r.writer);const s=r.writer;if(!o.childCount){s.addClass(\"ck-hidden\",n)}ka(n,i.item,t,r)}}}function ka(e,t,n,i){const r=i.writer.createPositionAt(n,\"end\");i.writer.insert(r,e);i.mapper.bindElements(t,e)}function xa(e){const t=e.getAncestors({includeSelf:true});const n=t.find(e=>e.name==\"caption\");if(n&&n.parent&&n.parent.name==\"image\"){return n}return null}function ya(e,t){if(!e.childCount&&!e.hasClass(\"ck-hidden\")){t.addClass(\"ck-hidden\",e);return true}return false}function Ca(e,t){if(e.hasClass(\"ck-hidden\")){t.removeClass(\"ck-hidden\",e);return true}return false}var Aa=n(339);class Ta extends ve[\"a\"]{static get requires(){return[wa]}static get pluginName(){return\"ImageCaption\"}}class Ea extends ke[\"a\"]{constructor(e,t){super(e);this.defaultStyle=false;this.styles=t.reduce((e,t)=>{e[t.name]=t;if(t.isDefault){this.defaultStyle=t.name}return e},{})}refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Qt(e);if(!e){this.value=false}else if(e.hasAttribute(\"imageStyle\")){const t=e.getAttribute(\"imageStyle\");this.value=this.styles[t]?t:false}else{this.value=this.defaultStyle}}execute(e){const t=e.value;const n=this.editor.model;const i=n.document.selection.getSelectedElement();n.change(e=>{if(this.styles[t].isDefault){e.removeAttribute(\"imageStyle\",i)}else{e.setAttribute(\"imageStyle\",t,i)}})}}function Sa(e){return(t,n,i)=>{if(!i.consumable.consume(n.item,t.name)){return}const r=Ia(n.attributeNewValue,e);const o=Ia(n.attributeOldValue,e);const s=i.mapper.toViewElement(n.item);const a=i.writer;if(o){a.removeClass(o.className,s)}if(r){a.addClass(r.className,s)}}}function Oa(e){const t=e.filter(e=>!e.isDefault);return(e,n,i)=>{if(!n.modelRange){return}const r=n.viewItem;const o=Object(xe[\"a\"])(n.modelRange.getItems());if(!i.schema.checkAttribute(o,\"imageStyle\")){return}for(const e of t){if(i.consumable.consume(r,{classes:e.className})){i.writer.setAttribute(\"imageStyle\",e.name,o)}}}}function Ia(e,t){for(const n of t){if(n.name===e){return n}}}var Pa='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z\"/></svg>';var Ma='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\" clip-rule=\"evenodd\" stroke-linejoin=\"round\" stroke-miterlimit=\"1.414\"><path d=\"M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z\"/></svg>';var Ra='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z\"/></svg>';var Na='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z\"/></svg>';const ja={full:{name:\"full\",title:\"Full size image\",icon:Pa,isDefault:true},side:{name:\"side\",title:\"Side image\",icon:Na,className:\"image-style-side\"},alignLeft:{name:\"alignLeft\",title:\"Left aligned image\",icon:Ma,className:\"image-style-align-left\"},alignCenter:{name:\"alignCenter\",title:\"Centered image\",icon:Ra,className:\"image-style-align-center\"},alignRight:{name:\"alignRight\",title:\"Right aligned image\",icon:Na,className:\"image-style-align-right\"}};const Da={full:Pa,left:Ma,right:Na,center:Ra};function La(e=[]){return e.map(Ba)}function Ba(e){if(typeof e==\"string\"){const t=e;if(ja[t]){e=Object.assign({},ja[t])}else{console.warn(Object(se[\"a\"])(\"image-style-not-found: There is no such image style of given name.\"),{name:t});e={name:t}}}else if(ja[e.name]){const t=ja[e.name];const n=Object.assign({},e);for(const i in t){if(!Object.prototype.hasOwnProperty.call(e,i)){n[i]=t[i]}}e=n}if(typeof e.icon==\"string\"&&Da[e.icon]){e.icon=Da[e.icon]}return e}class Fa extends ve[\"a\"]{static get pluginName(){return\"ImageStyleEditing\"}init(){const e=this.editor;const t=e.model.schema;const n=e.data;const i=e.editing;e.config.define(\"image.styles\",[\"full\",\"side\"]);const r=La(e.config.get(\"image.styles\"));t.extend(\"image\",{allowAttributes:\"imageStyle\"});const o=Sa(r);i.downcastDispatcher.on(\"attribute:imageStyle:image\",o);n.downcastDispatcher.on(\"attribute:imageStyle:image\",o);n.upcastDispatcher.on(\"element:figure\",Oa(r),{priority:\"low\"});e.commands.add(\"imageStyle\",new Ea(e,r))}}var za=n(341);class Va extends ve[\"a\"]{static get pluginName(){return\"ImageStyleUI\"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{\"Full size image\":e(\"Full size image\"),\"Side image\":e(\"Side image\"),\"Left aligned image\":e(\"Left aligned image\"),\"Centered image\":e(\"Centered image\"),\"Right aligned image\":e(\"Right aligned image\")}}init(){const e=this.editor;const t=e.config.get(\"image.styles\");const n=Ua(La(t),this.localizedDefaultStylesTitles);for(const e of n){this._createButton(e)}}_createButton(e){const t=this.editor;const n=`imageStyle:${e.name}`;t.ui.componentFactory.add(n,n=>{const i=t.commands.get(\"imageStyle\");const r=new z[\"a\"](n);r.set({label:e.title,icon:e.icon,tooltip:true,isToggleable:true});r.bind(\"isEnabled\").to(i,\"isEnabled\");r.bind(\"isOn\").to(i,\"value\",t=>t===e.name);this.listenTo(r,\"execute\",()=>{t.execute(\"imageStyle\",{value:e.name});t.editing.view.focus()});return r})}}function Ua(e,t){for(const n of e){if(t[n.title]){n.title=t[n.title]}}return e}class Ha extends ve[\"a\"]{static get requires(){return[Fa,Va]}static get pluginName(){return\"ImageStyle\"}}class Wa extends ve[\"a\"]{static get requires(){return[oa]}static get pluginName(){return\"WidgetToolbarRepository\"}init(){const e=this.editor;if(e.plugins.has(\"BalloonToolbar\")){const t=e.plugins.get(\"BalloonToolbar\");this.listenTo(t,\"show\",t=>{if(Ya(e.editing.view.document.selection)){t.stop()}},{priority:\"high\"})}this._toolbarDefinitions=new Map;this._balloon=this.editor.plugins.get(\"ContextualBalloon\");this.on(\"change:isEnabled\",()=>{this._updateToolbarsVisibility()});this.listenTo(e.ui,\"update\",()=>{this._updateToolbarsVisibility()});this.listenTo(e.ui.focusTracker,\"change:isFocused\",()=>{this._updateToolbarsVisibility()},{priority:\"low\"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values()){e.view.destroy()}}register(e,{ariaLabel:t,items:n,getRelatedElement:i,balloonClassName:r=\"ck-toolbar-container\"}){if(!n.length){console.warn(Object(se[\"a\"])(\"widget-toolbar-no-items: Trying to register a toolbar without items.\"),{toolbarId:e});return}const o=this.editor;const s=o.t;const a=new le(o.locale);a.ariaLabel=t||s(\"Widget toolbar\");if(this._toolbarDefinitions.has(e)){throw new se[\"b\"](\"widget-toolbar-duplicated: Toolbar with the given id was already added.\",this,{toolbarId:e})}a.fillFromConfig(n,o.ui.componentFactory);this._toolbarDefinitions.set(e,{view:a,getRelatedElement:i,balloonClassName:r})}_updateToolbarsVisibility(){let e=0;let t=null;let n=null;for(const i of this._toolbarDefinitions.values()){const r=i.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!r){if(this._isToolbarInBalloon(i)){this._hideToolbar(i)}}else if(!this.editor.ui.focusTracker.isFocused){if(this._isToolbarVisible(i)){this._hideToolbar(i)}}else{const o=r.getAncestors().length;if(o>e){e=o;t=r;n=i}}}if(n){this._showToolbar(n,t)}}_hideToolbar(e){this._balloon.remove(e.view);this.stopListening(this._balloon,\"change:visibleView\")}_showToolbar(e,t){if(this._isToolbarVisible(e)){$a(this.editor,t)}else if(!this._isToolbarInBalloon(e)){this._balloon.add({view:e.view,position:qa(this.editor,t),balloonClassName:e.balloonClassName});this.listenTo(this._balloon,\"change:visibleView\",()=>{for(const e of this._toolbarDefinitions.values()){if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);$a(this.editor,t)}}})}}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function $a(e,t){const n=e.plugins.get(\"ContextualBalloon\");const i=qa(e,t);n.updatePosition(i)}function qa(e,t){const n=e.editing.view;const i=At.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,qt]}}function Ya(e){const t=e.getSelectedElement();return!!(t&&Bt(t))}class Ja extends ve[\"a\"]{static get requires(){return[Wa]}static get pluginName(){return\"ImageToolbar\"}afterInit(){const e=this.editor;const t=e.t;const n=e.plugins.get(Wa);n.register(\"image\",{ariaLabel:t(\"Image toolbar\"),items:e.config.get(\"image.toolbar\")||[],getRelatedElement:Xt})}}class Ga extends m[\"a\"]{constructor(e){super(e);this.buttonView=new z[\"a\"](e);this._fileInputView=new Ka(e);this._fileInputView.bind(\"acceptedType\").to(this);this._fileInputView.bind(\"allowMultipleFiles\").to(this);this._fileInputView.delegate(\"done\").to(this);this.setTemplate({tag:\"span\",attributes:{class:\"ck-file-dialog-button\"},children:[this.buttonView,this._fileInputView]});this.buttonView.on(\"execute\",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Ka extends m[\"a\"]{constructor(e){super(e);this.set(\"acceptedType\");this.set(\"allowMultipleFiles\",false);const t=this.bindTemplate;this.setTemplate({tag:\"input\",attributes:{class:[\"ck-hidden\"],type:\"file\",tabindex:\"-1\",accept:t.to(\"acceptedType\"),multiple:t.to(\"allowMultipleFiles\")},on:{change:t.to(()=>{if(this.element&&this.element.files&&this.element.files.length){this.fire(\"done\",this.element.files)}this.element.value=\"\"})}})}open(){this.element.click()}}var Xa='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z\"/></svg>';function Qa(e){const t=e.map(e=>e.replace(\"+\",\"\\\\+\"));return new RegExp(`^image\\\\/(${t.join(\"|\")})$`)}function Za(e){return new Promise((t,n)=>{const i=e.getAttribute(\"src\");fetch(i).then(e=>e.blob()).then(e=>{const n=tc(e,i);const r=n.replace(\"image/\",\"\");const o=`image.${r}`;const s=new File([e],o,{type:n});t(s)}).catch(n)})}function ec(e){if(!e.is(\"element\",\"img\")||!e.getAttribute(\"src\")){return false}return e.getAttribute(\"src\").match(/^data:image\\/\\w+;base64,/g)||e.getAttribute(\"src\").match(/^blob:/g)}function tc(e,t){if(e.type){return e.type}else if(t.match(/data:(image\\/\\w+);base64/)){return t.match(/data:(image\\/\\w+);base64/)[1].toLowerCase()}else{return\"image/jpeg\"}}class nc extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(\"imageUpload\",n=>{const i=new Ga(n);const r=e.commands.get(\"imageUpload\");const o=e.config.get(\"image.upload.types\");const s=Qa(o);i.set({acceptedType:o.map(e=>`image/${e}`).join(\",\"),allowMultipleFiles:true});i.buttonView.set({label:t(\"Insert image\"),icon:Xa,tooltip:true});i.buttonView.bind(\"isEnabled\").to(r);i.on(\"done\",(t,n)=>{const i=Array.from(n).filter(e=>s.test(e.type));if(i.length){e.execute(\"imageUpload\",{file:i})}});return i})}}var ic='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 700 250\"><rect rx=\"4\"/></svg>';var rc=n(343);var oc=n(345);var sc=n(347);class ac extends ve[\"a\"]{constructor(e){super(e);this.placeholder=\"data:image/svg+xml;utf8,\"+encodeURIComponent(ic)}init(){const e=this.editor;e.editing.downcastDispatcher.on(\"attribute:uploadStatus:image\",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(e,t,n){const i=this.editor;const r=t.item;const o=r.getAttribute(\"uploadId\");if(!n.consumable.consume(t.item,e.name)){return}const s=i.plugins.get(Ki);const a=o?t.attributeNewValue:null;const c=this.placeholder;const l=i.editing.mapper.toViewElement(r);const d=n.writer;if(a==\"reading\"){cc(l,d);dc(c,l,d);return}if(a==\"uploading\"){const e=s.loaders.get(o);cc(l,d);if(!e){dc(c,l,d)}else{uc(l,d);hc(l,d,e,i.editing.view);wc(l,d,e)}return}if(a==\"complete\"&&s.loaders.get(o)){mc(l,d,i.editing.view)}fc(l,d);uc(l,d);lc(l,d)}}function cc(e,t){if(!e.hasClass(\"ck-appear\")){t.addClass(\"ck-appear\",e)}}function lc(e,t){t.removeClass(\"ck-appear\",e)}function dc(e,t,n){if(!t.hasClass(\"ck-image-upload-placeholder\")){n.addClass(\"ck-image-upload-placeholder\",t)}const i=tn(t);if(i.getAttribute(\"src\")!==e){n.setAttribute(\"src\",e,i)}if(!bc(t,\"placeholder\")){n.insert(n.createPositionAfter(i),pc(n))}}function uc(e,t){if(e.hasClass(\"ck-image-upload-placeholder\")){t.removeClass(\"ck-image-upload-placeholder\",e)}_c(e,t,\"placeholder\")}function hc(e,t,n,i){const r=gc(t);t.insert(t.createPositionAt(e,\"end\"),r);n.on(\"change:uploadedPercent\",(e,t,n)=>{i.change(e=>{e.setStyle(\"width\",n+\"%\",r)})})}function fc(e,t){_c(e,t,\"progressBar\")}function mc(e,t,n){const i=t.createUIElement(\"div\",{class:\"ck-image-upload-complete-icon\"});t.insert(t.createPositionAt(e,\"end\"),i);setTimeout(()=>{n.change(e=>e.remove(e.createRangeOn(i)))},3e3)}function gc(e){const t=e.createUIElement(\"div\",{class:\"ck-progress-bar\"});e.setCustomProperty(\"progressBar\",true,t);return t}function pc(e){const t=e.createUIElement(\"div\",{class:\"ck-upload-placeholder-loader\"});e.setCustomProperty(\"placeholder\",true,t);return t}function bc(e,t){for(const n of e.getChildren()){if(n.getCustomProperty(t)){return n}}}function _c(e,t,n){const i=bc(e,n);if(i){t.remove(t.createRangeOn(i))}}function wc(e,t,n){if(n.data){const i=tn(e);t.setAttribute(\"src\",n.data,i)}}var vc=n(90);var kc=n(49);var xc=n(23);var yc=n(95);var Cc=n(8);var Ac=n(15);var Tc=n(62);class Ec{constructor(e){this.document=e}createDocumentFragment(e){return new vc[\"a\"](this.document,e)}createElement(e,t,n){return new kc[\"a\"](this.document,e,t,n)}createText(e){return new xc[\"a\"](this.document,e)}clone(e,t=false){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;if(t){return this.removeChildren(t.getChildIndex(e),1,t)}return[]}replace(e,t){const n=e.parent;if(n){const i=n.getChildIndex(e);this.removeChildren(i,1,n);this.insertChild(i,t,n);return true}return false}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e);this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new kc[\"a\"](this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){if(Object(yc[\"a\"])(e)&&n===undefined){n=t}n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Cc[\"a\"]._createAt(e,t)}createPositionAfter(e){return Cc[\"a\"]._createAfter(e)}createPositionBefore(e){return Cc[\"a\"]._createBefore(e)}createRange(e,t){return new Ac[\"a\"](e,t)}createRangeOn(e){return Ac[\"a\"]._createOn(e)}createRangeIn(e){return Ac[\"a\"]._createIn(e)}createSelection(e,t,n){return new Tc[\"a\"](e,t,n)}}class Sc extends ke[\"a\"]{refresh(){this.isEnabled=en(this.editor.model)}execute(e){const t=this.editor;const n=t.model;const i=t.plugins.get(Ki);n.change(t=>{const r=Array.isArray(e.file)?e.file:[e.file];for(const e of r){Oc(t,n,i,e)}})}}function Oc(e,t,n,i){const r=n.createLoader(i);if(!r){return}Zt(e,t,{uploadId:r.id})}class Ic extends ve[\"a\"]{static get requires(){return[Ki,Wi,En[\"a\"]]}static get pluginName(){return\"ImageUploadEditing\"}constructor(e){super(e);e.config.define(\"image\",{upload:{types:[\"jpeg\",\"png\",\"gif\",\"bmp\",\"webp\",\"tiff\"]}})}init(){const e=this.editor;const t=e.model.document;const n=e.model.schema;const i=e.conversion;const r=e.plugins.get(Ki);const o=Qa(e.config.get(\"image.upload.types\"));n.extend(\"image\",{allowAttributes:[\"uploadId\",\"uploadStatus\"]});e.commands.add(\"imageUpload\",new Sc(e));i.for(\"upcast\").attributeToAttribute({view:{name:\"img\",key:\"uploadId\"},model:\"uploadId\"});this.listenTo(e.editing.view.document,\"clipboardInput\",(t,n)=>{if(Pc(n.dataTransfer)){return}const i=Array.from(n.dataTransfer.files).filter(e=>{if(!e){return false}return o.test(e.type)});const r=n.targetRanges.map(t=>e.editing.mapper.toModelRange(t));e.model.change(n=>{n.setSelection(r);if(i.length){t.stop();e.model.enqueueChange(\"default\",()=>{e.execute(\"imageUpload\",{file:i})})}})});this.listenTo(e.plugins.get(En[\"a\"]),\"inputTransformation\",(t,n)=>{const i=Array.from(e.editing.view.createRangeIn(n.content)).filter(e=>ec(e.item)&&!e.item.getAttribute(\"uploadProcessed\")).map(e=>({promise:Za(e.item),imageElement:e.item}));if(!i.length){return}const o=new Ec(e.editing.view.document);for(const e of i){o.setAttribute(\"uploadProcessed\",true,e.imageElement);const t=r.createLoader(e.promise);if(t){o.setAttribute(\"src\",\"\",e.imageElement);o.setAttribute(\"uploadId\",t.id,e.imageElement)}}});e.editing.view.document.on(\"dragover\",(e,t)=>{t.preventDefault()});t.on(\"change\",()=>{const n=t.differ.getChanges({includeChangesInGraveyard:true});for(const t of n){if(t.type==\"insert\"&&t.name!=\"$text\"){const n=t.position.nodeAfter;const i=t.position.root.rootName==\"$graveyard\";for(const t of Mc(e,n)){const e=t.getAttribute(\"uploadId\");if(!e){continue}const n=r.loaders.get(e);if(!n){continue}if(i){n.abort()}else if(n.status==\"idle\"){this._readAndUpload(n,t)}}}}})}_readAndUpload(e,t){const n=this.editor;const i=n.model;const r=n.locale.t;const o=n.plugins.get(Ki);const s=n.plugins.get(Wi);i.enqueueChange(\"transparent\",e=>{e.setAttribute(\"uploadStatus\",\"reading\",t)});return e.read().then(()=>{const r=e.upload();if(js[\"a\"].isSafari){const e=n.editing.mapper.toViewElement(t);const i=tn(e);n.editing.view.once(\"render\",()=>{if(!i.parent){return}const e=n.editing.view.domConverter.mapViewToDom(i.parent);if(!e){return}const t=e.style.display;e.style.display=\"none\";e._ckHack=e.offsetHeight;e.style.display=t})}i.enqueueChange(\"transparent\",e=>{e.setAttribute(\"uploadStatus\",\"uploading\",t)});return r}).then(e=>{i.enqueueChange(\"transparent\",n=>{n.setAttributes({uploadStatus:\"complete\",src:e.default},t);this._parseAndSetSrcsetAttributeOnImage(e,t,n)});a()}).catch(n=>{if(e.status!==\"error\"&&e.status!==\"aborted\"){throw n}if(e.status==\"error\"&&n){s.showWarning(n,{title:r(\"Upload failed\"),namespace:\"upload\"})}a();i.enqueueChange(\"transparent\",e=>{e.remove(t)})});function a(){i.enqueueChange(\"transparent\",e=>{e.removeAttribute(\"uploadId\",t);e.removeAttribute(\"uploadStatus\",t)});o.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let i=0;const r=Object.keys(e).filter(e=>{const t=parseInt(e,10);if(!isNaN(t)){i=Math.max(i,t);return true}}).map(t=>`${e[t]} ${t}w`).join(\", \");if(r!=\"\"){n.setAttribute(\"srcset\",{data:r,width:i},t)}}}function Pc(e){return Array.from(e.types).includes(\"text/html\")&&e.getData(\"text/html\")!==\"\"}function Mc(e,t){return Array.from(e.model.createRangeOn(t)).filter(e=>e.item.is(\"element\",\"image\")).map(e=>e.item)}class Rc extends ve[\"a\"]{static get pluginName(){return\"ImageUpload\"}static get requires(){return[Ic,nc,ac]}}class Nc extends ke[\"a\"]{constructor(e){super(e);this._childCommands=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return t.execute(e)}registerChildCommand(e){this._childCommands.push(e);e.on(\"change:isEnabled\",()=>this._checkEnabled());this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(e=>e.isEnabled)}}class jc extends ve[\"a\"]{static get pluginName(){return\"IndentEditing\"}init(){const e=this.editor;e.commands.add(\"indent\",new Nc(e));e.commands.add(\"outdent\",new Nc(e))}}var Dc='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z\"/></svg>';var Lc='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z\"/></svg>';class Bc extends ve[\"a\"]{static get pluginName(){return\"IndentUI\"}init(){const e=this.editor;const t=e.locale;const n=e.t;const i=t.uiLanguageDirection==\"ltr\"?Dc:Lc;const r=t.uiLanguageDirection==\"ltr\"?Lc:Dc;this._defineButton(\"indent\",n(\"Increase indent\"),i);this._defineButton(\"outdent\",n(\"Decrease indent\"),r)}_defineButton(e,t,n){const i=this.editor;i.ui.componentFactory.add(e,r=>{const o=i.commands.get(e);const s=new z[\"a\"](r);s.set({label:t,icon:n,tooltip:true});s.bind(\"isOn\",\"isEnabled\").to(o,\"value\",\"isEnabled\");this.listenTo(s,\"execute\",()=>{i.execute(e);i.editing.view.focus()});return s})}}class Fc extends ve[\"a\"]{static get pluginName(){return\"Indent\"}static get requires(){return[jc,Bc]}}class zc extends ke[\"a\"]{constructor(e,t){super(e);this._indentBehavior=t}refresh(){const e=this.editor;const t=e.model;const n=Object(xe[\"a\"])(t.document.selection.getSelectedBlocks());if(!n||!t.schema.checkAttribute(n,\"blockIndent\")){this.isEnabled=false;return}this.isEnabled=this._indentBehavior.checkEnabled(n.getAttribute(\"blockIndent\"))}execute(){const e=this.editor.model;const t=Vc(e);e.change(e=>{for(const n of t){const t=n.getAttribute(\"blockIndent\");const i=this._indentBehavior.getNextIndent(t);if(i){e.setAttribute(\"blockIndent\",i,n)}else{e.removeAttribute(\"blockIndent\",n)}}})}}function Vc(e){const t=e.document.selection;const n=e.schema;const i=Array.from(t.getSelectedBlocks());return i.filter(e=>n.checkAttribute(e,\"blockIndent\"))}class Uc{constructor(e){this.isForward=e.direction===\"forward\";this.offset=e.offset;this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||0);return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||0);const n=!e||e.endsWith(this.unit);if(!n){return this.isForward?this.offset+this.unit:undefined}const i=this.isForward?this.offset:-this.offset;const r=t+i;return r>0?r+this.unit:undefined}}class Hc{constructor(e){this.isForward=e.direction===\"forward\";this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);if(this.isForward){return t<this.classes.length-1}else{return t>=0}}getNextIndent(e){const t=this.classes.indexOf(e);const n=this.isForward?1:-1;return this.classes[t+n]}}const Wc=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i;const $c=/^rgb\\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\\)$/i;const qc=/^rgba\\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\\.?[0-9]+)\\)$/i;const Yc=/^hsl\\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\\.?[0-9]+)?\\)$/i;const Jc=/^hsla\\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\\.?[0-9]+)\\)$/i;const Gc=new Set([\"black\",\"silver\",\"gray\",\"white\",\"maroon\",\"red\",\"purple\",\"fuchsia\",\"green\",\"lime\",\"olive\",\"yellow\",\"navy\",\"blue\",\"teal\",\"aqua\",\"orange\",\"aliceblue\",\"antiquewhite\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"blanchedalmond\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgreen\",\"darkgrey\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkslategrey\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dimgrey\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"greenyellow\",\"grey\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgreen\",\"lightgrey\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightslategrey\",\"lightsteelblue\",\"lightyellow\",\"limegreen\",\"linen\",\"magenta\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"oldlace\",\"olivedrab\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"skyblue\",\"slateblue\",\"slategray\",\"slategrey\",\"snow\",\"springgreen\",\"steelblue\",\"tan\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"whitesmoke\",\"yellowgreen\",\"rebeccapurple\",\"currentcolor\",\"transparent\"]);function Kc(e){if(e.startsWith(\"#\")){return Wc.test(e)}if(e.startsWith(\"rgb\")){return $c.test(e)||qc.test(e)}if(e.startsWith(\"hsl\")){return Yc.test(e)||Jc.test(e)}return Gc.has(e.toLowerCase())}const Xc=[\"none\",\"hidden\",\"dotted\",\"dashed\",\"solid\",\"double\",\"groove\",\"ridge\",\"inset\",\"outset\"];function Qc(e){return Xc.includes(e)}const Zc=/^([+-]?[0-9]*[.]?[0-9]+(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function el(e){return Zc.test(e)}const tl=/^[+-]?[0-9]*[.]?[0-9]+%$/;function nl(e){return tl.test(e)}const il=[\"repeat-x\",\"repeat-y\",\"repeat\",\"space\",\"round\",\"no-repeat\"];function rl(e){return il.includes(e)}const ol=[\"center\",\"top\",\"bottom\",\"left\",\"right\"];function sl(e){return ol.includes(e)}const al=[\"fixed\",\"scroll\",\"local\"];function cl(e){return al.includes(e)}const ll=/^url\\(/;function dl(e){return ll.test(e)}function ul(e=\"\"){if(e===\"\"){return{top:undefined,right:undefined,bottom:undefined,left:undefined}}const t=gl(e);const n=t[0];const i=t[2]||n;const r=t[1]||n;const o=t[3]||r;return{top:n,bottom:i,right:r,left:o}}function hl(e){return t=>{const{top:n,right:i,bottom:r,left:o}=t;const s=[];if(![n,i,o,r].every(e=>!!e)){if(n){s.push([e+\"-top\",n])}if(i){s.push([e+\"-right\",i])}if(r){s.push([e+\"-bottom\",r])}if(o){s.push([e+\"-left\",o])}}else{s.push([e,fl(t)])}return s}}function fl({top:e,right:t,bottom:n,left:i}){const r=[];if(i!==t){r.push(e,t,n,i)}else if(n!==e){r.push(e,t,n)}else if(t!==e){r.push(e,t)}else{r.push(e)}return r.join(\" \")}function ml(e){return t=>({path:e,value:ul(t)})}function gl(e){return e.replace(/, /g,\",\").split(\" \").map(e=>e.replace(/,/g,\", \"))}function pl(e){e.setNormalizer(\"margin\",ml(\"margin\"));e.setNormalizer(\"margin-top\",e=>({path:\"margin.top\",value:e}));e.setNormalizer(\"margin-right\",e=>({path:\"margin.right\",value:e}));e.setNormalizer(\"margin-bottom\",e=>({path:\"margin.bottom\",value:e}));e.setNormalizer(\"margin-left\",e=>({path:\"margin.left\",value:e}));e.setReducer(\"margin\",hl(\"margin\"));e.setStyleRelation(\"margin\",[\"margin-top\",\"margin-right\",\"margin-bottom\",\"margin-left\"])}class bl extends ve[\"a\"]{constructor(e){super(e);e.config.define(\"indentBlock\",{offset:40,unit:\"px\"})}static get pluginName(){return\"IndentBlock\"}init(){const e=this.editor;const t=e.config.get(\"indentBlock\");const n=!t.classes||!t.classes.length;const i=Object.assign({direction:\"forward\"},t);const r=Object.assign({direction:\"backward\"},t);if(n){e.data.addStyleProcessorRules(pl);this._setupConversionUsingOffset(e.conversion);e.commands.add(\"indentBlock\",new zc(e,new Uc(i)));e.commands.add(\"outdentBlock\",new zc(e,new Uc(r)))}else{this._setupConversionUsingClasses(t.classes);e.commands.add(\"indentBlock\",new zc(e,new Hc(i)));e.commands.add(\"outdentBlock\",new zc(e,new Hc(r)))}}afterInit(){const e=this.editor;const t=e.model.schema;const n=e.commands.get(\"indent\");const i=e.commands.get(\"outdent\");const r=[\"paragraph\",\"heading1\",\"heading2\",\"heading3\",\"heading4\",\"heading5\",\"heading6\"];r.forEach(e=>{if(t.isRegistered(e)){t.extend(e,{allowAttributes:\"blockIndent\"})}});n.registerChildCommand(e.commands.get(\"indentBlock\"));i.registerChildCommand(e.commands.get(\"outdentBlock\"))}_setupConversionUsingOffset(){const e=this.editor.conversion;const t=this.editor.locale;const n=t.contentLanguageDirection===\"rtl\"?\"margin-right\":\"margin-left\";e.for(\"upcast\").attributeToAttribute({view:{styles:{[n]:/[\\s\\S]+/}},model:{key:\"blockIndent\",value:e=>e.getStyle(n)}});e.for(\"downcast\").attributeToAttribute({model:\"blockIndent\",view:e=>({key:\"style\",value:{[n]:e}})})}_setupConversionUsingClasses(e){const t={model:{key:\"blockIndent\",values:[]},view:{}};for(const n of e){t.model.values.push(n);t.view[n]={key:\"class\",value:[n]}}this.editor.conversion.attributeToAttribute(t)}}var _l=n(197);class wl extends fn[\"a\"]{constructor(e){super(e);this.domEventType=\"click\"}onDomEvent(e){this.fire(e.type,e)}}var vl=n(349);class kl extends m[\"a\"]{constructor(e,t,n){super(e);const i=e.t;this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this.urlInputView=this._createUrlInput(n);this.saveButtonView=this._createButton(i(\"Save\"),Ks[\"a\"],\"ck-button-save\");this.saveButtonView.type=\"submit\";this.cancelButtonView=this._createButton(i(\"Cancel\"),Xs[\"a\"],\"ck-button-cancel\",\"cancel\");this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t);this.children=this._createFormChildren(t.manualDecorators);this._focusables=new Us[\"a\"];this._focusCycler=new p[\"a\"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}});const r=[\"ck\",\"ck-link-form\"];if(t.manualDecorators.length){r.push(\"ck-link-form_layout-vertical\")}this.setTemplate({tag:\"form\",attributes:{class:r,tabindex:\"-1\"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>{e[t.name]=t.isOn;return e},{})}render(){super.render();Gs({view:this});const e=[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView];e.forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(e=\"https://\"){const t=this.locale.t;const n=new Ws(this.locale,Ys);n.label=t(\"Link URL\");n.fieldView.placeholder=e+\"example.com\";return n}_createButton(e,t,n,i){const r=new z[\"a\"](this.locale);r.set({label:e,icon:t,tooltip:true});r.extendTemplate({attributes:{class:n}});if(i){r.delegate(\"execute\").to(this,i)}return r}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const i=new G(this.locale);i.set({name:n.id,label:n.label,withText:true});i.bind(\"isOn\").toMany([n,e],\"value\",(e,t)=>t===undefined&&e===undefined?n.defaultValue:e);i.on(\"execute\",()=>{n.set(\"value\",!i.isOn)});t.add(i)}return t}_createFormChildren(e){const t=this.createCollection();t.add(this.urlInputView);if(e.length){const e=new m[\"a\"];e.setTemplate({tag:\"ul\",children:this._manualDecoratorSwitches.map(e=>({tag:\"li\",children:[e],attributes:{class:[\"ck\",\"ck-list__item\"]}})),attributes:{class:[\"ck\",\"ck-reset\",\"ck-list\"]}});t.add(e)}t.add(this.saveButtonView);t.add(this.cancelButtonView);return t}}var xl='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z\"/></svg>';var yl=n(183);var Cl=n(351);class Al extends m[\"a\"]{constructor(e){super(e);const t=e.t;this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this.previewButtonView=this._createPreviewButton();this.unlinkButtonView=this._createButton(t(\"Unlink\"),xl,\"unlink\");this.editButtonView=this._createButton(t(\"Edit link\"),yl[\"a\"],\"edit\");this.set(\"href\");this._focusables=new Us[\"a\"];this._focusCycler=new p[\"a\"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}});this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-link-actions\"],tabindex:\"-1\"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const e=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];e.forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element)});this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const i=new z[\"a\"](this.locale);i.set({label:e,icon:t,tooltip:true});i.delegate(\"execute\").to(this,n);return i}_createPreviewButton(){const e=new z[\"a\"](this.locale);const t=this.bindTemplate;const n=this.t;e.set({withText:true,tooltip:n(\"Open link in new tab\")});e.extendTemplate({attributes:{class:[\"ck\",\"ck-link-actions__preview\"],href:t.to(\"href\",e=>e&&Ti(e)),target:\"_blank\",rel:\"noopener noreferrer\"}});e.bind(\"label\").to(this,\"href\",e=>e||n(\"This link has no URL\"));e.bind(\"isEnabled\").to(this,\"href\",e=>!!e);e.template.tag=\"a\";e.template.eventListeners={};return e}}var Tl='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z\"/></svg>';const El=/^((\\w+:(\\/{2,})?)|(\\W))/i;const Sl=/[\\w-]+@[\\w-]+\\.+[\\w-]+/i;const Ol=\"link-ui\";class Il extends ve[\"a\"]{static get requires(){return[oa]}static get pluginName(){return\"LinkUI\"}init(){const e=this.editor;e.editing.view.addObserver(wl);this.actionsView=this._createActionsView();this.formView=this._createFormView();this._balloon=e.plugins.get(oa);this._createToolbarLinkButton();this._enableUserBalloonInteractions();e.conversion.for(\"editingDowncast\").markerToHighlight({model:Ol,view:{classes:[\"ck-fake-link-selection\"]}});e.conversion.for(\"editingDowncast\").markerToElement({model:Ol,view:{name:\"span\",classes:[\"ck-fake-link-selection\",\"ck-fake-link-selection_collapsed\"]}})}destroy(){super.destroy();this.formView.destroy()}_createActionsView(){const e=this.editor;const t=new Al(e.locale);const n=e.commands.get(\"link\");const i=e.commands.get(\"unlink\");t.bind(\"href\").to(n,\"value\");t.editButtonView.bind(\"isEnabled\").to(n);t.unlinkButtonView.bind(\"isEnabled\").to(i);this.listenTo(t,\"edit\",()=>{this._addFormView()});this.listenTo(t,\"unlink\",()=>{e.execute(\"unlink\");this._hideUI()});t.keystrokes.set(\"Esc\",(e,t)=>{this._hideUI();t()});t.keystrokes.set(yi,(e,t)=>{this._addFormView();t()});return t}_createFormView(){const e=this.editor;const t=e.commands.get(\"link\");const n=e.config.get(\"link.defaultProtocol\");const i=new kl(e.locale,t,n);i.urlInputView.fieldView.bind(\"value\").to(t,\"value\");i.urlInputView.bind(\"isReadOnly\").to(t,\"isEnabled\",e=>!e);i.saveButtonView.bind(\"isEnabled\").to(t);this.listenTo(i,\"submit\",()=>{const{value:t}=i.urlInputView.fieldView.element;const r=!!n&&!El.test(t);const o=Sl.test(t);const s=o?\"mailto:\":n;const a=t&&r?s+t:t;e.execute(\"link\",a,i.getDecoratorSwitchesState());this._closeFormView()});this.listenTo(i,\"cancel\",()=>{this._closeFormView()});i.keystrokes.set(\"Esc\",(e,t)=>{this._closeFormView();t()});return i}_createToolbarLinkButton(){const e=this.editor;const t=e.commands.get(\"link\");const n=e.t;e.keystrokes.set(yi,(e,t)=>{t();this._showUI(true)});e.ui.componentFactory.add(\"link\",e=>{const i=new z[\"a\"](e);i.isEnabled=true;i.label=n(\"Link\");i.icon=Tl;i.keystroke=yi;i.tooltip=true;i.isToggleable=true;i.bind(\"isEnabled\").to(t,\"isEnabled\");i.bind(\"isOn\").to(t,\"value\",e=>!!e);this.listenTo(i,\"execute\",()=>this._showUI(true));return i})}_enableUserBalloonInteractions(){const e=this.editor.editing.view.document;this.listenTo(e,\"click\",()=>{const e=this._getSelectedLinkElement();if(e){this._showUI()}});this.editor.keystrokes.set(\"Tab\",(e,t)=>{if(this._areActionsVisible&&!this.actionsView.focusTracker.isFocused){this.actionsView.focus();t()}},{priority:\"high\"});this.editor.keystrokes.set(\"Esc\",(e,t)=>{if(this._isUIVisible){this._hideUI();t()}});K({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){if(this._areActionsInPanel){return}this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel){return}const e=this.editor;const t=e.commands.get(\"link\");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()});if(this._balloon.visibleView===this.formView){this.formView.urlInputView.fieldView.select()}this.formView.urlInputView.fieldView.element.value=t.value||\"\"}_closeFormView(){const e=this.editor.commands.get(\"link\");e.restoreManualDecoratorStates();if(e.value!==undefined){this._removeFormView()}else{this._hideUI()}}_removeFormView(){if(this._isFormInPanel){this.formView.saveButtonView.focus();this._balloon.remove(this.formView);this.editor.editing.view.focus();this._hideFakeVisualSelection()}}_showUI(e=false){if(!this._getSelectedLinkElement()){this._addActionsView();if(e){this._balloon.showStack(\"main\")}this._addFormView();this._showFakeVisualSelection()}else{if(this._areActionsVisible){this._addFormView()}else{this._addActionsView()}if(e){this._balloon.showStack(\"main\")}}this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel){return}const e=this.editor;this.stopListening(e.ui,\"update\");this.stopListening(this._balloon,\"change:visibleView\");e.editing.view.focus();this._removeFormView();this._balloon.remove(this.actionsView);this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor;const t=e.editing.view.document;let n=this._getSelectedLinkElement();let i=o();const r=()=>{const e=this._getSelectedLinkElement();const t=o();if(n&&!e||!n&&t!==i){this._hideUI()}else if(this._isUIVisible){this._balloon.updatePosition(this._getBalloonPositionData())}n=e;i=t};function o(){return t.selection.focus.getAncestors().reverse().find(e=>e.is(\"element\"))}this.listenTo(e.ui,\"update\",r);this.listenTo(this._balloon,\"change:visibleView\",r)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view;const t=e.document;const n=this._getSelectedLinkElement();const i=n?e.domConverter.mapViewToDom(n):e.domConverter.viewRangeToDom(t.selection.getFirstRange());return{target:i}}_getSelectedLinkElement(){const e=this.editor.editing.view;const t=e.document.selection;if(t.isCollapsed){return Pl(t.getFirstPosition())}else{const n=t.getFirstRange().getTrimmed();const i=Pl(n.start);const r=Pl(n.end);if(!i||i!=r){return null}if(e.createRangeIn(i).getTrimmed().isEqual(n)){return i}else{return null}}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{if(e.markers.has(Ol)){t.updateMarker(Ol,{range:e.document.selection.getFirstRange()})}else{t.addMarker(Ol,{usingOperation:false,affectsData:false,range:e.document.selection.getFirstRange()})}})}_hideFakeVisualSelection(){const e=this.editor.model;if(e.markers.has(Ol)){e.change(e=>{e.removeMarker(Ol)})}}}function Pl(e){return e.getAncestors().find(e=>Ci(e))}class Ml extends ve[\"a\"]{static get requires(){return[Fi,Il]}static get pluginName(){return\"Link\"}}var Rl=n(198);var Nl=n(175);var jl=n(83);class Dl{constructor(e,t={}){this.namespaces=t.namespaces||[];this._domParser=new DOMParser;this._domConverter=new jl[\"a\"](e,{blockFillerMode:\"nbsp\"});this._htmlWriter=new Nl[\"a\"]}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t,{keepOriginalCase:true})}_toDom(e){const t=this.namespaces.map(e=>`xmlns:${e}=\"nsp\"`).join(\" \");e=`<xml ${t}>${e}</xml>`;const n=this._domParser.parseFromString(e,\"text/xml\");const i=n.querySelector(\"parsererror\");if(i){throw new Error(\"Parse error - \"+i.textContent)}const r=n.createDocumentFragment();const o=n.documentElement.childNodes;while(o.length>0){r.appendChild(o[0])}return r}}class Ll{static get safeXmlCharactersEntities(){return{tagOpener:\"&laquo;\",tagCloser:\"&raquo;\",doubleQuote:\"&uml;\",realDoubleQuote:\"&quot;\"}}static get safeBadBlackboardCharacters(){return{ltElement:\"«mo»<«/mo»\",gtElement:\"«mo»>«/mo»\",ampElement:\"«mo»&«/mo»\"}}static get safeGoodBlackboardCharacters(){return{ltElement:\"«mo»§lt;«/mo»\",gtElement:\"«mo»§gt;«/mo»\",ampElement:\"«mo»§amp;«/mo»\"}}static get xmlCharacters(){return{id:\"xmlCharacters\",tagOpener:\"<\",tagCloser:\">\",doubleQuote:'\"',ampersand:\"&\",quote:\"'\"}}static get safeXmlCharacters(){return{id:\"safeXmlCharacters\",tagOpener:\"«\",tagCloser:\"»\",doubleQuote:\"¨\",ampersand:\"§\",quote:\"`\",realDoubleQuote:\"¨\"}}}class Bl{static isMathmlInAttribute(e,t){const n=\"['\\\"][\\\\s]*=[\\\\s]*[\\\\w-]+\";const i=\"\\\"[^\\\"]*\\\"|'[^']*'\";const r=`[\\\\s]*(${i})[\\\\s]*=[\\\\s]*[\\\\w-]+[\\\\s]*`;const o=`('${r}')*`;const s=`^${n}${o}[\\\\s]+gmi<`;const a=new RegExp(s);const c=e.substring(0,t);const l=c.split(\"\").reverse().join(\"\");const d=a.test(l);return d}static safeXmlDecode(e){let{tagOpener:t}=Ll.safeXmlCharactersEntities;let{tagCloser:n}=Ll.safeXmlCharactersEntities;let{doubleQuote:i}=Ll.safeXmlCharactersEntities;let{realDoubleQuote:r}=Ll.safeXmlCharactersEntities;e=e.split(t).join(Ll.safeXmlCharacters.tagOpener);e=e.split(n).join(Ll.safeXmlCharacters.tagCloser);e=e.split(i).join(Ll.safeXmlCharacters.doubleQuote);e=e.split(r).join(Ll.safeXmlCharacters.realDoubleQuote);const{ltElement:o}=Ll.safeBadBlackboardCharacters;const{gtElement:s}=Ll.safeBadBlackboardCharacters;const{ampElement:a}=Ll.safeBadBlackboardCharacters;if(\"_wrs_blackboard\"in window&&window._wrs_blackboard){e=e.split(o).join(Ll.safeGoodBlackboardCharacters.ltElement);e=e.split(s).join(Ll.safeGoodBlackboardCharacters.gtElement);e=e.split(a).join(Ll.safeGoodBlackboardCharacters.ampElement)}({tagOpener:t}=Ll.safeXmlCharacters);({tagCloser:n}=Ll.safeXmlCharacters);({doubleQuote:i}=Ll.safeXmlCharacters);({realDoubleQuote:r}=Ll.safeXmlCharacters);const{ampersand:c}=Ll.safeXmlCharacters;const{quote:l}=Ll.safeXmlCharacters;e=e.split(t).join(Ll.xmlCharacters.tagOpener);e=e.split(n).join(Ll.xmlCharacters.tagCloser);e=e.split(i).join(Ll.xmlCharacters.doubleQuote);e=e.split(c).join(Ll.xmlCharacters.ampersand);e=e.split(l).join(Ll.xmlCharacters.quote);let d=\"\";let u=null;for(let t=0;t<e.length;t+=1){const n=e.charAt(t);if(u==null){if(n===\"$\"){u=\"\"}else{d+=n}}else if(n===\";\"){d+=`&${u}`;u=null}else if(n.match(/([a-zA-Z0-9#._-] | '-')/)){u+=n}else{d+=`$${u}`;u=null;t-=1}}return d}static safeXmlEncode(e){const{tagOpener:t}=Ll.xmlCharacters;const{tagCloser:n}=Ll.xmlCharacters;const{doubleQuote:i}=Ll.xmlCharacters;const{ampersand:r}=Ll.xmlCharacters;const{quote:o}=Ll.xmlCharacters;e=e.split(t).join(Ll.safeXmlCharacters.tagOpener);e=e.split(n).join(Ll.safeXmlCharacters.tagCloser);e=e.split(i).join(Ll.safeXmlCharacters.doubleQuote);e=e.split(r).join(Ll.safeXmlCharacters.ampersand);e=e.split(o).join(Ll.safeXmlCharacters.quote);return e}static mathMLEntities(e){let t=\"\";for(let n=0;n<e.length;n+=1){const i=e.charAt(n);if(e.codePointAt(n)>128){t+=`&#${e.codePointAt(n)};`;if(e.codePointAt(n)>65535){n+=1}}else if(i===\"&\"){const r=e.indexOf(\";\",n+1);if(r>=0){const i=document.createElement(\"span\");i.innerHTML=e.substring(n,r+1);t+=`&#${ql.fixedCharCodeAt(i.textContent||i.innerText,0)};`;n=r}else{t+=i}}else{t+=i}}return t}static addCustomEditorClassAttribute(e,t){let n=\"\";const i=e.indexOf(\"<math\");if(i===0){const r=e.indexOf(\">\");if(e.indexOf(\"class\")===-1){n=`${e.substr(i,r)} class=\"wrs_${t}\">`;n+=e.substr(r+1,e.length);return n}}return e}static removeCustomEditorClassAttribute(e,t){if(e.indexOf(\"class\")===-1||e.indexOf(`wrs_${t}`)===-1){return e}if(e.indexOf(`class=\"wrs_${t}\"`)!==-1){return e.replace(`class=\"wrs_${t}\"`,\"\")}return e.replace(`wrs_${t}`,\"\")}static addAnnotation(e,t,n){const i=e.indexOf(\"<annotation\");let r=\"\";if(i!==-1){const i=e.indexOf(\"</semantics>\");r=`${e.substring(0,i)}<annotation encoding=\"${n}\">${t}</annotation>${e.substring(i)}`}else if(Bl.isEmpty(e)){const i=e.indexOf(\"/>\");const o=e.indexOf(\">\");const s=o===i?i:o;r=`${e.substring(0,s)}><semantics><annotation encoding=\"${n}\">${t}</annotation></semantics></math>`}else{const i=e.indexOf(\">\")+1;const o=e.lastIndexOf(\"</math>\");const s=e.substring(i,o);r=`${e.substring(0,i)}<semantics>${s}<annotation encoding=\"${n}\">${t}</annotation></semantics></math>`}return r}static removeAnnotation(e,t){let n=e;const i=`<annotation encoding=\"${t}\">`;const r=\"</annotation>\";const o=e.indexOf(i);if(o!==-1){let t=false;let i=e.indexOf(\"<annotation\");while(i!==-1){if(i!==o){t=true}i=e.indexOf(\"<annotation\",i+1)}if(t){const t=e.indexOf(r,o);const i=t+r.length;const s=e.substring(0,o);n=s+e.substring(i)}else{n=Bl.removeSemantics(e)}}return n}static removeSemantics(e){const t=\"</math>\";const n=\"<semantics>\";const i=\"<annotation\";let r=e;const o=e.indexOf(n);if(o!==-1){const s=e.indexOf(i,o+n.length);if(s!==-1){r=e.substring(0,o)+e.substring(o+n.length,s)+t}}return r}static removeSemanticsOcurrences(e,t=Ll.xmlCharacters){const n=`${t.tagOpener}math`;const i=`${t.tagOpener}/math${t.tagCloser}`;const r=`/${t.tagCloser}`;const{tagCloser:o}=t;const s=`${t.tagOpener}semantics${t.tagCloser}`;const a=`${t.tagOpener}annotation encoding=`;let c=\"\";let l=e.indexOf(n);let d=0;while(l!==-1){c+=e.substring(d,l);const t=e.indexOf(i,l);const u=e.indexOf(r,l);const h=e.indexOf(o,l);if(t!==-1){d=t}else if(u===h-1){d=u}const f=e.indexOf(s,l);if(f!==-1){const t=e.substring(l,f);const r=e.indexOf(a,l);if(r!==-1){const o=f+s.length;const a=e.substring(o,r);c+=t+a+i;l=e.indexOf(n,l+n.length);d+=i.length}else{d=l;l=e.indexOf(n,l+n.length)}}else{d=l;l=e.indexOf(n,l+n.length)}}c+=e.substring(d,e.length);return c}static containClass(e,t){const n=e.indexOf(\"class\");if(n===-1){return false}const i=e.indexOf(\">\",n);const r=e.substring(n,i);if(r.indexOf(t)!==-1){return true}return false}static isEmpty(e){const t=\">\";const n=\"/>\";const i=e.indexOf(t);const r=e.indexOf(n);let o=false;if(r!==-1){if(r===i-1){o=true}}if(!o){const t=new RegExp(\"</(.+:)?math>\");const n=t.exec(e);if(n){o=i+1===n.index}}return o}static encodeProperties(e){const t=/\\w+=\".*?\"/g;const n=e=>{const t=e.indexOf('\"');const n=e.substring(t+1,e.length-1);const i=ql.htmlEntities(n);const r=`${e.substring(0,t+1)}${i}\"`;return r};const i=e.replace(t,n);return i}}class Fl{static addConfiguration(e){Object.assign(Fl.properties,e)}static get properties(){return Fl._properties}static set properties(e){Fl._properties=e}static get(e){if(!Object.prototype.hasOwnProperty.call(Fl.properties,e)){if(Object.prototype.hasOwnProperty.call(Fl.properties,\"_wrs_conf_\")){return Fl.properties[`_wrs_conf_${e}`]}return false}return Fl.properties[e]}static set(e,t){Fl.properties[e]=t}static update(e,t){if(!Fl.get(e)){Fl.set(e,t)}else{const n=Object.assign(Fl.get(e),t);Fl.set(e,n)}}}Fl._properties={};class zl{constructor(){this.cache=[]}populate(e,t){this.cache[e]=t}get(e){if(Object.prototype.hasOwnProperty.call(this.cache,e)){return this.cache[e]}return false}}class Vl{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}fire(e,t){for(let n=0;n<this.listeners.length&&!t.cancelled;n+=1){if(this.listeners[n].eventName===e){this.listeners[n].callback(t)}}return t.defaultPrevented}static newListener(e,t){const n={};n.eventName=e;n.callback=t;return n}}class Ul{static get listeners(){return Ul._listeners}static addListener(e){Ul.listeners.add(e)}static fireEvent(e,t){Ul.listeners.fire(e,t)}static get parameters(){return Ul._parameters}static set parameters(e){Ul._parameters=e}static get servicePaths(){return Ul._servicePaths}static set servicePaths(e){Ul._servicePaths=e}static setServicePath(e,t){Ul.servicePaths[e]=t}static getServicePath(e){return Ul.servicePaths[e]}static get integrationPath(){return Ul._integrationPath}static set integrationPath(e){Ul._integrationPath=e}static getServerURL(){const e=window.location.href;const t=e.split(\"/\");const n=`${t[0]}//${t[2]}`;return n}static init(e){Ul.parameters=e;let t=Ul.createServiceURI(\"configurationjs\");let n=Ul.createServiceURI(\"createimage\");let i=Ul.createServiceURI(\"showimage\");let r=Ul.createServiceURI(\"getmathml\");let o=Ul.createServiceURI(\"service\");if(Ul.parameters.URI.indexOf(\"/\")===0){const e=Ul.getServerURL();t=e+t;i=e+i;n=e+n;r=e+r;o=e+o}Ul.setServicePath(\"configurationjs\",t);Ul.setServicePath(\"showimage\",i);Ul.setServicePath(\"createimage\",n);Ul.setServicePath(\"service\",o);Ul.setServicePath(\"getmathml\",r);Ul.setServicePath(\"configurationjs\",t);Ul.listeners.fire(\"onInit\",{})}static getUrl(e,t){const n=window.location.toString().substr(0,window.location.toString().lastIndexOf(\"/\")+1);const i=ql.createHttpRequest();if(i){if(typeof t===\"undefined\"||typeof t===\"undefined\"){i.open(\"GET\",e,false)}else if(e.substr(0,1)===\"/\"||e.substr(0,7)===\"http://\"||e.substr(0,8)===\"https://\"){i.open(\"POST\",e,false)}else{i.open(\"POST\",n+e,false)}if(typeof t!==\"undefined\"&&t){i.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded; charset=UTF-8\");i.send(ql.httpBuildQuery(t))}else{i.send(null)}return i.responseText}return\"\"}static getService(e,t,n){let i;if(n===true){const n=`${Ul.getServicePath(e)}?${t}`;i=Ul.getUrl(n)}else{const n=Ul.getServicePath(e);i=Ul.getUrl(n,t)}return i}static getServerLanguageFromService(e){if(e.indexOf(\".php\")!==-1){return\"php\"}if(e.indexOf(\".aspx\")!==-1){return\"aspx\"}if(e.indexOf(\"wirispluginengine\")!==-1){return\"ruby\"}return\"java\"}static createServiceURI(e){const t=Ul.serverExtension();return ql.concatenateUrl(Ul.parameters.URI,e)+t}static serverExtension(){if(Ul.parameters.server.indexOf(\"php\")!==-1){return\".php\"}if(Ul.parameters.server.indexOf(\"aspx\")!==-1){return\".aspx\"}return\"\"}}Ul._servicePaths={};Ul._integrationPath=\"\";Ul._listeners=new Vl;Ul._parameters={};class Hl{static get cache(){return Hl._cache}static set cache(e){Hl._cache=e}static getLatexFromMathML(e){const t=Bl.removeSemantics(e);const{cache:n}=Hl;const i={service:\"mathml2latex\",mml:t};const r=JSON.parse(Ul.getService(\"service\",i));let o=\"\";if(r.status===\"ok\"){o=r.result.text;const t=ql.htmlEntities(o);const i=Bl.addAnnotation(e,t,\"LaTeX\");n.populate(o,i)}return o}static getMathMLFromLatex(e,t){const n=Hl.cache;if(Hl.cache.get(e)){return Hl.cache.get(e)}const i={service:\"latex2mathml\",latex:e};if(t){i.saveLatex=\"\"}const r=JSON.parse(Ul.getService(\"service\",i));let o;if(r.status===\"ok\"){let t=r.result.text;t=t.split(\"\\r\").join(\"\").split(\"\\n\").join(\" \");if(t.indexOf(\"semantics\")===-1&&t.indexOf(\"annotation\")===-1){t=Bl.addAnnotation(t,e,\"LaTeX\");o=t}else{o=t}if(!n.get(e)){n.populate(e,t)}}else{o=`$$${e}$$`}return o}static parseMathmlToLatex(e,t){let n=\"\";const i=`${t.tagOpener}math`;const r=`${t.tagOpener}/math${t.tagCloser}`;const o=`${t.tagOpener}annotation encoding=${t.doubleQuote}LaTeX${t.doubleQuote}${t.tagCloser}`;const s=`${t.tagOpener}/annotation${t.tagCloser}`;let a=e.indexOf(i);let c=0;let l;let d;let u;while(a!==-1){n+=e.substring(c,a);c=e.indexOf(r,a);if(c===-1){c=e.length-1}else{c+=r.length}l=e.substring(a,c);d=l.indexOf(o);if(d!==-1){d+=o.length;u=l.indexOf(s);let e=l.substring(d,u);if(t===Ll.safeXmlCharacters){e=Bl.safeXmlDecode(e)}n+=`$$${e}$$`;Hl.cache.populate(e,l)}else{n+=l}a=e.indexOf(i,c)}n+=e.substring(c,e.length);return n}static getLatexFromTextNode(e,t,n){const i={open:\"$$\",close:\"$$\"};if(typeof n===\"undefined\"||n==null){n=i}let r=e;while(r.previousSibling&&r.previousSibling.nodeType===3){r=r.previousSibling}function o(e,t,i){let r=e.nodeValue.indexOf(i,t);while(r===-1){e=e.nextSibling;if(!e){return null}r=e.nodeValue?e.nodeValue.indexOf(n.close):-1}return{node:e,position:r}}function s(e,t,n,i){if(e===n){return t<=i}while(e&&e!==n){e=e.nextSibling}return e===n}let a;let c={node:r,position:0};const l=n.open.length;do{a=o(c.node,c.position,n.open);if(a==null||s(e,t,a.node,a.position)){return null}c=o(a.node,a.position+l,n.close);if(c==null){return null}c.position+=l}while(s(c.node,c.position,e,t));let d;if(a.node===c.node){d=a.node.nodeValue.substring(a.position+l,c.position-l)}else{const e=a.position+l;d=a.node.nodeValue.substring(e,a.node.nodeValue.length);let t=a.node;do{t=t.nextSibling;if(t===c.node){d+=c.node.nodeValue.substring(0,c.position-l)}else{d+=t.nodeValue?t.nodeValue:\"\"}}while(t!==c.node)}return{latex:d,startNode:a.node,startPosition:a.position,endNode:c.node,endPosition:c.position}}}Hl._cache=new zl;var Wl=n(264);class $l{constructor(){throw new Error(\"Static class StringManager can not be instantiated.\")}static get(e){let{language:t}=this;if(t&&t.length>2){t=t.slice(0,2)}if(!this.strings.hasOwnProperty(t)){console.warn(`Unknown language ${t} set in StringManager.`);t=\"en\"}if(!this.strings[t].hasOwnProperty(e)){console.warn(`Unknown key ${e} for language ${t} in StringManager.`);return e}return this.strings[t][e]}}$l.strings=Wl;$l.language=\"en\";class ql{static fireEvent(e,t){if(document.createEvent){const n=document.createEvent(\"HTMLEvents\");n.initEvent(t,true,true);return!e.dispatchEvent(n)}const n=document.createEventObject();return e.fireEvent(`on${t}`,n)}static addEvent(e,t,n){if(e.addEventListener){e.addEventListener(t,n,true)}else if(e.attachEvent){e.attachEvent(`on${t}`,n)}}static removeEvent(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,true)}else if(e.detachEvent){e.detachEvent(`on${t}`,n)}}static addElementEvents(e,t,n,i){if(t){ql.addEvent(e,\"dblclick\",e=>{const n=e||window.event;const i=n.srcElement?n.srcElement:n.target;t(i,n)})}if(n){ql.addEvent(e,\"mousedown\",e=>{const t=e||window.event;const i=t.srcElement?t.srcElement:t.target;n(i,t)})}if(i){ql.addEvent(e,\"mouseup\",e=>{const t=e||window.event;const n=t.srcElement?t.srcElement:t.target;i(n,t)})}}static addClass(e,t){if(!ql.containsClass(e,t)){e.className+=` ${t}`}}static containsClass(e,t){if(e==null||!(\"className\"in e)){return false}const n=e.className.split(\" \");for(let e=n.length-1;e>=0;e-=1){if(n[e]===t){return true}}return false}static removeClass(e,t){let n=\"\";const i=e.className.split(\" \");for(let e=0;e<i.length;e+=1){if(i[e]!==t){n+=`${i[e]} `}}e.className=n.trim()}static convertOldXmlinitialtextAttribute(e){const t=\"value=\";const n=e.indexOf(\"xmlinitialtext\");const i=e.indexOf(t,n);const r=e.charAt(i+t.length);const o=i+t.length+1;const s=e.indexOf(r,o);const a=e.substring(o,s);let c=a.split(\"«\").join(\"§lt;\");c=c.split(\"»\").join(\"§gt;\");c=c.split(\"&\").join(\"§\");c=c.split(\"¨\").join(\"§quot;\");e=e.split(a).join(c);return e}static createElement(e,t,n){if(t===undefined){t={}}if(n===undefined){n=document}let i;try{let r=`<${e}`;Object.keys(t).forEach(e=>{r+=` ${e}=\"${ql.htmlEntities(t[e])}\"`});r+=\">\";i=n.createElement(r)}catch(r){i=n.createElement(e);Object.keys(t).forEach(e=>{i.setAttribute(e,t[e])})}return i}static createObject(e,t){if(t===undefined){t=document}e=e.split(\"<applet \").join('<span wirisObject=\"WirisApplet\" ').split(\"<APPLET \").join('<span wirisObject=\"WirisApplet\" ');e=e.split(\"</applet>\").join(\"</span>\").split(\"</APPLET>\").join(\"</span>\");e=e.split(\"<param \").join('<br wirisObject=\"WirisParam\" ').split(\"<PARAM \").join('<br wirisObject=\"WirisParam\" ');e=e.split(\"</param>\").join(\"</br>\").split(\"</PARAM>\").join(\"</br>\");const n=ql.createElement(\"div\",{},t);n.innerHTML=e;function i(e){if(e.getAttribute&&e.getAttribute(\"wirisObject\")===\"WirisParam\"){const n={};for(let t=0;t<e.attributes.length;t+=1){if(e.attributes[t].nodeValue!==null){n[e.attributes[t].nodeName]=e.attributes[t].nodeValue}}const i=ql.createElement(\"param\",n,t);if(i.NAME){i.name=i.NAME;i.value=i.VALUE}i.removeAttribute(\"wirisObject\");e.parentNode.replaceChild(i,e)}else if(e.getAttribute&&e.getAttribute(\"wirisObject\")===\"WirisApplet\"){const n={};for(let t=0;t<e.attributes.length;t+=1){if(e.attributes[t].nodeValue!==null){n[e.attributes[t].nodeName]=e.attributes[t].nodeValue}}const r=ql.createElement(\"applet\",n,t);r.removeAttribute(\"wirisObject\");for(let t=0;t<e.childNodes.length;t+=1){i(e.childNodes[t]);if(e.childNodes[t].nodeName.toLowerCase()===\"param\"){r.appendChild(e.childNodes[t]);t-=1}}e.parentNode.replaceChild(r,e)}else{for(let t=0;t<e.childNodes.length;t+=1){i(e.childNodes[t])}}}i(n);return n.firstChild}static createObjectCode(e){if(typeof e===\"undefined\"||e===null){return null}if(e.nodeType===1){let t=`<${e.tagName}`;for(let n=0;n<e.attributes.length;n+=1){if(e.attributes[n].specified){t+=` ${e.attributes[n].name}=\"${ql.htmlEntities(e.attributes[n].value)}\"`}}if(e.childNodes.length>0){t+=\">\";for(let n=0;n<e.childNodes.length;n+=1){t+=ql.createObject(e.childNodes[n])}t+=`</${e.tagName}>`}else if(e.nodeName===\"DIV\"||e.nodeName===\"SCRIPT\"){t+=`></${e.tagName}>`}else{t+=\"/>\"}return t}if(e.nodeType===3){return ql.htmlEntities(e.nodeValue)}return\"\"}static concatenateUrl(e,t){let n=\"\";if(e.indexOf(\"/\")!==e.length&&t.indexOf(\"/\")!==0){n=\"/\"}return(e+n+t).replace(/([^:]\\/)\\/+/g,\"$1\")}static htmlEntities(e){return e.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\").split('\"').join(\"&quot;\")}static htmlEntitiesDecode(e){const t=document.createElement(\"textarea\");t.innerHTML=e;return t.value}static createHttpRequest(){const e=window.location.toString().substr(0,window.location.toString().lastIndexOf(\"/\")+1);if(e.substr(0,7)===\"file://\"){throw $l.get(\"exception_cross_site\")}if(typeof XMLHttpRequest!==\"undefined\"){return new XMLHttpRequest}try{return new ActiveXObject(\"Msxml2.XMLHTTP\")}catch(e){try{return new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){return null}}}static httpBuildQuery(e){let t=\"\";Object.keys(e).forEach(n=>{if(e[n]!=null){t+=`${ql.urlEncode(n)}=${ql.urlEncode(e[n])}&`}});if(t.substring(t.length-1)===\"&\"){t=t.substring(0,t.length-1)}return t}static propertiesToString(e){const t=[];Object.keys(e).forEach(n=>{if(Object.prototype.hasOwnProperty.call(e,n)){t.push(n)}});const n=t.length;for(let e=0;e<n;e+=1){for(let i=e+1;i<n;i+=1){const n=t[e];const r=t[i];if(ql.compareStrings(n,r)>0){t[e]=r;t[i]=n}}}let i=\"\";for(let r=0;r<n;r+=1){const n=t[r];i+=n;i+=\"=\";let o=e[n];o=o.replace(\"\\\\\",\"\\\\\\\\\");o=o.replace(\"\\n\",\"\\\\n\");o=o.replace(\"\\r\",\"\\\\r\");o=o.replace(\"\\t\",\"\\\\t\");i+=o;i+=\"\\n\"}return i}static compareStrings(e,t){let n;const i=e.length;const r=t.length;const o=i>r?r:i;for(n=0;n<o;n+=1){const i=ql.fixedCharCodeAt(e,n)-ql.fixedCharCodeAt(t,n);if(i!==0){return i}}return e.length-t.length}static fixedCharCodeAt(e,t){t=t||0;const n=e.charCodeAt(t);let i;let r;if(n>=55296&&n<=56319){i=n;r=e.charCodeAt(t+1);if(Number.isNaN(r)){throw $l.get(\"exception_high_surrogate\")}return(i-55296)*1024+(r-56320)+65536}if(n>=56320&&n<=57343){return false}return n}static urlToAssArray(e){let t;t=e.indexOf(\"?\");if(t>0){const n=e.substring(t+1);const i=n.split(\"&\");const r={};for(t=0;t<i.length;t+=1){const e=i[t];const n=e.split(\"=\");if(n.length>1){r[n[0]]=decodeURIComponent(n[1].replace(/\\+/g,\" \"))}}return r}return{}}static urlEncode(e){let t=\"\";t=encodeURIComponent(e);return t}static getWIRISImageOutput(e,t,n){const i=ql.createObject(e);if(i){if(i.className===Fl.get(\"imageClassName\")||i.getAttribute(Fl.get(\"imageMathmlAttribute\"))){if(!t){return e}const r=i.getAttribute(Fl.get(\"imageMathmlAttribute\"));let o=Bl.safeXmlDecode(r);if(!Fl.get(\"saveHandTraces\")){o=Bl.removeAnnotation(o,\"application/json\")}if(o==null){o=i.getAttribute(\"alt\")}if(n){const e=Bl.safeXmlEncode(o);return e}return o}}return e}static getNodeLength(e){const t={IMG:1,BR:1};if(e.nodeType===3){return e.nodeValue.length}if(e.nodeType===1){let n=t[e.nodeName.toUpperCase()];if(n===undefined){n=0}for(let t=0;t<e.childNodes.length;t+=1){n+=ql.getNodeLength(e.childNodes[t])}return n}return 0}static getSelectedItem(e,t,n){let i;if(t){i=e.contentWindow;i.focus()}else{i=window;e.focus()}if(document.selection&&!n){const n=i.document.selection.createRange();if(n.parentElement){if(n.htmlText.length>0){if(n.text.length===0){return ql.getSelectedItem(e,t,true)}return null}i.document.execCommand(\"InsertImage\",false,\"#\");let r=n.parentElement();if(r.nodeName.toUpperCase()!==\"IMG\"){n.pasteHTML('<span id=\"wrs_openEditorWindow_temporalObject\"></span>');r=i.document.getElementById(\"wrs_openEditorWindow_temporalObject\")}let o;let s;if(r.nextSibling&&r.nextSibling.nodeType===3){o=r.nextSibling;s=0}else if(r.previousSibling&&r.previousSibling.nodeType===3){o=r.previousSibling;s=o.nodeValue.length}else{o=i.document.createTextNode(\"\");r.parentNode.insertBefore(o,r);s=0}r.parentNode.removeChild(r);return{node:o,caretPosition:s}}if(n.length>1){return null}return{node:n.item(0)}}if(i.getSelection){let e;const t=i.getSelection();try{e=t.getRangeAt(0)}catch(t){e=i.document.createRange()}const n=e.startContainer;if(n.nodeType===3){return{node:n,caretPosition:e.startOffset}}if(n!==e.endContainer){return null}if(n.nodeType===1){const t=e.startOffset;if(n.childNodes[t]){return{node:n.childNodes[t]}}}}return null}static getSelectedItemOnTextarea(e){const t=document.createTextNode(e.value);const n=Hl.getLatexFromTextNode(t,e.selectionStart);if(n===null){return null}return{node:t,caretPosition:e.selectionStart,startPosition:n.startPosition,endPosition:n.endPosition}}static getElementsByNameFromString(e,t,n){const i=[];e=e.toLowerCase();t=t.toLowerCase();let r=e.indexOf(`<${t} `);while(r!==-1){let o;if(n){o=\">\"}else{o=`</${t}>`}let s=e.indexOf(o,r);if(s!==-1){s+=o.length;i.push({start:r,end:s})}else{s=r+1}r=e.indexOf(`<${t} `,s)}return i}static decode64(e){const t=\"+\".charCodeAt(0);const n=\"/\".charCodeAt(0);const i=\"0\".charCodeAt(0);const r=\"a\".charCodeAt(0);const o=\"A\".charCodeAt(0);const s=\"-\".charCodeAt(0);const a=\"_\".charCodeAt(0);const c=e.charCodeAt(0);if(c===t||c===s){return 62}if(c===n||c===a){return 63}if(c<i){return-1}if(c<i+10){return c-i+26+26}if(c<o+26){return c-o}if(c<r+26){return c-r+26}return null}static b64ToByteArray(e,t){let n;if(e.length%4>0){throw new Error(\"Invalid string. Length must be a multiple of 4\")}const i=[];let r;let o;if(!t){if(e.charAt(e.length-2)===\"=\"){o=2}else if(e.charAt(e.length-1)===\"=\"){o=1}else{o=0}r=o>0?e.length-4:e.length}else{r=t}let s;for(s=0;s<r;s+=4){n=ql.decode64(e.charAt(s))<<18|ql.decode64(e.charAt(s+1))<<12|ql.decode64(e.charAt(s+2))<<6|ql.decode64(e.charAt(s+3));i.push(n>>16&255);i.push(n>>8&255);i.push(n&255)}if(o){if(o===2){n=ql.decode64(e.charAt(s))<<2|ql.decode64(e.charAt(s+1))>>4;i.push(n&255)}else if(o===1){n=ql.decode64(e.charAt(s))<<10|ql.decode64(e.charAt(s+1))<<4|ql.decode64(e.charAt(s+2))>>2;i.push(n>>8&255);i.push(n&255)}}return i}static readInt32(e){if(e.length<4){return false}const t=e.splice(0,4);return t[0]<<24|t[1]<<16|t[2]<<8|t[3]<<0}static readByte(e){return e.shift()<<0}static readBytes(e,t,n){return e.splice(t,n)}static updateTextArea(e,t){if(e&&t){e.focus();if(e.selectionStart!=null){const{selectionEnd:n}=e;const i=e.value.substring(0,e.selectionStart);const r=e.value.substring(n,e.value.length);e.value=i+t+r;e.selectionEnd=n+t.length}else{const e=document.selection.createRange();e.text=t}}}static updateExistingTextOnTextarea(e,t,n,i){e.focus();const r=e.value.substring(0,n);e.value=r+t+e.value.substring(i,e.value.length);e.selectionEnd=n+t.length}static addArgument(e,t,n){let i;if(e.indexOf(\"?\")>0){i=\"&\"}else{i=\"?\"}return`${e+i+t}=${n}`}}class Yl{static removeImgDataAttributes(e){const t=[];const{attributes:n}=e;Object.keys(n).forEach(e=>{const i=n[e];if(i.name.indexOf(\"data-\")===0){t.push(i.name)}});t.forEach(t=>{e.removeAttribute(t)})}static clone(e,t){const n=Fl.get(\"imageCustomEditorName\");if(!e.hasAttribute(n)){t.removeAttribute(n)}const i=Fl.get(\"imageMathmlAttribute\");const r=[i,n,\"alt\",\"height\",\"width\",\"style\",\"src\",\"role\"];r.forEach(n=>{const i=e.getAttribute(n);if(i){t.setAttribute(n,i)}})}static setImgSize(e,t,n){let i;let r;let o;let s;if(n){if(Fl.get(\"imageFormat\")===\"svg\"){if(Fl.get(\"saveMode\")!==\"base64\"){i=Yl.getMetricsFromSvgString(t)}else{r=e.src.substr(e.src.indexOf(\"base64,\")+7,e.src.length);s=\"\";o=ql.b64ToByteArray(r,r.length);for(let e=0;e<o.length;e+=1){s+=String.fromCharCode(o[e])}i=Yl.getMetricsFromSvgString(s)}}else{r=e.src.substr(e.src.indexOf(\"base64,\")+7,e.src.length);o=ql.b64ToByteArray(r,88);i=Yl.getMetricsFromBytes(o)}}else{i=ql.urlToAssArray(t)}let a=i.cw;if(!a){return}let c=i.ch;let l=i.cb;const{dpi:d}=i;if(d){a=a*96/d;c=c*96/d;l=l*96/d}e.width=a;e.height=c;e.style.verticalAlign=`-${c-l}px`}static fixAfterResize(e){e.removeAttribute(\"style\");e.removeAttribute(\"width\");e.removeAttribute(\"height\");e.style.maxWidth=\"none\";if(e.src.indexOf(\"data:image\")!==-1){if(Fl.get(\"imageFormat\")===\"svg\"){const t=decodeURIComponent(e.src.substring(32,e.src.length));Yl.setImgSize(e,t,true)}else{const t=e.src.substring(22,e.src.length);Yl.setImgSize(e,t,true)}}else{Yl.setImgSize(e,e.src)}}static getMetricsFromSvgString(e){let t=e.indexOf('height=\"');let n=e.indexOf('\"',t+8,e.length);const i=e.substring(t+8,n);t=e.indexOf('width=\"');n=e.indexOf('\"',t+7,e.length);const r=e.substring(t+7,n);t=e.indexOf('wrs:baseline=\"');n=e.indexOf('\"',t+14,e.length);const o=e.substring(t+14,n);if(typeof r!==\"undefined\"){const e=[];e.cw=r;e.ch=i;if(typeof o!==\"undefined\"){e.cb=o}return e}return[]}static getMetricsFromBytes(e){ql.readBytes(e,0,8);let t;let n;let i;let r;let o;while(e.length>=4){i=ql.readInt32(e);if(i===1229472850){t=ql.readInt32(e);n=ql.readInt32(e);ql.readInt32(e);ql.readByte(e)}else if(i===1650545477){r=ql.readInt32(e)}else if(i===1883789683){o=ql.readInt32(e);o=Math.round(o/39.37);ql.readInt32(e);ql.readByte(e)}ql.readInt32(e)}if(typeof t!==\"undefined\"){const e=[];e.cw=t;e.ch=n;e.dpi=o;if(r){e.cb=r}return e}return[]}}class Jl{static get cache(){return Jl._cache}static set cache(e){Jl._cache=e}static mathMLToAccessible(e,t,n){if(typeof t===\"undefined\"){t=\"en\"}if(Bl.containClass(e,\"wrs_chemistry\")){n.mode=\"chemistry\"}let i=\"\";if(Jl.cache.get(e)){i=Jl.cache.get(e)}else{n.service=\"mathml2accessible\";n.lang=t;const r=JSON.parse(Ul.getService(\"service\",n));if(r.status!==\"error\"){i=r.result.text;Jl.cache.populate(e,i)}else{i=$l.get(\"error_convert_accessibility\")}}return i}}Jl._cache=new zl;var Gl=n(353);class Kl{static mathmlToImgObject(e,t,n,i){const r=e.createElement(\"img\");r.align=\"middle\";r.style.maxWidth=\"none\";const o=n||{};o.mml=t;o.lang=i;o.metrics=\"true\";o.centerbaseline=\"false\";if(Fl.get(\"saveMode\")===\"base64\"&&Fl.get(\"base64savemode\")===\"default\"){o.base64=true}r.className=Fl.get(\"imageClassName\");if(t.indexOf('class=\"')!==-1){let e=t.substring(t.indexOf('class=\"')+'class=\"'.length,t.length);e=e.substring(0,e.indexOf('\"'));e=e.substring(4,e.length);r.setAttribute(Fl.get(\"imageCustomEditorName\"),e)}if(Fl.get(\"wirisPluginPerformance\")&&(Fl.get(\"saveMode\")===\"xml\"||Fl.get(\"saveMode\")===\"safeXml\")){let e=JSON.parse(Kl.createShowImageSrc(o,i));if(e.status===\"warning\"){try{e=JSON.parse(Ul.getService(\"showimage\",o))}catch(e){return null}}({result:e}=e);if(e.format===\"png\"){r.src=`data:image/png;base64,${e.content}`}else{r.src=`data:image/svg+xml;charset=utf8,${ql.urlEncode(e.content)}`}r.setAttribute(Fl.get(\"imageMathmlAttribute\"),Bl.safeXmlEncode(t));Yl.setImgSize(r,e.content,true);if(Fl.get(\"enableAccessibility\")){if(typeof e.alt===\"undefined\"){r.alt=Jl.mathMLToAccessible(t,i,o)}else{r.alt=e.alt}}}else{const e=Kl.createImageSrc(t,o);r.setAttribute(Fl.get(\"imageMathmlAttribute\"),Bl.safeXmlEncode(t));r.src=e;Yl.setImgSize(r,e,Fl.get(\"saveMode\")===\"base64\"&&Fl.get(\"base64savemode\")===\"default\");if(Fl.get(\"enableAccessibility\")){r.alt=Jl.mathMLToAccessible(t,i,o)}}if(typeof Kl.observer!==\"undefined\"){Kl.observer.observe(r)}r.setAttribute(\"role\",\"math\");return r}static createImageSrc(e,t){if(Fl.get(\"saveMode\")===\"base64\"&&Fl.get(\"base64savemode\")===\"default\"){t.base64=true}let n=Ul.getService(\"createimage\",t);if(n.indexOf(\"@BASE@\")!==-1){const e=Ul.getServicePath(\"createimage\").split(\"/\");e.pop();n=n.split(\"@BASE@\").join(e.join(\"/\"))}return n}static initParse(e,t){e=Kl.initParseSaveMode(e,t);return Kl.initParseEditMode(e)}static initParseSaveMode(e,t){if(Fl.get(\"saveMode\")){e=Hl.parseMathmlToLatex(e,Ll.safeXmlCharacters);e=Hl.parseMathmlToLatex(e,Ll.xmlCharacters);e=Kl.parseMathmlToImg(e,Ll.safeXmlCharacters,t);e=Kl.parseMathmlToImg(e,Ll.xmlCharacters,t);if(Fl.get(\"saveMode\")===\"base64\"&&Fl.get(\"base64savemode\")===\"image\"){e=Kl.codeImgTransform(e,\"base642showimage\")}}return e}static initParseEditMode(e){if(Fl.get(\"parseModes\").indexOf(\"latex\")!==-1){const t=ql.getElementsByNameFromString(e,\"img\",true);const n='encoding=\"LaTeX\">';let i=0;for(let r=0;r<t.length;r+=1){const o=e.substring(t[r].start+i,t[r].end+i);if(o.indexOf(` class=\"${Fl.get(\"imageClassName\")}\"`)!==-1){let s=` ${Fl.get(\"imageMathmlAttribute\")}=\"`;let a=o.indexOf(s);if(a===-1){s=' alt=\"';a=o.indexOf(s)}if(a!==-1){a+=s.length;const c=o.indexOf('\"',a);const l=Bl.safeXmlDecode(o.substring(a,c));let d=l.indexOf(n);if(d!==-1){d+=n.length;const o=l.indexOf(\"</annotation>\",d);const s=l.substring(d,o);const a=`$$${ql.htmlEntitiesDecode(s)}$$`;const c=e.substring(0,t[r].start+i);const u=e.substring(t[r].end+i);e=c+a+u;i+=a.length-(t[r].end-t[r].start)}}}}}return e}static endParse(e){const t=Kl.endParseEditMode(e);const n=Kl.endParseSaveMode(t);return n}static endParseEditMode(e){if(Fl.get(\"parseModes\").indexOf(\"latex\")!==-1){let t=\"\";let n=0;let i=e.indexOf(\"$$\");while(i!==-1){t+=e.substring(n,i);n=e.indexOf(\"$$\",i+2);if(n!==-1){const r=e.substring(i+2,n);const o=ql.htmlEntitiesDecode(r);let s=Hl.getMathMLFromLatex(o,true);if(!Fl.get(\"saveHandTraces\")){s=Bl.removeAnnotation(s,\"application/json\")}t+=s;n+=2}else{t+=\"$$\";n=i+2}i=e.indexOf(\"$$\",n)}t+=e.substring(n,e.length);e=t}return e}static endParseSaveMode(e){if(Fl.get(\"saveMode\")){if(Fl.get(\"saveMode\")===\"safeXml\"){e=Kl.codeImgTransform(e,\"img2mathml\")}else if(Fl.get(\"saveMode\")===\"xml\"){e=Kl.codeImgTransform(e,\"img2mathml\")}else if(Fl.get(\"saveMode\")===\"base64\"&&Fl.get(\"base64savemode\")===\"image\"){e=Kl.codeImgTransform(e,\"img264\")}}return e}static createShowImageSrc(e,t){const n=[];const i=[\"mml\",\"color\",\"centerbaseline\",\"zoom\",\"dpi\",\"fontSize\",\"fontFamily\",\"defaultStretchy\",\"backgroundColor\",\"format\"];i.forEach(t=>{const r=i[t];if(typeof e[r]!==\"undefined\"){n[r]=e[r]}});const r={};Object.keys(e).forEach(t=>{if(t!==\"mml\"){r[t]=e[t]}});r.formula=com.wiris.js.JsPluginTools.md5encode(ql.propertiesToString(n));r.lang=typeof t===\"undefined\"?\"en\":t;r.version=Fl.get(\"version\");const o=Ul.getService(\"showimage\",ql.httpBuildQuery(r),true);return o}static codeImgTransform(e,t){let n=\"\";let i=0;const r=/<img/gi;const o=r.source.length;while(r.test(e)){const s=r.lastIndex-o;n+=e.substring(i,s);let a=s+1;while(a<e.length&&i<=s){const t=e.charAt(a);if(t==='\"'||t===\"'\"){const n=e.indexOf(t,a+1);if(n===-1){a=e.length}else{a=n}}else if(t===\">\"){i=a+1}a+=1}if(i<s){n+=e.substring(s,e.length);return n}let c=e.substring(s,i);const l=ql.createObject(c);let d=l.getAttribute(Fl.get(\"imageMathmlAttribute\"));let u;let h;if(t===\"base642showimage\"){if(d==null){d=l.getAttribute(\"alt\")}d=Bl.safeXmlDecode(d);c=Kl.mathmlToImgObject(document,d,null,null);n+=ql.createObjectCode(c)}else if(t===\"img2mathml\"){if(Fl.get(\"saveMode\")){if(Fl.get(\"saveMode\")===\"safeXml\"){u=true;h=true}else if(Fl.get(\"saveMode\")===\"xml\"){u=true;h=false}}n+=ql.getWIRISImageOutput(c,u,h)}else if(t===\"img264\"){if(d===null){d=l.getAttribute(\"alt\")}d=Bl.safeXmlDecode(d);const e={};e.base64=\"true\";c=Kl.mathmlToImgObject(document,d,e,null);Yl.setImgSize(c,c.src,true);n+=ql.createObjectCode(c)}}n+=e.substring(i,e.length);return n}static parseMathmlToImg(e,t,n){let i=\"\";const r=`${t.tagOpener}math`;const o=`${t.tagOpener}/math${t.tagCloser}`;let s=e.indexOf(r);let a=0;while(s!==-1){i+=e.substring(a,s);const c=e.indexOf(Fl.get(\"imageMathmlAttribute\"));a=e.indexOf(o,s);if(a===-1){a=e.length-1}else if(c!==-1){a+=e.indexOf(\"/>\",s)}else{a+=o.length}if(!Bl.isMathmlInAttribute(e,s)&&c===-1){let r=e.substring(s,a);r=t.id===Ll.safeXmlCharacters.id?Bl.safeXmlDecode(r):Bl.mathMLEntities(r);i+=ql.createObjectCode(Kl.mathmlToImgObject(document,r,null,n))}else{i+=e.substring(s,a)}s=e.indexOf(r,a)}i+=e.substring(a,e.length);return i}}if(typeof MutationObserver!==\"undefined\"){const e=new MutationObserver(e=>{e.forEach(e=>{if(e.oldValue===Fl.get(\"imageClassName\")&&e.attributeName===\"class\"&&e.target.className.indexOf(Fl.get(\"imageClassName\"))===-1){e.target.className=Fl.get(\"imageClassName\")}})});Kl.observer=Object.create(e);Kl.observer.Config={attributes:true,attributeOldValue:true};Kl.observer.observe=function e(t){Object.getPrototypeOf(this).observe(t,this.Config)}}class Xl{constructor(){this.isContentChanged=false;this.waitingForChanges=false}setIsContentChanged(e){this.isContentChanged=e}getIsContentChanged(){return this.isContentChanged}setWaitingForChanges(e){this.waitingForChanges=e}caretPositionChanged(e){}clipboardChanged(e){}contentChanged(e){if(this.waitingForChanges===true&&this.isContentChanged===false){this.isContentChanged=true}}styleChanged(e){}transformationReceived(e){}}class Ql{constructor(e){this.editorAttributes={};if(\"editorAttributes\"in e){this.editorAttributes=e.editorAttributes}else{throw new Error(\"ContentManager constructor error: editorAttributes property missed.\")}this.customEditors=null;if(\"customEditors\"in e){this.customEditors=e.customEditors}this.environment={};if(\"environment\"in e){this.environment=e.environment}else{throw new Error(\"ContentManager constructor error: environment property missed\")}this.language=\"\";if(\"language\"in e){this.language=e.language}else{throw new Error(\"ContentManager constructor error: language property missed\")}this.editorListener=new Xl;this.editor=null;this.ua=navigator.userAgent.toLowerCase();this.deviceProperties={};this.deviceProperties.isAndroid=this.ua.indexOf(\"android\")>-1;this.deviceProperties.isIOS=this.ua.indexOf(\"ipad\")>-1||this.ua.indexOf(\"iphone\")>-1;this.toolbar=null;this.modalDialogInstance=null;this.listeners=new Vl;this.mathML=null;this.isNewElement=true;this.integrationModel=null}addListener(e){this.listeners.add(e)}setIntegrationModel(e){this.integrationModel=e}setModalDialogInstance(e){this.modalDialogInstance=e}insert(){this.updateTitle(this.modalDialogInstance);this.insertEditor(this.modalDialogInstance)}insertEditor(){if(Ql.isEditorLoaded()){this.editor=window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes);this.editor.insertInto(this.modalDialogInstance.contentContainer);this.editor.focus();if(this.modalDialogInstance.rtl){this.editor.action(\"rtl\")}if(this.editor.getEditorModel().isRTL()){this.editor.element.style.direction=\"rtl\"}this.editor.getEditorModel().addEditorListener(this.editorListener);if(this.modalDialogInstance.deviceProperties.isIOS){setTimeout((function e(){this.modalDialogInstance.hideKeyboard()}),400);const e=document.getElementsByClassName(\"wrs_formulaDisplay\")[0];ql.addEvent(e,\"focus\",this.modalDialogInstance.handleOpenedIosSoftkeyboard);ql.addEvent(e,\"blur\",this.modalDialogInstance.handleClosedIosSoftkeyboard)}this.listeners.fire(\"onLoad\",{})}else{setTimeout(Ql.prototype.insertEditor.bind(this),100)}}init(){if(!Ql.isEditorLoaded()){this.addEditorAsExternalDependency()}}addEditorAsExternalDependency(){const e=document.createElement(\"script\");e.type=\"text/javascript\";let t=Fl.get(\"editorUrl\");const n=document.createElement(\"a\");Ql.setHrefToAnchorElement(n,t);Ql.setProtocolToAnchorElement(n);t=Ql.getURLFromAnchorElement(n);const i=this.getEditorStats();e.src=`${t}?lang=${this.language}&stats-editor=${i.editor}&stats-mode=${i.mode}&stats-version=${i.version}`;document.getElementsByTagName(\"head\")[0].appendChild(e)}static setHrefToAnchorElement(e,t){e.href=t}static setProtocolToAnchorElement(e){if(window.location.href.indexOf(\"https://\")===0){if(e.protocol===\"http:\"){e.protocol=\"https:\"}}}static getURLFromAnchorElement(e){if(e.port===\"80\"||e.port===\"443\"||e.port===\"\"){return`${e.protocol}//${e.hostname}/${e.pathname}`}}getEditorStats(){const e={};if(\"editor\"in this.environment){e.editor=this.environment.editor}else{e.editor=\"unknown\"}if(\"mode\"in this.environment){e.mode=this.environment.mode}else{e.mode=Fl.get(\"saveMode\")}if(\"version\"in this.environment){e.version=this.environment.version}else{e.version=Fl.get(\"version\")}return e}static isEditorLoaded(){return window.com&&window.com.wiris&&window.com.wiris.jsEditor&&window.com.wiris.jsEditor.JsEditor&&window.com.wiris.jsEditor.JsEditor.newInstance}setInitialContent(){if(!this.isNewElement){this.setMathML(this.mathML)}}setMathML(e,t){if(typeof t===\"undefined\"){t=false}this.editor.setMathMLWithCallback(e,()=>{this.editorListener.setWaitingForChanges(true)});setTimeout(()=>{this.editorListener.setIsContentChanged(false)},500);if(!t){this.onFocus()}}onFocus(){if(typeof this.editor!==\"undefined\"&&this.editor!=null){this.editor.focus()}}submitAction(){if(!this.editor.isFormulaEmpty()){let e=this.editor.getMathMLWithSemantics();if(this.customEditors.getActiveEditor()!==null){const{toolbar:t}=this.customEditors.getActiveEditor();e=Bl.addCustomEditorClassAttribute(e,t)}else{Object.keys(this.customEditors.editors).forEach(t=>{e=Bl.removeCustomEditorClassAttribute(e,t)})}const t=Bl.mathMLEntities(e);this.integrationModel.updateFormula(t)}else{this.integrationModel.updateFormula(null)}this.customEditors.disable();this.integrationModel.notifyWindowClosed();this.setEmptyMathML();this.customEditors.disable()}setEmptyMathML(){if(this.deviceProperties.isAndroid||this.deviceProperties.isIOS){if(this.editor.getEditorModel().isRTL()){this.setMathML('<math dir=\"rtl\"><semantics><annotation encoding=\"application/json\">[]</annotation></semantics></math>',true)}else{this.setMathML('<math><semantics><annotation encoding=\"application/json\">[]</annotation></semantics></math>',true)}}else if(this.editor.getEditorModel().isRTL()){this.setMathML('<math dir=\"rtl\"/>',true)}else{this.setMathML(\"<math/>\",true)}}onOpen(){if(this.isNewElement){this.setEmptyMathML()}else{this.setMathML(this.mathML)}this.updateToolbar();this.onFocus()}updateToolbar(){this.updateTitle(this.modalDialogInstance);const e=this.customEditors.getActiveEditor();if(e){const t=e.toolbar?e.toolbar:_wrs_int_wirisProperties.toolbar;if(this.toolbar==null||this.toolbar!==t){this.setToolbar(t)}}else{const e=this.getToolbar();if(this.toolbar==null||this.toolbar!==e){this.setToolbar(e);this.customEditors.disable()}}}updateTitle(){const e=this.customEditors.getActiveEditor();if(e){this.modalDialogInstance.setTitle(e.title)}else{this.modalDialogInstance.setTitle(\"MathType\")}}getToolbar(){let e=\"general\";if(\"toolbar\"in this.editorAttributes){({toolbar:e}=this.editorAttributes)}if(e===\"general\"){e=typeof _wrs_int_wirisProperties===\"undefined\"||typeof _wrs_int_wirisProperties.toolbar===\"undefined\"?\"general\":_wrs_int_wirisProperties.toolbar}return e}setToolbar(e){this.toolbar=e;this.editor.setParams({toolbar:this.toolbar})}hasChanges(){return!this.editor.isFormulaEmpty()&&this.editorListener.getIsContentChanged()}onKeyDown(e){if(e.key!==undefined&&e.repeat===false){if(e.key===\"Escape\"||e.key===\"Esc\"){let t=document.getElementsByClassName(\"wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed\");if(t.length===0){t=document.getElementsByClassName(\"wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed\");if(t.length===0){t=document.getElementsByClassName(\"wrs_select wrs_pressed\");if(t.length===0){this.modalDialogInstance.cancelAction();e.stopPropagation();e.preventDefault()}}}}else if(e.shiftKey&&e.key===\"Tab\"){if(document.activeElement===this.modalDialogInstance.submitButton){this.editor.focus();e.stopPropagation();e.preventDefault()}else{const t=document.querySelector('[title=\"Manual\"]');if(document.activeElement===t){this.modalDialogInstance.cancelButton.focus();e.stopPropagation();e.preventDefault()}}}else if(e.key===\"Tab\"){if(document.activeElement===this.modalDialogInstance.cancelButton){const t=document.querySelector('[title=\"Manual\"]');t.focus();e.stopPropagation();e.preventDefault()}else{const t=document.getElementsByClassName(\"wrs_formulaDisplay\")[0];if(t.getAttribute(\"class\")===\"wrs_formulaDisplay wrs_focused\"){this.modalDialogInstance.submitButton.focus();e.stopPropagation();e.preventDefault()}}}}}}class Zl{constructor(){this.editors=[];this.activeEditor=\"default\"}addEditor(e,t){const n={};n.name=t.name;n.toolbar=t.toolbar;n.icon=t.icon;n.confVariable=t.confVariable;n.title=t.title;n.tooltip=t.tooltip;this.editors[e]=n}enable(e){this.activeEditor=e}disable(){this.activeEditor=\"default\"}getActiveEditor(){if(this.activeEditor!==\"default\"){return this.editors[this.activeEditor]}return null}}const ed={imageCustomEditorName:\"data-custom-editor\",imageClassName:\"Wirisformula\",CASClassName:\"Wiriscas\"};var td=ed;class nd{constructor(){this.cancelled=false;this.defaultPrevented=false}cancel(){this.cancelled=true}preventDefault(){this.defaultPrevented=true}}class id{constructor(e){this.overlayElement=e.overlayElement;this.callbacks=e.callbacks;this.overlayWrapper=this.overlayElement.appendChild(document.createElement(\"div\"));this.overlayWrapper.setAttribute(\"class\",\"wrs_popupmessage_overlay_envolture\");this.message=this.overlayWrapper.appendChild(document.createElement(\"div\"));this.message.id=\"wrs_popupmessage\";this.message.setAttribute(\"class\",\"wrs_popupmessage_panel\");this.message.setAttribute(\"role\",\"dialog\");this.message.setAttribute(\"aria-describedby\",\"description_txt\");const t=document.createElement(\"p\");const n=document.createTextNode(e.strings.message);t.appendChild(n);t.id=\"description_txt\";this.message.appendChild(t);const i=this.overlayWrapper.appendChild(document.createElement(\"div\"));i.setAttribute(\"class\",\"wrs_popupmessage_overlay\");i.addEventListener(\"click\",this.cancelAction.bind(this));this.buttonArea=this.message.appendChild(document.createElement(\"div\"));this.buttonArea.setAttribute(\"class\",\"wrs_popupmessage_button_area\");this.buttonArea.id=\"wrs_popup_button_area\";const r={class:\"wrs_button_accept\",innerHTML:e.strings.submitString,id:\"wrs_popup_accept_button\"};this.closeButton=this.createButton(r,this.closeAction.bind(this));this.buttonArea.appendChild(this.closeButton);const o={class:\"wrs_button_cancel\",innerHTML:e.strings.cancelString,id:\"wrs_popup_cancel_button\"};this.cancelButton=this.createButton(o,this.cancelAction.bind(this));this.buttonArea.appendChild(this.cancelButton)}createButton(e,t){let n={};n=document.createElement(\"button\");n.setAttribute(\"id\",e.id);n.setAttribute(\"class\",e.class);n.innerHTML=e.innerHTML;n.addEventListener(\"click\",t);return n}show(){if(this.overlayWrapper.style.display!==\"block\"){document.activeElement.blur();this.overlayWrapper.style.display=\"block\";this.closeButton.focus()}else{this.overlayWrapper.style.display=\"none\";_wrs_modalWindow.focus()}}cancelAction(){this.overlayWrapper.style.display=\"none\";if(typeof this.callbacks.cancelCallback!==\"undefined\"){this.callbacks.cancelCallback()}}closeAction(){this.cancelAction();if(typeof this.callbacks.closeCallback!==\"undefined\"){this.callbacks.closeCallback()}}onKeyDown(e){if(e.key!==undefined){if(e.key===\"Escape\"||e.key===\"Esc\"){this.cancelAction();e.stopPropagation();e.preventDefault()}else if(e.key===\"Tab\"){if(document.activeElement===this.closeButton){this.cancelButton.focus()}else{this.closeButton.focus()}e.stopPropagation();e.preventDefault()}}}}var rd='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg3783\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata3789\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs3787\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image3791\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\\nvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M\\n4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4\\nJ/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749R\\ngs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5Z\\nA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLY\\nJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7Jkk\\nS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpF\\naA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIA\\nAAAASUVORK5CYII=\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var od='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg2\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata8\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs6\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image10\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\\n2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtE\\nQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0\\nXawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbz\\nFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT9\\n6VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0Gko\\nNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0\\nJryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4\\nARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u\\n8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var sd='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg3793\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata3799\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs3797\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image3801\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJ\\nKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQf\\nSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7\\nns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4t\\nKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1\\neoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYL\\nCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y5\\n4+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Y\\ng2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var ad='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg12\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata18\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs16\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image20\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQ\\nU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0\\nlPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOy\\nvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6\\nsFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcF\\nmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmg\\npMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM\\n9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var cd='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg3813\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata3819\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs3817\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image3821\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0\\nkoGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rO\\nvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJ\\nRU5ErkJggg==\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var ld='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg32\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata38\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs36\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image40\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\npklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIK\\nvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1Bo\\nCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26\\nb1V6LAAAAABJRU5ErkJggg==\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var dd='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg3823\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata3829\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs3827\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image3831\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhO\\nUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+c\\nwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64\\ng26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR\\n1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQ\\niWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYu\\nCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZN\\nEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAq\\nwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var ud='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.76 13.76\"\\n   height=\"13.76\"\\n   width=\"13.76\"\\n   id=\"svg42\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata48\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs46\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image50\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQ\\nQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4k\\nT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeq\\nrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqC\\nN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW\\n3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmc\\nuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyT\\nIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXD\\nbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.76\" />\\n</svg>\\n';var hd='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.44 13.76\"\\n   height=\"13.76\"\\n   width=\"13.44\"\\n   id=\"svg3803\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata3809\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs3807\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image3811\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a\\n3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6\\nV9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqRO\\nEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.44\" />\\n</svg>\\n';var fd='<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\\n   viewBox=\"0 0 13.44 13.76\"\\n   height=\"13.76\"\\n   width=\"13.44\"\\n   id=\"svg22\"\\n   version=\"1.1\">\\n  <metadata\\n     id=\"metadata28\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\"\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <defs\\n     id=\"defs26\" />\\n  <image\\n     y=\"0\"\\n     x=\"0\"\\n     id=\"image30\"\\n     xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+\\nyT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBB\\nfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+\\nX1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC\\n\"\\n     style=\"image-rendering:optimizeQuality\"\\n     preserveAspectRatio=\"none\"\\n     height=\"13.76\"\\n     width=\"13.44\" />\\n</svg>\\n';var md=typeof crypto!==\"undefined\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!==\"undefined\"&&typeof msCrypto.getRandomValues===\"function\"&&msCrypto.getRandomValues.bind(msCrypto);var gd=new Uint8Array(16);function pd(){if(!md){throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\")}return md(gd)}var bd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _d(e){return typeof e===\"string\"&&bd.test(e)}var wd=_d;var vd=[];for(var kd=0;kd<256;++kd){vd.push((kd+256).toString(16).substr(1))}function xd(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=(vd[e[t+0]]+vd[e[t+1]]+vd[e[t+2]]+vd[e[t+3]]+\"-\"+vd[e[t+4]]+vd[e[t+5]]+\"-\"+vd[e[t+6]]+vd[e[t+7]]+\"-\"+vd[e[t+8]]+vd[e[t+9]]+\"-\"+vd[e[t+10]]+vd[e[t+11]]+vd[e[t+12]]+vd[e[t+13]]+vd[e[t+14]]+vd[e[t+15]]).toLowerCase();if(!wd(n)){throw TypeError(\"Stringified UUID is invalid\")}return n}var yd=xd;function Cd(e,t,n){e=e||{};var i=e.random||(e.rng||pd)();i[6]=i[6]&15|64;i[8]=i[8]&63|128;if(t){n=n||0;for(var r=0;r<16;++r){t[n+r]=i[r]}return t}return yd(i)}var Ad=Cd;class Td{constructor(){throw new Error(\"Static class StringManager can not be instantiated.\")}static get senderId(){if(!this._senderId){const e=document.cookie.split(\";\").map(e=>e.trim().split(\"=\"));for(const[t,n]of e){if(t===Ed){this._senderId=n;break}}if(!this._senderId){this._senderId=Td.composeUUID();document.cookie=this.composeCookie(Ed,this._senderId,Sd)}}return this._senderId}static get sessionId(){if(!this._sessionId){this._sessionId=Td.composeUUID()}return this._sessionId}static send(e){const t={method:\"POST\",cache:\"no-cache\",headers:{\"Content-Type\":\"application/json\",\"X-Api-Key\":\"CK20op1pOx2LAUjPFP7kB2UPveHZRidG51UJE26m\",\"Accept-Version\":\"1\"},body:JSON.stringify(Td.composeBody(e))};return fetch(Td.endpoint,t).then(e=>e).catch(e=>{})}static get session(){return{id:Td.sessionId,page:0}}static get sender(){return{id:Td.senderId,os:navigator.oscpu,user_agent:window.navigator.userAgent,domain:window.location.hostname,deployment:Td.deployment,editor_version:WirisPlugin.currentInstance.environment.editorVersion?WirisPlugin.currentInstance.environment.editorVersion:\"\",language:WirisPlugin.currentInstance.language,product_version:WirisPlugin.currentInstance.version,backend:WirisPlugin.currentInstance.serviceProviderProperties.server?WirisPlugin.currentInstance.serviceProviderProperties.server:\"\"}}static get deployment(){const{editor:e}=WirisPlugin.currentInstance.environment;const t=\"mathtype-web-plugin-\";let n=\"\";if(/Generic/.test(e)){n=\"generic\"}else if(/Froala/.test(e)){n=\"froala\"}else if(/CKEditor/.test(e)){n=\"ckeditor\"}else if(/TinyMCE/.test(e)){n=\"tinymce\"}return`${t}${n}`}static composeBody(e){const t={messages:e,sender:Td.sender,session:Td.session};return t}static composeUUID(){return Ad()}static composeSenderUUID(){return this.composeUUID()}static composeCookie(e,t,n){const i=n==null?\"\":`; max-age=${n}`;return`${e}=${t}${i}`}}const Ed=\"wiris_telemetry_mathtype_web_senderid\";const Sd=60*60*24*365*10;const Od={local:\"http://localhost:4000\",production:\"https://telemetry.wiris.net\"};Td.endpoint=Od.production;Td._senderId=\"\";Td._sessionId=\"\";class Id{constructor(e){this.attributes=e;const t=navigator.userAgent.toLowerCase();const n=t.indexOf(\"android\")>-1;const i=t.indexOf(\"ipad\")>-1||t.indexOf(\"iphone\")>-1;this.iosSoftkeyboardOpened=false;this.iosMeasureUnit=t.indexOf(\"crios\")===-1?\"%\":\"vh\";this.iosDivHeight=`100%${this.iosMeasureUnit}`;const r=window.outerWidth;const o=window.outerHeight;const s=r>o;const a=r<o;const c=s&&this.attributes.height>o;const l=a&&this.attributes.width>r;const d=c||l;this.instanceId=document.getElementsByClassName(\"wrs_modal_dialogContainer\").length;this.deviceProperties={orientation:s?\"landscape\":\"portait\",isAndroid:n,isIOS:i,isMobile:d,isDesktop:!d&&!i&&!n};this.properties={created:false,state:\"\",previousState:\"\",position:{bottom:0,right:10},size:{height:338,width:580}};this.websiteBeforeLockParameters=null;let u={};u.class=\"wrs_modal_overlay\";u.id=this.getElementId(u.class);this.overlay=ql.createElement(\"div\",u);u={};u.class=\"wrs_modal_title_bar\";u.id=this.getElementId(u.class);this.titleBar=ql.createElement(\"div\",u);u={};u.class=\"wrs_modal_title\";u.id=this.getElementId(u.class);this.title=ql.createElement(\"div\",u);this.title.innerHTML=\"\";u={};u.class=\"wrs_modal_close_button\";u.id=this.getElementId(u.class);u.title=$l.get(\"close\");u.style={};this.closeDiv=ql.createElement(\"a\",u);this.closeDiv.setAttribute(\"role\",\"button\");let h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(rd)})`;let f=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(od)})`;this.closeDiv.setAttribute(\"style\",h);this.closeDiv.setAttribute(\"onmouseover\",`this.style = \"${f}\";`);this.closeDiv.setAttribute(\"onmouseout\",`this.style = \"${h}\";`);u={};u.class=\"wrs_modal_stack_button\";u.id=this.getElementId(u.class);u.title=$l.get(\"exit_fullscreen\");this.stackDiv=ql.createElement(\"a\",u);this.stackDiv.setAttribute(\"role\",\"button\");h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(dd)})`;f=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(ud)})`;this.stackDiv.setAttribute(\"style\",h);this.stackDiv.setAttribute(\"onmouseover\",`this.style = \"${f}\";`);this.stackDiv.setAttribute(\"onmouseout\",`this.style = \"${h}\";`);u={};u.class=\"wrs_modal_maximize_button\";u.id=this.getElementId(u.class);u.title=$l.get(\"fullscreen\");this.maximizeDiv=ql.createElement(\"a\",u);this.maximizeDiv.setAttribute(\"role\",\"button\");h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(sd)})`;f=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ad)})`;this.maximizeDiv.setAttribute(\"style\",h);this.maximizeDiv.setAttribute(\"onmouseover\",`this.style = \"${f}\";`);this.maximizeDiv.setAttribute(\"onmouseout\",`this.style = \"${h}\";`);u={};u.class=\"wrs_modal_minimize_button\";u.id=this.getElementId(u.class);u.title=$l.get(\"minimize\");this.minimizeDiv=ql.createElement(\"a\",u);this.minimizeDiv.setAttribute(\"role\",\"button\");h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(cd)})`;f=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ld)})`;this.minimizeDiv.setAttribute(\"style\",h);this.minimizeDiv.setAttribute(\"onmouseover\",`this.style = \"${f}\";`);this.minimizeDiv.setAttribute(\"onmouseout\",`this.style = \"${h}\";`);u={};u.class=\"wrs_modal_dialogContainer\";u.id=this.getElementId(u.class);u.role=\"dialog\";this.container=ql.createElement(\"div\",u);this.container.setAttribute(\"aria-labeledby\",\"wrs_modal_title[0]\");u={};u.class=\"wrs_modal_wrapper\";u.id=this.getElementId(u.class);this.wrapper=ql.createElement(\"div\",u);u={};u.class=\"wrs_content_container\";u.id=this.getElementId(u.class);this.contentContainer=ql.createElement(\"div\",u);u={};u.class=\"wrs_modal_controls\";u.id=this.getElementId(u.class);this.controls=ql.createElement(\"div\",u);u={};u.class=\"wrs_modal_buttons_container\";u.id=this.getElementId(u.class);this.buttonContainer=ql.createElement(\"div\",u);this.submitButton=this.createSubmitButton({id:this.getElementId(\"wrs_modal_button_accept\"),class:\"wrs_modal_button_accept\",innerHTML:$l.get(\"accept\")},this.submitAction.bind(this));this.cancelButton=this.createSubmitButton({id:this.getElementId(\"wrs_modal_button_cancel\"),class:\"wrs_modal_button_cancel\",innerHTML:$l.get(\"cancel\")},this.cancelAction.bind(this));this.contentManager=null;const m={cancelString:$l.get(\"cancel\"),submitString:$l.get(\"close\"),message:$l.get(\"close_modal_warning\")};const g={closeCallback:()=>{this.close()},cancelCallback:()=>{this.focus()}};const p={overlayElement:this.container,callbacks:g,strings:m};this.popup=new id(p);this.rtl=false;if(\"rtl\"in this.attributes){this.rtl=this.attributes.rtl}this.handleOpenedIosSoftkeyboard=this.handleOpenedIosSoftkeyboard.bind(this);this.handleClosedIosSoftkeyboard=this.handleClosedIosSoftkeyboard.bind(this)}setContentManager(e){this.contentManager=e}getContentManager(){return this.contentManager}submitAction(){if(typeof this.contentManager.submitAction!==\"undefined\"){this.contentManager.submitAction()}this.close()}cancelAction(){if(typeof this.contentManager.hasChanges===\"undefined\"){this.close()}else if(!this.contentManager.hasChanges()){this.close()}else{this.showPopUpMessage()}}createSubmitButton(e,t){class n{constructor(){this.element=document.createElement(\"button\");this.element.id=e.id;this.element.className=e.class;this.element.innerHTML=e.innerHTML;ql.addEvent(this.element,\"click\",t)}getElement(){return this.element}}return new n(e,t).getElement()}create(){this.titleBar.appendChild(this.closeDiv);this.titleBar.appendChild(this.stackDiv);this.titleBar.appendChild(this.maximizeDiv);this.titleBar.appendChild(this.minimizeDiv);this.titleBar.appendChild(this.title);if(this.deviceProperties.isDesktop){this.container.appendChild(this.titleBar)}this.wrapper.appendChild(this.contentContainer);this.wrapper.appendChild(this.controls);this.controls.appendChild(this.buttonContainer);this.buttonContainer.appendChild(this.submitButton);this.buttonContainer.appendChild(this.cancelButton);this.container.appendChild(this.wrapper);this.recalculateScrollBar();document.body.appendChild(this.container);document.body.appendChild(this.overlay);if(this.deviceProperties.isDesktop){this.createModalWindowDesktop();this.createResizeButtons();this.addListeners();if(Fl.get(\"modalWindowFullScreen\")){this.maximize()}}else if(this.deviceProperties.isAndroid){this.createModalWindowAndroid()}else if(this.deviceProperties.isIOS&&!this.deviceProperties.isMobile){this.createModalWindowIos()}if(this.contentManager!=null){this.contentManager.insert(this)}this.properties.open=true;this.properties.created=true;if(this.isRTL()){this.container.style.right=`${window.innerWidth-this.scrollbarWidth-this.container.offsetWidth}px`;this.container.className+=\" wrs_modal_rtl\"}}createResizeButtons(){this.resizerBR=document.createElement(\"div\");this.resizerBR.className=\"wrs_bottom_right_resizer\";this.resizerBR.innerHTML=\"◢\";this.resizerTL=document.createElement(\"div\");this.resizerTL.className=\"wrs_bottom_left_resizer\";this.container.appendChild(this.resizerBR);this.titleBar.appendChild(this.resizerTL);ql.addEvent(this.resizerBR,\"mousedown\",this.activateResizeStateBR.bind(this));ql.addEvent(this.resizerTL,\"mousedown\",this.activateResizeStateTL.bind(this))}activateResizeStateBR(e){this.initializeResizeProperties(e,false)}activateResizeStateTL(e){this.initializeResizeProperties(e,true)}initializeResizeProperties(e,t){ql.addClass(document.body,\"wrs_noselect\");ql.addClass(this.overlay,\"wrs_overlay_active\");this.resizeDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y};this.initialWidth=parseInt(this.container.style.width,10);this.initialHeight=parseInt(this.container.style.height,10);if(!t){this.initialRight=parseInt(this.container.style.right,10);this.initialBottom=parseInt(this.container.style.bottom,10)}else{this.leftScale=true}if(!this.initialRight){this.initialRight=0}if(!this.initialBottom){this.initialBottom=0}document.body.style[\"user-select\"]=\"none\"}open(){try{Td.send([{timestamp:(new Date).toJSON(),topic:\"0\",level:\"info\",message:\"HELO telemetry.wiris.net\"}]).then(e=>{})}catch(e){}this.removeClass(\"wrs_closed\");const{isIOS:e}=this.deviceProperties;const{isAndroid:t}=this.deviceProperties;const{isMobile:n}=this.deviceProperties;if(e||t||n){this.restoreWebsiteScale();this.lockWebsiteScroll();setTimeout(()=>{this.hideKeyboard()},400)}if(!this.properties.created){this.create()}else{if(!this.properties.open){this.properties.open=true;if(!this.deviceProperties.isAndroid&&!this.deviceProperties.isIOS){this.restoreState()}}if(this.deviceProperties.isDesktop&&Fl.get(\"modalWindowFullScreen\")){this.maximize()}if(this.deviceProperties.isIOS){this.iosSoftkeyboardOpened=false;this.setContainerHeight(`${100+this.iosMeasureUnit}`)}}if(!Ql.isEditorLoaded()){const e=Vl.newListener(\"onLoad\",()=>{this.contentManager.onOpen(this)});this.contentManager.addListener(e)}else{this.contentManager.onOpen(this)}}close(){this.removeClass(\"wrs_maximized\");this.removeClass(\"wrs_minimized\");this.removeClass(\"wrs_stack\");this.addClass(\"wrs_closed\");this.saveModalProperties();this.unlockWebsiteScroll();this.properties.open=false}restoreWebsiteScale(){let e=document.querySelector(\"meta[name=viewport]\");const t=[\"initial-scale=\",\"minimum-scale=\",\"maximum-scale=\"];const n=[\"1.0\",\"1.0\",\"1.0\"];const i=(e,t)=>{const i=e.getAttribute(\"content\");if(i){const r=i.split(\",\");let o=\"\";const s=[];for(let e=0;e<r.length;e+=1){let n=false;let i=0;while(!n&&i<t.length){if(r[e].indexOf(t[i])){n=true}i+=1}if(!n){s.push(r[e])}}for(let e=0;e<t.length;e+=1){const i=t[e]+n[e];o+=e===0?i:`,${i}`}for(let e=0;e<s.length;e+=1){o+=`,${s[e]}`}e.setAttribute(\"content\",o);e.setAttribute(\"content\",\"\");e.setAttribute(\"content\",i)}else{e.setAttribute(\"content\",\"initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0\");e.removeAttribute(\"content\")}};if(!e){e=document.createElement(\"meta\");document.getElementsByTagName(\"head\")[0].appendChild(e);i(e,t,n);e.remove()}else{i(e,t,n)}}lockWebsiteScroll(){this.websiteBeforeLockParameters={bodyStylePosition:document.body.style.position?document.body.style.position:\"\",bodyStyleOverflow:document.body.style.overflow?document.body.style.overflow:\"\",htmlStyleOverflow:document.documentElement.style.overflow?document.documentElement.style.overflow:\"\",windowScrollX:window.scrollX,windowScrollY:window.scrollY}}unlockWebsiteScroll(){if(this.websiteBeforeLockParameters){document.body.style.position=this.websiteBeforeLockParameters.bodyStylePosition;document.body.style.overflow=this.websiteBeforeLockParameters.bodyStyleOverflow;document.documentElement.style.overflow=this.websiteBeforeLockParameters.htmlStyleOverflow;const{windowScrollX:e}=this.websiteBeforeLockParameters;const{windowScrollY:t}=this.websiteBeforeLockParameters;window.scrollTo(e,t);this.websiteBeforeLockParameters=null}}isIE11(){if(navigator.userAgent.search(\"Msie/\")>=0||navigator.userAgent.search(\"Trident/\")>=0||navigator.userAgent.search(\"Edge/\")>=0){return true}return false}isRTL(){if(this.attributes.language===\"ar\"||this.attributes.language===\"he\"){return true}return this.rtl}addClass(e){ql.addClass(this.overlay,e);ql.addClass(this.titleBar,e);ql.addClass(this.overlay,e);ql.addClass(this.container,e);ql.addClass(this.contentContainer,e);ql.addClass(this.stackDiv,e);ql.addClass(this.minimizeDiv,e);ql.addClass(this.maximizeDiv,e);ql.addClass(this.wrapper,e)}removeClass(e){ql.removeClass(this.overlay,e);ql.removeClass(this.titleBar,e);ql.removeClass(this.overlay,e);ql.removeClass(this.container,e);ql.removeClass(this.contentContainer,e);ql.removeClass(this.stackDiv,e);ql.removeClass(this.minimizeDiv,e);ql.removeClass(this.maximizeDiv,e);ql.removeClass(this.wrapper,e)}createModalWindowDesktop(){this.addClass(\"wrs_modal_desktop\");this.stack()}createModalWindowAndroid(){this.addClass(\"wrs_modal_android\");window.addEventListener(\"resize\",this.orientationChangeAndroidSoftkeyboard.bind(this))}createModalWindowIos(){this.addClass(\"wrs_modal_ios\");window.addEventListener(\"resize\",this.orientationChangeIosSoftkeyboard.bind(this))}restoreState(){if(this.properties.state===\"maximized\"){this.maximize()}else if(this.properties.state===\"minimized\"){this.properties.state=this.properties.previousState;this.properties.previousState=\"\";this.minimize()}else{this.stack()}}stack(){this.properties.previousState=this.properties.state;this.properties.state=\"stack\";this.removeClass(\"wrs_maximized\");this.minimizeDiv.title=$l.get(\"minimize\");this.removeClass(\"wrs_minimized\");this.addClass(\"wrs_stack\");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(cd)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ld)})`;this.minimizeDiv.setAttribute(\"style\",e);this.minimizeDiv.setAttribute(\"onmouseover\",`this.style = \"${t}\";`);this.minimizeDiv.setAttribute(\"onmouseout\",`this.style = \"${e}\";`);this.restoreModalProperties();if(typeof this.resizerBR!==\"undefined\"&&typeof this.resizerTL!==\"undefined\"){this.setResizeButtonsVisibility()}this.recalculateScrollBar();this.recalculatePosition();this.recalculateScale();this.focus()}minimize(){this.saveModalProperties();this.title.style.cursor=\"pointer\";if(this.properties.state===\"minimized\"&&this.properties.previousState===\"stack\"){this.stack()}else if(this.properties.state===\"minimized\"&&this.properties.previousState===\"maximized\"){this.maximize()}else{this.container.style.height=\"30px\";this.container.style.width=\"250px\";this.container.style.bottom=\"0px\";this.container.style.right=\"10px\";this.removeListeners();this.properties.previousState=this.properties.state;this.properties.state=\"minimized\";this.setResizeButtonsVisibility();this.minimizeDiv.title=$l.get(\"maximize\");if(ql.containsClass(this.overlay,\"wrs_stack\")){this.removeClass(\"wrs_stack\")}else{this.removeClass(\"wrs_maximized\")}this.addClass(\"wrs_minimized\");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(hd)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(fd)})`;this.minimizeDiv.setAttribute(\"style\",e);this.minimizeDiv.setAttribute(\"onmouseover\",`this.style = \"${t}\";`);this.minimizeDiv.setAttribute(\"onmouseout\",`this.style = \"${e}\";`)}}maximize(){this.saveModalProperties();if(this.properties.state!==\"maximized\"){this.properties.previousState=this.properties.state;this.properties.state=\"maximized\"}this.setResizeButtonsVisibility();if(ql.containsClass(this.overlay,\"wrs_minimized\")){this.minimizeDiv.title=$l.get(\"minimize\");this.removeClass(\"wrs_minimized\")}else if(ql.containsClass(this.overlay,\"wrs_stack\")){this.container.style.left=null;this.container.style.top=null;this.removeClass(\"wrs_stack\")}this.addClass(\"wrs_maximized\");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(cd)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ld)})`;this.minimizeDiv.setAttribute(\"style\",e);this.minimizeDiv.setAttribute(\"onmouseover\",`this.style = \"${t}\";`);this.minimizeDiv.setAttribute(\"onmouseout\",`this.style = \"${e}\";`);this.setSize(parseInt(window.innerHeight*.8,10),parseInt(window.innerWidth*.8,10));if(this.container.clientHeight>700){this.container.style.height=\"700px\"}if(this.container.clientWidth>1200){this.container.style.width=\"1200px\"}const{innerHeight:n}=window;const{innerWidth:i}=window;const{offsetHeight:r}=this.container;const{offsetWidth:o}=this.container;const s=n/2-r/2;const a=i/2-o/2;this.setPosition(s,a);this.recalculateScale();this.recalculatePosition();this.recalculateSize();this.focus()}reExpand(){if(this.properties.state===\"minimized\"){if(this.properties.previousState===\"maximized\"){this.maximize()}else{this.stack()}this.title.style.cursor=\"\"}}setSize(e,t){this.container.style.height=`${e}px`;this.container.style.width=`${t}px`;this.recalculateSize()}setPosition(e,t){this.container.style.bottom=`${e}px`;this.container.style.right=`${t}px`}saveModalProperties(){if(this.properties.state===\"stack\"){this.properties.position.bottom=parseInt(this.container.style.bottom,10);this.properties.position.right=parseInt(this.container.style.right,10);this.properties.size.width=parseInt(this.container.style.width,10);this.properties.size.height=parseInt(this.container.style.height,10)}}restoreModalProperties(){if(this.properties.state===\"stack\"){this.setPosition(this.properties.position.bottom,this.properties.position.right);this.setSize(this.properties.size.height,this.properties.size.width)}}recalculateSize(){this.wrapper.style.width=`${this.container.clientWidth-12}px`;this.wrapper.style.height=`${this.container.clientHeight-38}px`;this.contentContainer.style.height=`${parseInt(this.wrapper.offsetHeight-50,10)}px`}setResizeButtonsVisibility(){if(this.properties.state===\"stack\"){this.resizerTL.style.visibility=\"visible\";this.resizerBR.style.visibility=\"visible\"}else{this.resizerTL.style.visibility=\"hidden\";this.resizerBR.style.visibility=\"hidden\"}}addListeners(){this.maximizeDiv.addEventListener(\"click\",this.maximize.bind(this),true);this.stackDiv.addEventListener(\"click\",this.stack.bind(this),true);this.minimizeDiv.addEventListener(\"click\",this.minimize.bind(this),true);this.closeDiv.addEventListener(\"click\",this.cancelAction.bind(this));this.title.addEventListener(\"click\",this.reExpand.bind(this));this.overlay.addEventListener(\"click\",this.cancelAction.bind(this));ql.addEvent(window,\"mousedown\",this.startDrag.bind(this));ql.addEvent(window,\"mouseup\",this.stopDrag.bind(this));ql.addEvent(window,\"mousemove\",this.drag.bind(this));ql.addEvent(window,\"resize\",this.onWindowResize.bind(this));ql.addEvent(this.container,\"keydown\",this.onKeyDown.bind(this))}removeListeners(){ql.removeEvent(window,\"mousedown\",this.startDrag);ql.removeEvent(window,\"mouseup\",this.stopDrag);ql.removeEvent(window,\"mousemove\",this.drag);ql.removeEvent(window,\"resize\",this.onWindowResize);ql.removeEvent(this.container,\"keydown\",this.onKeyDown)}eventClient(e){if(typeof e.clientX===\"undefined\"&&e.changedTouches){const t={X:e.changedTouches[0].clientX,Y:e.changedTouches[0].clientY};return t}const t={X:e.clientX,Y:e.clientY};return t}startDrag(e){if(this.properties.state===\"minimized\"){return}if(e.target===this.title){if(typeof this.dragDataObject===\"undefined\"||this.dragDataObject===null){this.dragDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y};this.lastDrag={x:\"0px\",y:\"0px\"};if(this.container.style.right===\"\"){this.container.style.right=\"0px\"}if(this.container.style.bottom===\"\"){this.container.style.bottom=\"0px\"}if(this.isIE11()){}ql.addClass(document.body,\"wrs_noselect\");ql.addClass(this.overlay,\"wrs_overlay_active\");this.limitWindow=this.getLimitWindow()}}}drag(e){if(this.dragDataObject){e.preventDefault();let t=Math.min(this.eventClient(e).Y,this.limitWindow.minPointer.y);t=Math.max(this.limitWindow.maxPointer.y,t);let n=Math.min(this.eventClient(e).X,this.limitWindow.minPointer.x);n=Math.max(this.limitWindow.maxPointer.x,n);const i=`${n-this.dragDataObject.x}px`;const r=`${t-this.dragDataObject.y}px`;this.lastDrag={x:i,y:r};this.container.style.transform=`translate3d(${i},${r},0)`}if(this.resizeDataObject){const{innerWidth:t}=window;const{innerHeight:n}=window;let i=Math.min(this.eventClient(e).X,t-this.scrollbarWidth-7);let r=Math.min(this.eventClient(e).Y,n-7);if(i<0){i=0}if(r<0){r=0}let o;if(this.leftScale){o=-1}else{o=1}this.container.style.width=`${this.initialWidth+o*(i-this.resizeDataObject.x)}px`;this.container.style.height=`${this.initialHeight+o*(r-this.resizeDataObject.y)}px`;if(!this.leftScale){if(this.resizeDataObject.x-i-this.initialWidth<-580){this.container.style.right=`${this.initialRight-(i-this.resizeDataObject.x)}px`}else{this.container.style.right=`${this.initialRight+this.initialWidth-580}px`;this.container.style.width=\"580px\"}if(this.resizeDataObject.y-r<this.initialHeight-338){this.container.style.bottom=`${this.initialBottom-(r-this.resizeDataObject.y)}px`}else{this.container.style.bottom=`${this.initialBottom+this.initialHeight-338}px`;this.container.style.height=\"338px\"}}this.recalculateScale();this.recalculatePosition()}}getLimitWindow(){const e=window.innerWidth;const t=window.innerHeight;const{offsetHeight:n}=this.container;const i=parseInt(this.container.style.bottom,10);const r=parseInt(this.container.style.right,10);const{pageXOffset:o}=window;const s=this.dragDataObject.y;const a=this.dragDataObject.x;const c=n+i-(t-(s-o));const l=e-this.scrollbarWidth-(a-o)-r;const d=t-this.container.offsetHeight+c;const u=this.title.offsetHeight-(this.title.offsetHeight-c);const h=e-l-this.scrollbarWidth;const f=this.container.offsetWidth-l;const m={x:h,y:d};const g={x:f,y:u};return{minPointer:m,maxPointer:g}}getScrollBarWidth(){const e=document.createElement(\"p\");e.style.width=\"100%\";e.style.height=\"200px\";const t=document.createElement(\"div\");t.style.position=\"absolute\";t.style.top=\"0px\";t.style.left=\"0px\";t.style.visibility=\"hidden\";t.style.width=\"200px\";t.style.height=\"150px\";t.style.overflow=\"hidden\";t.appendChild(e);document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow=\"scroll\";let i=e.offsetWidth;if(n===i){i=t.clientWidth}document.body.removeChild(t);return n-i}stopDrag(){if(this.dragDataObject||this.resizeDataObject){this.container.style.transform=\"\";if(this.dragDataObject){this.container.style.right=`${parseInt(this.container.style.right,10)-parseInt(this.lastDrag.x,10)}px`;this.container.style.bottom=`${parseInt(this.container.style.bottom,10)-parseInt(this.lastDrag.y,10)}px`}this.focus();document.body.style[\"user-select\"]=\"\";if(this.isIE11()){}ql.removeClass(document.body,\"wrs_noselect\");ql.removeClass(this.overlay,\"wrs_overlay_active\")}this.dragDataObject=null;this.resizeDataObject=null;this.initialWidth=null;this.leftScale=null}onWindowResize(){this.recalculateScrollBar();this.recalculatePosition();this.recalculateScale()}onKeyDown(e){if(e.key!==undefined){if(this.popup.overlayWrapper.style.display!==\"block\"){if(e.key===\"Escape\"||e.key===\"Esc\"){if(this.properties.open){this.contentManager.onKeyDown(e)}}else if(e.shiftKey&&e.key===\"Tab\"){if(document.activeElement===this.cancelButton){this.submitButton.focus();e.stopPropagation();e.preventDefault()}else{this.contentManager.onKeyDown(e)}}else if(e.key===\"Tab\"){if(document.activeElement===this.submitButton){this.cancelButton.focus();e.stopPropagation();e.preventDefault()}else{this.contentManager.onKeyDown(e)}}}else{this.popup.onKeyDown(e)}}}recalculatePosition(){this.container.style.right=`${Math.min(parseInt(this.container.style.right,10),window.innerWidth-this.scrollbarWidth-this.container.offsetWidth)}px`;if(parseInt(this.container.style.right,10)<0){this.container.style.right=\"0px\"}this.container.style.bottom=`${Math.min(parseInt(this.container.style.bottom,10),window.innerHeight-this.container.offsetHeight)}px`;if(parseInt(this.container.style.bottom,10)<0){this.container.style.bottom=\"0px\"}}recalculateScale(){let e=false;if(parseInt(this.container.style.width,10)>580){this.container.style.width=`${Math.min(parseInt(this.container.style.width,10),window.innerWidth-this.scrollbarWidth)}px`;e=true}else{this.container.style.width=\"580px\";e=true}if(parseInt(this.container.style.height,10)>338){this.container.style.height=`${Math.min(parseInt(this.container.style.height,10),window.innerHeight)}px`;e=true}else{this.container.style.height=\"338px\";e=true}if(e){this.recalculateSize()}}recalculateScrollBar(){this.hasScrollBar=window.innerWidth>document.documentElement.clientWidth;if(this.hasScrollBar){this.scrollbarWidth=this.getScrollBarWidth()}else{this.scrollbarWidth=0}}hideKeyboard(){const e=document.createElement(\"input\");this.container.appendChild(e);e.focus();e.blur();e.remove()}focus(){if(this.contentManager!=null&&typeof this.contentManager.onFocus!==\"undefined\"){this.contentManager.onFocus()}}portraitMode(){return window.innerHeight>window.innerWidth}handleOpenedIosSoftkeyboard(){if(!this.iosSoftkeyboardOpened&&this.iosDivHeight!=null&&this.iosDivHeight===`100${this.iosMeasureUnit}`){if(this.portraitMode()){this.setContainerHeight(`63${this.iosMeasureUnit}`)}else{this.setContainerHeight(`40${this.iosMeasureUnit}`)}}this.iosSoftkeyboardOpened=true}handleClosedIosSoftkeyboard(){this.iosSoftkeyboardOpened=false;this.setContainerHeight(`100${this.iosMeasureUnit}`)}orientationChangeIosSoftkeyboard(){if(this.iosSoftkeyboardOpened){if(this.portraitMode()){this.setContainerHeight(`63${this.iosMeasureUnit}`)}else{this.setContainerHeight(`40${this.iosMeasureUnit}`)}}else{this.setContainerHeight(`100${this.iosMeasureUnit}`)}}orientationChangeAndroidSoftkeyboard(){this.setContainerHeight(\"100%\")}setContainerHeight(e){this.iosDivHeight=e;this.wrapper.style.height=e}showPopUpMessage(){if(this.properties.state===\"minimized\"){this.stack()}this.popup.show()}setTitle(e){this.title.innerHTML=e}getElementId(e){return`${e}[${this.instanceId}]`}}var Pd;var Md=Pd;\n/*! http://mths.be/codepointat v0.1.0 by @mathias */if(!String.prototype.codePointAt){(function(){\"use strict\";var e=function(e){if(this==null){throw TypeError()}var t=String(this);var n=t.length;var i=e?Number(e):0;if(i!=i){i=0}if(i<0||i>=n){return undefined}var r=t.charCodeAt(i);var o;if(r>=55296&&r<=56319&&n>i+1){o=t.charCodeAt(i+1);if(o>=56320&&o<=57343){return(r-55296)*1024+o-56320+65536}}return r};if(Object.defineProperty){Object.defineProperty(String.prototype,\"codePointAt\",{value:e,configurable:true,writable:true})}else{String.prototype.codePointAt=e}})()}if(typeof Object.assign!=\"function\"){Object.defineProperty(Object,\"assign\",{value:function e(t,n){\"use strict\";if(t==null){throw new TypeError(\"Cannot convert undefined or null to object\")}var i=Object(t);for(var r=1;r<arguments.length;r++){var o=arguments[r];if(o!=null){for(var s in o){if(Object.prototype.hasOwnProperty.call(o,s)){i[s]=o[s]}}}}return i},writable:true,configurable:true})}var Rd=n(354);class Nd{constructor(e){this.language=\"en\";this.editMode=\"images\";this.modalDialog=null;this.customEditors=new Zl;const t={name:\"Chemistry\",toolbar:\"chemistry\",icon:\"chem.png\",confVariable:\"chemEnabled\",title:\"ChemType\",tooltip:\"Insert a chemistry formula - ChemType\"};this.customEditors.addEditor(\"chemistry\",t);this.environment={};this.editionProperties={};this.editionProperties.isNewElement=true;this.editionProperties.temporalImage=null;this.editionProperties.latexRange=null;this.editionProperties.range=null;this.integrationModel=null;this.contentManager=null;this.browser=(()=>{const e=navigator.userAgent;let t=\"none\";if(e.search(\"Edge/\")>=0){t=\"EDGE\"}else if(e.search(\"Chrome/\")>=0){t=\"CHROME\"}else if(e.search(\"Trident/\")>=0){t=\"IE\"}else if(e.search(\"Firefox/\")>=0){t=\"FIREFOX\"}else if(e.search(\"Safari/\")>=0){t=\"SAFARI\"}return t})();this.listeners=new Vl;this.serviceProviderProperties={};if(\"serviceProviderProperties\"in e){this.serviceProviderProperties=e.serviceProviderProperties}else{throw new Error(\"serviceProviderProperties property missing.\")}}static get globalListeners(){return Nd._globalListeners}static set globalListeners(e){Nd._globalListeners=e}static get initialized(){return Nd._initialized}static set initialized(e){Nd._initialized=e}setIntegrationModel(e){this.integrationModel=e}setEnvironment(e){if(\"editor\"in e){this.environment.editor=e.editor}if(\"mode\"in e){this.environment.mode=e.mode}if(\"version\"in e){this.environment.version=e.version}}getModalDialog(){return this.modalDialog}init(){if(!Nd.initialized){const e=Vl.newListener(\"onInit\",()=>{const e=Ul.getService(\"configurationjs\",\"\",\"get\");const t=JSON.parse(e);Fl.addConfiguration(t);Fl.addConfiguration(td);$l.language=this.language;this.listeners.fire(\"onLoad\",{})});Ul.addListener(e);Ul.init(this.serviceProviderProperties);Nd.initialized=true}else{this.listeners.fire(\"onLoad\",{})}}addListener(e){this.listeners.add(e)}static addGlobalListener(e){Nd.globalListeners.add(e)}beforeUpdateFormula(e,t){const n=new nd;n.mathml=e;n.wirisProperties={};if(t!=null){Object.keys(t).forEach(e=>{n.wirisProperties[e]=t[e]})}n.language=this.language;n.editMode=this.editMode;if(this.listeners.fire(\"onBeforeFormulaInsertion\",n)){return{}}if(Nd.globalListeners.fire(\"onBeforeFormulaInsertion\",n)){return{}}return{mathml:n.mathml,wirisProperties:n.wirisProperties}}insertFormula(e,t,n,i){const r={};if(!n){this.insertElementOnSelection(null,e,t)}else if(this.editMode===\"latex\"){r.latex=Hl.getLatexFromMathML(n);if(!!this.integrationModel.fillNonLatexNode&&!r.latex){const i=new nd;i.editMode=this.editMode;i.windowTarget=t;i.focusElement=e;i.latex=r.latex;this.integrationModel.fillNonLatexNode(i,t,n)}else{r.node=t.document.createTextNode(`$$${r.latex}$$`)}this.insertElementOnSelection(r.node,e,t)}else{r.node=Kl.mathmlToImgObject(t.document,n,i,this.language);this.insertElementOnSelection(r.node,e,t)}return r}afterUpdateFormula(e,t,n,i){const r=new nd;r.editMode=this.editMode;r.windowTarget=t;r.focusElement=e;r.node=n;r.latex=i;if(this.listeners.fire(\"onAfterFormulaInsertion\",r)){return{}}if(Nd.globalListeners.fire(\"onAfterFormulaInsertion\",r)){return{}}return{}}placeCaretAfterNode(e){this.integrationModel.getSelection();const t=e.ownerDocument;if(typeof t.getSelection!==\"undefined\"&&!!e.parentElement){const n=t.createRange();n.setStartAfter(e);n.collapse(true);const i=t.getSelection();i.removeAllRanges();i.addRange(n);t.body.focus()}}insertElementOnSelection(e,t,n){if(this.editionProperties.isNewElement){if(e){if(t.type===\"textarea\"){ql.updateTextArea(t,e.textContent)}else if(document.selection&&document.getSelection===0){let t=n.document.selection.createRange();n.document.execCommand(\"InsertImage\",false,e.src);if(!(\"parentElement\"in t)){n.document.execCommand(\"delete\",false);t=n.document.selection.createRange();n.document.execCommand(\"InsertImage\",false,e.src)}if(\"parentElement\"in t){const n=t.parentElement();if(n.nodeName.toUpperCase()===\"IMG\"){n.parentNode.replaceChild(e,n)}else{t.pasteHTML(ql.createObjectCode(e))}}}else{const t=this.integrationModel.getSelection();let n=null;if(this.editionProperties.range){({range:n}=this.editionProperties);this.editionProperties.range=null}else{n=t.getRangeAt(0)}n.deleteContents();let i=n.startContainer;const r=n.startOffset;if(i.nodeType===3){i=i.splitText(r);i.parentNode.insertBefore(e,i)}else if(i.nodeType===1){i.insertBefore(e,i.childNodes[r])}this.placeCaretAfterNode(e)}}else if(t.type===\"textarea\"){t.focus()}else{const e=this.integrationModel.getSelection();e.removeAllRanges();if(this.editionProperties.range){const{range:t}=this.editionProperties;this.editionProperties.range=null;e.addRange(t)}}}else if(this.editionProperties.latexRange){if(document.selection&&document.getSelection===0){this.editionProperties.isNewElement=true;this.editionProperties.latexRange.select();this.insertElementOnSelection(e,t,n)}else{this.editionProperties.latexRange.deleteContents();this.editionProperties.latexRange.insertNode(e);this.placeCaretAfterNode(e)}}else if(t.type===\"textarea\"){let n;if(typeof this.integrationModel.getSelectedItem!==\"undefined\"){n=this.integrationModel.getSelectedItem(t,false)}else{n=ql.getSelectedItemOnTextarea(t)}ql.updateExistingTextOnTextarea(t,e.textContent,n.startPosition,n.endPosition)}else{if(e&&e.nodeName.toLowerCase()===\"img\"){Yl.removeImgDataAttributes(this.editionProperties.temporalImage);Yl.clone(e,this.editionProperties.temporalImage)}else{this.editionProperties.temporalImage.remove()}this.placeCaretAfterNode(this.editionProperties.temporalImage)}}openModalDialog(e,t){this.editMode=\"images\";try{if(t){e.contentWindow.focus();const t=e.contentWindow.getSelection();this.editionProperties.range=t.getRangeAt(0)}else{e.focus();const t=getSelection();this.editionProperties.range=t.getRangeAt(0)}}catch(e){this.editionProperties.range=null}if(t===undefined){t=true}this.editionProperties.latexRange=null;if(e){let n;if(typeof this.integrationModel.getSelectedItem!==\"undefined\"){n=this.integrationModel.getSelectedItem(e,t)}else{n=ql.getSelectedItem(e,t)}if(n){if(!n.caretPosition&&ql.containsClass(n.node,Fl.get(\"imageClassName\"))){this.editionProperties.temporalImage=n.node;this.editionProperties.isNewElement=false}else if(n.node.nodeType===3){if(this.integrationModel.getMathmlFromTextNode){const e=this.integrationModel.getMathmlFromTextNode(n.node,n.caretPosition);if(e){this.editMode=\"latex\";this.editionProperties.isNewElement=false;this.editionProperties.temporalImage=document.createElement(\"img\");this.editionProperties.temporalImage.setAttribute(Fl.get(\"imageMathmlAttribute\"),Bl.safeXmlEncode(e))}}else{const i=Hl.getLatexFromTextNode(n.node,n.caretPosition);if(i){const n=Hl.getMathMLFromLatex(i.latex);this.editMode=\"latex\";this.editionProperties.isNewElement=false;this.editionProperties.temporalImage=document.createElement(\"img\");this.editionProperties.temporalImage.setAttribute(Fl.get(\"imageMathmlAttribute\"),Bl.safeXmlEncode(n));const r=t?e.contentWindow:window;if(e.tagName.toLowerCase()!==\"textarea\"){if(document.selection){let e=0;let t=i.startNode.previousSibling;while(t){e+=ql.getNodeLength(t);t=t.previousSibling}this.editionProperties.latexRange=r.document.selection.createRange();this.editionProperties.latexRange.moveToElementText(i.startNode.parentNode);this.editionProperties.latexRange.move(\"character\",e+i.startPosition);this.editionProperties.latexRange.moveEnd(\"character\",i.latex.length+4)}else{this.editionProperties.latexRange=r.document.createRange();this.editionProperties.latexRange.setStart(i.startNode,i.startPosition);this.editionProperties.latexRange.setEnd(i.endNode,i.endPosition)}}}}}}else if(e.tagName.toLowerCase()===\"textarea\"){this.editMode=\"latex\"}}const n=Fl.get(\"editorAttributes\").split(\", \");const i={};for(let e=0,t=n.length;e<t;e+=1){const t=n[e].split(\"=\");const r=t[0];const o=t[1];i[r]=o}const r={};const o=Fl.get(\"editorParameters\");const s=this.integrationModel.editorParameters;Object.assign(r,i,o);Object.assign(r,i,s);r.language=this.language;r.rtl=this.integrationModel.rtl;const a={};a.editorAttributes=r;a.language=this.language;a.customEditors=this.customEditors;a.environment=this.environment;if(this.modalDialog==null){this.modalDialog=new Id(r);this.contentManager=new Ql(a);const e=Vl.newListener(\"onLoad\",()=>{this.contentManager.isNewElement=this.editionProperties.isNewElement;if(this.editionProperties.temporalImage!=null){const e=Bl.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(Fl.get(\"imageMathmlAttribute\")));this.contentManager.mathML=e}});this.contentManager.addListener(e);this.contentManager.init();this.modalDialog.setContentManager(this.contentManager);this.contentManager.setModalDialogInstance(this.modalDialog)}else{this.contentManager.isNewElement=this.editionProperties.isNewElement;if(this.editionProperties.temporalImage!=null){const e=Bl.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(Fl.get(\"imageMathmlAttribute\")));this.contentManager.mathML=e}}this.contentManager.setIntegrationModel(this.integrationModel);this.modalDialog.open()}getCustomEditors(){return this.customEditors}}Nd._globalListeners=new Vl;Nd._initialized=false;class jd{constructor(e){this.language=\"en\";this.serviceProviderProperties={};if(\"serviceProviderProperties\"in e){this.serviceProviderProperties=e.serviceProviderProperties}this.configurationService=\"\";if(\"configurationService\"in e){this.serviceProviderProperties.URI=e.configurationService;console.warn(\"Deprecated property configurationService. Use serviceParameters on instead.\",[e.configurationService])}this.version=\"version\"in e?e.version:\"\";this.target=null;if(\"target\"in e){this.target=e.target}else{throw new Error(\"IntegrationModel constructor error: target property missed.\")}if(\"scriptName\"in e){this.scriptName=e.scriptName}this.callbackMethodArguments={};if(\"callbackMethodArguments\"in e){this.callbackMethodArguments=e.callbackMethodArguments}this.environment={};if(\"environment\"in e){this.environment=e.environment}this.isIframe=false;if(this.target!=null){this.isIframe=this.target.tagName.toUpperCase()===\"IFRAME\"}this.editorObject=null;if(\"editorObject\"in e){this.editorObject=e.editorObject}this.rtl=false;if(\"rtl\"in e){this.rtl=e.rtl}this.managesLanguage=false;if(\"managesLanguage\"in e){this.managesLanguage=e.managesLanguage}this.temporalImageResizing=false;this.core=null;this.listeners=new Vl;if(\"integrationParameters\"in e){jd.integrationParameters.forEach(t=>{if(t in e.integrationParameters){const n=e.integrationParameters[t];if(Object.keys(n).length!==0){this[t]=n}}})}}init(){this.language=this.getLanguage();const e=Vl.newListener(\"onLoad\",()=>{this.callbackFunction(this.callbackMethodArguments)});if(this.serviceProviderProperties.URI.indexOf(\"configuration\")!==-1){const e=this.serviceProviderProperties.URI;const t=Ul.getServerLanguageFromService(e);this.serviceProviderProperties.server=t;const n=this.serviceProviderProperties.URI.indexOf(\"configuration\");const i=this.serviceProviderProperties.URI.substring(0,n);this.serviceProviderProperties.URI=i}let t=this.serviceProviderProperties.URI;t=t.indexOf(\"/\")===0||t.indexOf(\"http\")===0?t:ql.concatenateUrl(this.getPath(),t);this.serviceProviderProperties.URI=t;const n={};n.serviceProviderProperties=this.serviceProviderProperties;this.setCore(new Nd(n));this.core.addListener(e);this.core.language=this.language;this.core.init();this.core.setEnvironment(this.environment)}getPath(){if(typeof this.scriptName===\"undefined\"){throw new Error(\"scriptName property needed for getPath.\")}const e=document.getElementsByTagName(\"script\");let t=\"\";for(let n=0;n<e.length;n+=1){const i=e[n].src.lastIndexOf(this.scriptName);if(i>=0){t=e[n].src.substr(0,i-1)}}return t}getVersion(){return this.version}setLanguage(e){this.language=e}setCore(e){this.core=e;e.setIntegrationModel(this)}getCore(){return this.core}setTarget(e){this.target=e;this.isIframe=this.target.tagName.toUpperCase()===\"IFRAME\"}setEditorObject(e){this.editorObject=e}openNewFormulaEditor(){this.core.editionProperties.isNewElement=true;this.core.openModalDialog(this.target,this.isIframe)}openExistingFormulaEditor(){this.core.editionProperties.isNewElement=false;this.core.openModalDialog(this.target,this.isIframe)}updateFormula(e){if(this.editorParameters){e=com.wiris.editor.util.EditorUtils.addAnnotation(e,\"application/vnd.wiris.mtweb-params+json\",JSON.stringify(this.editorParameters))}let t;let n;const i=null;if(this.isIframe){t=this.target.contentWindow;n=this.target.contentWindow}else{t=this.target;n=window}let r=this.core.beforeUpdateFormula(e,i);if(!r){return\"\"}r=this.insertFormula(t,n,r.mathml,r.wirisProperties);if(!r){return\"\"}return this.core.afterUpdateFormula(r.focusElement,r.windowTarget,r.node,r.latex)}insertFormula(e,t,n,i){return this.core.insertFormula(e,t,n,i)}getSelection(){if(this.isIframe){this.target.contentWindow.focus();return this.target.contentWindow.getSelection()}this.target.focus();return window.getSelection()}addEvents(){const e=this.isIframe?this.target.contentWindow.document:this.target;ql.addElementEvents(e,(e,t)=>{this.doubleClickHandler(e,t)},(e,t)=>{this.mousedownHandler(e,t)},(e,t)=>{this.mouseupHandler(e,t)})}doubleClickHandler(e){if(e.nodeName.toLowerCase()===\"img\"){this.core.getCustomEditors().disable();const t=Fl.get(\"imageCustomEditorName\");if(e.hasAttribute(t)){const n=e.getAttribute(t);this.core.getCustomEditors().enable(n)}if(ql.containsClass(e,Fl.get(\"imageClassName\"))){this.core.editionProperties.temporalImage=e;this.core.editionProperties.isNewElement=true;this.openExistingFormulaEditor()}}}mouseupHandler(){if(this.temporalImageResizing){setTimeout(()=>{Yl.fixAfterResize(this.temporalImageResizing)},10)}}mousedownHandler(e){if(e.nodeName.toLowerCase()===\"img\"){if(ql.containsClass(e,Fl.get(\"imageClassName\"))){this.temporalImageResizing=e}}}getLanguage(){return this.getBrowserLanguage()}getBrowserLanguage(){let e=\"en\";if(navigator.userLanguage){e=navigator.userLanguage.substring(0,2)}else if(navigator.language){e=navigator.language.substring(0,2)}else{e=\"en\"}return e}callbackFunction(){const e=Vl.newListener(\"onTargetReady\",()=>{this.addEvents(this.target)});this.listeners.add(e)}notifyWindowClosed(){}getMathmlFromTextNode(e,t){}fillNonLatexNode(e,t,n){}getSelectedItem(e,t){}}jd.prototype.getMathmlFromTextNode=undefined;jd.prototype.fillNonLatexNode=undefined;jd.prototype.getSelectedItem=undefined;jd.integrationParameters=[\"serviceProviderProperties\",\"editorParameters\"];var Dd=n(5);class Ld extends jd{constructor(e){const t=e.editorObject;if(typeof t.config!=\"undefined\"&&typeof t.config.get(\"mathTypeParameters\")!=\"undefined\"){e.integrationParameters=t.config.get(\"mathTypeParameters\")}super(e);this.integrationFolderName=\"ckeditor_wiris\"}getLanguage(){return this.editorObject.config.get(\"language\")}addEditorListeners(){const e=this.editorObject;if(typeof e.config.wirislistenersdisabled==\"undefined\"||!e.config.wirislistenersdisabled){this.checkElement()}}checkElement(){const e=this.editorObject;const t=e.sourceElement;if(!t.wirisActive){this.setTarget(t);this.addEvents();t.wirisActive=true}}doubleClickHandler(e,t){if(e.nodeName.toLowerCase()==\"img\"){if(ql.containsClass(e,Fl.get(\"imageClassName\"))){if(typeof t.stopPropagation!=\"undefined\"){t.stopPropagation()}else{t.returnValue=false}this.core.getCustomEditors().disable();const n=e.getAttribute(Fl.get(\"imageCustomEditorName\"));if(n){this.core.getCustomEditors().enable(n)}this.core.editionProperties.temporalImage=e;this.openExistingFormulaEditor()}}}getCorePath(){return null}callbackFunction(){super.callbackFunction();this.addEditorListeners()}openNewFormulaEditor(){this.core.editionProperties.selection=this.editorObject.editing.view.document.selection;return super.openNewFormulaEditor()}insertMathml(e){return this.editorObject.model.change(t=>{const n=this.getCore();const i=t.createElement(\"mathml\",{formula:e});if(n.editionProperties.isNewElement){if(!e)return;let n=this.core.editionProperties.selection||this.editorObject.editing.view.document.selection;let r=this.editorObject.editing.mapper.toModelPosition(n.getLastPosition());t.insert(i,r);if(!n.isCollapsed){for(const e of n.getRanges()){t.remove(this.editorObject.editing.mapper.toModelRange(e))}}}else{const r=n.editionProperties.temporalImage;const o=this.editorObject.editing.view.domConverter.domToView(r).parent;const s=this.editorObject.editing.mapper.toModelElement(o);const a=this.editorObject.model.createPositionBefore(s);if(e){t.insert(i,a)}t.remove(s)}return i})}findText(e){let t=e;let n;while(!n){n=this.editorObject.editing.mapper.toModelElement(this.editorObject.editing.view.domConverter.domToView(t));t=t.parentElement}const i=this.editorObject.model.createRangeIn(n);const r=Array.from(i.getItems());for(const t of r){if(t.is(\"textProxy\")&&t.data==e.data.replace(String.fromCharCode(160),\" \")){return t.textNode}}}insertFormula(e,t,n,i){let r={};if(!n){this.insertMathml(\"\")}else if(this.core.editMode==\"latex\"){r.latex=Hl.getLatexFromMathML(n);r.node=t.document.createTextNode(\"$$\"+r.latex+\"$$\");this.editorObject.model.change(e=>{const t=this.core.editionProperties.latexRange;const n=this.findText(t.startContainer);const i=this.findText(t.endContainer);const o=e.createPositionAt(n.parent,n.startOffset+t.startOffset);const s=e.createPositionAt(i.parent,i.startOffset+t.endOffset);const a=e.createRange(o,s);e.remove(a);e.insertText(\"$$\"+r.latex+\"$$\",n.getAttributes(),o)})}else{r.node=this.editorObject.editing.view.domConverter.viewToDom(this.editorObject.editing.mapper.toViewElement(this.insertMathml(n)),t.document)}return r}notifyWindowClosed(){this.editorObject.editing.view.focus()}}class Bd extends ke[\"a\"]{constructor(e){super(e)}execute(e={}){if(!e.hasOwnProperty(\"integration\")||!(e.integration instanceof Ld)){throw'Must pass a valid CKEditor5Integration instance as attribute \"integration\" of options'}this.integration=e.integration;this.setEditor();this.openEditor()}setEditor(){this.integration.core.getCustomEditors().disable()}openEditor(){const e=this._getSelectedImage();if(typeof e!==\"undefined\"&&e!==null&&e.classList.contains(WirisPlugin.Configuration.get(\"imageClassName\"))){this.integration.core.editionProperties.temporalImage=e;this.integration.openExistingFormulaEditor()}else{this.integration.openNewFormulaEditor()}}_getSelectedImage(){const e=this.editor.editing.view.document.selection;if(e.isCollapsed||e.rangeCount!==1){return}const t=e.getFirstRange();let n;for(const e of t){if(e.item.name!==\"span\"){return}n=e.item.getChild(0);break}if(!n){return}return this.editor.editing.view.domConverter.mapViewToDom(n)}}class Fd extends Bd{setEditor(){this.integration.core.getCustomEditors().enable(\"chemistry\")}}var zd='<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n\\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\\x3e\\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t viewBox=\"0 0 300 261.7\" style=\"enable-background:new 0 0 300 261.7;\" xml:space=\"preserve\">\\n<style type=\"text/css\">\\n\\t.st0{fill:#FFFFFF;}\\n\\t.st1{fill:#EF4A5F;}\\n\\t.st2{fill:#C8202F;}\\n</style>\\n<path class=\"st0\" d=\"M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\\n\\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8\"/>\\n<path class=\"st0\" d=\"M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\\n\\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\\n\\tC91.6,257.7,90.9,257.7,90.2,257.7\"/>\\n<g>\\n\\t<g>\\n\\t\\t<path class=\"st1\" d=\"M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\\n\\t\\t\\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\\n\\t\\t\\tC91.6,257.7,90.9,257.7,90.2,257.7\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path class=\"st2\" d=\"M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\\n\\t\\t\\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8\"/>\\n\\t</g>\\n</g>\\n</svg>\\n';var Vd='<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n\\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\\x3e\\n<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\\n\\t viewBox=\"0 0 40.3 49.5\" style=\"enable-background:new 0 0 40.3 49.5;\" xml:space=\"preserve\">\\n<style type=\"text/css\">\\n\\t.st0{fill:#A4CF61;}\\n</style>\\n<path class=\"st0\" d=\"M39.2,12.1c0-1.9-1.1-3.6-2.7-4.4L24.5,0.9l0,0c-0.7-0.4-1.5-0.6-2.4-0.6c-0.9,0-1.7,0.2-2.4,0.6l0,0L2.3,10.8\\n\\tl0,0C0.9,11.7,0,13.2,0,14.9h0v19.6h0c0,1.7,0.9,3.3,2.3,4.1l0,0l17.4,9.9l0,0c0.7,0.4,1.5,0.6,2.4,0.6c0.9,0,1.7-0.2,2.4-0.6l0,0\\n\\tl12.2-6.9h0c1.5-0.8,2.6-2.5,2.6-4.3c0-2.7-2.2-4.9-4.9-4.9c-0.9,0-1.8,0.3-2.5,0.7l0,0l-9.7,5.6l-12.3-7V17.8l12.3-7l9.9,5.7l0,0\\n\\tc0.7,0.4,1.5,0.6,2.4,0.6C37,17,39.2,14.8,39.2,12.1\"/>\\n</svg>\\n';class Ud extends ve[\"a\"]{static get requires(){return[Ls]}static get pluginName(){return\"MathType\"}init(){const e=this._addIntegration();this._addCommands();this._addViews(e);this._addSchema();this._addConverters();this._exposeWiris()}_addIntegration(){const e=this.editor;const t={};t.environment={};t.environment.editor=\"CKEditor5\";t.environment.editorVersion=\"5\"+\".x\";t.editorObject=e;t.serviceProviderProperties={};t.serviceProviderProperties.URI=\"https://www.wiris.net/demo/plugins/app\";t.serviceProviderProperties.server=\"java\";t.target=e.sourceElement;t.scriptName=\"bundle.js\";t.managesLanguage=true;let n;if(t.target){n=new Ld(t);n.init();n.listeners.fire(\"onTargetReady\",{});n.checkElement();this.listenTo(e.editing.view.document,\"click\",(e,t)=>{if(t.domEvent.detail==2){n.doubleClickHandler(t.domTarget,t.domEvent);e.stop()}},{priority:\"highest\"})}return n}_addCommands(){const e=this.editor;e.commands.add(\"MathType\",new Bd(e));e.commands.add(\"ChemType\",new Fd(e))}_addViews(e){const t=this.editor;t.ui.componentFactory.add(\"MathType\",n=>{const i=new z[\"a\"](n);i.bind(\"isEnabled\").to(t.commands.get(\"MathType\"),\"isEnabled\");i.set({label:\"Insert a math equation - MathType\",icon:zd,tooltip:true});i.on(\"execute\",()=>{t.execute(\"MathType\",{integration:e})});return i});t.ui.componentFactory.add(\"ChemType\",n=>{const i=new z[\"a\"](n);i.bind(\"isEnabled\").to(t.commands.get(\"ChemType\"),\"isEnabled\");i.set({label:\"Insert a chemistry formula - ChemType\",icon:Vd,tooltip:true});i.on(\"execute\",()=>{t.execute(\"ChemType\",{integration:e})});return i});t.editing.view.addObserver(wl)}_addSchema(){const e=this.editor.model.schema;e.register(\"mathml\",{allowWhere:\"$text\",isObject:true,isInline:true,allowAttributes:[\"formula\"]})}_addConverters(){const e=this.editor;e.conversion.for(\"upcast\").elementToElement({view:{name:\"span\",classes:\"ck-math-widget\"},model:(e,t)=>{const n=Bl.safeXmlDecode(e.getChild(0).getAttribute(\"data-mathml\"));return t.createElement(\"mathml\",{formula:n})}});e.data.upcastDispatcher.on(\"element:math\",(n,i,r)=>{const{consumable:o,writer:s}=r;const a=i.viewItem;if(!o.test(a,{name:true})){return}let c=t(a);const l=new Dl(e.editing.view.document);const d=new Ec(e.editing.view.document);const u=d.createDocumentFragment(a.getChildren());const h=[...a.getAttributes()].map(([e,t])=>` ${e}=\"${t}\"`).join(\"\");let f=l.toData(u)||\"\";f=`<math${h}>${f}</math>`;const m=c?s.createText(Kl.initParse(f,e.config.get(\"language\"))):s.createElement(\"mathml\",{formula:f});const g=r.splitToAllowedParent(m,i.modelCursor);if(!g){return}r.writer.insert(m,g.position);o.consume(a,{name:true});const p=r.getSplitParts(m);i.modelRange=s.createRange(r.writer.createPositionBefore(m),r.writer.createPositionAfter(p[p.length-1]));if(g.cursorParent){i.modelCursor=r.writer.createPositionAt(g.cursorParent,0)}else{i.modelCursor=i.modelRange.end}});function t(e){const t=e.getChild(0);if(!t||t.name!==\"semantics\")return false;for(const e of t.getChildren()){if(e.name===\"annotation\"&&e.getAttribute(\"encoding\")===\"LaTeX\"){return true}}return false}e.conversion.for(\"editingDowncast\").elementToElement({model:\"mathml\",view:r});e.conversion.for(\"dataDowncast\").elementToElement({model:\"mathml\",view:i});function n(e,t){if(t.is(\"text\")){return e.createText(t.data)}else if(t.is(\"element\")){if(t.is(\"emptyElement\")){return e.createEmptyElement(t.name,t.getAttributes())}else{const i=e.createContainerElement(t.name,t.getAttributes());for(const r of t.getChildren()){e.insert(e.createPositionAt(i,\"end\"),n(e,r))}return i}}throw new Exception(\"Given node has unsupported type.\")}function i(e,t){const i=new s[\"a\"](t.document);let r=Kl.endParseSaveMode(e.getAttribute(\"formula\"));if(!Fl.get(\"saveHandTraces\")){r=Bl.removeAnnotation(r,\"application/json\")}const o=i.toView(r).getChild(0);return n(t,o)}function r(e,t){const n=t.createContainerElement(\"span\",{class:\"ck-math-widget\"});const i=o(e,t);t.insert(t.createPositionAt(n,0),i);return Ft(n,t)}function o(t,n){const i=new s[\"a\"](n.document);const r=t.getAttribute(\"formula\");const o=Kl.initParse(r,e.config.get(\"language\"));const a=i.toView(o).getChild(0);return n.createEmptyElement(\"img\",a.getAttributes())}}_exposeWiris(){window.WirisPlugin={Core:Nd,Parser:Kl,Image:Yl,MathML:Bl,Util:ql,Configuration:Fl,Listeners:Vl,IntegrationModel:jd,Latex:Hl}}}function Hd(e,t){return e=>{e.on(\"attribute:url:media\",n)};function n(n,i,r){if(!r.consumable.consume(i.item,n.name)){return}const o=i.attributeNewValue;const s=r.writer;const a=r.mapper.toViewElement(i.item);const c=[...a.getChildren()].find(e=>e.getCustomProperty(\"media-content\"));s.remove(c);const l=e.getMediaViewElement(s,o,t);s.insert(s.createPositionAt(a,0),l)}}function Wd(e,t,n){t.setCustomProperty(\"media\",true,e);return Ft(e,t,{label:n})}function $d(e){const t=e.getSelectedElement();if(t&&qd(t)){return t}return null}function qd(e){return!!e.getCustomProperty(\"media\")&&Bt(e)}function Yd(e,t,n,i){const r=e.createContainerElement(\"figure\",{class:\"media\"});e.insert(e.createPositionAt(r,0),t.getMediaViewElement(e,n,i));return r}function Jd(e){const t=e.getSelectedElement();if(t&&t.is(\"element\",\"media\")){return t}return null}function Gd(e,t,n){e.change(i=>{const r=i.createElement(\"media\",{url:t});e.insertContent(r,n);i.setSelection(r,\"on\")})}class Kd extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=e.document.selection;const n=e.schema;const i=t.getFirstPosition();const r=Jd(t);let o=i.parent;if(o!=o.root){o=o.parent}this.value=r?r.getAttribute(\"url\"):null;this.isEnabled=n.checkChild(o,\"media\")}execute(e){const t=this.editor.model;const n=t.document.selection;const i=Jd(n);if(i){t.change(t=>{t.setAttribute(\"url\",e,i)})}else{const i=Wt(n,t);Gd(t,e,i)}}}var Xd='<svg viewBox=\"0 0 64 42\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z\"/></svg>';var Qd=n(129);const Zd=\"0 0 64 42\";class eu{constructor(e,t){const n=t.providers;const i=t.extraProviders||[];const r=new Set(t.removeProviders);const o=n.concat(i).filter(e=>{const t=e.name;if(!t){console.warn(Object(se[\"a\"])(\"media-embed-no-provider-name: The configured media provider has no name and cannot be used.\"),{provider:e});return false}return!r.has(t)});this.locale=e;this.providerDefinitions=o}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e){return new tu(this.locale)}e=e.trim();for(const t of this.providerDefinitions){const n=t.html;let i=t.url;if(!Array.isArray(i)){i=[i]}for(const t of i){const i=this._getUrlMatches(e,t);if(i){return new tu(this.locale,e,i,n)}}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n){return n}let i=e.replace(/^https?:\\/\\//,\"\");n=i.match(t);if(n){return n}i=i.replace(/^www\\./,\"\");n=i.match(t);if(n){return n}return null}}class tu{constructor(e,t,n,i){this.url=this._getValidUrl(t);this._t=e.t;this._match=n;this._previewRenderer=i}getViewElement(e,t){const n={};let i;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){if(this.url){n[\"data-oembed-url\"]=this.url}if(t.renderForEditingView){n.class=\"ck-media__wrapper\"}const r=this._getPreviewHtml(t);i=e.createRawElement(\"div\",n,(function(e){e.innerHTML=r}))}else{if(this.url){n.url=this.url}i=e.createEmptyElement(\"oembed\",n)}e.setCustomProperty(\"media-content\",true,i);return i}_getPreviewHtml(e){if(this._previewRenderer){return this._previewRenderer(this._match)}else{if(this.url&&e.renderForEditingView){return this._getPlaceholderHtml()}return\"\"}}_getPlaceholderHtml(){const e=new Qd[\"a\"];const t=new U[\"a\"];e.text=this._t(\"Open media in new tab\");t.content=Xd;t.viewBox=Zd;const n=new eo[\"a\"]({tag:\"div\",attributes:{class:\"ck ck-reset_all ck-media__placeholder\"},children:[{tag:\"div\",attributes:{class:\"ck-media__placeholder__icon\"},children:[t]},{tag:\"a\",attributes:{class:\"ck-media__placeholder__url\",target:\"_blank\",rel:\"noopener noreferrer\",href:this.url},children:[{tag:\"span\",attributes:{class:\"ck-media__placeholder__url__text\"},children:[this.url]},e]}]}).render();return n.outerHTML}_getValidUrl(e){if(!e){return null}if(e.match(/^https?/)){return e}return\"https://\"+e}}var nu=n(356);class iu extends ve[\"a\"]{static get pluginName(){return\"MediaEmbedEditing\"}constructor(e){super(e);e.config.define(\"mediaEmbed\",{providers:[{name:\"dailymotion\",url:/^dailymotion\\.com\\/video\\/(\\w+)/,html:e=>{const t=e[1];return'<div style=\"position: relative; padding-bottom: 100%; height: 0; \">'+`<iframe src=\"https://www.dailymotion.com/embed/video/${t}\" `+'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" '+'frameborder=\"0\" width=\"480\" height=\"270\" allowfullscreen allow=\"autoplay\">'+\"</iframe>\"+\"</div>\"}},{name:\"spotify\",url:[/^open\\.spotify\\.com\\/(artist\\/\\w+)/,/^open\\.spotify\\.com\\/(album\\/\\w+)/,/^open\\.spotify\\.com\\/(track\\/\\w+)/],html:e=>{const t=e[1];return'<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;\">'+`<iframe src=\"https://open.spotify.com/embed/${t}\" `+'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" '+'frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\">'+\"</iframe>\"+\"</div>\"}},{name:\"youtube\",url:[/^(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/,/^(?:m\\.)?youtube\\.com\\/v\\/([\\w-]+)/,/^youtube\\.com\\/embed\\/([\\w-]+)/,/^youtu\\.be\\/([\\w-]+)/],html:e=>{const t=e[1];return'<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">'+`<iframe src=\"https://www.youtube.com/embed/${t}\" `+'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" '+'frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>'+\"</iframe>\"+\"</div>\"}},{name:\"vimeo\",url:[/^vimeo\\.com\\/(\\d+)/,/^vimeo\\.com\\/[^/]+\\/[^/]+\\/video\\/(\\d+)/,/^vimeo\\.com\\/album\\/[^/]+\\/video\\/(\\d+)/,/^vimeo\\.com\\/channels\\/[^/]+\\/(\\d+)/,/^vimeo\\.com\\/groups\\/[^/]+\\/videos\\/(\\d+)/,/^vimeo\\.com\\/ondemand\\/[^/]+\\/(\\d+)/,/^player\\.vimeo\\.com\\/video\\/(\\d+)/],html:e=>{const t=e[1];return'<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">'+`<iframe src=\"https://player.vimeo.com/video/${t}\" `+'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" '+'frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen>'+\"</iframe>\"+\"</div>\"}},{name:\"instagram\",url:/^instagram\\.com\\/p\\/(\\w+)/},{name:\"twitter\",url:/^twitter\\.com/},{name:\"googleMaps\",url:/^google\\.com\\/maps/},{name:\"flickr\",url:/^flickr\\.com/},{name:\"facebook\",url:/^facebook\\.com/}]});this.registry=new eu(e.locale,e.config.get(\"mediaEmbed\"))}init(){const e=this.editor;const t=e.model.schema;const n=e.t;const i=e.conversion;const r=e.config.get(\"mediaEmbed.previewsInData\");const o=this.registry;e.commands.add(\"mediaEmbed\",new Kd(e));t.register(\"media\",{isObject:true,isBlock:true,allowWhere:\"$block\",allowAttributes:[\"url\"]});i.for(\"dataDowncast\").elementToElement({model:\"media\",view:(e,t)=>{const n=e.getAttribute(\"url\");return Yd(t,o,n,{renderMediaPreview:n&&r})}});i.for(\"dataDowncast\").add(Hd(o,{renderMediaPreview:r}));i.for(\"editingDowncast\").elementToElement({model:\"media\",view:(e,t)=>{const i=e.getAttribute(\"url\");const r=Yd(t,o,i,{renderForEditingView:true});return Wd(r,t,n(\"media widget\"))}});i.for(\"editingDowncast\").add(Hd(o,{renderForEditingView:true}));i.for(\"upcast\").elementToElement({view:{name:\"oembed\",attributes:{url:true}},model:(e,t)=>{const n=e.getAttribute(\"url\");if(o.hasMedia(n)){return t.createElement(\"media\",{url:n})}}}).elementToElement({view:{name:\"div\",attributes:{\"data-oembed-url\":true}},model:(e,t)=>{const n=e.getAttribute(\"data-oembed-url\");if(o.hasMedia(n)){return t.createElement(\"media\",{url:n})}}})}}var ru=n(32);var ou=n(47);var su=n(194);const au=/^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w.-]+)+[\\w\\-._~:/?#[\\]@!$&'()*+,;=]+$/;class cu extends ve[\"a\"]{static get requires(){return[En[\"a\"],su[\"a\"]]}static get pluginName(){return\"AutoMediaEmbed\"}constructor(e){super(e);this._timeoutId=null;this._positionToInsert=null}init(){const e=this.editor;const t=e.model.document;this.listenTo(e.plugins.get(En[\"a\"]),\"inputTransformation\",()=>{const e=t.selection.getFirstRange();const n=ou[\"a\"].fromPosition(e.start);n.stickiness=\"toPrevious\";const i=ou[\"a\"].fromPosition(e.end);i.stickiness=\"toNext\";t.once(\"change:data\",()=>{this._embedMediaBetweenPositions(n,i);n.detach();i.detach()},{priority:\"high\"})});e.commands.get(\"undo\").on(\"execute\",()=>{if(this._timeoutId){v[\"a\"].window.clearTimeout(this._timeoutId);this._positionToInsert.detach();this._timeoutId=null;this._positionToInsert=null}},{priority:\"high\"})}_embedMediaBetweenPositions(e,t){const n=this.editor;const i=n.plugins.get(iu).registry;const r=new ru[\"a\"](e,t);const o=r.getWalker({ignoreElementEnd:true});let s=\"\";for(const e of o){if(e.item.is(\"$textProxy\")){s+=e.item.data}}s=s.trim();if(!s.match(au)){r.detach();return}if(!i.hasMedia(s)){r.detach();return}const a=n.commands.get(\"mediaEmbed\");if(!a.isEnabled){r.detach();return}this._positionToInsert=ou[\"a\"].fromPosition(e);this._timeoutId=v[\"a\"].window.setTimeout(()=>{n.model.change(e=>{this._timeoutId=null;e.remove(r);r.detach();let t;if(this._positionToInsert.root.rootName!==\"$graveyard\"){t=this._positionToInsert}Gd(n.model,s,t);this._positionToInsert.detach();this._positionToInsert=null})},100)}}var lu=n(358);class du extends m[\"a\"]{constructor(e,t){super(t);const n=t.t;this.focusTracker=new g[\"a\"];this.keystrokes=new b[\"a\"];this.urlInputView=this._createUrlInput();this.saveButtonView=this._createButton(n(\"Save\"),Ks[\"a\"],\"ck-button-save\");this.saveButtonView.type=\"submit\";this.cancelButtonView=this._createButton(n(\"Cancel\"),Xs[\"a\"],\"ck-button-cancel\",\"cancel\");this._focusables=new Us[\"a\"];this._focusCycler=new p[\"a\"]({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:\"shift + tab\",focusNext:\"tab\"}});this._validators=e;this.setTemplate({tag:\"form\",attributes:{class:[\"ck\",\"ck-media-form\"],tabindex:\"-1\"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render();Gs({view:this});const e=[this.urlInputView,this.saveButtonView,this.cancelButtonView];e.forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element)});this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set(\"arrowright\",t);this.keystrokes.set(\"arrowleft\",t);this.keystrokes.set(\"arrowup\",t);this.keystrokes.set(\"arrowdown\",t);this.listenTo(this.urlInputView.element,\"selectstart\",(e,t)=>{t.stopPropagation()},{priority:\"high\"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t){this.urlInputView.errorText=t;return false}}return true}resetFormStatus(){this.urlInputView.errorText=null;this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t;const t=new Ws(this.locale,Ys);const n=t.fieldView;this._urlInputViewInfoDefault=e(\"Paste the media URL in the input.\");this._urlInputViewInfoTip=e(\"Tip: Paste the URL into the content to embed faster.\");t.label=e(\"Media URL\");t.infoText=this._urlInputViewInfoDefault;n.placeholder=\"https://example.com\";n.on(\"input\",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault});return t}_createButton(e,t,n,i){const r=new z[\"a\"](this.locale);r.set({label:e,icon:t,tooltip:true});r.extendTemplate({attributes:{class:n}});if(i){r.delegate(\"execute\").to(this,i)}return r}}var uu='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z\"/></svg>';class hu extends ve[\"a\"]{static get requires(){return[iu]}static get pluginName(){return\"MediaEmbedUI\"}init(){const e=this.editor;const t=e.commands.get(\"mediaEmbed\");const n=e.plugins.get(iu).registry;e.ui.componentFactory.add(\"mediaEmbed\",i=>{const r=Z(i);const o=new du(fu(e.t,n),e.locale);this._setUpDropdown(r,o,t,e);this._setUpForm(r,o,t);return r})}_setUpDropdown(e,t,n){const i=this.editor;const r=i.t;const o=e.buttonView;e.bind(\"isEnabled\").to(n);e.panelView.children.add(t);o.set({label:r(\"Insert media\"),icon:uu,tooltip:true});o.on(\"open\",()=>{t.url=n.value||\"\";t.urlInputView.fieldView.select();t.focus()},{priority:\"low\"});e.on(\"submit\",()=>{if(t.isValid()){i.execute(\"mediaEmbed\",t.url);s()}});e.on(\"change:isOpen\",()=>t.resetFormStatus());e.on(\"cancel\",()=>s());function s(){i.editing.view.focus();e.isOpen=false}}_setUpForm(e,t,n){t.delegate(\"submit\",\"cancel\").to(e);t.urlInputView.bind(\"value\").to(n,\"value\");t.urlInputView.bind(\"isReadOnly\").to(n,\"isEnabled\",e=>!e);t.saveButtonView.bind(\"isEnabled\").to(n)}}function fu(e,t){return[t=>{if(!t.url.length){return e(\"The URL must not be empty.\")}},n=>{if(!t.hasMedia(n.url)){return e(\"This media URL is not supported.\")}}]}var mu=n(360);class gu extends ve[\"a\"]{static get requires(){return[iu,hu,cu,Ls]}static get pluginName(){return\"MediaEmbed\"}}class pu extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=e.document;this.isEnabled=e.schema.checkAttributeInSelection(t.selection,\"mention\")}execute(e){const t=this.editor.model;const n=t.document;const i=n.selection;const r=typeof e.mention==\"string\"?{id:e.mention}:e.mention;const o=r.id;const s=e.range||i.getFirstRange();const a=e.text||o;const c=_u({_text:a,id:o},r);if(e.marker.length!=1){throw new se[\"b\"](\"mentioncommand-incorrect-marker: The marker must be a single character.\",this)}if(o.charAt(0)!=e.marker){throw new se[\"b\"](\"mentioncommand-incorrect-id: The item id must start with the marker character.\",this)}t.change(e=>{const n=Object(Sn[\"a\"])(i.getAttributes());const r=new Map(n.entries());r.set(\"mention\",c);t.insertContent(e.createText(a,r),s);t.insertContent(e.createText(\" \",n),s.start.getShiftedBy(a.length))})}}class bu extends ve[\"a\"]{static get pluginName(){return\"MentionEditing\"}init(){const e=this.editor;const t=e.model;const n=t.document;t.schema.extend(\"$text\",{allowAttributes:\"mention\"});e.conversion.for(\"upcast\").elementToAttribute({view:{name:\"span\",key:\"data-mention\",classes:\"mention\"},model:{key:\"mention\",value:wu}});e.conversion.for(\"downcast\").attributeToElement({model:\"mention\",view:ku});e.conversion.for(\"downcast\").add(vu);n.registerPostFixer(e=>Cu(e,n,t.schema));n.registerPostFixer(e=>Au(e,n));n.registerPostFixer(e=>xu(e,n));e.commands.add(\"mention\",new pu(e))}}function _u(e,t){return Object.assign({uid:Object(Gi[\"a\"])()},e,t||{})}function wu(e,t){const n=e.getAttribute(\"data-mention\");const i=e.getChild(0);if(!i){return}const r={id:n,_text:i.data};return _u(r,t)}function vu(e){e.on(\"attribute:mention\",(e,t,n)=>{const i=t.attributeNewValue;if(!t.item.is(\"$textProxy\")||!i){return}const r=t.range.start;const o=r.textNode||r.nodeAfter;if(o.data!=i._text){n.consumable.consume(t.item,e.name)}},{priority:\"highest\"})}function ku(e,t){if(!e){return}const n={class:\"mention\",\"data-mention\":e.id};const i={id:e.uid,priority:20};return t.createAttributeElement(\"span\",n,i)}function xu(e,t){const n=t.selection;const i=n.focus;if(n.isCollapsed&&n.hasAttribute(\"mention\")&&yu(i)){e.removeSelectionAttribute(\"mention\");return true}}function yu(e){const t=e.isAtStart;const n=e.nodeBefore&&e.nodeBefore.is(\"$text\");return n||t}function Cu(e,t,n){const i=t.differ.getChanges();let r=false;for(const t of i){const i=t.position;if(t.name==\"$text\"){const t=i.textNode&&i.textNode.nextSibling;r=Eu(i.textNode,e)||r;r=Eu(t,e)||r;r=Eu(i.nodeBefore,e)||r;r=Eu(i.nodeAfter,e)||r}if(t.name!=\"$text\"&&t.type==\"insert\"){const t=i.nodeAfter;for(const n of e.createRangeIn(t).getItems()){r=Eu(n,e)||r}}if(t.type==\"insert\"&&n.isInline(t.name)){const t=i.nodeAfter&&i.nodeAfter.nextSibling;r=Eu(i.nodeBefore,e)||r;r=Eu(t,e)||r}}return r}function Au(e,t){const n=t.differ.getChanges();let i=false;for(const t of n){if(t.type===\"attribute\"&&t.attributeKey!=\"mention\"){const n=t.range.start.nodeBefore;const r=t.range.end.nodeAfter;for(const o of[n,r]){if(Tu(o)&&o.getAttribute(t.attributeKey)!=t.attributeNewValue){e.setAttribute(t.attributeKey,t.attributeNewValue,o);i=true}}}}return i}function Tu(e){if(!e||!(e.is(\"$text\")||e.is(\"$textProxy\"))||!e.hasAttribute(\"mention\")){return false}const t=e.data;const n=e.getAttribute(\"mention\");const i=n._text;return t!=i}function Eu(e,t){if(Tu(e)){t.removeAttribute(\"mention\",e);return true}return false}var Su=n(362);class Ou extends ${constructor(e){super(e);this.extendTemplate({attributes:{class:[\"ck-mentions\"],tabindex:\"-1\"}})}selectFirst(){this.select(0)}selectNext(){const e=this.selected;const t=this.items.getIndex(e);this.select(t+1)}selectPrevious(){const e=this.selected;const t=this.items.getIndex(e);this.select(t-1)}select(e){let t=0;if(e>0&&e<this.items.length){t=e}else if(e<0){t=this.items.length-1}const n=this.items.get(t);if(this.selected===n){return}if(this.selected){this.selected.removeHighlight()}n.highlight();this.selected=n;if(!this._isItemVisibleInScrolledArea(n)){this.element.scrollTop=n.element.offsetTop}}executeSelected(){this.selected.fire(\"execute\")}_isItemVisibleInScrolledArea(e){return new k[\"a\"](this.element).contains(new k[\"a\"](e.element))}}class Iu extends m[\"a\"]{constructor(e,t){super(e);this.template=false;this.domElement=t;this.domElement.classList.add(\"ck-button\");this.set(\"isOn\",false);this.on(\"change:isOn\",(e,t,n)=>{if(n){this.domElement.classList.add(\"ck-on\");this.domElement.classList.remove(\"ck-off\")}else{this.domElement.classList.add(\"ck-off\");this.domElement.classList.remove(\"ck-on\")}});this.listenTo(this.domElement,\"click\",()=>{this.fire(\"execute\")})}render(){super.render();this.element=this.domElement}}class Pu extends q{highlight(){const e=this.children.first;e.isOn=true}removeHighlight(){const e=this.children.first;e.isOn=false}}const Mu=3;const Ru=[gn[\"f\"].arrowup,gn[\"f\"].arrowdown,gn[\"f\"].enter,gn[\"f\"].tab,gn[\"f\"].space,gn[\"f\"].esc];class Nu extends ve[\"a\"]{static get pluginName(){return\"MentionUI\"}static get requires(){return[oa]}constructor(e){super(e);this._mentionsView=this._createMentionView();this._mentionsConfigurations=new Map;this._requestFeedDebounced=Object(Ze[\"a\"])(this._requestFeed,100);e.config.define(\"mention\",{feeds:[]})}init(){const e=this.editor;this._balloon=e.plugins.get(oa);e.editing.view.document.on(\"keydown\",(e,t)=>{if(zu(t.keyCode)&&this._isUIVisible){t.preventDefault();e.stop();if(t.keyCode==gn[\"f\"].arrowdown){this._mentionsView.selectNext()}if(t.keyCode==gn[\"f\"].arrowup){this._mentionsView.selectPrevious()}if(t.keyCode==gn[\"f\"].enter||t.keyCode==gn[\"f\"].tab||t.keyCode==gn[\"f\"].space){this._mentionsView.executeSelected()}if(t.keyCode==gn[\"f\"].esc){this._hideUIAndRemoveMarker()}}},{priority:\"highest\"});K({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const t=e.config.get(\"mention.feeds\");for(const e of t){const t=e.feed;const n=e.marker;if(!Uu(n)){throw new se[\"b\"](\"mentionconfig-incorrect-marker: The marker must be provided and it must be a single character.\",null)}const i=e.minimumCharacters||0;const r=typeof t==\"function\"?t.bind(this.editor):Fu(t);const o=this._setupTextWatcherForFeed(n,i);const s=e.itemRenderer;const a={watcher:o,marker:n,feedCallback:r,itemRenderer:s};this._mentionsConfigurations.set(n,a)}this.on(\"requestFeed:response\",(e,t)=>this._handleFeedResponse(t));this.on(\"requestFeed:error\",()=>this._hideUIAndRemoveMarker())}destroy(){super.destroy();this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const e=this.editor.locale;const t=new Ou(e);this._items=new On[\"a\"];t.items.bindTo(this._items).using(n=>{const{item:i,marker:r}=n;const o=new Pu(e);const s=this._renderItem(i,r);s.delegate(\"execute\").to(o);o.children.add(s);o.item=i;o.marker=r;o.on(\"execute\",()=>{t.fire(\"execute\",{item:i,marker:r})});return o});t.on(\"execute\",(e,t)=>{const n=this.editor;const i=n.model;const r=t.item;const o=t.marker;const s=n.model.markers.get(\"mention\");const a=i.createPositionAt(i.document.selection.focus);const c=i.createPositionAt(s.getStart());const l=i.createRange(c,a);this._hideUIAndRemoveMarker();n.execute(\"mention\",{mention:r,text:r.text,marker:o,range:l});n.editing.view.focus()});return t}_getItemRenderer(e){const{itemRenderer:t}=this._mentionsConfigurations.get(e);return t}_requestFeed(e,t){this._lastRequested=t;const{feedCallback:n}=this._mentionsConfigurations.get(e);const i=n(t);const r=i instanceof Promise;if(!r){this.fire(\"requestFeed:response\",{feed:i,marker:e,feedText:t});return}i.then(n=>{if(this._lastRequested==t){this.fire(\"requestFeed:response\",{feed:n,marker:e,feedText:t})}else{this.fire(\"requestFeed:discarded\",{feed:n,marker:e,feedText:t})}}).catch(e=>{this.fire(\"requestFeed:error\",{error:e});console.warn(Object(se[\"a\"])(\"mention-feed-callback-error: Could not obtain mention autocomplete feed.\"))})}_setupTextWatcherForFeed(e,t){const n=this.editor;const i=new Ue(n.model,Lu(e,t));i.on(\"matched\",(t,i)=>{const r=n.model.document.selection;const o=r.focus;if(Vu(o)){this._hideUIAndRemoveMarker();return}const s=Bu(e,i.text);const a=e.length+s.length;const c=o.getShiftedBy(-a);const l=o.getShiftedBy(-s.length);const d=n.model.createRange(c,l);if(Hu(n)){const e=n.model.markers.get(\"mention\");n.model.change(t=>{t.updateMarker(e,{range:d})})}else{n.model.change(e=>{e.addMarker(\"mention\",{range:d,usingOperation:false,affectsData:false})})}this._requestFeedDebounced(e,s)});i.on(\"unmatched\",()=>{this._hideUIAndRemoveMarker()});const r=n.commands.get(\"mention\");i.bind(\"isEnabled\").to(r);return i}_handleFeedResponse(e){const{feed:t,marker:n}=e;if(!Hu(this.editor)){return}this._items.clear();for(const e of t){const t=typeof e!=\"object\"?{id:e,text:e}:e;this._items.add({item:t,marker:n})}const i=this.editor.model.markers.get(\"mention\");if(this._items.length){this._showOrUpdateUI(i)}else{this._hideUIAndRemoveMarker()}}_showOrUpdateUI(e){if(this._isUIVisible){this._balloon.updatePosition(this._getBalloonPanelPositionData(e,this._mentionsView.position))}else{this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(e,this._mentionsView.position),withArrow:false,singleViewMode:true})}this._mentionsView.position=this._balloon.view.position;this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){if(this._balloon.hasView(this._mentionsView)){this._balloon.remove(this._mentionsView)}if(Hu(this.editor)){this.editor.model.change(e=>e.removeMarker(\"mention\"))}this._mentionsView.position=undefined}_renderItem(e,t){const n=this.editor;let i;let r=e.id;const o=this._getItemRenderer(t);if(o){const t=o(e);if(typeof t!=\"string\"){i=new Iu(n.locale,t)}else{r=t}}if(!i){const e=new z[\"a\"](n.locale);e.label=r;e.withText=true;i=e}return i}_getBalloonPanelPositionData(e,t){const n=this.editor;const i=n.editing;const r=i.view.domConverter;const o=i.mapper;return{target:()=>{let t=e.getRange();if(t.start.root.rootName==\"$graveyard\"){t=n.model.document.selection.getFirstRange()}const i=o.toViewRange(t);const s=k[\"a\"].getDomRangeRects(r.viewRangeToDom(i));return s.pop()},limiter:()=>{const e=this.editor.editing.view;const t=e.document;const n=t.selection.editableElement;if(n){return e.domConverter.mapViewToDom(n.root)}return null},positions:ju(t)}}}function ju(e){const t={caret_se:e=>({top:e.bottom+Mu,left:e.right,name:\"caret_se\"}),caret_ne:(e,t)=>({top:e.top-t.height-Mu,left:e.right,name:\"caret_ne\"}),caret_sw:(e,t)=>({top:e.bottom+Mu,left:e.right-t.width,name:\"caret_sw\"}),caret_nw:(e,t)=>({top:e.top-t.height-Mu,left:e.right-t.width,name:\"caret_nw\"})};if(Object.prototype.hasOwnProperty.call(t,e)){return[t[e]]}return[t.caret_se,t.caret_sw,t.caret_ne,t.caret_nw]}function Du(e,t){const n=t==0?\"*\":`{${t},}`;const i=js[\"a\"].features.isRegExpUnicodePropertySupported?\"\\\\p{Ps}\\\\p{Pi}\\\"'\":\"\\\\(\\\\[{\\\"'\";const r=\"\\\\S\";const o=`(?:^|[ ${i}])([${e}])([${r}]${n})$`;return new RegExp(o,\"u\")}function Lu(e,t){const n=Du(e,t);return e=>n.test(e)}function Bu(e,t){const n=Du(e,0);const i=t.match(n);return i[2]}function Fu(e){return t=>{const n=e.filter(e=>{const n=typeof e==\"string\"?e:String(e.id);return n.toLowerCase().includes(t.toLowerCase())}).slice(0,10);return n}}function zu(e){return Ru.includes(e)}function Vu(e){const t=e.textNode&&e.textNode.hasAttribute(\"mention\");const n=e.nodeBefore;return t||n&&n.is(\"$text\")&&n.hasAttribute(\"mention\")}function Uu(e){return e&&e.length==1}function Hu(e){return e.model.markers.has(\"mention\")}var Wu=n(364);class $u extends ve[\"a\"]{toMentionAttribute(e,t){return wu(e,t)}static get pluginName(){return\"Mention\"}static get requires(){return[bu,Nu]}}class qu extends ke[\"a\"]{refresh(){this.isEnabled=Yu(this.editor.model)}execute(){const e=this.editor.model;e.change(t=>{const n=t.createElement(\"pageBreak\");e.insertContent(n);let i=n.nextSibling;const r=i&&e.schema.checkChild(i,\"$text\");if(!r&&e.schema.checkChild(n.parent,\"paragraph\")){i=t.createElement(\"paragraph\");e.insertContent(i,t.createPositionAfter(n))}if(i){t.setSelection(i,0)}})}}function Yu(e){const t=e.schema;const n=e.document.selection;return Ju(n,t,e)&&!Gu(n,t)}function Ju(e,t,n){const i=Ku(e,n);return t.checkChild(i,\"pageBreak\")}function Gu(e,t){const n=e.getSelectedElement();return n&&t.isObject(n)}function Ku(e,t){const n=Wt(e,t);const i=n.parent;if(i.isEmpty&&!i.is(\"element\",\"$root\")){return i.parent}return i}var Xu=n(366);class Qu extends ve[\"a\"]{static get pluginName(){return\"PageBreakEditing\"}init(){const e=this.editor;const t=e.model.schema;const n=e.t;const i=e.conversion;t.register(\"pageBreak\",{isObject:true,allowWhere:\"$block\"});i.for(\"dataDowncast\").elementToElement({model:\"pageBreak\",view:(e,t)=>{const n=t.createContainerElement(\"div\",{class:\"page-break\",style:\"page-break-after: always\"});const i=t.createContainerElement(\"span\",{style:\"display: none\"});t.insert(t.createPositionAt(n,0),i);return n}});i.for(\"editingDowncast\").elementToElement({model:\"pageBreak\",view:(e,t)=>{const i=n(\"Page break\");const r=t.createContainerElement(\"div\");const o=t.createContainerElement(\"span\");const s=t.createText(n(\"Page break\"));t.addClass(\"page-break\",r);t.setCustomProperty(\"pageBreak\",true,r);t.addClass(\"page-break__label\",o);t.insert(t.createPositionAt(r,0),o);t.insert(t.createPositionAt(o,0),s);return Zu(r,t,i)}});i.for(\"upcast\").elementToElement({view:e=>{const t=e.getStyle(\"page-break-before\")==\"always\";const n=e.getStyle(\"page-break-after\")==\"always\";if(!t&&!n){return}if(e.childCount==1){const t=e.getChild(0);if(!t.is(\"element\",\"span\")||t.getStyle(\"display\")!=\"none\"||t.childCount!=1){return}const n=t.getChild(0);if(!n.is(\"$text\")||n.data!==\" \"){return}}else if(e.childCount>1){return}return{name:true}},model:\"pageBreak\",converterPriority:\"high\"});e.commands.add(\"pageBreak\",new qu(e))}}function Zu(e,t,n){t.setCustomProperty(\"pageBreak\",true,e);return Ft(e,t,{label:n})}var eh='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z\"/><path d=\"M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z\"/><path d=\"M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z\"/></svg>';class th extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(\"pageBreak\",n=>{const i=e.commands.get(\"pageBreak\");const r=new z[\"a\"](n);r.set({label:t(\"Page break\"),icon:eh,tooltip:true});r.bind(\"isEnabled\").to(i,\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(\"pageBreak\");e.editing.view.focus()});return r})}}class nh extends ve[\"a\"]{static get requires(){return[Qu,th]}static get pluginName(){return\"PageBreak\"}}function ih(e,t){for(const n of e.getChildren()){if(n.is(\"element\",\"b\")&&n.getStyle(\"font-weight\")===\"normal\"){const i=e.getChildIndex(n);t.remove(n);t.insertChild(i,n.getChildren(),e)}}}var rh=n(65);function oh(e,t){if(!e.childCount){return}const n=new Ec(e.document);const i=ah(e,n);if(!i.length){return}let r=null;let o=1;i.forEach((e,s)=>{const a=fh(i[s-1],e);const c=a?null:i[s-1];const l=gh(c,e);if(a){r=null;o=1}if(!r||l!==0){const i=ch(e,t);if(!r){r=lh(i,e.element,n)}else if(e.indent>o){const e=r.getChild(r.childCount-1);const t=e.getChild(e.childCount-1);r=lh(i,t,n);o+=1}else if(e.indent<o){const t=o-e.indent;r=ph(r,t);o=parseInt(e.indent)}if(e.indent<=o){if(!r.is(\"element\",i.type)){r=n.rename(i.type,r)}}}const d=dh(e.element,n);n.appendChild(d,r)})}function sh(e,t){for(const n of t.createRangeIn(e)){const e=n.item;if(e.is(\"element\",\"li\")){const n=e.getChild(0);if(n.is(\"element\",\"p\")){t.unwrapElement(n)}}}}function ah(e,t){const n=t.createRangeIn(e);const i=new rh[\"a\"]({name:/^p|h\\d+$/,styles:{\"mso-list\":/.*/}});const r=[];for(const e of n){if(e.type===\"elementStart\"&&i.match(e.item)){const t=uh(e.item);r.push({element:e.item,id:t.id,order:t.order,indent:t.indent})}}return r}function ch(e,t){const n=new RegExp(`@list l${e.id}:level${e.indent}\\\\s*({[^}]*)`,\"gi\");const i=/mso-level-number-format:([^;]*);/gi;const r=n.exec(t);let o=\"decimal\";if(r&&r[1]){const e=i.exec(r[1]);if(e&&e[1]){o=e[1].trim()}}return{type:o!==\"bullet\"&&o!==\"image\"?\"ol\":\"ul\",style:o}}function lh(e,t,n){const i=t.parent;const r=n.createElement(e.type);const o=i.getChildIndex(t)+1;n.insertChild(o,r,i);return r}function dh(e,t){hh(e,t);return t.rename(\"li\",e)}function uh(e){const t={};const n=e.getStyle(\"mso-list\");if(n){const e=n.match(/(^|\\s+)l(\\d+)/i);const i=n.match(/\\s*lfo(\\d+)/i);const r=n.match(/\\s*level(\\d+)/i);if(e&&i&&r){t.id=e[2];t.order=i[1];t.indent=r[1]}}return t}function hh(e,t){const n=new rh[\"a\"]({name:\"span\",styles:{\"mso-list\":\"Ignore\"}});const i=t.createRangeIn(e);for(const e of i){if(e.type===\"elementStart\"&&n.match(e.item)){t.remove(e.item)}}}function fh(e,t){if(!e){return true}if(e.id!==t.id){return true}const n=t.element.previousSibling;if(!n){return true}return!mh(n)}function mh(e){return e.is(\"element\",\"ol\")||e.is(\"element\",\"ul\")}function gh(e,t){return e?t.indent-e.indent:t.indent-1}function ph(e,t){const n=e.getAncestors({parentFirst:true});let i=null;let r=0;for(const e of n){if(e.name===\"ul\"||e.name===\"ol\"){r++}if(r===t){i=e;break}}return i}const bh=/id=(\"|')docs-internal-guid-[-0-9a-f]+(\"|')/i;class _h{constructor(e){this.document=e}isActive(e){return bh.test(e)}execute(e){const t=new Ec(this.document);ih(e.content,t);sh(e.content,t)}}var wh=n(126);function vh(e){return xh(xh(e)).replace(/(<span\\s+style=['\"]mso-spacerun:yes['\"]>[\\s]*?)[\\r\\n]+(\\s*<\\/span>)/g,\"$1$2\").replace(/<span\\s+style=['\"]mso-spacerun:yes['\"]><\\/span>/g,\"\").replace(/ <\\//g,\" </\").replace(/ <o:p><\\/o:p>/g,\" <o:p></o:p>\").replace(/<o:p>(&nbsp;|\\u00A0)<\\/o:p>/g,\"\").replace(/>(\\s*[\\r\\n]\\s*)</g,\"><\")}function kh(e){e.querySelectorAll(\"span[style*=spacerun]\").forEach(e=>{const t=e.innerText.length||0;e.innerHTML=Array(t+1).join(\"  \").substr(0,t)})}function xh(e){return e.replace(/<span(?: class=\"Apple-converted-space\"|)>(\\s+)<\\/span>/g,(e,t)=>t.length===1?\" \":Array(t.length+1).join(\"  \").substr(0,t.length))}function yh(e,t){const n=new DOMParser;e=e.replace(/<!--\\[if gte vml 1]>/g,\"\");const i=vh(Th(e));const r=n.parseFromString(i,\"text/html\");kh(r);const o=r.body.innerHTML;const s=Ch(r,t);const a=Ah(r);return{body:s,bodyString:o,styles:a.styles,stylesString:a.stylesString}}function Ch(e,t){const n=new wh[\"a\"](t);const i=new jl[\"a\"](n,{blockFillerMode:\"nbsp\"});const r=e.createDocumentFragment();const o=e.body.childNodes;while(o.length>0){r.appendChild(o[0])}return i.domToView(r)}function Ah(e){const t=[];const n=[];const i=Array.from(e.getElementsByTagName(\"style\"));for(const e of i){if(e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length){t.push(e.sheet);n.push(e.innerHTML)}}return{styles:t,stylesString:n.join(\" \")}}function Th(e){const t=/<\\/body>(.*?)(<\\/html>|$)/;const n=e.match(t);if(n&&n[1]){e=e.slice(0,n.index)+e.slice(n.index).replace(n[1],\"\")}return e}function Eh(e,t){if(!e.childCount){return}const n=new Ec;const i=Oh(e,n);Ih(i,e,n);Ph(e,n);const r=Mh(e,n);if(r.length){Nh(r,Rh(t),n)}}function Sh(e){return btoa(e.match(/\\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(\"\"))}function Oh(e,t){const n=t.createRangeIn(e);const i=new rh[\"a\"]({name:/v:(.+)/});const r=[];for(const e of n){const t=e.item;const n=t.previousSibling&&t.previousSibling.name||null;if(i.match(t)&&t.getAttribute(\"o:gfxdata\")&&n!==\"v:shapetype\"){r.push(e.item.getAttribute(\"id\"))}}return r}function Ih(e,t,n){const i=n.createRangeIn(t);const r=new rh[\"a\"]({name:\"img\"});const o=[];for(const t of i){if(r.match(t.item)){const n=t.item;const i=n.getAttribute(\"v:shapes\")?n.getAttribute(\"v:shapes\").split(\" \"):[];if(i.length&&i.every(t=>e.indexOf(t)>-1)){o.push(n)}else if(!n.getAttribute(\"src\")){o.push(n)}}}for(const e of o){n.remove(e)}}function Ph(e,t){const n=t.createRangeIn(e);const i=new rh[\"a\"]({name:/v:(.+)/});const r=[];for(const e of n){if(i.match(e.item)){r.push(e.item)}}for(const e of r){t.remove(e)}}function Mh(e,t){const n=t.createRangeIn(e);const i=new rh[\"a\"]({name:\"img\"});const r=[];for(const e of n){if(i.match(e.item)){if(e.item.getAttribute(\"src\").startsWith(\"file://\")){r.push(e.item)}}}return r}function Rh(e){if(!e){return[]}const t=/{\\\\pict[\\s\\S]+?\\\\bliptag-?\\d+(\\\\blipupi-?\\d+)?({\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s}]*?/;const n=new RegExp(\"(?:(\"+t.source+\"))([\\\\da-fA-F\\\\s]+)\\\\}\",\"g\");const i=e.match(n);const r=[];if(i){for(const e of i){let n=false;if(e.includes(\"\\\\pngblip\")){n=\"image/png\"}else if(e.includes(\"\\\\jpegblip\")){n=\"image/jpeg\"}if(n){r.push({hex:e.replace(t,\"\").replace(/[^\\da-fA-F]/g,\"\"),type:n})}}}return r}function Nh(e,t,n){if(e.length===t.length){for(let i=0;i<e.length;i++){const r=`data:${t[i].type};base64,${Sh(t[i].hex)}`;n.setAttribute(\"src\",r,e[i])}}}const jh=/<meta\\s*name=\"?generator\"?\\s*content=\"?microsoft\\s*word\\s*\\d+\"?\\/?>/i;const Dh=/xmlns:o=\"urn:schemas-microsoft-com/i;class Lh{constructor(e){this.document=e}isActive(e){return jh.test(e)||Dh.test(e)}execute(e){const{body:t,stylesString:n}=yh(e.dataTransfer.getData(\"text/html\"),this.document.stylesProcessor);oh(t,n);Eh(t,e.dataTransfer.getData(\"text/rtf\"));e.content=t}}class Bh extends ve[\"a\"]{static get pluginName(){return\"PasteFromOffice\"}static get requires(){return[En[\"a\"]]}init(){const e=this.editor;const t=e.editing.view.document;const n=[];n.push(new Lh(t));n.push(new _h(t));e.plugins.get(\"Clipboard\").on(\"inputTransformation\",(e,t)=>{if(t.isTransformedWithPasteFromOffice){return}const i=t.dataTransfer.getData(\"text/html\");const r=n.find(e=>e.isActive(i));if(r){r.execute(t);t.isTransformedWithPasteFromOffice=true}},{priority:\"high\"})}}var Fh=n(265);var zh=n.n(Fh);var Vh=n(266);var Uh=n.n(Vh);var Hh=n(491);class Wh{static get[\"DESCRIPTOR_NAME\"](){throw new Error(\"Must be implemented in child class!\")}static get[\"DESCRIPTOR\"](){throw new Error(\"Must be implemented in child class!\")}}class $h extends Wh{static get[\"TYPE\"](){return 1e3}static get[\"READABLE_TYPE_NAME\"](){return\"\"}[\"toJSON\"](){throw new Error(\"Must be implemented in child class!\")}static[\"fromJSON\"](){throw new Error(\"Must be implemented in child class!\")}}class qh extends $h{constructor(e,t,n=[]){super(),this[\"type\"]=e,this[\"socketId\"]=t,this[\"data\"]=n}static get[\"DESCRIPTOR_NAME\"](){return\"ChannelMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{type:{type:\"uint32\",id:1},socketId:{type:\"string\",id:2},data:{type:\"bytes\",id:3}}}}[\"toJSON\"](){return{type:this[\"type\"],socketId:this[\"socketId\"],data:this[\"data\"]}}static[\"fromJSON\"](e){return new qh(e[\"type\"],e[\"socketId\"],e[\"data\"])}}var Yh=n(184);var Jh=n.n(Yh);class Gh extends Wh{static get[\"DESCRIPTOR_NAME\"](){return\"SessionsSocketDescriptor\"}static get[\"DESCRIPTOR\"](){return{fields:{session:{type:\"string\",id:1},user:{type:\"string\",id:2},role:{id:3,type:\"string\"}}}}}class Kh extends Wh{static get[\"DESCRIPTOR_NAME\"](){return\"OperationMetadataDescriptor\"}static get[\"DESCRIPTOR\"](){return{fields:{userId:{type:\"string\",id:1},type:{type:\"string\",id:2,rule:\"optional\"}}}}}class Xh extends Wh{static get[\"DESCRIPTOR_NAME\"](){return\"KeyValueDescriptor\"}static get[\"DESCRIPTOR\"](){return{fields:{key:{type:\"string\",id:1},value:{type:\"string\",id:2}}}}}const Qh=[Xh,Gh,Kh],Zh=Yh[\"Root\"][\"fromJSON\"](function(e){return{nested:e[\"reduce\"]((e,t)=>(e[t[\"DESCRIPTOR_NAME\"]]=t[\"DESCRIPTOR\"],e),{})}}(Qh));class ef{static[\"decode\"](e,t){const n=tf(t)[\"decode\"](\"undefined\"==typeof window?e:new Uint8Array(e));return t[\"fromJSON\"](n)}static[\"encode\"](e){const t=tf(e[\"constructor\"]),n=e[\"toJSON\"](),i=t[\"verify\"](n);if(i)throw Error(i);return t[\"encode\"](t[\"create\"](n))[\"finish\"]()}}function tf(e){return function(e){Zh[\"lookup\"](e[\"DESCRIPTOR_NAME\"])||Zh[\"addJSON\"]({[e[\"DESCRIPTOR_NAME\"]]:e[\"DESCRIPTOR\"]})}(e),Zh[\"lookupType\"](e[\"DESCRIPTOR_NAME\"])}class nf{constructor(e,t,n){this[\"_channelName\"]=e,this[\"_socket\"]=n,n[\"on\"](this[\"_channelName\"],e=>{const n=ef[\"decode\"](e,qh);this[\"fire\"](this[\"getEventName\"](n[\"type\"],!0),n[\"data\"],n[\"socketId\"]),n[\"socketId\"]!==t[\"sessionId\"]&&this[\"fire\"](this[\"getEventName\"](n[\"type\"]),n[\"data\"],n[\"socketId\"])})}[\"remove\"](){this[\"_socket\"][\"off\"](this[\"_channelName\"])}[\"getEventName\"](e,t=!1){let n=\"\";return t&&(n+=\"all:\"),n+=\"event\",e&&(n+=\":\"+e),n}}Object(w[\"a\"])(nf,gt[\"c\"]);var rf=nf;class of extends $h{constructor(e){super(),this[\"id\"]=e}static get[\"TYPE\"](){return 21}static get[\"READABLE_TYPE_NAME\"](){return\"getUser\"}static get[\"DESCRIPTOR_NAME\"](){return\"GetUserMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1}}}}[\"toJSON\"](){return{id:this[\"id\"]}}static[\"fromJSON\"](e){return new of(e[\"id\"])}}class sf extends $h{constructor(e){super(),this[\"attributes\"]=e}static get[\"DESCRIPTOR_NAME\"](){return\"GetUserResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{attributes:{rule:\"repeated\",type:\"KeyValueDescriptor\",id:1}}}}[\"toJSON\"](){return{attributes:Object[\"keys\"](this[\"attributes\"])[\"map\"](e=>({key:e,value:JSON[\"stringify\"](this[\"attributes\"][e])}))}}static[\"fromJSON\"](e){const t=e[\"attributes\"][\"reduce\"]((e,t)=>(e[t[\"key\"]]=t[\"value\"]?JSON[\"parse\"](t[\"value\"]):null,e),{});return new sf(t)}}class af{constructor(e={}){this[\"_attributes\"]=new Map;for(const t of Object[\"keys\"](e))this[\"_attributes\"][\"set\"](t,e[t]),Object[\"defineProperty\"](this,t,{enumerable:!0,configurable:!1,get:()=>this[\"_attributes\"][\"get\"](t)})}static get[\"_SERVICE\"](){return 2}static[\"fromData\"](e){return new af(e)}static async[\"get\"](e,t){const n=new of(t);try{const t=await e[\"_sendRequest\"](af[\"_SERVICE\"],of[\"TYPE\"],ef[\"encode\"](n)),i=ef[\"decode\"](t,sf);return new af(i[\"attributes\"])}catch(e){return new af({id:t})}}}var cf=\"11.0.0\";class lf extends se[\"b\"]{constructor(e,t,n=null,i={}){super(\"cloud-services-internal-error: \"+e,t,i),this[\"code\"]=n}static[\"fromPublicError\"](e,t){const{message:n,traceId:i=\"\",data:r={},code:o=null}=e;return new lf(n+\" \"+(i?\"Error Trace id: \"+i+\".\":\"\"),t,o,r)}}var df=n(225);class uf extends $h{constructor(e,t,n){super(),this[\"flags\"]=e,this[\"rooms\"]=t||[],this[\"except\"]=n||[]}static get[\"TYPE\"](){return 11}static get[\"DESCRIPTOR_NAME\"](){return\"PacketOptionsMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{flags:{type:\"string\",id:1},rooms:{type:\"string\",id:2,rule:\"repeated\"},except:{type:\"string\",id:3,rule:\"repeated\"}}}}[\"toJSON\"](){return{flags:this[\"flags\"]?JSON[\"stringify\"](this[\"flags\"]):void 0,rooms:this[\"rooms\"]&&this[\"rooms\"][\"length\"]?this[\"rooms\"]:void 0,except:this[\"except\"]&&this[\"except\"][\"length\"]?this[\"except\"]:void 0}}static[\"fromJSON\"](e){return new uf(e[\"flags\"]&&JSON[\"parse\"](e[\"flags\"]),e[\"rooms\"],e[\"except\"])}}var hf=n(14);class ff extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"NUMBER\"],hf[\"a\"][\"TYPES\"][\"BUFFER\"])}static get[\"DESCRIPTOR_NAME\"](){return\"NumberBytesPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"uint32\",id:1},data1:{type:\"bytes\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new ff(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new ff(e,t)}}class mf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"STRING\"],hf[\"a\"][\"TYPES\"][\"BUFFER\"])}static get[\"DESCRIPTOR_NAME\"](){return\"StringBytesPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"string\",id:1},data1:{type:\"bytes\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new mf(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new mf(e,t)}}class gf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"BUFFER\"],hf[\"a\"][\"TYPES\"][\"BUFFER\"])}static get[\"DESCRIPTOR_NAME\"](){return\"BytesBytesPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"bytes\",id:1},data1:{type:\"bytes\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new gf(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new gf(e,t)}}class pf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"STRING\"],hf[\"a\"][\"TYPES\"][\"OBJECT\"])}static get[\"DESCRIPTOR_NAME\"](){return\"StringObjectPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"string\",id:1},data1:{type:\"string\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]?JSON[\"stringify\"](this[\"data1\"]):void 0}}static[\"fromJSON\"](e){return new pf(e[\"data\"],e[\"data1\"]&&JSON[\"parse\"](e[\"data1\"]))}static[\"create\"](e,t){return new pf(e,t)}}class bf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"NUMBER\"],hf[\"a\"][\"TYPES\"][\"OBJECT\"])}static get[\"DESCRIPTOR_NAME\"](){return\"NumberObjectPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"uint32\",id:1},data1:{type:\"string\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]?JSON[\"stringify\"](this[\"data1\"]):void 0}}static[\"fromJSON\"](e){return new bf(e[\"data\"],e[\"data1\"]&&JSON[\"parse\"](e[\"data1\"]))}static[\"create\"](e,t){return new bf(e,t)}}class _f extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"OBJECT\"],hf[\"a\"][\"TYPES\"][\"OBJECT\"])}static get[\"DESCRIPTOR_NAME\"](){return\"ObjectObjectPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"string\",id:1},data1:{type:\"string\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"]?JSON[\"stringify\"](this[\"data\"]):void 0,data1:this[\"data1\"]?JSON[\"stringify\"](this[\"data1\"]):void 0}}static[\"fromJSON\"](e){return new _f(e[\"data\"]&&JSON[\"parse\"](e[\"data\"]),e[\"data1\"]&&JSON[\"parse\"](e[\"data1\"]))}static[\"create\"](e,t){return new _f(e,t)}}class wf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"OBJECT\"],hf[\"a\"][\"TYPES\"][\"BUFFER\"])}static get[\"DESCRIPTOR_NAME\"](){return\"ObjectBufferPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"string\",id:1},data1:{type:\"bytes\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"]?JSON[\"stringify\"](this[\"data\"]):void 0,data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new wf(e[\"data\"]&&JSON[\"parse\"](e[\"data\"]),e[\"data1\"])}static[\"create\"](e,t){return new wf(e,t)}}class vf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"STRING\"],hf[\"a\"][\"TYPES\"][\"STRING\"])}static get[\"DESCRIPTOR_NAME\"](){return\"StringStringPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"string\",id:1},data1:{type:\"string\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new vf(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new vf(e,t)}}class kf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"STRING\"],hf[\"a\"][\"TYPES\"][\"NUMBER\"])}static get[\"DESCRIPTOR_NAME\"](){return\"StringNumberPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"string\",id:1},data1:{type:\"uint32\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new kf(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new kf(e,t)}}class xf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"NUMBER\"],hf[\"a\"][\"TYPES\"][\"NUMBER\"])}static get[\"DESCRIPTOR_NAME\"](){return\"NumberNumberPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"uint32\",id:1},data1:{type:\"uint32\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new xf(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new xf(e,t)}}class yf extends $h{constructor(e,t){super(),this[\"data\"]=e,this[\"data1\"]=t}static get[\"TYPE\"](){return hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"TYPES\"][\"NUMBER\"],hf[\"a\"][\"TYPES\"][\"STRING\"])}static get[\"DESCRIPTOR_NAME\"](){return\"NumberStringPacketDataMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{data:{type:\"uint32\",id:1},data1:{type:\"string\",id:2}}}}[\"toJSON\"](){return{data:this[\"data\"],data1:this[\"data1\"]}}static[\"fromJSON\"](e){return new yf(e[\"data\"],e[\"data1\"])}static[\"create\"](e,t){return new yf(e,t)}}const Cf=[ff,mf,gf,pf,bf,_f,wf,vf,kf,xf,yf][\"reduce\"]((e,t)=>(e[t[\"TYPE\"]]=t,e),{});class Af extends $h{constructor(e,t,n,i,r){super(),this[\"type\"]=e,this[\"id\"]=n,this[\"nsp\"]=i||\"/\",this[\"data\"]=t,this[\"options\"]=r}get[\"packetData\"](){return[this[\"data\"][\"data\"],this[\"data\"][\"data1\"]]}static get[\"TYPE\"](){return 10}static get[\"DESCRIPTOR_NAME\"](){return\"PacketMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{type:{type:\"uint32\",id:1},id:{type:\"uint32\",id:2},nsp:{type:\"string\",id:3},data:{type:\"bytes\",id:4},options:{type:\"bytes\",id:5}}}}[\"toJSON\"](){const e=ef[\"encode\"](this[\"options\"]),t=ef[\"encode\"](this[\"data\"]);return{type:this[\"type\"]+10*this[\"data\"][\"constructor\"][\"TYPE\"],id:this[\"id\"],nsp:\"/\"===this[\"nsp\"]?void 0:this[\"nsp\"],data:t[\"length\"]?t:void 0,options:e[\"length\"]?e:void 0}}static[\"fromJSON\"](e){const t=Math[\"floor\"](e[\"type\"]/10);return new Af(e[\"type\"]-10*t,ef[\"decode\"](e[\"data\"],Cf[t]),e[\"id\"],e[\"nsp\"],ef[\"decode\"](e[\"options\"],uf))}static[\"create\"](e,t={}){const n=hf[\"a\"][\"getPacketType\"](hf[\"a\"][\"getTypeName\"](e[\"data\"][0]),hf[\"a\"][\"getTypeName\"](e[\"data\"][1]));return new Af(e[\"type\"],Cf[n][\"create\"](e[\"data\"][0],e[\"data\"][1]),e[\"id\"],e[\"nsp\"],new uf(t[\"flags\"],t[\"rooms\"],t[\"except\"]))}}class Tf{[\"encode\"](e,t,n,i=\"/\",r={}){if(t[\"length\"]>2)throw new Error(\"PacketParser supports only 2 elements in data\");const o={type:e,data:t,id:n,nsp:i};return ef[\"encode\"](Af[\"create\"](o,r))}[\"decode\"](e){const t=ef[\"decode\"](e,Af);return{packet:{id:t[\"id\"],type:t[\"type\"],data:t[\"packetData\"],nsp:t[\"nsp\"]},options:{flags:t[\"options\"][\"flags\"],rooms:t[\"options\"][\"rooms\"],except:t[\"options\"][\"except\"]}}}}const Ef=[2,3,6,5];class Sf extends df[\"Encoder\"]{constructor(e=new Tf){super(),this[\"_packetParser\"]=e}[\"encode\"](e,t){if(Ef[\"includes\"](e[\"type\"])){let n=e[\"data\"]&&Array[\"isArray\"](e[\"data\"])&&e[\"data\"][\"pop\"]();if(n&&!0!==n[\"_cs\"]&&(e[\"data\"][\"push\"](n),n=null),!n||n&&!0!==n[\"originalParser\"])try{return t([this[\"_packetParser\"][\"encode\"](e[\"type\"],e[\"data\"],e[\"id\"],e[\"nsp\"])])}catch(e){}}return super[\"encode\"](e,t)}}class Of extends df[\"Decoder\"]{constructor(e=new Tf){super(),this[\"_packetParser\"]=e}[\"add\"](e){if(!hf[\"a\"][\"isBuffer\"](e))return super[\"add\"](e);let t;try{t=this[\"_packetParser\"][\"decode\"](e)[\"packet\"]}catch(t){return super[\"add\"](e)}this[\"emit\"](\"decoded\",t)}}class If{constructor(e,t,n={},i=zh.a,r=af[\"get\"]){if(!e)throw new TypeError(\"Api address must be provided.\");if(!t)throw new TypeError(\"Token must be provided.\");this[\"_url\"]=Uh()(e[\"replace\"](/^(?!(?:\\w+:)?\\/\\/)/,\"https://\")),this[\"_token\"]=t,this[\"_connectionProvider\"]=i,this[\"_userFactory\"]=r,this[\"_options\"]=n,this[\"_channels\"]=new Map,this[\"set\"](\"state\",\"disconnected\"),this[\"set\"](\"sessionId\",void 0),this[\"set\"](\"me\",void 0),this[\"on\"](\"change:state\",async(e,t,n)=>{if(n===If[\"STATE_CONNECTED\"])try{this[\"me\"]=await this[\"_userFactory\"][\"call\"](af,this,this[\"_socket\"][\"auth\"][\"userId\"])}catch(e){}},{priority:If[\"_CHANGE_STATE_EVENT_PRIORITY\"]}),this[\"on\"](\"error\",(e,t)=>{this[\"_options\"][\"onError\"]?this[\"_options\"][\"onError\"](t):console[\"log\"](t)})}static get[\"STATE_DISCONNECTED\"](){return\"disconnected\"}static get[\"STATE_CONNECTING\"](){return\"connecting\"}static get[\"STATE_CONNECTED\"](){return\"connected\"}static get[\"_CHANGE_STATE_EVENT_PRIORITY\"](){return pn[\"a\"][\"get\"](\"highest\")+999999}[\"disconnect\"](){this[\"state\"]===If[\"STATE_CONNECTED\"]&&(this[\"_socket\"][\"disconnect\"](),this[\"_socket\"]=void 0,this[\"state\"]=If[\"STATE_DISCONNECTED\"])}[\"reconnect\"](){return this[\"_token\"][\"refreshToken\"](),this[\"state\"]===If[\"STATE_DISCONNECTED\"]?this[\"_connect\"]():Promise[\"resolve\"]()}static async[\"connect\"](e,t=WEB_SOCKET_GATEWAY_URL,n={},i,r=af[\"get\"]){const o=new If(t,e,n,i,r);return await o[\"_connect\"](),o}[\"_sendRequest\"](e,t,n){if(!e)return Promise[\"reject\"](new lf(\"`serviceName` must be provided.\",this));if(this[\"state\"]!==If[\"STATE_CONNECTED\"])return Promise[\"reject\"](new lf(\"Not connected.\",this));if(!this[\"_socket\"]||!this[\"_socket\"][\"isAuthenticated\"])return Promise[\"reject\"](new lf(\"Not authenticated.\",this));const i=new ArrayBuffer(n[\"length\"]+2),r=new Uint8Array(i);return r[0]=e,r[1]=t,r[\"set\"](n,2),this[\"_emit\"](1,r)}[\"_getChannel\"](e,t){const n=\"\"+e+t;return this[\"_channels\"][\"has\"](n)||this[\"_channels\"][\"set\"](n,new rf(n,this,this[\"_socket\"])),this[\"_channels\"][\"get\"](n)}[\"_connect\"](){return new Promise((e,t)=>{const n=this[\"_setupSocket\"]();n[\"once\"](\"connect\",async()=>{try{await this[\"_onConnect\"](),e()}catch(e){t(e)}}),n[\"connect\"]()})}[\"_setupSocket\"](){if(this[\"_socket\"])return this[\"_socket\"];const e=this[\"_url\"][\"port\"]||(\"http:\"===this[\"_url\"][\"protocol\"]?80:443),t=(this[\"_url\"][\"protocol\"]||\"https:\")+\"//\"+this[\"_url\"][\"hostname\"]+\":\"+e,n=this[\"_connectionProvider\"](t,{parser:i,path:\"/ws-v2/ws\",transports:[\"websocket\"],timeout:5e3,reconnection:Object(Hh[\"a\"])(this[\"_options\"],\"autoReconnect\",!0),reconnectionDelay:1e3,reconnectionDelayMax:5e3,rejectUnauthorized:Object(Hh[\"a\"])(this[\"_options\"],\"rejectUnauthorized\",!0),query:{version:cf}});return this[\"state\"]=If[\"STATE_CONNECTING\"],n[\"on\"](\"connect\",()=>{this[\"sessionId\"]=n[\"id\"]}),n[\"on\"](\"reconnect\",this[\"_onConnect\"][\"bind\"](this)),n[\"on\"](\"disconnect\",this[\"_onDisconnect\"][\"bind\"](this)),n[\"on\"](\"error\",this[\"_onError\"][\"bind\"](this)),n[\"on\"](\"unauthorized\",this[\"_onUnauthorized\"][\"bind\"](this)),this[\"_socket\"]=n,n}[\"_emit\"](e,t){const n=this[\"_socket\"];return new Promise((i,r)=>{n[\"binary\"](!1)[\"emit\"](e,t,(e,t)=>{e&&r(lf[\"fromPublicError\"](e,this)),i(t)})})}[\"_addAuthData\"](e,t){this[\"_socket\"][\"auth\"]={environmentId:e,userId:t},this[\"_socket\"][\"isAuthenticated\"]=!0}[\"_removeAuthData\"](){this[\"_socket\"][\"isAuthenticated\"]=!1,delete this[\"_socket\"][\"auth\"]}async[\"_onConnect\"](){await this[\"_authenticate\"](this[\"_token\"][\"value\"]),this[\"state\"]=If[\"STATE_CONNECTED\"],this[\"_token\"][\"on\"](\"change:value\",this[\"_onTokenChange\"][\"bind\"](this)),this[\"on\"](\"disconnect\",()=>{this[\"_token\"][\"off\"](\"change:value\",this[\"_onTokenChange\"][\"bind\"](this))})}async[\"_onTokenChange\"](e,t,n){try{await this[\"_authenticate\"](n)}catch(e){}}[\"_onDisconnect\"](){this[\"state\"]=If[\"STATE_DISCONNECTED\"],this[\"fire\"](\"disconnect\");for(const e of this[\"_channels\"][\"values\"]())e[\"remove\"]();this[\"_channels\"][\"clear\"]()}[\"_onError\"](e){this[\"fire\"](\"error\",new lf(e[\"message\"],this,e[\"code\"]))}[\"_onUnauthorized\"]({error:e}){this[\"_removeAuthData\"](),this[\"fire\"](\"error\",lf[\"fromPublicError\"](e,this))}async[\"_authenticate\"](e){try{const t=await this[\"_emit\"](2,{token:e});this[\"_addAuthData\"](t[\"environmentId\"],t[\"userId\"])}catch(e){throw this[\"_removeAuthData\"](),e}}}Object(w[\"a\"])(If,ze[\"a\"]);var Pf=If;const Mf={refreshInterval:36e5,autoRefresh:true};class Rf{constructor(e,t=Mf){if(!e){throw new se[\"b\"](\"token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.\",this)}this.set(\"value\",t.initValue);if(typeof e===\"function\"){this._refresh=e}else{this._refresh=()=>Nf(e)}this._options=Object.assign({},Mf,t)}init(){return new Promise((e,t)=>{if(this._options.autoRefresh){this._startRefreshing()}if(!this.value){this.refreshToken().then(e).catch(t);return}e(this)})}refreshToken(){return this._refresh().then(e=>this.set(\"value\",e)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this.refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(e,t=Mf){const n=new Rf(e,t);return n.init()}}Object(w[\"a\"])(Rf,ze[\"a\"]);function Nf(e){return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open(\"GET\",e);i.addEventListener(\"load\",()=>{const e=i.status;const r=i.response;if(e<200||e>299){return n(new se[\"b\"](\"token-cannot-download-new-token: Cannot download new token from the provided url.\",null))}return t(r)});i.addEventListener(\"error\",()=>n(new Error(\"Network Error\")));i.addEventListener(\"abort\",()=>n(new Error(\"Abort\")));i.send()})}var jf=Rf;class Df extends Hi[\"a\"]{static get pluginName(){return\"CloudServices\"}init(){const e=this.context.config;const t=e.get(\"cloudServices\")||{};for(const e in t){this[e]=t[e]}if(!this.tokenUrl){this.token=null;return}this.token=new Df.Token(this.tokenUrl);return this.token.init()}destroy(){super.destroy();if(this.token){this.token.destroy()}}}Df.Token=jf;const Lf=[\"disconnected\",\"token\",\"connected\",\"webSocketUrl\",\"log\",\"requires\",\"create\",\"limitExceeded\",\"has\",\"delete\",\"then\",\"isInReconnectionStack\",\"reconnect\",\"code\",\"add\",\"connecting\",\"cloudservices-reconnection-error: An internal Cloud Services error occurred during the reconnection\",\"stopListening\",\"state\",\"offline\",\"websocketgateway-invalid-plugin-interface: Cannot add plugin with no `reconnect()` method.\",\"disconnect\",\"listenTo\",\"get\",\"_isBrowserOffline\",\"initialReconnectionInterval\",\"set\",\"function\",\"error\",\"online\",\"connect\",\"addToReconnectionStack\",\"real-time-collaboration\",\"plugins\",\"cloudservices-init: Internal WebSocketGateway error\",\"connection\",\"Connected users limit exceeded\",\"WebSocketGateway\",\"bind\",\"catch\",\"websocketgateway-missing-token: The authentication `cloudServices.tokenUrl` configuration is required for creating a websocket connection.\",\"cloudservices-init: WebSocketGateway connection error.\",\"Retrying websocket connection...\",\"websocketgateway-plugin-already-registered: Plugin is already registered.\",\"change:me\",\"destroy\",\"websocketgateway-missing-websocket-url: The `cloudServices.webSocketUrl` configuration is required for creating a websocket connection in the real-time collaboration.\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Lf,354);const Bf=function(e,t){e=e-0;let n=Lf[e];return n};class Ff extends Hi[\"a\"]{static get[Bf(\"0x1b\")](){return[Df,Wi]}static get[\"pluginName\"](){return Bf(\"0xc\")}[\"init\"](){const e=this[\"context\"],t=e[Bf(\"0x8\")][\"get\"](Df),n=e[Bf(\"0x8\")][Bf(\"0x2d\")](Wi);if(!t[Bf(\"0x17\")])throw new se[\"b\"](Bf(\"0xf\"),this);if(!t[Bf(\"0x19\")])throw new se[\"b\"](Bf(\"0x15\"),this);return this[\"set\"](Bf(\"0x28\"),\"connecting\"),this[Bf(\"0x1\")](Bf(\"0x2e\"),!1),this[\"$\"]=new Set,this[\"ee\"]=!1,this[\"te\"]=Object[Bf(\"0x1c\")](x[\"a\"]),this[\"te\"][Bf(\"0x2c\")](window,Bf(\"0x29\"),()=>this[Bf(\"0x2e\")]=!0),this[\"te\"][Bf(\"0x2c\")](window,Bf(\"0x4\"),()=>this[Bf(\"0x2e\")]=!1),Ff[Bf(\"0xc\")][Bf(\"0x5\")](t[Bf(\"0x17\")],t[Bf(\"0x19\")],{disconnectOnUnload:!1})[Bf(\"0xe\")](async e=>(console[Bf(\"0x3\")](e),console[Bf(\"0x1a\")](Bf(\"0x11\")),await zf(Ff[Bf(\"0x0\")]),Ff[Bf(\"0xc\")][Bf(\"0x5\")](t[\"token\"],t[Bf(\"0x19\")],{disconnectOnUnload:!1})))[\"catch\"](async e=>(console[Bf(\"0x3\")](e),console[Bf(\"0x1a\")](Bf(\"0x11\")),await zf(Ff[Bf(\"0x0\")]),Ff[\"WebSocketGateway\"][Bf(\"0x5\")](t[Bf(\"0x17\")],t[\"webSocketUrl\"],{disconnectOnUnload:!1})))[Bf(\"0x20\")](e=>{if(this[Bf(\"0xa\")]=e,this[Bf(\"0xd\")](Bf(\"0x28\"))[\"to\"](e,\"state\",this,Bf(\"0x2e\"),(e,t)=>(Bf(\"0x18\")!==e&&(this[\"ee\"]=!0),t||Bf(\"0x18\")!==e?Bf(\"0x16\"):Bf(\"0x16\")==this[Bf(\"0x28\")]&&this[\"ee\"]?(this[\"ee\"]=!1,this[\"ie\"](),Bf(\"0x25\")):\"connected\")),this[\"connection\"][\"on\"](Bf(\"0x3\"),(e,t)=>{if(Bf(\"0x1d\")!==t[Bf(\"0x23\")])throw console[Bf(\"0x3\")](t),new se[\"b\"](Bf(\"0x9\"),null);n[\"showWarning\"](\"The limit of maximum concurrent connections that the collaboration server can handle has been reached. Try opening the document again in a few minutes. Please contact your system administrator if the problem persists.\",{title:Bf(\"0xb\"),namespace:Bf(\"0x7\")})}),!e[\"me\"])return new Promise(t=>e[\"on\"](Bf(\"0x13\"),t))})[Bf(\"0xe\")](e=>{throw console[Bf(\"0x3\")](e),new se[\"b\"](Bf(\"0x10\"),null)})}[Bf(\"0x6\")](e){if(Bf(\"0x2\")!=typeof e[Bf(\"0x22\")])throw new se[\"b\"](Bf(\"0x2a\"),this);if(this[\"isInReconnectionStack\"](e))throw new se[\"b\"](Bf(\"0x12\"),this);this[\"$\"][Bf(\"0x24\")](e)}[\"removeFromReconnectionStack\"](e){this[\"$\"][Bf(\"0x1f\")](e)}[Bf(\"0x21\")](e){return this[\"$\"][Bf(\"0x1e\")](e)}[\"ie\"](){return this[\"connection\"][Bf(\"0x22\")]()[Bf(\"0x20\")](()=>Promise[\"all\"](Array[\"from\"](this[\"$\"],e=>e[\"reconnect\"]())))[Bf(\"0x20\")](()=>this[Bf(\"0x28\")]=Bf(\"0x18\"))[Bf(\"0xe\")](e=>{throw console[Bf(\"0x3\")](e),new se[\"b\"](Bf(\"0x26\"),this[\"context\"])})}[Bf(\"0x14\")](){this[Bf(\"0xa\")]&&this[Bf(\"0xa\")][Bf(\"0x2b\")](),this[Bf(\"0x28\")]=\"disconnected\",this[\"te\"][Bf(\"0x27\")](),super[\"destroy\"]()}}function zf(e){return new Promise(t=>setTimeout(t,e))}Ff[Bf(\"0xc\")]=Pf,Ff[\"initialReconnectionInterval\"]=1e3;var Vf=n(52);const Uf=[\"getUserBySessionId\",\"forEach\",\"channelSessions\",\"change:state\",\"state\",\"clear\",\"delete\",\"unregister\",\"mySessionId\",\"sessions-register-already-registered: Sessions of given channelId already registered.\",\"context\",\"channelConnectedUsers\",\"plugins\",\"getUser\",\"addUser\",\"allConnectedUsers\",\"add\",\"fire\",\"values\",\"Sessions\",\"init\",\"user\",\"remove\",\"getUserSessions\",\"set\",\"size\",\"connection\",\"connected\",\"has\",\"get\",\"stopListening\",\"listenTo\",\"sessionAdd:\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Uf,308);const Hf=function(e,t){e=e-0;let n=Uf[e];return n};class Wf extends Hi[\"a\"]{static get[\"pluginName\"](){return Hf(\"0x8\")}static get[\"requires\"](){return[Ff,Vf[\"a\"]]}[Hf(\"0x9\")](){const e=this[Hf(\"0x20\")],t=e[Hf(\"0x1\")][Hf(\"0x12\")](Ff);this[Hf(\"0x18\")]=new Map,this[Hf(\"0x0\")]=new Map,this[\"allConnectedUsers\"]=new On[\"a\"],this[\"J\"]=new Map,this[\"K\"]=0,this[\"L\"]=e[Hf(\"0x1\")][Hf(\"0x12\")](Vf[\"a\"]),this[Hf(\"0x14\")](t,Hf(\"0x19\"),(e,t,n)=>{if(Hf(\"0x10\")!==n)this[Hf(\"0x18\")][Hf(\"0x17\")](e=>e[Hf(\"0x1b\")]()),this[Hf(\"0x0\")][Hf(\"0x17\")](e=>e[Hf(\"0x1b\")]()),this[Hf(\"0x4\")][Hf(\"0x1b\")]();else for(const[e,t]of this[\"J\"])for(const n of t)this[\"X\"](e,n)}),this[\"Y\"](t[Hf(\"0xf\")][\"me\"],!0)}[\"register\"](e,t){if(this[\"J\"][\"has\"](e))throw new se[\"b\"](Hf(\"0x1f\"),null,{channelId:e});this[\"J\"][\"set\"](e,t),this[Hf(\"0x18\")][Hf(\"0xd\")](e,new On[\"a\"]),this[\"channelConnectedUsers\"][\"set\"](e,new On[\"a\"]),this[Hf(\"0x14\")](t,Hf(\"0x5\"),(t,n)=>this[\"X\"](e,n)),this[Hf(\"0x14\")](t,Hf(\"0xb\"),(t,n)=>this[\"Z\"](e,n));for(const n of t)this[\"X\"](e,n)}[Hf(\"0x1d\")](e){if(!this[\"J\"][Hf(\"0x11\")](e))throw new se[\"b\"](\"sessions-unregister-not-exist: Cannot unregister not registered sessions.\",null,{channelId:e});const t=this[\"J\"][\"get\"](e);this[Hf(\"0x13\")](t);for(const n of t)Hf(\"0x10\")===this[\"context\"][Hf(\"0x1\")][\"get\"](Ff)[\"state\"]&&this[\"Z\"](e,n);this[\"J\"][Hf(\"0x1c\")](e),this[Hf(\"0x18\")][Hf(\"0x1c\")](e),this[Hf(\"0x0\")][Hf(\"0x1c\")](e)}get[Hf(\"0x1e\")](){return this[Hf(\"0x20\")][Hf(\"0x1\")][\"get\"](Ff)[Hf(\"0xf\")][\"sessionId\"]}[Hf(\"0x16\")](e){for(const t of this[Hf(\"0x18\")][Hf(\"0x7\")]())for(const n of t)if(n[\"id\"]===e)return n[Hf(\"0xa\")]}[Hf(\"0xc\")](e,t){const n=t?[this[\"channelSessions\"][Hf(\"0x12\")](t)]:this[Hf(\"0x18\")][Hf(\"0x7\")](),i=new Set;for(const t of n)for(const n of t)n[Hf(\"0xa\")][\"id\"]===e[\"id\"]&&i[\"add\"](n[\"id\"]);return i}[\"getUserRole\"](e){for(const t of this[Hf(\"0x18\")][\"values\"]())for(const n of t)if(n[Hf(\"0xa\")]===e)return n[\"role\"]}[\"X\"](e,t){if(\"connected\"!==this[Hf(\"0x20\")][Hf(\"0x1\")][\"get\"](Ff)[Hf(\"0x1a\")])return;const n=t[Hf(\"0xa\")],i=this[\"L\"][Hf(\"0x2\")](n[\"id\"])||this[\"Y\"](n),r=Object[\"assign\"]({},t,{user:i});this[Hf(\"0x18\")][Hf(\"0x12\")](e)[Hf(\"0x5\")](r);const o=this[Hf(\"0x0\")][Hf(\"0x12\")](e);o[Hf(\"0x11\")](i[\"id\"])||o[Hf(\"0x5\")](i),this[Hf(\"0x4\")][Hf(\"0x11\")](i[\"id\"])||this[\"allConnectedUsers\"][\"add\"](i),this[Hf(\"0x6\")](Hf(\"0x15\")+e,{channelId:e,session:r})}[\"Z\"](e,t){if(\"connected\"!==this[\"context\"][Hf(\"0x1\")][\"get\"](Ff)[Hf(\"0x1a\")])return;const n=this[Hf(\"0x0\")][\"get\"](e),i=t[Hf(\"0xa\")];this[Hf(\"0x18\")][Hf(\"0x12\")](e)[Hf(\"0xb\")](t[\"id\"]),n[Hf(\"0x11\")](i[\"id\"])&&!this[\"getUserSessions\"](i,e)[Hf(\"0xe\")]&&n[\"remove\"](i[\"id\"]),this[Hf(\"0x4\")][Hf(\"0x12\")](i[\"id\"])&&!this[Hf(\"0xc\")](i)[Hf(\"0xe\")]&&this[Hf(\"0x4\")][Hf(\"0xb\")](i[\"id\"])}[\"Y\"](e,t){const n=this[\"L\"][Hf(\"0x3\")](e);return t&&this[\"L\"][\"defineMe\"](e[\"id\"]),n[\"orderNumber\"]=this[\"K\"]++,n}}var $f=n(128);class qf extends m[\"a\"]{constructor(e){super(e);const{t:t}=e,n=this[\"bindTemplate\"];this[\"set\"](\"usersCount\",0),this[\"set\"](\"isHidden\",!0),this[\"setTemplate\"]({tag:\"div\",attributes:{class:[\"ck\",\"ck-presence-list__counter\",n[\"if\"](\"isHidden\",\"ck-presence-list__counter--hidden\")]},children:[{text:n[\"to\"](\"usersCount\",e=>t({string:\"1 connected user (me)\",plural:\"%0 connected users\",id:\"CONNECTED_USERS\"},e))}]})}}const Yf=[\"bindTemplate\",\"div\",\"items\",\"createCollection\",\"fire\",\"setTemplate\",\"ck-presence-list__list\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Yf,301);const Jf=function(e,t){e=e-0;let n=Yf[e];return n};class Gf extends m[\"a\"]{constructor(e){super(e),this[Jf(\"0x2\")]=this[Jf(\"0x3\")]();const t=this[Jf(\"0x0\")];this[Jf(\"0x5\")]({tag:Jf(\"0x1\"),attributes:{class:[\"ck\",Jf(\"0x6\")]},children:this[Jf(\"0x2\")],on:{click:t[\"to\"](()=>this[Jf(\"0x4\")](\"execute\"))}})}}var Kf=n(419);const Xf=[\"counterView\",\"ck-rounded-corners\",\"ck-presence-list--collapsed\",\"set\",\"ck-reset\",\"isCollapsed\",\"inlineListView\",\"ck-presence-list\",\"locale\",\"div\",\"setTemplate\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Xf,363);const Qf=function(e,t){e=e-0;let n=Xf[e];return n};class Zf extends m[\"a\"]{constructor(e){super(e);const t=this[\"bindTemplate\"];this[Qf(\"0x3\")](\"isCollapsed\",!0),this[Qf(\"0x0\")]=new qf(this[Qf(\"0x8\")]),this[Qf(\"0x6\")]=new Gf(e),this[Qf(\"0xa\")]({tag:Qf(\"0x9\"),attributes:{class:[\"ck\",Qf(\"0x7\"),Qf(\"0x4\"),Qf(\"0x1\"),t[\"if\"](Qf(\"0x5\"),Qf(\"0x2\"))]},children:[this[Qf(\"0x0\")],this[\"inlineListView\"]]})}}var em=[\"ck-presence-list__dropdown-list\",\"items\",\"setTemplate\",\"ck-presence-list__dropdown-list-wrapper\",\"createCollection\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(em,330);var tm=function(e,t){e=e-0;var n=em[e];return n};class nm extends m[\"a\"]{constructor(e){super(e),this[tm(\"0x1\")]=this[tm(\"0x4\")](),this[tm(\"0x2\")]({tag:\"div\",attributes:{class:[\"ck\",tm(\"0x0\")]},children:[{tag:\"div\",attributes:{class:[\"ck\",tm(\"0x3\")]},children:this[tm(\"0x1\")]}]})}}var im=n(82);const rm=[\"fire\",\"div\",\"true\",\"ck-user__full-name\",\"setTemplate\",\"getBackgroundColorClass\",\"bindTemplate\",\"tag\",\"color\",\"button\",\"ck-presence-list__marker\",\"span\",\"ck-presence-list__dropdown-list-item\",\"userView\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(rm,187);const om=function(e,t){e=e-0;let n=rm[e];return n};class sm extends m[\"a\"]{constructor(e,t,n){super(e);const i=this[om(\"0x1\")];this[om(\"0x8\")]=new im[\"a\"](e,t);const r={tag:om(\"0xa\"),attributes:{class:[\"ck\",om(\"0x7\")]},children:[this[om(\"0x8\")],{tag:\"span\",attributes:{class:[\"ck\",om(\"0xc\")]},children:[{text:t[\"name\"]}]},{tag:om(\"0x6\"),attributes:{class:[\"ck\",om(\"0x5\"),t[om(\"0x3\")][om(\"0x0\")](1)],\"aria-hidden\":om(\"0xb\")}}]};n&&(r[om(\"0x2\")]=om(\"0x4\"),r[\"on\"]={click:i[\"to\"](()=>this[om(\"0x9\")](\"execute\"))}),this[om(\"0xd\")](r)}}const am=[\"text\",\"ck-tooltip__text__inner\",\"span\",\"ck-tooltip\",\"setTemplate\",\"ck-tooltip_\",\"ck-tooltip__text\",\"position\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(am,275);const cm=function(e,t){e=e-0;let n=am[e];return n};class lm extends Qd[\"a\"]{constructor(e){super(e);const t=this[\"bindTemplate\"];this[cm(\"0x1\")]({tag:\"span\",attributes:{class:[\"ck\",cm(\"0x0\"),t[\"to\"](cm(\"0x4\"),e=>cm(\"0x2\")+e)]},children:[{tag:\"span\",attributes:{class:[cm(\"0x3\")]},children:[{tag:cm(\"0x7\"),class:[cm(\"0x6\")],children:[{text:t[\"to\"](cm(\"0x5\"))}]}]}]})}}const dm=[\"tooltipView\",\"execute\",\"ck-presence-list__list-item\",\"bindTemplate\",\"text\",\"ck-presence-list__marker\",\"markerView\",\"getBackgroundColorClass\",\"div\",\"setTemplate\",\"fire\",\"tag\",\"name\",\"userView\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(dm,229);const um=function(e,t){e=e-0;let n=dm[e];return n};class hm extends m[\"a\"]{constructor(e,t,n){super(e);const i=this[um(\"0xc\")];this[\"userView\"]=new im[\"a\"](e,t),this[um(\"0x1\")]=new fm(e,t),this[um(\"0x9\")]=new lm(e),this[um(\"0x9\")][um(\"0xd\")]=this[\"userView\"][um(\"0x7\")];const r={tag:um(\"0x3\"),attributes:{class:[\"ck\",um(\"0xb\")]},children:[this[um(\"0x8\")],this[\"markerView\"],this[um(\"0x9\")]]};n&&(r[um(\"0x6\")]=\"button\",r[\"on\"]={click:i[\"to\"](()=>this[um(\"0x5\")](um(\"0xa\")))}),this[um(\"0x4\")](r)}}class fm extends m[\"a\"]{constructor(e,t){super(e),this[um(\"0x4\")]({tag:\"span\",attributes:{class:[\"ck\",um(\"0x0\"),t[\"color\"][um(\"0x2\")]()],\"aria-hidden\":\"true\"}})}}const mm=[\"presenceList\",\"init\",\"balloonPanelView\",\"destroy\",\"bodyCollection\",\"allConnectedUsers\",\"items\",\"using\",\"remove\",\"number\",\"counterView\",\"presenceList: Missing container element.\",\"execute\",\"bind\",\"define\",\"usersCount\",\"pin\",\"detachFromDom\",\"render\",\"bindTo\",\"attachToDom\",\"unpin\",\"lastConnectedUsers\",\"onClick\",\"length\",\"config\",\"requires\",\"hideDropdown\",\"isHidden\",\"plugins\",\"from\",\"class\",\"appendChild\",\"set\",\"isRendered\",\"presenceList: collapseAt must be a number.\",\"presenceList.collapseAt\",\"ck ck-presence-list__balloon\",\"content\",\"element\",\"add\",\"locale\",\"inlineListView\",\"showDropdown\",\"context\",\"view\",\"get\",\"isCollapsed\",\"listenTo\",\"isVisible\",\"presenceDropdownView\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(mm,262);const gm=function(e,t){e=e-0;let n=mm[e];return n};class pm extends Hi[\"a\"]{constructor(e){if(super(e),e[gm(\"0x12\")][gm(\"0x7\")](gm(\"0x2c\"),{collapseAt:6}),gm(\"0x2\")!=typeof e[gm(\"0x12\")][gm(\"0x27\")](gm(\"0x1d\")))throw new se[\"b\"](gm(\"0x1c\"),this);if(e[gm(\"0x12\")][gm(\"0x27\")](\"presenceList.collapseAt\")<1)throw new se[\"b\"](\"presenceList: collapseAt must be higher than 0.\",this)}static get[gm(\"0x13\")](){return[Wf]}[gm(\"0x2d\")](){const e=this[gm(\"0x25\")];this[\"i\"]=e[gm(\"0x16\")][gm(\"0x27\")](Wf)[gm(\"0x31\")],this[gm(\"0x1a\")](gm(\"0x8\"),0),this[gm(\"0xf\")]=new On[\"a\"],this[gm(\"0x2e\")]=new At,this[gm(\"0x2e\")][gm(\"0x18\")]=gm(\"0x1e\"),this[gm(\"0x26\")]=this[\"s\"](),this[gm(\"0x2b\")]=void 0;for(const e of this[\"i\"])this[\"o\"](e);this[gm(\"0x29\")](this[\"i\"],gm(\"0x21\"),(e,t)=>{this[\"o\"](t)}),this[gm(\"0x29\")](this[\"i\"],gm(\"0x1\"),(e,t)=>{this[\"h\"](t)})}[\"s\"](){const e=this[gm(\"0x25\")],t=new Zf(this[gm(\"0x25\")][gm(\"0x22\")]),n=this[gm(\"0x2e\")];if(!Object(pe[\"a\"])(e[gm(\"0x12\")][gm(\"0x27\")](\"presenceList.container\")))throw new se[\"b\"](gm(\"0x4\"),this);return t[gm(\"0x3\")][\"bind\"](\"usersCount\")[\"to\"](this),t[gm(\"0x6\")](gm(\"0x28\"))[\"to\"](this,gm(\"0x8\"),n=>{const i=n>=e[gm(\"0x12\")][gm(\"0x27\")](gm(\"0x1d\"));return t[gm(\"0x3\")][gm(\"0x15\")]=!(1==n||i),i||this[gm(\"0x14\")](),i}),t[gm(\"0x23\")][gm(\"0x32\")][gm(\"0xc\")](this[gm(\"0xf\")])[gm(\"0x0\")](t=>{const n=e[gm(\"0x12\")][gm(\"0x27\")](gm(\"0x2c\")),i=new hm(e[gm(\"0x22\")],t,n[gm(\"0x10\")]);return n[gm(\"0x10\")]&&this[\"listenTo\"](i,\"execute\",()=>{this[gm(\"0x26\")][gm(\"0x28\")]||n[gm(\"0x10\")](t,i[gm(\"0x20\")])}),i}),this[\"listenTo\"](t[gm(\"0x23\")],gm(\"0x5\"),()=>{this[gm(\"0x2b\")]?this[gm(\"0x14\")]():this[\"view\"][\"isCollapsed\"]&&this[gm(\"0x24\")]()}),t[gm(\"0xb\")](),n[gm(\"0xb\")](),K({emitter:t,activator:()=>n[gm(\"0x2a\")],contextElements:[n[gm(\"0x20\")],t[gm(\"0x23\")][gm(\"0x20\")]],callback:()=>this[gm(\"0x14\")]()}),e[\"config\"][gm(\"0x27\")](\"presenceList.container\")[gm(\"0x19\")](t[gm(\"0x20\")]),this[gm(\"0x30\")]=new $f[\"a\"](this[gm(\"0x25\")][gm(\"0x22\")]),this[\"bodyCollection\"][gm(\"0xd\")](),this[gm(\"0x30\")][gm(\"0x21\")](n),t}[\"o\"](e){this[gm(\"0x8\")]++,5==this[\"lastConnectedUsers\"][gm(\"0x11\")]&&this[gm(\"0xf\")][\"remove\"](0),this[gm(\"0xf\")][gm(\"0x21\")](e)}[\"h\"](e){if(this[gm(\"0x8\")]--,this[gm(\"0xf\")][gm(\"0x27\")](e[\"id\"])&&(this[gm(\"0xf\")][gm(\"0x1\")](e[\"id\"]),this[gm(\"0xf\")][gm(\"0x11\")]<this[gm(\"0x8\")]))for(const e of Array[gm(\"0x17\")](this[\"i\"])[\"reverse\"]())if(!this[gm(\"0xf\")][gm(\"0x27\")](e[\"id\"]))return void this[gm(\"0xf\")][gm(\"0x21\")](e,0)}[gm(\"0x24\")](){if(this[gm(\"0x2b\")])return;this[gm(\"0x2b\")]=new nm;const e=this[\"context\"][gm(\"0x12\")][gm(\"0x27\")](gm(\"0x2c\"));this[gm(\"0x2b\")][gm(\"0x32\")][gm(\"0xc\")](this[\"i\"])[gm(\"0x0\")](t=>{const n=new sm(this[gm(\"0x25\")][gm(\"0x22\")],t,!!e[gm(\"0x10\")]);return e[\"onClick\"]&&this[gm(\"0x29\")](n,gm(\"0x5\"),()=>{e[gm(\"0x10\")](t,n[gm(\"0x20\")])}),n}),this[\"balloonPanelView\"][gm(\"0x1f\")][gm(\"0x21\")](this[\"presenceDropdownView\"]),this[gm(\"0x2e\")][gm(\"0x9\")]({target:this[gm(\"0x26\")][gm(\"0x23\")][gm(\"0x20\")]})}[gm(\"0x14\")](){this[\"presenceDropdownView\"]&&(this[gm(\"0x2e\")][gm(\"0xe\")](),this[\"balloonPanelView\"][gm(\"0x1f\")][gm(\"0x1\")](this[gm(\"0x2b\")]),this[\"presenceDropdownView\"][\"destroy\"](),this[gm(\"0x2b\")]=void 0)}[gm(\"0x2f\")](){super[gm(\"0x2f\")](),this[gm(\"0x26\")]&&this[\"view\"][gm(\"0x1b\")]&&this[gm(\"0x26\")][gm(\"0x2f\")](),this[\"bodyCollection\"]&&this[\"bodyCollection\"][gm(\"0xa\")]()}}var bm=[\"requires\",\"PresenceList\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(bm,313);var _m=function(e,t){e=e-0;var n=bm[e];return n};class wm extends Hi[\"a\"]{static get[_m(\"0x1\")](){return[Wf,pm]}static get[\"pluginName\"](){return _m(\"0x0\")}}var vm=n(107);class km extends $h{constructor(e,t,n,i,r,o,s){super(),this[\"commentThreadId\"]=t,this[\"content\"]=n,this[\"documentId\"]=e,this[\"commentId\"]=i||\"\",this[\"createdAt\"]=r?new Date(r):\"\",this[\"userId\"]=o||\"\",this[\"attributes\"]=s||null}static get[\"TYPE\"](){return 91}static get[\"READABLE_TYPE_NAME\"](){return\"addComment\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2AddCommentMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},content:{type:\"string\",id:2},documentId:{type:\"string\",id:3},commentId:{type:\"string\",id:4},createdAt:{type:\"string\",id:5},userId:{type:\"string\",id:6},attributes:{type:\"string\",id:7}}}}[\"toJSON\"](){return{commentThreadId:this[\"commentThreadId\"],content:this[\"content\"],documentId:this[\"documentId\"],commentId:this[\"commentId\"],createdAt:this[\"createdAt\"]instanceof Date?this[\"createdAt\"][\"toISOString\"]():this[\"createdAt\"],userId:this[\"userId\"],attributes:JSON[\"stringify\"](this[\"attributes\"])}}static[\"fromJSON\"](e){return new km(e[\"documentId\"],e[\"commentThreadId\"],e[\"content\"],e[\"commentId\"]?e[\"commentId\"]:null,e[\"createdAt\"]?new Date(e[\"createdAt\"]):null,e[\"userId\"]?e[\"userId\"]:null,e[\"attributes\"]?JSON[\"parse\"](e[\"attributes\"]):null)}}class xm extends $h{constructor(e,t,n){super(),this[\"commentThreadId\"]=e,this[\"commentId\"]=t,this[\"createdAt\"]=new Date(n)}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2AddCommentResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},commentId:{type:\"string\",id:2},createdAt:{type:\"string\",id:3}}}}[\"toJSON\"](){return{commentThreadId:this[\"commentThreadId\"],commentId:this[\"commentId\"],createdAt:this[\"createdAt\"][\"toISOString\"]()}}static[\"fromJSON\"](e){return new xm(e[\"commentThreadId\"],e[\"commentId\"],e[\"createdAt\"])}}class ym extends $h{constructor(e){super(),this[\"documentId\"]=e}static get[\"TYPE\"](){return 92}static get[\"READABLE_TYPE_NAME\"](){return\"connectToComment\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2ConnectMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{documentId:{type:\"string\",id:1}}}}[\"toJSON\"](){return{documentId:this[\"documentId\"]}}static[\"fromJSON\"](e){return new ym(e[\"documentId\"])}}class Cm extends $h{constructor(e,t){super(),this[\"channel\"]=e,this[\"threads\"]=t}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2ConnectResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{channel:{type:\"string\",id:1},threads:{type:\"string\",rule:\"repeated\",id:2}}}}[\"toJSON\"](){return{channel:this[\"channel\"],threads:this[\"threads\"][\"map\"](e=>JSON[\"stringify\"](e))}}static[\"fromJSON\"](e){return new Cm(e[\"channel\"],e[\"threads\"][\"map\"](e=>JSON[\"parse\"](e)))}}class Am extends $h{constructor(e,t,n){super(),this[\"commentThreadId\"]=t,this[\"commentId\"]=n,this[\"documentId\"]=e}static get[\"TYPE\"](){return 95}static get[\"READABLE_TYPE_NAME\"](){return\"removeComment\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2RemoveCommentMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},commentId:{type:\"string\",id:2},documentId:{type:\"string\",id:3}}}}[\"toJSON\"](){return{documentId:this[\"documentId\"],commentThreadId:this[\"commentThreadId\"],commentId:this[\"commentId\"]}}static[\"fromJSON\"](e){return new Am(e[\"documentId\"],e[\"commentThreadId\"],e[\"commentId\"])}}class Tm extends $h{constructor(e,t){super(),this[\"commentThreadId\"]=t,this[\"documentId\"]=e}static get[\"TYPE\"](){return 97}static get[\"READABLE_TYPE_NAME\"](){return\"removeCommentThread\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2RemoveCommentThreadMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},documentId:{type:\"string\",id:2}}}}[\"toJSON\"](){return{documentId:this[\"documentId\"],commentThreadId:this[\"commentThreadId\"]}}static[\"fromJSON\"](e){return new Tm(e[\"documentId\"],e[\"commentThreadId\"])}}class Em extends $h{constructor(e,t,n,i,r){super(),this[\"commentThreadId\"]=t,this[\"commentId\"]=n,this[\"content\"]=i,this[\"documentId\"]=e,this[\"attributes\"]=r}static get[\"TYPE\"](){return 96}static get[\"READABLE_TYPE_NAME\"](){return\"updateComment\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2UpdateCommentMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},commentId:{type:\"string\",id:2},content:{type:\"string\",id:3},documentId:{type:\"string\",id:4},attributes:{type:\"string\",id:5}}}}[\"toJSON\"](){return{documentId:this[\"documentId\"],commentThreadId:this[\"commentThreadId\"],commentId:this[\"commentId\"],content:this[\"content\"],attributes:JSON[\"stringify\"](this[\"attributes\"])}}static[\"fromJSON\"](e){return new Em(e[\"documentId\"],e[\"commentThreadId\"],e[\"commentId\"],e[\"content\"],e[\"attributes\"]?JSON[\"parse\"](e[\"attributes\"]):null)}}class Sm extends $h{constructor(e,t){super(),this[\"commentThreadId\"]=e,this[\"documentId\"]=t}static get[\"TYPE\"](){return 93}static get[\"READABLE_TYPE_NAME\"](){return\"getComment\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2GetCommentThreadMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},documentId:{type:\"string\",id:2}}}}[\"toJSON\"](){return{commentThreadId:this[\"commentThreadId\"],documentId:this[\"documentId\"]}}static[\"fromJSON\"](e){return new Sm(e[\"commentThreadId\"],e[\"documentId\"])}}class Om extends $h{constructor(e,t){super(),this[\"commentThreadId\"]=e,this[\"comments\"]=t}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2GetCommentThreadResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{commentThreadId:{type:\"string\",id:1},comments:{type:\"string\",rule:\"repeated\",id:2}}}}[\"toJSON\"](){return{commentThreadId:this[\"commentThreadId\"],comments:this[\"comments\"][\"map\"](e=>JSON[\"stringify\"](e))}}static[\"fromJSON\"](e){return new Om(e[\"commentThreadId\"],e[\"comments\"][\"map\"](e=>JSON[\"parse\"](e)))}}class Im extends $h{constructor(e){super(),this[\"documentId\"]=e}static get[\"TYPE\"](){return 94}static get[\"READABLE_TYPE_NAME\"](){return\"getDocumentThreads\"}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2GetDocumentThreadsMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{documentId:{type:\"string\",id:1}}}}[\"toJSON\"](){return{documentId:this[\"documentId\"]}}static[\"fromJSON\"](e){return new Im(e[\"documentId\"])}}class Pm extends $h{constructor(e){super(),this[\"threads\"]=e}static get[\"DESCRIPTOR_NAME\"](){return\"CommentsV2GetDocumentThreadsResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{threads:{type:\"string\",rule:\"repeated\",id:1}}}}[\"toJSON\"](){return{threads:this[\"threads\"][\"map\"](e=>JSON[\"stringify\"](e))}}static[\"fromJSON\"](e){return new Pm(e[\"threads\"][\"map\"](e=>JSON[\"parse\"](e)))}}class Mm extends $h{constructor(e,t=[]){super(),this[\"channel\"]=e,this[\"sockets\"]=t}static get[\"DESCRIPTOR_NAME\"](){return\"SessionsConnectResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{channel:{type:\"string\",id:1},sockets:{rule:\"repeated\",type:\"SessionsSocketDescriptor\",id:2}}}}[\"toJSON\"](){return{channel:this[\"channel\"],sockets:this[\"sockets\"][\"map\"](e=>({user:e[\"userId\"],session:e[\"id\"],role:e[\"role\"]}))}}static[\"fromJSON\"](e){return new Mm(e[\"channel\"],e[\"sockets\"][\"map\"](e=>({id:e[\"session\"],userId:e[\"user\"],role:e[\"role\"]})))}}class Rm extends $h{constructor(e,t){super(),this[\"id\"]=e,this[\"sessionType\"]=t}static get[\"TYPE\"](){return 31}static get[\"READABLE_TYPE_NAME\"](){return\"getConnectedSockets\"}static get[\"DESCRIPTOR_NAME\"](){return\"SessionsConnectMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},sessionType:{type:\"uint32\",id:2}}}}[\"toJSON\"](){return{id:this[\"id\"],sessionType:this[\"sessionType\"]}}static[\"fromJSON\"](e){return new Rm(e[\"id\"],e[\"sessionType\"])}}class Nm extends $h{constructor(e,t,n){super(),this[\"id\"]=e,this[\"userId\"]=t,this[\"role\"]=n}static get[\"TYPE\"](){return 32}static get[\"READABLE_TYPE_NAME\"](){return\"connectSocket\"}static get[\"DESCRIPTOR_NAME\"](){return\"SocketConnectMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},userId:{type:\"string\",id:2},role:{type:\"string\",id:3}}}}[\"toJSON\"](){return{id:this[\"id\"],userId:this[\"userId\"],role:this[\"role\"]}}static[\"fromJSON\"](e){return new Nm(e[\"id\"],e[\"userId\"],e[\"role\"])}}class jm extends $h{constructor(e){super(),this[\"id\"]=e}static get[\"TYPE\"](){return 33}static get[\"READABLE_TYPE_NAME\"](){return\"disconnectSocket\"}static get[\"DESCRIPTOR_NAME\"](){return\"SocketDisconnectMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1}}}}[\"toJSON\"](){return{id:this[\"id\"]}}static[\"fromJSON\"](e){return new jm(e[\"id\"])}}class Dm extends On[\"a\"]{constructor(e,t){super({idProperty:\"id\"}),this[\"_id\"]=e,this[\"_serviceName\"]=t,this[\"_queue\"]=[],this[\"_handlers\"]=new Map,this[\"_wsGateway\"]=void 0,this[\"_channel\"]=void 0}async[\"connect\"](e){this[\"_wsGateway\"]=e,this[\"stopListening\"](e,\"change:state\");const t=new Rm(this[\"_id\"],this[\"_serviceName\"]);let n;try{const e=await this[\"_wsGateway\"][\"_sendRequest\"](Bm,Rm[\"TYPE\"],ef[\"encode\"](t));n=ef[\"decode\"](e,Mm)}catch(e){n=new Mm(this[\"_id\"],[])}this[\"_connectToChannel\"](this[\"_wsGateway\"],n[\"channel\"],this[\"_serviceName\"]);const i=await function(e,t){const n=t[\"map\"](async t=>{const n={id:t[\"id\"],role:t[\"role\"]},i=t[\"userId\"];return n[\"user\"]=i?await af[\"get\"](e,i):new af,n});return Promise[\"all\"](n)}(this[\"_wsGateway\"],n[\"sockets\"]);for(const e of i)super[\"add\"](e);this[\"_connected\"]=!0,this[\"fire\"](\"connected\"),this[\"listenTo\"](this[\"_wsGateway\"],\"change:state\",(...e)=>this[\"_onWsGatewayStateChange\"](...e),{priority:Pf[\"_CHANGE_STATE_EVENT_PRIORITY\"]}),await this[\"_runQueue\"]()}[\"disconnect\"](e=!0){if(this[\"_connected\"]){for(this[\"_connected\"]=!1,this[\"_queue\"]=[];this[\"length\"];)super[\"remove\"](0);this[\"_channel\"]&&(this[\"stopListening\"](this[\"_channel\"]),this[\"_channel\"]=void 0),this[\"_wsGateway\"]&&e&&(this[\"stopListening\"](this[\"_wsGateway\"]),this[\"_wsGateway\"]=void 0),this[\"fire\"](\"disconnected\"),e&&this[\"stopListening\"]()}}[\"_connectToChannel\"](e,t,n){this[\"_channel\"]=e[\"_getChannel\"](n,t),this[\"_addHandler\"](this[\"_channel\"],Nm[\"TYPE\"],async(t,n)=>{const i=ef[\"decode\"](n,Nm);if(-1===this[\"getIndex\"](i[\"id\"])){const t={id:i[\"id\"],role:i[\"role\"]};i[\"userId\"]&&(t[\"user\"]=await af[\"get\"](e,i[\"userId\"])),super[\"add\"](t)}}),this[\"_addHandler\"](this[\"_channel\"],jm[\"TYPE\"],(e,t)=>{const n=ef[\"decode\"](t,jm);-1!==this[\"getIndex\"](n[\"id\"])&&super[\"remove\"](n[\"id\"])})}async[\"_onWsGatewayStateChange\"](e,t,n){n===Pf[\"STATE_DISCONNECTED\"]&&this[\"disconnect\"](!1),n===Pf[\"STATE_CONNECTED\"]&&await this[\"connect\"](this[\"_wsGateway\"])}async[\"_runQueue\"](){if(this[\"_isRunning\"]||!this[\"_connected\"])return;let e;for(this[\"_isRunning\"]=!0;e=this[\"_queue\"][\"shift\"]();){const t=e[\"event\"][\"name\"],n=this[\"_handlers\"][\"get\"](t);n&&await n(e[\"event\"],e[\"data\"],e[\"socketId\"])}this[\"_isRunning\"]=!1}[\"_addHandler\"](e,t,n){const i=e[\"getEventName\"](t,!0);this[\"listenTo\"](e,i,async(e,t,n)=>{this[\"_queue\"][\"push\"]({event:e,data:t,socketId:n}),await this[\"_runQueue\"]()}),this[\"_handlers\"][\"set\"](i,n)}}Dm[\"prototype\"][\"add\"]=void 0,Dm[\"prototype\"][\"remove\"]=void 0;var Lm=Dm;const Bm=3;class Fm{static async[\"getConnectedSessions\"](e,t,n){const i=new Lm(t,n);return await i[\"connect\"](e),i}}const zm=9;class Vm{constructor(e){this[\"_wsGateway\"]=null,this[\"_isConnected\"]=!1,this[\"_documentId\"]=e}get[\"isConnected\"](){return this[\"_isConnected\"]}static get[\"_SERVICE\"](){return 9}async[\"connect\"](e){if(this[\"_isConnected\"])return Promise[\"resolve\"]();if(e[\"state\"]!==Pf[\"STATE_CONNECTED\"])throw new lf(\"Web socket gateway is not connected.\",e);const t=new ym(this[\"_documentId\"]);this[\"_wsGateway\"]=e,this[\"stopListening\"](e,\"change:state\");const n=await e[\"_sendRequest\"](9,t[\"constructor\"][\"TYPE\"],ef[\"encode\"](t)),{channel:i,threads:r}=ef[\"decode\"](n,Cm);return this[\"listenTo\"](e,\"change:state\",(...e)=>this[\"_onWsGatewayStateChange\"](...e),{priority:Pf[\"_CHANGE_STATE_EVENT_PRIORITY\"]}),this[\"_connectToChannel\"](e,i),this[\"_isConnected\"]=!0,this[\"fire\"](\"connected\"),r}[\"disconnect\"](){this[\"_isConnected\"]&&(this[\"_isConnected\"]=!1,this[\"_wsGateway\"]&&(this[\"stopListening\"](this[\"_wsGateway\"]),this[\"_wsGateway\"]=void 0),this[\"_channel\"]&&(this[\"stopListening\"](this[\"_channel\"]),this[\"_channel\"]=void 0),this[\"_connectedSessions\"]&&(this[\"_connectedSessions\"][\"disconnect\"](),this[\"_connectedSessions\"]=void 0),this[\"fire\"](\"disconnected\"),this[\"stopListening\"]())}async[\"addComment\"](e,t,n,i){const r=new km(this[\"_documentId\"],e,n,t,void 0,void 0,i),o=await this[\"_wsGateway\"][\"_sendRequest\"](9,km[\"TYPE\"],ef[\"encode\"](r));return ef[\"decode\"](o,xm)}[\"updateComment\"](e,t,n,i){const r=new Em(this[\"_documentId\"],e,t,n,i);return this[\"_wsGateway\"][\"_sendRequest\"](9,Em[\"TYPE\"],ef[\"encode\"](r))}[\"removeComment\"](e,t){const n=new Am(this[\"_documentId\"],e,t);return this[\"_wsGateway\"][\"_sendRequest\"](9,Am[\"TYPE\"],ef[\"encode\"](n))}[\"removeCommentThread\"](e){const t=new Tm(this[\"_documentId\"],e);return this[\"_wsGateway\"][\"_sendRequest\"](9,Tm[\"TYPE\"],ef[\"encode\"](t))}async[\"getCommentThread\"](e,t=1){const n=new Sm(e,this[\"_documentId\"]);try{const e=await this[\"_wsGateway\"][\"_sendRequest\"](9,Sm[\"TYPE\"],ef[\"encode\"](n));return ef[\"decode\"](e,Om)}catch(n){if(n instanceof lf&&\"404\"===n[\"code\"]&&t<5)return await(i=100*t,new Promise(e=>{setTimeout(e,i)})),this[\"getCommentThread\"](e,t+1);if(n instanceof lf)throw n;throw new lf(n[\"message\"],this[\"_wsGateway\"])}var i}async[\"getDocumentThreads\"](){const e=new Im(this[\"_documentId\"]),t=await this[\"_wsGateway\"][\"_sendRequest\"](9,Im[\"TYPE\"],ef[\"encode\"](e));return ef[\"decode\"](t,Pm)}async[\"getConnectedSessions\"](){if(!this[\"_isConnected\"])throw new lf(\"Comments Service is not connected.\",this);return this[\"_connectedSessions\"]||(this[\"_connectedSessions\"]=await Fm[\"getConnectedSessions\"](this[\"_wsGateway\"],this[\"_documentId\"],9)),this[\"_connectedSessions\"]}[\"_connectToChannel\"](e,t){this[\"_channel\"]=e[\"_getChannel\"](Vm[\"_SERVICE\"],t),this[\"listenTo\"](this[\"_channel\"],this[\"_channel\"][\"getEventName\"](km[\"TYPE\"]),(e,t)=>{const n=ef[\"decode\"](t,km);this[\"fire\"](\"commentAdded\",n)}),this[\"listenTo\"](this[\"_channel\"],this[\"_channel\"][\"getEventName\"](Am[\"TYPE\"]),(e,t)=>{const n=ef[\"decode\"](t,Am);this[\"fire\"](\"commentRemoved\",n)}),this[\"listenTo\"](this[\"_channel\"],this[\"_channel\"][\"getEventName\"](Em[\"TYPE\"]),(e,t)=>{const n=ef[\"decode\"](t,Em);this[\"fire\"](\"commentUpdated\",n)}),this[\"listenTo\"](this[\"_channel\"],this[\"_channel\"][\"getEventName\"](Tm[\"TYPE\"]),(e,t)=>{const n=ef[\"decode\"](t,Tm);this[\"fire\"](\"commentThreadRemoved\",n)})}[\"_onWsGatewayStateChange\"](e,t,n){n===Pf[\"STATE_DISCONNECTED\"]&&this[\"disconnect\"]()}}Object(w[\"a\"])(Vm,gt[\"c\"]);var Um=Vm;var Hm=n(46);const Wm=[\"keys\",\"removeCommentThread\",\"cloudservicescommentsadapter-disconnect-not-exist: Missing service of a given channelId\",\"destroy\",\"adapter\",\"sessionAdd:\",\"switchReadOnly\",\"init\",\"cloudservicescommentsadapter-connect-already-connected: Cannot connect to the same channelId more than once.\",\"content\",\"collaboration.channelId\",\"terminateService\",\"reconnect\",\"assign\",\"updateComment\",\"set\",\"update\",\"_getService\",\"from\",\"createdAt\",\"mySessionId\",\"unregister\",\"commentId\",\"code\",\"getComment\",\"disconnect\",\"listenTo\",\"addComment\",\"addUser\",\"commentThreadRemoved\",\"getCommentThreads\",\"context\",\"map\",\"off\",\"userId\",\"getCommentThread\",\"role\",\"hasCommentThread\",\"setUpService\",\"reader\",\"commentAdded\",\"register\",\"has\",\"addCommentThread\",\"comments\",\"config\",\"get\",\"remove\",\"_services\",\"getConnectedSessions\",\"removeComment\",\"commentThreadId\",\"delete\",\"plugins\",\"cloudservicescommentsadapter-service-not-exist: Missing service of a given channelId\",\"catch\",\"commentRemoved\",\"requires\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Wm,169);const $m=function(e,t){e=e-0;let n=Wm[e];return n};class qm extends Hi[\"a\"]{static get[$m(\"0x4\")](){return[Ff,Hm[\"a\"],Wf,Vf[\"a\"]]}constructor(e){super(e),this[$m(\"0x35\")]=new Map}async[$m(\"0xc\")](){const e=this[$m(\"0x24\")],t=e[$m(\"0x0\")][$m(\"0x33\")](Hm[\"a\"]);if(e[\"plugins\"][$m(\"0x33\")](Ff)[\"addToReconnectionStack\"](this),t[$m(\"0x9\")]={getCommentThread:async({channelId:e,threadId:t})=>{const n=await this[\"_getService\"](e)[$m(\"0x28\")](t);return await this[\"m\"]([n]),{threadId:n[\"commentThreadId\"],comments:n[\"comments\"][$m(\"0x25\")](Jm)}},removeCommentThread:({channelId:e,threadId:t})=>this[\"_getService\"](e)[$m(\"0x6\")](t)[$m(\"0x2\")](Ym),addComment:({channelId:e,threadId:t,commentId:n,content:i})=>this[$m(\"0x16\")](e)[$m(\"0x20\")](t,n,i),updateComment:({channelId:e,threadId:t,commentId:n,content:i})=>this[$m(\"0x16\")](e)[$m(\"0x13\")](t,n,i)[\"catch\"](Ym),removeComment:({channelId:e,threadId:t,commentId:n})=>this[$m(\"0x16\")](e)[$m(\"0x37\")](t,n)[\"catch\"](Ym)},e instanceof vm[\"a\"]){const n=e[\"config\"][$m(\"0x33\")](\"collaboration.channelId\"),i=e[\"plugins\"][$m(\"0x33\")](Wf);await this[$m(\"0x2b\")](n);const r=await this[$m(\"0x35\")][$m(\"0x33\")](n)[$m(\"0x36\")]();this[$m(\"0x1f\")](i,$m(\"0xa\")+n,(e,{session:r})=>{r[\"id\"]===i[$m(\"0x19\")]&&(e[$m(\"0x26\")](),$m(\"0x2c\")===r[$m(\"0x29\")]&&t[$m(\"0xb\")](!0,n))}),i[\"register\"](n,r)}}async[$m(\"0x2b\")](e){if(this[$m(\"0x35\")][$m(\"0x2f\")](e))throw new se[\"b\"]($m(\"0xd\"),null,{channelId:e});const t=this[\"context\"][\"plugins\"][\"get\"](Hm[\"a\"]),n=new qm[\"CommentsService\"](e);this[$m(\"0x35\")][$m(\"0x14\")](e,n),this[$m(\"0x1f\")](n,$m(\"0x22\"),(e,{commentThreadId:n})=>{const i=t[$m(\"0x28\")](n);i&&i[\"remove\"]({isFromAdapter:!0})}),this[$m(\"0x1f\")](n,$m(\"0x2d\"),(n,i)=>{const r=i[$m(\"0x38\")];t[$m(\"0x2a\")](r)||t[\"addCommentThread\"]({channelId:e,threadId:r,isFromAdapter:!0});const o=t[$m(\"0x28\")](r);o&&o[$m(\"0x20\")](Object[$m(\"0x12\")](Jm(i),{isFromAdapter:!0}))}),this[$m(\"0x1f\")](n,\"commentUpdated\",(e,{commentThreadId:n,commentId:i,content:r})=>{const o=t[\"getCommentThread\"](n);if(o){const e=o[\"getComment\"](i);e&&e[$m(\"0x15\")]({content:r,isFromAdapter:!0})}}),this[$m(\"0x1f\")](n,$m(\"0x3\"),(e,{commentThreadId:n,commentId:i})=>{const r=t[$m(\"0x28\")](n);if(r){const e=r[$m(\"0x1d\")](i);e&&e[$m(\"0x34\")]({isFromAdapter:!0})}}),await this[\"l\"](e)}[$m(\"0x8\")](){if(this[$m(\"0x24\")]instanceof vm[\"a\"]){const e=this[\"context\"][$m(\"0x32\")][\"get\"]($m(\"0xf\"));this[$m(\"0x10\")](e)}}[\"terminateService\"](e){if(!this[$m(\"0x35\")][$m(\"0x2f\")](e))throw new se[\"b\"]($m(\"0x7\"),null,{channelId:e});this[$m(\"0x16\")](e)[$m(\"0x1e\")](),this[$m(\"0x35\")][$m(\"0x39\")](e)}async[$m(\"0x11\")](){for(const e of this[$m(\"0x35\")][$m(\"0x5\")]())await this[\"l\"](e);if(this[\"context\"]instanceof vm[\"a\"]){const e=this[$m(\"0x24\")][$m(\"0x32\")][\"get\"]($m(\"0xf\")),t=this[$m(\"0x24\")][\"plugins\"][$m(\"0x33\")](Wf);t[$m(\"0x1a\")](e);const n=await this[$m(\"0x35\")][\"get\"](e)[$m(\"0x36\")]();t[$m(\"0x2e\")](e,n)}}async[\"l\"](e){const{connection:t}=this[$m(\"0x24\")][\"plugins\"][\"get\"](Ff),n=this[$m(\"0x24\")][\"plugins\"][$m(\"0x33\")](Hm[\"a\"]),i=this[$m(\"0x35\")][\"get\"](e),r=await i[\"connect\"](t);await this[\"m\"](r);const o=new Set(Array[$m(\"0x17\")](n[$m(\"0x23\")]({channelId:e}),e=>e[\"id\"]));for(const e of r)o[$m(\"0x39\")](e[$m(\"0x38\")]);for(const e of o)n[$m(\"0x28\")](e)[$m(\"0x34\")]({isFromAdapter:!0});for(const t of r){let i=n[\"getCommentThread\"](t[\"commentThreadId\"]);i||(i=n[$m(\"0x30\")]({channelId:e,threadId:t[\"commentThreadId\"],isFromAdapter:!0}));const r=new Set(Array[\"from\"](i[$m(\"0x31\")],e=>e[\"id\"]));for(const e of t[\"comments\"])r[\"delete\"](e[$m(\"0x1b\")]);for(const e of r)i[$m(\"0x1d\")](e)[$m(\"0x34\")]({isFromAdapter:!0});for(const e of t[\"comments\"]){const t=i[$m(\"0x1d\")](e[$m(\"0x1b\")]);t?t[$m(\"0xe\")]!==e[$m(\"0xe\")]&&t[$m(\"0x15\")]({content:e[$m(\"0xe\")],isFromAdapter:!0}):i[$m(\"0x20\")](Object[\"assign\"](Jm(e),{isFromAdapter:!0}))}}}[$m(\"0x16\")](e){if(!this[$m(\"0x35\")][$m(\"0x2f\")](e))throw new se[\"b\"]($m(\"0x1\"),null,{channelId:e});return this[$m(\"0x35\")][\"get\"](e)}[\"m\"](e){const t=this[$m(\"0x24\")][\"plugins\"][\"get\"](Vf[\"a\"]),{connection:n}=this[$m(\"0x24\")][$m(\"0x0\")][$m(\"0x33\")](Ff),i=new Set;for(const{comments:n}of e)for(const{userId:e}of n)t[\"getUser\"](e)||i[\"add\"](e);return Promise[\"all\"](Array[$m(\"0x17\")](i,async e=>{const i=await af[$m(\"0x33\")](n,e);t[\"getUser\"](e)||t[$m(\"0x21\")](i)}))}}async function Ym(e){if(\"404\"!==e[$m(\"0x1c\")])throw e}function Jm(e){return{threadId:e[$m(\"0x38\")],commentId:e[$m(\"0x1b\")],content:e[$m(\"0xe\")],createdAt:e[$m(\"0x18\")],authorId:e[$m(\"0x27\")]}}qm[\"CommentsService\"]=Um;var Gm=n(443);const Km=[\"element\",\"ck-user__marker \",\"checkChild\",\"init\",\"update:user:range\",\"batch\",\"schema\",\"document\",\"fromRange\",\"has\",\"getContainedElement\",\"color\",\"marker\",\"model\",\"getAttribute\",\"tableCell\",\"detach\",\"conversion\",\"getUserBySessionId\",\"transparent\",\"editingDowncast\",\"getCustomProperty\",\"highest\",\"render\",\"orderNumber\",\"end\",\"markerToElement\",\"user:position\",\"oldRange\",\"createRange\",\"getRange\",\"ck-user__selection\",\"innerHTML\",\"size\",\"markerName\",\"hasDomSelection\",\"deletionPosition\",\"name\",\"createUserMarkerOperations\",\"set\",\"split\",\"user:\",\"priority\",\"updateMarker\",\"addMarker\",\"parent\",\"editor\",\"undo\",\"toDomElement\",\"get\",\"enqueueChange\",'&#8203;<span class=\"ck-user__marker-line\"><span class=\"ck-user__marker-dot\"></span></span>',\"applyOperation\",\"markers\",\"span\",\"plugins\",\"contenteditable\",\"type\",\"$graveyard\",\"root\",\"user:range:\",\"user:position:\",\"data-session-id\",\"clear\",\"removeMarker\",\"pluginName\",\"setCustomProperty\",\"editing\",\"startsWith\",\"_createdBatches\",\"userPositionMarker\",\"change\",\"user:range\",\"selection\",\"delete\",\"change:range\",\"requires\",\"$text\",\"mySessionId\",\"start\",\"for\",\"isLimit\",\"isSimilar\",\"markerToHighlight\",\"getSelectionClass\",\"getFirstRange\",\"rootName\",\"getPositions\",\"view\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Km,142);const Xm=function(e,t){e=e-0;let n=Km[e];return n};class Qm extends ve[\"a\"]{static get[Xm(\"0x17\")](){return[Wf]}static get[Xm(\"0xc\")](){return\"UserMarkers\"}[Xm(\"0x27\")](){const e=this[\"editor\"],t=e[Xm(\"0x2\")][Xm(\"0x55\")](Wf);e[\"conversion\"][\"for\"](Xm(\"0x38\"))[Xm(\"0x3e\")]({model:Xm(\"0x3f\"),view:(n,i)=>function(e,t,n,i){const r=e[Xm(\"0x46\")][\"split\"](\":\")[2],o=n[Xm(\"0x36\")](r);if(!o||r===n[Xm(\"0x19\")])return;if(!i[\"model\"][Xm(\"0x2a\")][Xm(\"0x26\")](e[\"markerRange\"][Xm(\"0x1a\")],Xm(\"0x18\")))return;const s={class:Xm(\"0x25\")+o[Xm(\"0x2f\")][\"getMarkerClass\"](),\"data-name\":o[\"name\"],\"data-session-id\":r},a=i[Xm(\"0x31\")][Xm(\"0x0\")][\"get\"](e[Xm(\"0x46\")])[\"getStart\"]()[Xm(\"0x51\")];i[\"model\"][Xm(\"0x2a\")][Xm(\"0x1c\")](a)&&!i[\"model\"][\"hasContent\"](a)&&(s[Xm(\"0x3\")]=!1);const c=function(e,t){const n=e[\"createUIElement\"](Xm(\"0x1\"),t);return e[Xm(\"0xd\")](\"userPositionMarker\",!0,n),n[Xm(\"0x3b\")]=function(e){const t=this[Xm(\"0x54\")](e);return t[Xm(\"0x44\")]=Xm(\"0x57\"),t},n[Xm(\"0x1d\")]=function(e){return this[Xm(\"0x39\")](Xm(\"0x11\"))&&e[\"getCustomProperty\"](Xm(\"0x11\"))&&this[Xm(\"0x32\")](\"data-session-id\")==e[Xm(\"0x32\")](Xm(\"0x9\"))},n}(t,s);return c[Xm(\"0x4e\")]=1e3+o[Xm(\"0x3c\")],c}(n,i,t,e)}),e[Xm(\"0x35\")][Xm(\"0x1b\")](Xm(\"0x38\"))[Xm(\"0x1e\")]({model:Xm(\"0x13\"),view:e=>function(e,t){const n=e[Xm(\"0x46\")][Xm(\"0x4c\")](\":\")[2];if(n===t[Xm(\"0x19\")])return;const i=t[Xm(\"0x36\")](n);if(!i)return{id:n};return{id:n,classes:[Xm(\"0x43\"),i[Xm(\"0x2f\")][Xm(\"0x1f\")]()],attributes:{\"data-session-id\":n},priority:2e3+i[\"orderNumber\"]}}(e,t)}),function(e){const t=e[Xm(\"0x31\")],n=new Map,i=e[Xm(\"0x2\")][Xm(\"0x55\")](Wf);t[Xm(\"0x0\")][\"on\"](Xm(\"0x28\"),(e,r,o,s)=>{if(!s&&n[\"get\"](r[\"name\"]))return n[Xm(\"0x55\")](r[Xm(\"0x49\")])[Xm(\"0x34\")](),void n[Xm(\"0x15\")](r[\"name\"]);r[\"name\"][Xm(\"0x4c\")](\":\")[2]!==i[Xm(\"0x19\")]&&r[\"on\"](Xm(\"0x16\"),(e,i,o)=>{if(\"$graveyard\"!=i[\"root\"][Xm(\"0x21\")]&&\"$graveyard\"==r[\"getRange\"]()[Xm(\"0x6\")][\"rootName\"]&&!n[Xm(\"0x2d\")](r[\"name\"])){const e=eg(o[\"deletionPosition\"],t[\"schema\"]);if(e){const i=ru[\"a\"][Xm(\"0x2c\")](e);n[Xm(\"0x4b\")](r[Xm(\"0x49\")],i),i[\"on\"](Xm(\"0x16\"),(e,o,s)=>{if(Xm(\"0x5\")==i[\"root\"][Xm(\"0x21\")]){const e=eg(s[Xm(\"0x48\")],t[Xm(\"0x2a\")]);e?(i[Xm(\"0x1a\")]=e[Xm(\"0x1a\")],i[\"end\"]=e[Xm(\"0x3d\")]):(n[Xm(\"0x15\")](r[Xm(\"0x49\")]),i[Xm(\"0x34\")]())}})}}})}),t[Xm(\"0x2b\")][\"on\"](Xm(\"0x12\"),()=>{n[Xm(\"0x45\")]>0&&t[Xm(\"0x56\")](Xm(\"0x37\"),e=>{for(const[i,r]of n)Xm(\"0x5\")==t[\"markers\"][Xm(\"0x55\")](i)[Xm(\"0x42\")]()[Xm(\"0x6\")][\"rootName\"]&&(Zm(i[Xm(\"0x4c\")](\":\")[2],r,t,e),r[\"detach\"]());n[Xm(\"0xa\")]()})})}(e)}[\"afterInit\"](){const e=this[Xm(\"0x52\")],t=e[\"commands\"][Xm(\"0x55\")](Xm(\"0x53\"));t&&e[Xm(\"0x31\")][\"on\"](Xm(\"0x58\"),(n,i)=>{const r=i[0];if(Xm(\"0x30\")!=r[Xm(\"0x4\")]||!r[\"name\"][Xm(\"0xf\")](Xm(\"0x4d\")))return;const o=r[Xm(\"0x29\")];t[Xm(\"0x10\")][Xm(\"0x2d\")](o)&&(r[\"newRange\"]=e[Xm(\"0x31\")][Xm(\"0x41\")](r[\"oldRange\"][\"start\"],r[Xm(\"0x40\")][Xm(\"0x3d\")]))},{priority:Xm(\"0x3a\")})}[Xm(\"0x4a\")](){const e=this[Xm(\"0x52\")],t=e[Xm(\"0x31\")][\"document\"],n=e[Xm(\"0x2\")][Xm(\"0x55\")](Wf);e[\"model\"][Xm(\"0x56\")](Xm(\"0x37\"),i=>{const r=\"user:range:\"+n[Xm(\"0x19\")],o=\"user:position:\"+n[\"mySessionId\"],s=e[Xm(\"0x31\")][Xm(\"0x0\")][\"has\"](r);e[Xm(\"0xe\")][Xm(\"0x23\")][Xm(\"0x47\")]?Zm(n[Xm(\"0x19\")],t[Xm(\"0x14\")][Xm(\"0x20\")](),e[\"model\"],i):s&&(i[Xm(\"0xb\")](r),i[\"removeMarker\"](o))})}}function Zm(e,t,n,i){const r=Xm(\"0x7\")+e,o=Xm(\"0x8\")+e,s=t[Xm(\"0x2e\")]();let a=t[Xm(\"0x1a\")];s&&s[\"is\"](\"element\",Xm(\"0x33\"))&&(a=function(e,t){for(const n of e[Xm(\"0x22\")]())if(t[Xm(\"0x2a\")][Xm(\"0x26\")](n,Xm(\"0x18\")))return n}(t,n),t=i[Xm(\"0x41\")](a)),a=i[Xm(\"0x41\")](a);n[Xm(\"0x0\")][Xm(\"0x2d\")](r)?(i[Xm(\"0x4f\")](r,{range:t}),i[Xm(\"0x4f\")](o,{range:a})):(i[Xm(\"0x50\")](r,{range:t,usingOperation:!0}),i[Xm(\"0x50\")](o,{range:a,usingOperation:!0}))}function eg(e,t){const n=t[\"getNearestSelectionRange\"](e);if(!n)return null;const i=n[Xm(\"0x2e\")]();return i&&i[\"is\"](Xm(\"0x24\"),Xm(\"0x33\"))?null:n}var tg=n(492);const ng=[\"finish\",\"Root\",\"fromJSON\",\"toObject\",\"create\",\"decompress\",\"verify\",\"lookupType\",\"registerDescriptor\",\"getDescriptor\",\"decode\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ng,414);const ig=function(e,t){e=e-0;let n=ng[e];return n};class rg{constructor(){this[\"D\"]={nested:{}}}[ig(\"0x1\")](e,t){this[\"D\"][\"nested\"][e]=Object(tg[\"a\"])(t)}[\"build\"](){this[\"j\"]=Jh.a[ig(\"0x5\")][ig(\"0x6\")](this[\"D\"])}[ig(\"0x2\")](e){if(!this[\"j\"])throw new se[\"b\"](\"protobuffactory-cannot-get-descriptor-before-build: Cannot get descriptor before build.\",this);return new og(this[\"j\"][ig(\"0x0\")](e))}}class og{constructor(e){this[\"C\"]=e}[\"compress\"](e){const t=this[\"C\"][ig(\"0xa\")](e);if(t)throw Error(t);return this[\"C\"][\"encode\"](this[\"C\"][ig(\"0x8\")](e))[ig(\"0x4\")]()}[ig(\"0x9\")](e){return this[\"C\"][ig(\"0x7\")](this[\"C\"][ig(\"0x3\")](e),{oneofs:!0})}}var sg=[\"bool\",\"Element\",\"uint32\",\"Position\",\"string\",\"repeated\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(sg,113);var ag=function(e,t){e=e-0;var n=sg[e];return n};var cg={Position:{fields:{root:{type:ag(\"0x5\"),id:1},rootMain:{type:ag(\"0x1\"),id:2},rootGraveyard:{type:ag(\"0x1\"),id:3},path:{rule:\"repeated\",type:ag(\"0x3\"),id:4},stickiness:{type:ag(\"0x5\"),id:5}}},Range:{fields:{start:{type:ag(\"0x4\"),id:1},end:{type:ag(\"0x4\"),id:2}}},Element:{fields:{name:{type:ag(\"0x5\"),id:1},children:{rule:ag(\"0x0\"),type:ag(\"0x2\"),id:2},data:{type:ag(\"0x5\"),id:3},attributesBoolean:{keyType:ag(\"0x5\"),type:ag(\"0x1\"),id:4},attributesJson:{type:\"string\",id:5}}}};var lg=n(274);var dg=n(28);const ug=[\"rootMain\",\"root\",\"main\",\"length\",\"$graveyard\",\"nodes\",\"path\",\"rootGraveyard\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ug,329);const hg=function(e,t){e=e-0;let n=ug[e];return n};function fg(e,t){const n=Object(tg[\"a\"])(e);return n[hg(\"0x5\")][n[\"path\"][hg(\"0x2\")]-1]+=t,n}function mg(e,t){return e[hg(\"0x0\")]===t[\"root\"]&&Object(lg[\"a\"])(e[hg(\"0x5\")],t[hg(\"0x5\")])}function gg(e){bg(e,e=>(hg(\"0x1\")==e[hg(\"0x0\")]?(e[\"rootMain\"]=!0,delete e[hg(\"0x0\")]):hg(\"0x3\")==e[hg(\"0x0\")]&&(e[\"rootGraveyard\"]=!0,delete e[hg(\"0x0\")]),e))}function pg(e){bg(e,e=>(e[hg(\"0x7\")]?(e[hg(\"0x0\")]=\"main\",delete e[hg(\"0x7\")]):e[hg(\"0x6\")]&&(e[\"root\"]=hg(\"0x3\"),delete e[hg(\"0x6\")]),e))}function bg(e,t){for(const n in e){const i=e[n];hg(\"0x4\")!==n&&Object(dg[\"a\"])(i)&&(i[hg(\"0x5\")]&&(i[hg(\"0x0\")]||i[hg(\"0x7\")]||i[\"rootGraveyard\"])?e[n]=t(i):bg(i,t))}return e}const _g=[\"operationName\",\"_protobufDescriptor\",\"push\",\"shift\",\"decompress\",\"types\",\"compress\",\"__className\",\"buffers\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(_g,249);const wg=function(e,t){e=e-0;let n=_g[e];return n};class vg{constructor(e,t,n){this[\"id\"]=e,this[wg(\"0x3\")]=t,this[wg(\"0x4\")]=n}[wg(\"0x0\")](e,t){const n=t[\"shift\"]();gg(n),e[wg(\"0x2\")][wg(\"0x5\")](this[wg(\"0x4\")][\"compress\"](n)),e[wg(\"0x8\")][\"push\"](this[\"id\"])}[\"decompress\"](e,t){t[wg(\"0x8\")][wg(\"0x6\")]();const n=this[wg(\"0x4\")][wg(\"0x7\")](t[wg(\"0x2\")][wg(\"0x6\")]());pg(n),n[wg(\"0x1\")]=this[\"operationName\"],e[wg(\"0x5\")](n)}}const kg=[\"decompress\",\"Range\",\"shift\",\"bool\",\"stringify\",\"types\",\"newValue\",\"__className\",\"operationName\",\"Boolean\",\"Json\",\"boolean\",\"string\",\"_protobufDescriptor\",\"compress\",\"push\",\"buffers\",\"oldValue\",\"parse\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(kg,131);const xg=function(e,t){e=e-0;let n=kg[e];return n};class yg extends vg{static get[\"description\"](){return{fields:{range:{type:xg(\"0x3\"),id:1},key:{type:xg(\"0xe\"),id:2},oldValueBoolean:{type:\"bool\",id:3},oldValueJson:{type:xg(\"0xe\"),id:4},newValueBoolean:{type:xg(\"0x5\"),id:5},newValueJson:{type:xg(\"0xe\"),id:6},wasUndone:{type:xg(\"0x5\"),id:7}}}}[xg(\"0x10\")](e,t){const n=t[xg(\"0x4\")]();Cg(xg(\"0x0\"),n),Cg(\"newValue\",n),gg(n),e[xg(\"0x12\")][xg(\"0x11\")](this[\"_protobufDescriptor\"][xg(\"0x10\")](n)),e[xg(\"0x7\")][xg(\"0x11\")](this[\"id\"])}[xg(\"0x2\")](e,t){const{types:n,buffers:i}=t,r=this[xg(\"0xf\")][xg(\"0x2\")](i[xg(\"0x4\")]());n[xg(\"0x4\")](),Ag(xg(\"0x0\"),r),Ag(xg(\"0x8\"),r),pg(r),r[xg(\"0x9\")]=this[xg(\"0xa\")],e[xg(\"0x11\")](r)}}function Cg(e,t){const n=t[e];xg(\"0xd\")==typeof n?t[e+xg(\"0xb\")]=n:t[e+xg(\"0xc\")]=JSON[xg(\"0x6\")](n)}function Ag(e,t){const n=e+xg(\"0xc\");t[n]?(t[e]=JSON[xg(\"0x1\")](t[n]),delete t[n]):(t[e]=t[e+xg(\"0xb\")],delete t[e+xg(\"0xb\")])}const Tg=[\"children\",\"attributesJson\",\"operationName\",\"every\",\"Element\",\"buffers\",\"attributesBoolean\",\"decompress\",\"types\",\"bool\",\"compress\",\"attributes\",\"nodes\",\"push\",\"stringify\",\"_protobufDescriptor\",\"shift\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Tg,139);const Eg=function(e,t){e=e-0;let n=Tg[e];return n};class Sg extends vg{static get[\"description\"](){return{fields:{position:{type:\"Position\",id:1},nodes:{rule:\"repeated\",type:Eg(\"0x1\"),id:2},shouldReceiveAttributes:{type:Eg(\"0x6\"),id:3},wasUndone:{type:Eg(\"0x6\"),id:4}}}}[\"compress\"](e,t){const n=t[Eg(\"0xd\")]();!function e(t){for(const n of t){if(n[Eg(\"0x8\")]){const e=n[Eg(\"0x8\")];Og(e)?n[Eg(\"0x3\")]=e:n[Eg(\"0xf\")]=JSON[Eg(\"0xb\")](e)}n[Eg(\"0xe\")]&&e(n[Eg(\"0xe\")])}}(n[Eg(\"0x9\")]),gg(n),e[Eg(\"0x2\")][Eg(\"0xa\")](this[Eg(\"0xc\")][Eg(\"0x7\")](n)),e[Eg(\"0x5\")][\"push\"](this[\"id\"])}[Eg(\"0x4\")](e,t){const{types:n,buffers:i}=t,r=this[Eg(\"0xc\")][Eg(\"0x4\")](i[Eg(\"0xd\")]());n[Eg(\"0xd\")](),r[Eg(\"0x9\")]||(r[Eg(\"0x9\")]=[]),function e(t){for(const n of t)(n[\"attributesBoolean\"]||n[\"attributesJson\"])&&(n[\"attributesBoolean\"]?(n[Eg(\"0x8\")]=n[Eg(\"0x3\")],delete n[\"attributesBoolean\"]):(n[\"attributes\"]=JSON[\"parse\"](n[\"attributesJson\"]),delete n[Eg(\"0xf\")])),n[\"children\"]&&e(n[Eg(\"0xe\")])}(r[Eg(\"0x9\")]),pg(r),r[\"__className\"]=this[Eg(\"0x10\")],e[Eg(\"0xa\")](r)}}function Og(e){return Object[\"keys\"](e)[Eg(\"0x0\")](t=>\"boolean\"==typeof e[t])}const Ig=[\"bool\",\"description\",\"length\",\"string\",\"decompress\",\"Range\",\"oldRange\",\"newRange\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Ig,229);const Pg=function(e,t){e=e-0;let n=Ig[e];return n};class Mg extends vg{static get[Pg(\"0x4\")](){return{fields:{name:{type:Pg(\"0x6\"),id:1},oldRange:{type:Pg(\"0x0\"),id:2},newRange:{type:Pg(\"0x0\"),id:3},affectsData:{type:Pg(\"0x3\"),id:4},wasUndone:{type:Pg(\"0x3\"),id:5}}}}[Pg(\"0x7\")](e,t){super[Pg(\"0x7\")](e,t);const n=e[e[Pg(\"0x5\")]-1];n[\"oldRange\"]||(n[Pg(\"0x1\")]=null),n[Pg(\"0x2\")]||(n[Pg(\"0x2\")]=null)}}var Rg=[\"Position\",\"bool\",\"uint32\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Rg,469);var Ng=function(e,t){e=e-0;var n=Rg[e];return n};class jg extends vg{static get[\"description\"](){return{fields:{sourcePosition:{type:Ng(\"0x2\"),id:1},targetPosition:{type:Ng(\"0x2\"),id:2},graveyardPosition:{type:Ng(\"0x2\"),id:3},howMany:{type:Ng(\"0x1\"),id:4},wasUndone:{type:Ng(\"0x0\"),id:5}}}}}var Dg=[\"uint32\",\"bool\",\"Position\",\"description\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Dg,244);var Lg=function(e,t){e=e-0;var n=Dg[e];return n};class Bg extends vg{static get[Lg(\"0x3\")](){return{fields:{sourcePosition:{type:Lg(\"0x2\"),id:1},howMany:{type:Lg(\"0x0\"),id:2},targetPosition:{type:Lg(\"0x2\"),id:3},wasUndone:{type:Lg(\"0x1\"),id:4}}}}}var Fg=[\"Position\",\"string\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Fg,433);var zg=function(e,t){e=e-0;var n=Fg[e];return n};class Vg extends vg{static get[\"description\"](){return{fields:{position:{type:zg(\"0x1\"),id:1},oldName:{type:zg(\"0x0\"),id:2},newName:{type:zg(\"0x0\"),id:3},wasUndone:{type:\"bool\",id:4}}}}}const Ug=[\"description\",\"range\",\"fields\",\"string\",\"root\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Ug,236);const Hg=function(e,t){e=e-0;let n=Ug[e];return n};class Wg extends yg{static get[\"description\"](){const e=yg[Hg(\"0x4\")];return delete e[Hg(\"0x1\")][Hg(\"0x0\")],e[Hg(\"0x1\")][Hg(\"0x3\")]={type:Hg(\"0x2\"),id:1},e}}var $g=[\"uint32\",\"description\",\"Position\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})($g,148);var qg=function(e,t){e=e-0;var n=$g[e];return n};class Yg extends vg{static get[qg(\"0x0\")](){return{fields:{splitPosition:{type:qg(\"0x1\"),id:1},graveyardPosition:{type:qg(\"0x1\"),id:2},howMany:{type:qg(\"0x2\"),id:3},insertionPosition:{type:qg(\"0x1\"),id:4},wasUndone:{type:\"bool\",id:5}}}}}var Jg=[\"compress\",\"operationName\",\"types\",\"decompress\",\"shift\",\"push\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Jg,224);var Gg=function(e,t){e=e-0;var n=Jg[e];return n};class Kg extends vg{[Gg(\"0x4\")](e,t){t[Gg(\"0x2\")](),e[Gg(\"0x0\")][Gg(\"0x3\")](this[\"id\"])}[Gg(\"0x1\")](e,t){t[\"types\"][Gg(\"0x2\")](),e[\"push\"]({__className:this[Gg(\"0x5\")]})}}const Xg=[\"__className\",\"decompress\",\"startsWith\",\"length\",\"name\",\"compress\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Xg,165);const Qg=function(e,t){e=e-0;let n=Xg[e];return n};class Zg extends Mg{constructor(e,t,n,i){super(e,t,n),this[\"R\"]=i+\":\"}[Qg(\"0x2\")](e,t){return!(\"MarkerOperation\"!=t[0][Qg(\"0x3\")]||!t[0][\"name\"][Qg(\"0x5\")](this[\"R\"]))&&(t[0][Qg(\"0x1\")]=t[0][Qg(\"0x1\")][\"replace\"](new RegExp(\"^\"+this[\"R\"]),\"\"),super[\"compress\"](e,t),!0)}[\"decompress\"](e,t){super[Qg(\"0x4\")](e,t);const n=e[e[Qg(\"0x0\")]-1];n[Qg(\"0x1\")]=this[\"R\"]+n[Qg(\"0x1\")]}}const ep=[\"push\",\"types\",\"decompress\",\"shift\",\"length\",\"compress\",\"buffers\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ep,258);const tp=function(e,t){e=e-0;let n=ep[e];return n};class np{constructor(e,t){this[\"id\"]=e,this[\"s\"]=t}[tp(\"0x6\")](e,t){let n;for(;t[tp(\"0x5\")]>1&&this[\"o\"](t[0],t[1]);)n?(n=this[\"h\"](t[\"shift\"](),n),e[\"types\"][tp(\"0x1\")](0)):(n=Object(tg[\"a\"])(t[tp(\"0x4\")]()),e[\"types\"][tp(\"0x1\")](this[\"id\"]));return!!n&&(n=this[\"h\"](t[tp(\"0x4\")](),n),e[tp(\"0x2\")][tp(\"0x1\")](0),e[tp(\"0x0\")][tp(\"0x1\")](this[\"i\"](n)),!0)}[tp(\"0x3\")](e,t){const n=this[\"l\"](t);for(;0==t[\"types\"][0];)t[tp(\"0x2\")][tp(\"0x4\")](),e[tp(\"0x1\")](this[\"m\"](n));e[tp(\"0x1\")](n)}}const ip=[\"attributes\",\"InsertOperation\",\"position\",\"length\",\"_getCompressorByName\",\"nodes\",\"__className\",\"keys\",\"data\",\"every\",\"decompress\",\"buffers\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ip,460);const rp=function(e,t){e=e-0;let n=ip[e];return n};class op extends np{[\"h\"](e,t){return t[\"nodes\"][0][rp(\"0x4\")]+=e[rp(\"0x1\")][0][rp(\"0x4\")],t}[\"m\"](e){const t=Object(tg[\"a\"])(e),n=t[rp(\"0x1\")][0],i=e[\"nodes\"][0],r=Array[\"from\"](i[rp(\"0x4\")])[0],o=r[rp(\"0xb\")];return n[rp(\"0x4\")]=r,i[rp(\"0x4\")]=i[rp(\"0x4\")][\"substr\"](o),e[rp(\"0xa\")]=fg(e[rp(\"0xa\")],o),t}[\"o\"](e,t){if(sp(e)&&sp(t)){const n=e[rp(\"0x1\")][0][\"data\"][rp(\"0xb\")],i=mg(fg(e[\"position\"],n),t[rp(\"0xa\")]),r=e[rp(\"0x1\")][0],o=t[rp(\"0x1\")][0];return i&&function(e,t){const n=Object[\"keys\"](e[rp(\"0x8\")]||{}),i=Object[rp(\"0x3\")](t[rp(\"0x8\")]||{});if(n[rp(\"0xb\")]!==i[rp(\"0xb\")])return!1;return n[rp(\"0x5\")](n=>t[rp(\"0x8\")][n]&&t[rp(\"0x8\")][n]===e[rp(\"0x8\")][n])}(r,o)}return!1}[\"i\"](e){const t={types:[],buffers:[],baseVersion:0};return this[\"s\"][rp(\"0x0\")](rp(\"0x9\"))[\"compress\"](t,[e]),t[rp(\"0x7\")][0]}[\"l\"](e){const t=[];return this[\"s\"][rp(\"0x0\")](\"InsertOperation\")[rp(\"0x6\")](t,e),t[0]}}function sp(e){return rp(\"0x9\")==e[rp(\"0x2\")]&&1==e[rp(\"0x1\")][rp(\"0xb\")]&&e[rp(\"0x1\")][0][rp(\"0x4\")]&&!e[\"wasUndone\"]&&1==Array[\"from\"](e[rp(\"0x1\")][0][rp(\"0x4\")])[rp(\"0xb\")]}const ap=[\"decompress\",\"MoveOperation\",\"_getCompressorByName\",\"targetPosition\",\"sourcePosition\",\"howMany\",\"$graveyard\",\"buffers\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ap,111);const cp=function(e,t){e=e-0;let n=ap[e];return n};class lp extends np{[\"h\"](e,t){return t[cp(\"0x6\")]++,t[cp(\"0x5\")]=Object(tg[\"a\"])(e[cp(\"0x5\")]),t}[\"m\"](e){const t=Object(tg[\"a\"])(e);return e[cp(\"0x6\")]--,t[cp(\"0x6\")]=1,t[cp(\"0x5\")]=fg(t[cp(\"0x5\")],e[cp(\"0x6\")]),t}[\"o\"](e,t){return!(!dp(e)||!dp(t))&&(mg(fg(e[cp(\"0x5\")],-1),t[cp(\"0x5\")])&&mg(e[\"targetPosition\"],t[cp(\"0x4\")]))}[\"i\"](e){const t={types:[],buffers:[],baseVersion:0};return this[\"s\"][cp(\"0x3\")](cp(\"0x2\"))[\"compress\"](t,[e]),t[cp(\"0x0\")][0]}[\"l\"](e){const t=[];return this[\"s\"][cp(\"0x3\")](cp(\"0x2\"))[cp(\"0x1\")](t,e),t[0]}}function dp(e){return cp(\"0x2\")==e[\"__className\"]&&cp(\"0x7\")==e[\"targetPosition\"][\"root\"]&&1==e[\"howMany\"]&&!e[\"wasUndone\"]}const up=[\"decompress\",\"root\",\"targetPosition\",\"MoveOperation\",\"_getCompressorByName\",\"wasUndone\",\"sourcePosition\",\"buffers\",\"__className\",\"compress\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(up,320);const hp=function(e,t){e=e-0;let n=up[e];return n};class fp extends np{[\"h\"](e,t){return t[\"howMany\"]++,t}[\"m\"](e){const t=Object(tg[\"a\"])(e);return t[\"howMany\"]=1,e[\"howMany\"]--,t}[\"o\"](e,t){return!(!mp(e)||!mp(t))&&(mg(e[hp(\"0x6\")],t[hp(\"0x6\")])&&mg(e[hp(\"0x2\")],t[hp(\"0x2\")]))}[\"i\"](e){const t={types:[],buffers:[],baseVersion:0};return this[\"s\"][hp(\"0x4\")](hp(\"0x3\"))[hp(\"0x9\")](t,[e]),t[hp(\"0x7\")][0]}[\"l\"](e){const t=[];return this[\"s\"][\"_getCompressorByName\"](hp(\"0x3\"))[hp(\"0x0\")](t,e),t[0]}}function mp(e){return\"MoveOperation\"==e[hp(\"0x8\")]&&\"$graveyard\"==e[hp(\"0x2\")][hp(\"0x1\")]&&1==e[\"howMany\"]&&!e[hp(\"0x5\")]}const gp=[\"stickiness\",\"MarkerOperation\",\"decompress\",\"end\",\"name\",\"_getCompressorByName\",\"user:\",\"push\",\"__className\",\"split\",\"startsWith\",\"compress\",\"buffers\",\"newRange\",\"types\",\"user:position:\",\"oldRange\",\"shift\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(gp,214);const pp=function(e,t){e=e-0;let n=gp[e];return n};class bp extends np{[pp(\"0xd\")](e,t){if(!function(e,t){if(!e||!t)return!1;if(pp(\"0x3\")!=e[\"__className\"]||pp(\"0x3\")!=t[pp(\"0xa\")])return!1;if(e[pp(\"0x6\")][pp(\"0xc\")](pp(\"0x8\"))&&t[pp(\"0x6\")][pp(\"0xc\")](pp(\"0x8\"))&&e[\"name\"]!=t[pp(\"0x6\")])return!0;return!1}(t[0],t[1]))return!1;const n=t[\"shift\"]();return n[pp(\"0x0\")]=null,n[pp(\"0xf\")]&&mg(n[\"newRange\"][\"start\"],n[pp(\"0xf\")][pp(\"0x5\")])&&(n[pp(\"0xf\")][pp(\"0x5\")]=null),t[\"shift\"](),e[\"types\"][pp(\"0x9\")](this[\"id\"]),e[pp(\"0x10\")][pp(\"0x9\")](0),e[pp(\"0xe\")][\"push\"](this[\"i\"](n)),!0}[pp(\"0x4\")](e,t){const n=this[\"l\"](t);n[\"newRange\"]&&!n[\"newRange\"][pp(\"0x5\")]&&(n[pp(\"0xf\")][pp(\"0x5\")]=Object(tg[\"a\"])(n[pp(\"0xf\")][\"start\"]));const i=Object(tg[\"a\"])(n);i[pp(\"0xf\")]&&(i[\"newRange\"][\"start\"][pp(\"0x2\")]=\"toNone\",i[\"newRange\"][\"end\"]=Object(tg[\"a\"])(i[\"newRange\"][\"start\"])),i[pp(\"0x6\")]=pp(\"0x11\")+i[pp(\"0x6\")][pp(\"0xb\")](\":\")[2],t[pp(\"0x10\")][pp(\"0x1\")](),e[pp(\"0x9\")](n),e[pp(\"0x9\")](i)}[\"i\"](e){const t={types:[],buffers:[],baseVersion:0};return this[\"s\"][pp(\"0x7\")](\"MarkerOperation\")[\"compress\"](t,[e]),t[\"buffers\"][0]}[\"l\"](e){const t=[];return this[\"s\"][pp(\"0x7\")](\"MarkerOperation\")[pp(\"0x4\")](t,e),t[0]}}const _p=[\"RenameOperation\",\"AttributeOperation\",\"suggestion\",\"CommentMarkerOperation\",\"getDescriptor\",\"get\",\"Element\",\"baseVersion\",\"ForwardDeletingAction\",\"comment\",\"build\",\"Position\",\"no-operations-provided: The operations set is empty, no operations provided.\",\"_getCompressorByName\",\"description\",\"types\",\"TypingAction\",\"InsertOperation\",\"NoOperation\",\"compress\",\"RootAttributeOperation\",\"forEach\",\"set\",\"UserSelectionAction\",\"decompress\",\"DeletingAction\",\"SuggestionMarkerOperation\",\"Range\",\"SplitOperation\",\"registerDescriptor\",\"MarkerOperation\",\"MergeOperation\",\"MoveOperation\",\"length\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(_p,479);const wp=function(e,t){e=e-0;let n=_p[e];return n};class vp{constructor(){this[\"p\"]=new Map,this[\"O\"]=new Map,this[\"g\"]=new rg,this[\"g\"][wp(\"0x1a\")](wp(\"0x8\"),cg[wp(\"0x8\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0x18\"),cg[wp(\"0x18\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0x3\"),cg[wp(\"0x3\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0x20\"),yg[wp(\"0xb\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0xe\"),Sg[wp(\"0xb\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0x1b\"),Mg[wp(\"0xb\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0x1c\"),jg[wp(\"0xb\")]),this[\"g\"][wp(\"0x1a\")](wp(\"0x1d\"),Bg[wp(\"0xb\")]),this[\"g\"][\"registerDescriptor\"](wp(\"0x1f\"),Vg[wp(\"0xb\")]),this[\"g\"][wp(\"0x1a\")](\"RootAttributeOperation\",Wg[\"description\"]),this[\"g\"][wp(\"0x1a\")](wp(\"0x19\"),Yg[wp(\"0xb\")]),this[\"g\"][wp(\"0x7\")](),this[\"u\"](1,wp(\"0xf\"),new Kg(1,wp(\"0xf\"))),this[\"M\"](10,\"AttributeOperation\",yg),this[\"M\"](11,wp(\"0xe\"),Sg),this[\"M\"](12,wp(\"0x1b\"),Mg),this[\"M\"](13,wp(\"0x1c\"),jg),this[\"M\"](14,wp(\"0x1d\"),Bg),this[\"M\"](15,\"RenameOperation\",Vg),this[\"M\"](16,wp(\"0x11\"),Wg),this[\"M\"](17,wp(\"0x19\"),Yg);const e=this[\"g\"][wp(\"0x1\")](\"MarkerOperation\");this[\"u\"](18,wp(\"0x0\"),new Zg(18,wp(\"0x1b\"),e,wp(\"0x6\"))),this[\"u\"](19,\"SuggestionMarkerOperation\",new Zg(19,wp(\"0x1b\"),e,wp(\"0x21\"))),this[\"k\"](100,wp(\"0xd\"),op),this[\"k\"](101,wp(\"0x16\"),lp),this[\"k\"](102,wp(\"0x5\"),fp),this[\"k\"](103,wp(\"0x14\"),bp)}[\"M\"](e,t,n){const i=new n(e,t,this[\"g\"][wp(\"0x1\")](t));this[\"u\"](e,t,i)}[\"k\"](e,t,n){const i=new n(e,this);this[\"u\"](e,t,i)}[\"u\"](e,t,n){this[\"p\"][wp(\"0x13\")](e,n),this[\"O\"][wp(\"0x13\")](t,n)}[\"_getCompressorByName\"](e){return this[\"O\"][wp(\"0x2\")](e)}[wp(\"0x10\")](e){if(!e||!e[0])throw new se[\"b\"](wp(\"0x9\"),this);const t={types:[],buffers:[],baseVersion:e[0][\"baseVersion\"]};for(;e[wp(\"0x1e\")];)this[\"_getCompressorByName\"](wp(\"0x14\"))[wp(\"0x10\")](t,e)||this[wp(\"0xa\")](wp(\"0xd\"))[wp(\"0x10\")](t,e)||this[wp(\"0xa\")](wp(\"0x16\"))[wp(\"0x10\")](t,e)||this[wp(\"0xa\")](\"ForwardDeletingAction\")[wp(\"0x10\")](t,e)||this[\"_getCompressorByName\"](wp(\"0x0\"))[wp(\"0x10\")](t,e)||this[wp(\"0xa\")](wp(\"0x17\"))[wp(\"0x10\")](t,e)||this[wp(\"0xa\")](e[0][\"__className\"])[\"compress\"](t,e);return t}[wp(\"0x15\")](e){const t=[];for(;e[wp(\"0xc\")][\"length\"];){this[\"p\"][wp(\"0x2\")](e[wp(\"0xc\")][0])[wp(\"0x15\")](t,e)}return t[wp(\"0x12\")]((t,n)=>t[wp(\"0x4\")]=e[wp(\"0x4\")]+n),t}}var kp=n(268);var xp=n.n(kp);class yp extends $h{constructor(e,t,n,i){super(),this[\"id\"]=e,this[\"buffers\"]=t,this[\"types\"]=n,this[\"bundleVersion\"]=i}static get[\"TYPE\"](){return 11}static get[\"READABLE_TYPE_NAME\"](){return\"connectToDocument\"}static get[\"DESCRIPTOR_NAME\"](){return\"CollaborativeEditingConnectMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},bundleVersion:{type:\"string\",id:2},buffers:{rule:\"repeated\",type:\"bytes\",id:3},types:{rule:\"repeated\",type:\"uint32\",id:4}}}}[\"toJSON\"](){return{id:this[\"id\"],buffers:this[\"buffers\"],types:this[\"types\"],bundleVersion:this[\"bundleVersion\"]}}static[\"fromJSON\"](e){return new yp(e[\"id\"],e[\"buffers\"],e[\"types\"],e[\"bundleVersion\"])}}class Cp{static[\"prepareMetadataForOperations\"](e,t){if(!(e&&e[\"length\"]&&t&&t[\"length\"]))return[];const n=[];let i=0;for(const r of e)if(0!==r){if(!t[i])throw new Error(\"Missing metadata for a operation\");n[\"push\"](t[i]),i++}else n[\"push\"](n[n[\"length\"]-1]);return n}static[\"removeUnnecessaryMetadata\"](e,t){if(!(e&&e[\"length\"]&&t&&t[\"length\"]))return[];const n=[];for(let i=0;i<e[\"length\"];i++)if(0!==e[i]){if(!t[i])throw new Error(\"Missing metadata for a operation\");n[\"push\"](t[i])}return n}}class Ap extends $h{constructor(e,t,n,i,r=[]){super(),this[\"id\"]=e,this[\"buffers\"]=t,this[\"types\"]=n,this[\"baseVersion\"]=i,this[\"metadata\"]=r}get[\"data\"](){return{buffers:this[\"buffers\"],types:this[\"types\"],baseVersion:this[\"baseVersion\"]}}static get[\"TYPE\"](){return 13}static get[\"READABLE_TYPE_NAME\"](){return\"updateDocument\"}static get[\"DESCRIPTOR_NAME\"](){return\"CollaborativeEditingUpdateMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},baseVersion:{type:\"uint32\",id:2},buffers:{rule:\"repeated\",type:\"bytes\",id:3},types:{rule:\"repeated\",type:\"uint32\",id:4},metadata:{rule:\"repeated\",type:\"OperationMetadataDescriptor\",id:6}}}}[\"toJSON\"](){return{id:this[\"id\"],buffers:this[\"buffers\"],types:this[\"types\"],baseVersion:this[\"baseVersion\"],metadata:Cp[\"removeUnnecessaryMetadata\"](this[\"types\"],this[\"metadata\"])}}static[\"fromJSON\"](e){return new Ap(e[\"id\"],e[\"buffers\"],e[\"types\"],e[\"baseVersion\"],Cp[\"prepareMetadataForOperations\"](e[\"types\"],e[\"metadata\"])[\"map\"](e=>\"function\"!=typeof e[\"toJSON\"]?e:e[\"toJSON\"]()))}}class Tp extends $h{constructor(e,t,n){super(),this[\"id\"]=e,this[\"bundleVersion\"]=n,this[\"lastKnowVersion\"]=t}static get[\"TYPE\"](){return 12}static get[\"READABLE_TYPE_NAME\"](){return\"reconnectToDocument\"}static get[\"DESCRIPTOR_NAME\"](){return\"CollaborativeEditingReconnectMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},bundleVersion:{type:\"string\",id:2},lastKnowVersion:{type:\"uint32\",id:3}}}}[\"toJSON\"](){return{id:this[\"id\"],bundleVersion:this[\"bundleVersion\"],lastKnowVersion:this[\"lastKnowVersion\"]}}static[\"fromJSON\"](e){return new Tp(e[\"id\"],e[\"lastKnowVersion\"],e[\"bundleVersion\"])}}class Ep extends $h{constructor(e,t=[],n=[],i=[]){super(),this[\"version\"]=e,this[\"buffers\"]=t,this[\"types\"]=n,this[\"metadata\"]=i}get[\"wereChangesApplied\"](){return!(this[\"types\"]&&this[\"types\"][\"length\"])}get[\"data\"](){return{buffers:this[\"buffers\"],types:this[\"types\"],baseVersion:this[\"version\"]-this[\"types\"][\"length\"]}}static get[\"DESCRIPTOR_NAME\"](){return\"CollaborativeEditingResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{version:{type:\"uint32\",id:1},buffers:{rule:\"repeated\",type:\"bytes\",id:2},types:{rule:\"repeated\",type:\"uint32\",id:3},metadata:{rule:\"repeated\",type:\"OperationMetadataDescriptor\",id:5}}}}[\"toJSON\"](){return{version:this[\"version\"],buffers:this[\"buffers\"],types:this[\"types\"],metadata:Cp[\"removeUnnecessaryMetadata\"](this[\"types\"],this[\"metadata\"])}}static[\"fromJSON\"](e){return new Ep(e[\"version\"],e[\"buffers\"],e[\"types\"],Cp[\"prepareMetadataForOperations\"](e[\"types\"],e[\"metadata\"])[\"map\"](e=>\"function\"!=typeof e[\"toJSON\"]?e:e[\"toJSON\"]()))}}class Sp extends $h{constructor(e,t,n=[],i=[],r=0,o=[],s=\"\"){super(),this[\"channel\"]=e,this[\"version\"]=t,this[\"buffers\"]=n,this[\"types\"]=i,this[\"offset\"]=r,this[\"metadata\"]=o,this[\"initData\"]=s}get[\"wereChangesApplied\"](){return!(this[\"types\"]&&this[\"types\"][\"length\"])}get[\"data\"](){return{buffers:this[\"buffers\"],types:this[\"types\"],baseVersion:this[\"version\"]-this[\"types\"][\"length\"]}}static get[\"DESCRIPTOR_NAME\"](){return\"CollaborativeEditingConnectResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{channel:{type:\"string\",id:1},offset:{type:\"uint32\",id:2},version:{type:\"uint32\",id:3},buffers:{rule:\"repeated\",type:\"bytes\",id:4},types:{rule:\"repeated\",type:\"uint32\",id:5},metadata:{rule:\"repeated\",type:\"OperationMetadataDescriptor\",id:7},initData:{type:\"string\",id:8}}}}[\"toJSON\"](){return{channel:this[\"channel\"],version:this[\"version\"],buffers:this[\"buffers\"],types:this[\"types\"],offset:this[\"offset\"],metadata:Cp[\"removeUnnecessaryMetadata\"](this[\"types\"],this[\"metadata\"]),initData:this[\"initData\"]}}static[\"fromJSON\"](e){return new Sp(e[\"channel\"],e[\"version\"],e[\"buffers\"],e[\"types\"],e[\"offset\"],Cp[\"prepareMetadataForOperations\"](e[\"types\"],e[\"metadata\"])[\"map\"](e=>\"function\"!=typeof e[\"toJSON\"]?e:e[\"toJSON\"]()),e[\"initData\"])}}const Op=1;class Ip{constructor(e,t){if(!e)throw new TypeError('Param \"bundleVersion\" must be provided.');this[\"_id\"]=t||xp.a[\"v4\"](),this[\"_isConnected\"]=!1,this[\"_bundleVersion\"]=e,this[\"_wsGateway\"]=void 0,this[\"_channel\"]=void 0}static get[\"_SERVICE\"](){return 1}[\"getId\"](){return this[\"_id\"]}[\"isConnected\"](){return this[\"_isConnected\"]}[\"connect\"](e,t={}){const n=new yp(this[\"getId\"](),t[\"buffers\"],t[\"types\"],this[\"_bundleVersion\"]);return this[\"_connect\"](e,n)}[\"reconnect\"](e,t){if(this[\"isConnected\"]())throw new lf(\"Cannot reconnect to already connected service.\",e);return this[\"_connect\"](e,new Tp(this[\"getId\"](),t,this[\"_bundleVersion\"]))}[\"disconnect\"](){this[\"_isConnected\"]&&(this[\"_isConnected\"]=!1,this[\"_wsGateway\"]&&(this[\"stopListening\"](this[\"_wsGateway\"]),this[\"_wsGateway\"]=void 0),this[\"_channel\"]&&(this[\"stopListening\"](this[\"_channel\"]),this[\"_channel\"]=void 0),this[\"_connectedSessions\"]&&(this[\"_connectedSessions\"][\"disconnect\"](),this[\"_connectedSessions\"]=void 0),this[\"fire\"](\"disconnected\"),this[\"stopListening\"]())}async[\"sendOperations\"](e,t){if(!e||!e[\"types\"]||!e[\"types\"][\"length\"])return Promise[\"reject\"](new lf(\"Cannot send empty update.\",this[\"_wsGateway\"]));const n=parseInt(t);if(!Number[\"isInteger\"](n)||n<0)return Promise[\"reject\"](new lf(\"Base version not provided.\",this[\"_wsGateway\"]));const i=new Ap(this[\"getId\"](),e[\"buffers\"],e[\"types\"],t),r=await this[\"_wsGateway\"][\"_sendRequest\"](1,Ap[\"TYPE\"],ef[\"encode\"](i));return ef[\"decode\"](r,Ep)}async[\"getConnectedSessions\"](){if(!this[\"_isConnected\"])throw new lf(\"Collaborative Editing Service is not connected.\",this);return this[\"_connectedSessions\"]||(this[\"_connectedSessions\"]=await Fm[\"getConnectedSessions\"](this[\"_wsGateway\"],this[\"_id\"],1)),this[\"_connectedSessions\"]}static[\"getConnectedSessions\"](e,t){return Fm[\"getConnectedSessions\"](e,t,1)}async[\"_connect\"](e,t){if(this[\"isConnected\"]())return Promise[\"resolve\"]();if(e[\"state\"]!==Pf[\"STATE_CONNECTED\"])throw new lf(\"Web socket gateway is not connected.\",e);this[\"_wsGateway\"]=e,this[\"stopListening\"](e,\"change:state\");const n=await e[\"_sendRequest\"](1,t[\"constructor\"][\"TYPE\"],ef[\"encode\"](t)),i=ef[\"decode\"](n,Sp);return this[\"listenTo\"](e,\"change:state\",(...e)=>this[\"_onWsGatewayStateChange\"](...e),{priority:Pf[\"_CHANGE_STATE_EVENT_PRIORITY\"]}),this[\"_connectToChannel\"](e,i[\"channel\"]),this[\"_isConnected\"]=!0,this[\"fire\"](\"connected\"),i}[\"_connectToChannel\"](e,t){this[\"_channel\"]=e[\"_getChannel\"](Ip[\"_SERVICE\"],t),this[\"listenTo\"](this[\"_channel\"],this[\"_channel\"][\"getEventName\"](Ap[\"TYPE\"]),(e,t)=>{const n=ef[\"decode\"](t,Ap);this[\"fire\"](\"operationsReceived\",n[\"baseVersion\"],n[\"data\"],n[\"metadata\"])})}[\"_onWsGatewayStateChange\"](e,t,n){n===Pf[\"STATE_DISCONNECTED\"]&&this[\"disconnect\"]()}}Object(w[\"a\"])(Ip,gt[\"c\"]);var Pp=Ip;var Mp=n(182);var Rp=n(44);var Np=n(66);var jp=n(173);var Dp=n(269);let Lp=1;class Bp extends ve[\"a\"]{static get[\"requires\"](){return[Ff,Wf,Qm,Qe[\"a\"],Vf[\"a\"]]}static get[\"pluginName\"](){return\"RealTimeCollaborationClient\"}get[\"cloudDocumentVersion\"](){return this[\"lastSyncVersion\"]+this[\"offset\"]}[\"init\"](){const e=this[\"editor\"],t=e[\"plugins\"][\"get\"](Vf[\"a\"]),n=e[\"plugins\"][\"get\"](Ff);if(this[\"channelId\"]=e[\"config\"][\"get\"](\"collaboration.channelId\"),!this[\"channelId\"])throw new se[\"b\"](\"collaboration-missing-channelId: Unique `collaboration.channelId` configuration is required for defining name for data stores. Note that application instances with the same channelId will share data each other.\",this);this[\"listenTo\"](t,\"getOperationAuthor\",(e,n)=>{const i=n[0];i[\"_authorId\"]&&(e[\"return\"]=t[\"getUser\"](i[\"_authorId\"]),e[\"stop\"]()),null===i[\"_authorId\"]&&(e[\"return\"]=null,e[\"stop\"]())},{priority:\"high\"});const i=e[\"config\"][\"get\"](\"cloudServices.bundleVersion\")||Dp[\"a\"];this[\"service\"]=new Bp[\"CollaborativeEditingService\"](i,this[\"channelId\"]),this[\"lastSyncVersion\"]=0,this[\"offset\"]=0,this[\"p\"]=this[\"editor\"][\"model\"][\"document\"],this[\"u\"]=new vp,this[\"_bufferedOperations\"]=new Set,this[\"g\"]=new WeakSet,this[\"set\"](\"_isPendingUpdate\",!1),this[\"k\"]=null,this[\"_\"]=!1,this[\"O\"]=null,this[\"listenTo\"](e[\"model\"][\"document\"][\"selection\"],\"change:range\",(e,t)=>{t[\"directChange\"]&&this[\"v\"]()}),this[\"listenTo\"](e[\"editing\"][\"view\"],\"change:hasDomSelection\",()=>{this[\"v\"]()}),Bp[\"CollaborativeEditingService\"][\"getConnectedSessions\"](n[\"connection\"],this[\"channelId\"])[\"then\"](e=>this[\"S\"](e))[\"catch\"](e=>{this[\"A\"](\"realtimecollaborationclient-init-session-connection-error\",e)}),this[\"D\"](),this[\"I\"](),e[\"plugins\"][\"get\"](Ff)[\"addToReconnectionStack\"](this),e[\"model\"][\"on\"](\"applyOperation\",(e,t)=>{const n=t[0];n[\"isDocumentOperation\"]&&(this[\"T\"](n),this[\"N\"]()&&this[\"_sendBufferedOperationsDelayed\"]())}),this[\"C\"](),this[\"editor\"][\"bind\"](\"isReadOnly\")[\"to\"](n,\"state\",e=>\"connected\"!==e)}async[\"reconnect\"](){const e=this[\"editor\"][\"plugins\"][\"get\"](Wf),t=this[\"editor\"][\"plugins\"][\"get\"](Ff);e[\"unregister\"](this[\"channelId\"]);const n=await this[\"service\"][\"reconnect\"](t[\"connection\"],this[\"lastSyncVersion\"]);this[\"U\"]([],Object[\"assign\"]({},n,{data:n[\"data\"],wereChangesApplied:!1}),\"reconnect\");const i=await Bp[\"CollaborativeEditingService\"][\"getConnectedSessions\"](t[\"connection\"],this[\"channelId\"]);e[\"register\"](this[\"channelId\"],i),this[\"_isPendingUpdate\"]=!1}[\"destroy\"](){const e=this[\"editor\"][\"plugins\"][\"get\"](Ff),t=this[\"editor\"][\"plugins\"][\"get\"](Wf);this[\"editor\"][\"isReadOnly\"]=!0,t[\"channelSessions\"][\"has\"](this[\"channelId\"])&&t[\"unregister\"](this[\"channelId\"]),super[\"destroy\"](),e[\"removeFromReconnectionStack\"](this),clearTimeout(this[\"O\"])}[\"S\"](e){const t=this[\"editor\"],n=t[\"plugins\"][\"get\"](Wf);this[\"listenTo\"](n,\"sessionAdd:\"+this[\"channelId\"],(e,{session:i})=>{i[\"id\"]===n[\"mySessionId\"]&&(e[\"off\"](),\"reader\"===i[\"role\"]?t[\"isReadOnly\"]=!0:\"commentator\"===i[\"role\"]&&t[\"plugins\"][\"has\"](\"CommentsOnly\")&&(t[\"plugins\"][\"get\"](\"CommentsOnly\")[\"isEnabled\"]=!0))}),n[\"register\"](this[\"channelId\"],e)}[\"D\"](){const e=this[\"editor\"][\"data\"][\"set\"];this[\"editor\"][\"data\"][\"set\"]=(...t)=>{if(!t[t[\"length\"]-1][\"suppressErrorInCollaboration\"])throw new se[\"b\"](\"realtimecollaborationclient-editor-setdata-and-editor-data-set-are-forbidden-in-real-time-collaboration:Trying to use `editor.setData()` or `editor.data.set()` in real-time collaboration.\",this);e[\"apply\"](this[\"editor\"][\"data\"],t)}}[\"I\"](){this[\"listenTo\"](this[\"service\"],\"operationsReceived\",(e,t,n,i)=>{if(!this[\"_isPendingUpdate\"]&&this[\"p\"][\"version\"]==t){const e=this[\"P\"](n);this[\"R\"](e,i),this[\"lastSyncVersion\"]=t+e[\"length\"];this[\"B\"](e)||this[\"A\"](\"realtimecollaborationclient-initservice-incorrect-server-operation\")}}),this[\"listenTo\"](this[\"service\"],\"error\",(e,t)=>{this[\"A\"](\"realtimecollaborationclient-initservice-internal-error\",t)})}[\"C\"](){const{connection:e}=this[\"editor\"][\"plugins\"][\"get\"](Ff);this[\"editor\"][\"data\"][\"on\"](\"init\",(t,[n])=>{if(this[\"p\"][\"version\"])throw new se[\"b\"](\"realtimecollaborationclient-init-document-already-initialized: Trying to set initial data to initialized document.\",this);t[\"stop\"]();const i=this[\"j\"](n);this[\"q\"](),t[\"return\"]=this[\"service\"][\"connect\"](e,this[\"G\"](i))[\"then\"](e=>{this[\"V\"](),this[\"W\"](e,i);const t=this[\"editor\"][\"plugins\"][\"get\"](Wf),n=t[\"channelSessions\"][\"get\"](this[\"channelId\"]);n&&n[\"length\"]>1?(this[\"_\"]=!0,this[\"_sendBufferedOperationsDelayed\"]()):t[\"on\"](\"sessionAdd:\"+this[\"channelId\"],e=>{t[\"channelSessions\"][\"get\"](this[\"channelId\"])[\"length\"]>1&&(this[\"_\"]=!0,this[\"_sendBufferedOperationsDelayed\"](),e[\"off\"]())}),this[\"editor\"][\"data\"][\"fire\"](\"ready\")})[\"catch\"](e=>this[\"A\"](\"realtimecollaborationclient-init-connection-failed\",e))},{priority:\"high\"})}[\"j\"](e){const t=this[\"editor\"][\"model\"],n=[];let i=0;const r=\"string\"==typeof e?{main:e}:e;for(const e of Object[\"keys\"](r)){if(!this[\"p\"][\"roots\"][\"has\"](e))throw new se[\"b\"](\"realtimecollaborationclient-init-non-existent-root: Attempting to init data on a non-existing root.\",this);const o=this[\"editor\"][\"data\"][\"parse\"](r[e]),s=this[\"p\"][\"getRoot\"](e),a=new Rp[\"a\"](t[\"createPositionAt\"](s,0),o,i++);n[\"push\"](a);for(const[e,r]of o[\"markers\"]){const o=t[\"createRange\"](t[\"createPositionFromPath\"](s,r[\"start\"][\"path\"][\"slice\"]()),t[\"createPositionFromPath\"](s,r[\"end\"][\"path\"][\"slice\"]())),a=new Np[\"a\"](e,null,o,t[\"markers\"],!0,i++);n[\"push\"](a)}}return n}[\"W\"](e,t){let n;this[\"offset\"]=e[\"offset\"];const i=e[\"wereChangesApplied\"];i?n=t:(this[\"p\"][\"version\"]=e[\"data\"][\"baseVersion\"],n=this[\"P\"](e[\"data\"]),this[\"R\"](n,e[\"metadata\"])),this[\"lastSyncVersion\"]=e[\"version\"],this[\"F\"](n,i)}[\"A\"](e,t){throw this[\"_isPendingUpdate\"]=!0,t&&console[\"error\"](t),new se[\"b\"](e,this[\"editor\"])}[\"T\"](e){this[\"g\"][\"has\"](e)||(this[\"g\"][\"add\"](e),this[\"_bufferedOperations\"][\"add\"](e),this[\"k\"]||\"marker\"==e[\"type\"]&&!e[\"affectsData\"]||this[\"q\"]())}[\"v\"](){this[\"_\"]=!0,this[\"H\"]()&&this[\"_sendBufferedOperationsDelayed\"]()}[\"H\"](){const e=this[\"editor\"][\"plugins\"][\"get\"](Wf)[\"channelSessions\"][\"get\"](this[\"channelId\"]);return!this[\"editor\"][\"isReadOnly\"]&&e&&e[\"length\"]>1&&this[\"_\"]}[\"N\"](){return this[\"_bufferedOperations\"][\"size\"]>0||this[\"H\"]()}async[\"M\"](){const e=this[\"editor\"][\"plugins\"][\"get\"](Qm);if(this[\"H\"]()&&(e[\"createUserMarkerOperations\"](),this[\"_\"]=!1),!this[\"N\"]())return Promise[\"resolve\"](!0);const t=Array[\"from\"](this[\"_bufferedOperations\"]);for(const e of t)e[\"wasUndone\"]=this[\"p\"][\"history\"][\"isUndoneOperation\"](e);const n=Lp++,i=await this[\"service\"][\"sendOperations\"](this[\"G\"](t),this[\"lastSyncVersion\"]);try{return this[\"U\"](t,i,n)}catch(e){return this[\"A\"](\"realtimecollaborationclient-sendbufferedoperations\",e)}}[\"_sendBufferedOperationsDelayed\"](e=!1){!e&&this[\"_isPendingUpdate\"]||(this[\"_isPendingUpdate\"]=!0,clearTimeout(this[\"O\"]),this[\"O\"]=setTimeout(()=>{this[\"M\"]()[\"then\"](e=>{e&&(this[\"V\"](),this[\"_isPendingUpdate\"]=!1)})[\"catch\"](e=>{throw this[\"V\"](),this[\"_isPendingUpdate\"]=!1,e})},300))}[\"U\"](e,t,n){if(t[\"error\"])throw t[\"error\"];let i=!1;if(t[\"wereChangesApplied\"]){for(const t of e)this[\"_bufferedOperations\"][\"delete\"](t),delete t[\"wasUndone\"];i=!0}else{const e=this[\"P\"](t[\"data\"]);this[\"R\"](e,t[\"metadata\"]),i=this[\"B\"](e,t[\"version\"])}return i?(this[\"lastSyncVersion\"]=t[\"version\"],!this[\"N\"]()||(this[\"_sendBufferedOperationsDelayed\"](!0),!1)):this[\"A\"](\"realtimecollaborationclient-handleserverresponse\")}[\"B\"](e,t){try{const n=Array[\"from\"](this[\"_bufferedOperations\"]),i={document:this[\"p\"],useRelations:!1,padWithNoOps:!0},{operationsA:r,operationsB:o,originalOperations:s}=Object(Mp[\"a\"])(e,n,i);Fp(r,this[\"p\"][\"version\"]),Fp(o,t);for(const e of r){const t=s[\"get\"](e);e[\"_authorId\"]=t?t[\"_authorId\"]:null}this[\"_bufferedOperations\"]=new Set(o),this[\"F\"](r)}catch(e){return console[\"error\"](e),!1}return!0}[\"F\"](e,t=!1){this[\"editor\"][\"model\"][\"enqueueChange\"](\"transparent\",t=>{for(const n of e)this[\"g\"][\"add\"](n),t[\"batch\"][\"addOperation\"](n),this[\"editor\"][\"model\"][\"applyOperation\"](n)})}[\"q\"](){const{t:e}=this[\"editor\"][\"locale\"];this[\"k\"]=this[\"editor\"][\"plugins\"][\"get\"](Qe[\"a\"])[\"add\"](e({string:\"Sending data to the server.\",id:\"PENDING_ACTION_SENDING_DATA\"}))}[\"V\"](){this[\"k\"]&&(this[\"editor\"][\"plugins\"][\"get\"](Qe[\"a\"])[\"remove\"](this[\"k\"]),this[\"k\"]=null)}[\"G\"](e){return this[\"u\"][\"compress\"](e[\"map\"](e=>e[\"toJSON\"]()))}[\"P\"](e){return this[\"u\"][\"decompress\"](e)[\"map\"](e=>{const t=jp[\"a\"][\"fromJSON\"](e,this[\"p\"]);return t[\"wasUndone\"]=e[\"wasUndone\"],t})}[\"R\"](e,t){for(let n=0;n<e[\"length\"];n++)\"init\"!=t[n][\"type\"]?e[n][\"_authorId\"]=t[n][\"userId\"]:e[n][\"_authorId\"]=null}}function Fp(e,t){for(const n of e)n[\"baseVersion\"]=t++}Bp[\"CollaborativeEditingService\"]=Pp;var zp=[\"requires\",\"RealTimeCollaborativeEditing\",\"pluginName\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(zp,104);var Vp=function(e,t){e=e-0;var n=zp[e];return n};class Up extends ve[\"a\"]{static get[Vp(\"0x1\")](){return[Bp]}static get[Vp(\"0x0\")](){return Vp(\"0x2\")}}const Hp=[\"backward\",\"getLastMatchingPosition\",\"comment:\",\"model\",\"textProxy\",\"refresh\",\"selection\",\"end\",\"execute\",\"document\",\"change\",\"schema\",\"start\",\"isEnabled\",\"addMarker\",\"element\",\"getRanges\",\"tableCell\",\"editor\",\"push\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Hp,174);const Wp=function(e,t){e=e-0;let n=Hp[e];return n};class $p extends ke[\"a\"]{[Wp(\"0xb\")](){const e=this[\"editor\"][Wp(\"0x9\")][Wp(\"0xf\")][Wp(\"0xc\")];for(const t of e[Wp(\"0x2\")]())if(this[\"$\"](t))return void(this[Wp(\"0x13\")]=!0);this[\"isEnabled\"]=!1}[Wp(\"0xe\")]({threadId:e=Object(Gi[\"a\"])()}={}){const t=this[Wp(\"0x4\")][Wp(\"0x9\")],n=[];for(const e of t[\"document\"][Wp(\"0xc\")][Wp(\"0x2\")]())this[\"$\"](e)&&n[Wp(\"0x5\")](this[\"U\"](e));t[Wp(\"0x10\")](t=>{for(const i of n){const n=Object(Gi[\"a\"])()[\"substr\"](1,5),r=Wp(\"0x8\")+e+\":\"+n;t[Wp(\"0x0\")](r,{range:i,usingOperation:!1,affectData:!1})}})}[\"$\"](e){for(const t of e[\"getItems\"]())if(this[\"W\"](t))return!0;return!1}[\"W\"](e){return e[\"is\"](Wp(\"0xa\"))||this[\"editor\"][Wp(\"0x9\")][Wp(\"0x11\")][\"isObject\"](e)&&!e[\"is\"](Wp(\"0x1\"),Wp(\"0x3\"))}[\"U\"](e){const t=e=>!this[\"W\"](e[\"item\"]),n=e[Wp(\"0x12\")][Wp(\"0x7\")](t),i=e[Wp(\"0xd\")][\"getLastMatchingPosition\"](t,{direction:Wp(\"0x6\")});return this[Wp(\"0x4\")][\"model\"][\"createRange\"](n,i)}}const qp=[\"markerNameToElements\",\"name\",\"domConverter\",\"mapViewToDom\",\"mapper\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(qp,206);const Yp=function(e,t){e=e-0;let n=qp[e];return n};function Jp(e,t){const n=e[Yp(\"0x3\")][Yp(\"0x4\")](t[Yp(\"0x0\")]),i=Object(xe[\"a\"])(n[\"values\"]());return e[\"view\"][Yp(\"0x1\")][Yp(\"0x2\")](i)}const Gp=[\"plugins\",\"editor\",\"RestrictedEditingModeEditing\",\"addCommentThread\",\"has\",\"get\",\"enableCommand\",\"afterInit\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Gp,187);const Kp=function(e,t){e=e-0;let n=Gp[e];return n};class Xp extends ve[\"a\"]{[Kp(\"0x4\")](){const e=this[Kp(\"0x6\")];if(!e[\"plugins\"][Kp(\"0x1\")](\"RestrictedEditingModeEditing\"))return;e[Kp(\"0x5\")][Kp(\"0x2\")](Kp(\"0x7\"))[Kp(\"0x3\")](Kp(\"0x0\"))}}var Qp=n(447);const Zp=[\"collaboration.channelId\",\"model\",\"elementToElement\",\"comment:\",\"isObject\",\"top\",\"getAllMarkersForId\",\"high\",\"ck-comment-marker--active\",\"change:activeMarker\",\"getWalker\",\"activeMarker\",\"for\",\"sort\",\"split\",\"ck-comment-marker\",\"affectsData\",\"createRange\",\"conversion\",\"destroy\",\"upcast\",\"view\",\"newRange\",\"markers\",\"delete\",\"editor\",\"ready\",\"text\",\"updateMarker\",\"size\",\"isThreadsLoadingPaused\",\"pluginName\",\"map\",\"length\",\"hasMarkerForId\",\"hasContent\",\"_changedMarkers\",\"change:isReadOnly\",\"destroyed\",\"stop\",\"differ\",\"end\",\"from\",\"update:comment\",\"$graveyard\",\"_threads\",\"low\",\"addCommentThread\",\"createElement\",\"markerToData\",\"listenTo\",\"start\",\"get\",\"render\",\"config\",\"getCommentThreads\",\"comment\",\"getCommentThread\",\"CommentsRepository\",\"removeMarker\",\"removeCommentThread\",\"data\",\"isEqual\",\"getAttribute\",\"registerPostFixer\",\"add\",\"push\",\"document\",\"plugins\",\"set\",\"dataDowncast\",\"fetchCommentThread\",\"managedUsingOperations\",\"editing\",\"_detachCommentThread\",\"once\",\"left\",\"name\",\"switchReadOnly\",\"init\",\"isCollapsed\",\"root\",\"state\",\"change\",\"change:isThreadsLoadingPaused\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Zp,381);const eb=function(e,t){e=e-0;let n=Zp[e];return n};class tb extends ve[\"a\"]{static get[\"requires\"](){return[Hm[\"a\"],Xp]}static get[eb(\"0x4b\")](){return\"CommentsEditing\"}constructor(e){super(e),this[eb(\"0x1c\")](eb(\"0x4a\"),!0),e[eb(\"0x14\")][eb(\"0x22\")](eb(\"0x46\"),()=>this[\"isThreadsLoadingPaused\"]=!1),this[eb(\"0x1c\")](\"activeMarker\",null),this[\"on\"](eb(\"0x35\"),(t,n,i,r)=>{e[eb(\"0x2d\")][\"change\"](e=>{if(i){const{id:t}=ib(i),n=this[\"getAllMarkersForId\"](t);for(const t of n)e[eb(\"0x48\")](t)}if(r){const{id:t}=ib(r),n=this[eb(\"0x32\")](t);for(const t of n)e[eb(\"0x48\")](t)}})}),this[\"X\"]=new Set}[eb(\"0x26\")](){const e=this[eb(\"0x45\")],t=e[eb(\"0x1b\")][eb(\"0xb\")](\"CommentsRepository\"),n=e[\"config\"][eb(\"0xb\")](\"collaboration.channelId\");e[\"commands\"][eb(\"0x18\")](eb(\"0x6\"),new $p(e)),this[\"listenTo\"](e,eb(\"0x51\"),(n,i,r)=>{t[eb(\"0x25\")](r,e[eb(\"0xd\")][\"get\"](eb(\"0x2c\")))}),this[eb(\"0x9\")](t,nb(eb(\"0x13\"),n),(n,{threadId:i})=>{e[eb(\"0x2d\")][eb(\"0x2a\")](e=>{for(const t of this[eb(\"0x32\")](i))e[eb(\"0x12\")](t)});const r=t[\"getCommentThread\"](i);t[\"hasCommentThread\"](i)&&!r[eb(\"0x4d\")]||n[eb(\"0x53\")]()},{priority:eb(\"0x33\")}),this[eb(\"0x9\")](t,nb(\"addComment\",n),(n,{threadId:i,isFromAdapter:r})=>{const o=this[eb(\"0x32\")](i);if(r||0==o[eb(\"0x4d\")]||!t[\"hasCommentThread\"](i))return;1===t[eb(\"0x10\")](i)[\"length\"]&&e[\"model\"][\"change\"](e=>{for(const t of o)e[eb(\"0x48\")](t,{usingOperation:!0,affectsData:!0})})},{priority:eb(\"0x5\")}),this[\"Y\"](),this[\"Z\"]()}[eb(\"0x3f\")](){const e=this[eb(\"0x45\")][eb(\"0x1b\")][eb(\"0xb\")](eb(\"0x11\")),t=this[eb(\"0x45\")][eb(\"0xd\")][eb(\"0xb\")](eb(\"0x2c\"));for(const n of e[eb(\"0xe\")]({channelId:t}))e[\"_detachCommentThread\"](n[\"id\"]),e[eb(\"0x4\")][eb(\"0x44\")](n[\"id\"]);super[\"destroy\"]()}[eb(\"0x4e\")](e){return this[eb(\"0x32\")](e)[eb(\"0x4d\")]>0}[\"getAllMarkersForId\"](e){const t=this[\"editor\"][eb(\"0x2d\")][eb(\"0x43\")][eb(\"0xb\")](eb(\"0x2f\")+e);return t?[t]:Array[eb(\"0x1\")](this[\"editor\"][eb(\"0x2d\")][eb(\"0x43\")][\"getMarkersGroup\"](eb(\"0x2f\")+e))}[\"Y\"](){const e=this[eb(\"0x45\")];e[eb(\"0x3e\")][eb(\"0x38\")](\"editingDowncast\")[\"markerToHighlight\"]({model:eb(\"0xf\"),view:e=>{const{id:t}=ib(e[\"markerName\"]),n=[eb(\"0x3b\")];return this[eb(\"0x37\")]&&ib(this[eb(\"0x37\")])[\"id\"]===t&&n[eb(\"0x19\")](eb(\"0x34\")),{classes:n,attributes:{\"data-comment\":t}}}}),e[eb(\"0x3e\")][\"for\"](eb(\"0x1d\"))[eb(\"0x8\")]({model:eb(\"0xf\"),view:t=>{const n=e[eb(\"0x2d\")][eb(\"0x43\")][eb(\"0xb\")](t),{id:i,part:r}=ib(t);return n[eb(\"0x3c\")]?{group:eb(\"0xf\"),name:r?i+\":\"+r:i}:null}}),e[eb(\"0x3e\")][eb(\"0x38\")](eb(\"0x40\"))[eb(\"0x2e\")]({view:{name:eb(\"0xf\"),attribute:{id:/^\\w/}},model:(e,t)=>t[eb(\"0x7\")](\"$marker\",{\"data-name\":\"comment:\"+e[eb(\"0x16\")](\"id\")})}),e[eb(\"0x3e\")][eb(\"0x38\")](eb(\"0x40\"))[\"dataToMarker\"]({view:\"comment\"})}[\"Z\"](){const e=this[eb(\"0x45\")],t=e[eb(\"0x1b\")][eb(\"0xb\")](eb(\"0x11\")),n=new Set;e[eb(\"0x2d\")][eb(\"0x1a\")][eb(\"0x17\")](t=>{let i=!1;for(const[r,o]of e[eb(\"0x2d\")][eb(\"0x1a\")][eb(\"0x54\")][eb(\"0x50\")]){const{group:s,id:a}=ib(r);let c=o[eb(\"0x42\")];if(eb(\"0xf\")!==s||!c)continue;const l=eb(\"0x3\")===c[eb(\"0x28\")][\"rootName\"];l||(c=rb(c,e[eb(\"0x2d\")]),!c||c[eb(\"0x15\")](o[eb(\"0x42\")]))?!c||!e[eb(\"0x2d\")][eb(\"0x4f\")](c)||this[\"X\"][\"has\"](a)&&l?(t[\"removeMarker\"](r),i=!0):l||(this[\"isThreadsLoadingPaused\"]?n[\"add\"](a):this[\"tt\"](a)):(t[eb(\"0x48\")](r,{range:c}),i=!0)}return i}),this[\"on\"](eb(\"0x2b\"),(e,t,i)=>{if(!i&&n[eb(\"0x49\")])for(const e of n)this[\"tt\"](e),n[eb(\"0x44\")](e)}),this[eb(\"0x9\")](e[eb(\"0x2d\")][\"markers\"],eb(\"0x2\"),(i,r,o,s)=>{if(s)return;const{id:a}=ib(r[eb(\"0x24\")]),c=e[eb(\"0x1b\")][eb(\"0xb\")](eb(\"0x11\"))[eb(\"0x10\")](a);n[eb(\"0x44\")](a),c&&!this[eb(\"0x4e\")](a)&&(this[\"X\"][eb(\"0x44\")](a),t[eb(\"0x21\")](a))})}[\"tt\"](e){if(this[\"X\"][\"has\"](e))return;this[\"X\"][eb(\"0x18\")](e);const t=this[\"editor\"],n=t[eb(\"0x1b\")][\"get\"](eb(\"0x11\")),i=t[eb(\"0xd\")][eb(\"0xb\")](eb(\"0x2c\")),r=()=>{const n=this[eb(\"0x32\")](e);if(0==n[eb(\"0x4d\")])return null;const i=n[eb(\"0x4c\")](e=>Jp(t[eb(\"0x20\")],e));return i[eb(\"0x39\")]((e,t)=>{const n=new k[\"a\"](e),i=new k[\"a\"](t),r=n[eb(\"0x31\")]-i[eb(\"0x31\")];return 0==r?n[eb(\"0x23\")]-i[\"left\"]:r}),i[0]};!this[eb(\"0x32\")](e)[0][eb(\"0x1f\")]?t[eb(\"0x20\")][eb(\"0x41\")][eb(\"0x22\")](eb(\"0xc\"),()=>{n[\"openNewCommentThread\"]({channelId:i,threadId:e,target:r})},{priority:eb(\"0x5\")}):n[eb(\"0x1e\")]({channelId:i,threadId:e})[\"then\"](n=>{if(eb(\"0x52\")!==t[eb(\"0x29\")])if(n)n[\"attachTo\"](r);else{const n=this[eb(\"0x32\")](e);t[eb(\"0x2d\")][eb(\"0x2a\")](e=>{for(const t of n)e[\"removeMarker\"](t)})}})}}function nb(e,t){return t?e+\":\"+t:e}function ib(e){const t=e[eb(\"0x3a\")](\":\");return{group:t[0],id:t[1],part:t[2]}}function rb(e,t){const n=t[\"schema\"],i=t[eb(\"0x3d\")](e[eb(\"0xa\")]);for(const r of e[eb(\"0x36\")]()){const{type:e,item:o,nextPosition:s}=r;if(eb(\"0x47\")===e||n[eb(\"0x30\")](o)){const e=t[\"createPositionBefore\"](o);i[\"isCollapsed\"]&&(i[\"start\"]=e),i[eb(\"0x0\")]=s}}return i[eb(\"0x27\")]?null:i}var ob=n(43);var sb=n(449);const ab=[\"InlineAnnotations\",\"Esc\",\"customView\",\"Annotations\",\"showStack\",\"uiType\",\"attach\",\"change:isFocused\",\"includes\",\"addObserver\",\"update\",\"afterInit\",\"get\",\"hasView\",\"change:activeView\",\"has\",\"init\",\"register\",\"context\",\"plugins\",\"inlineannotations-not-allowed-with-context: Cannot switch Annotations UI to `InlineAnnotations` when using `Context`.\",\"items\",\"pluginName\",\"clear\",\"editor\",\"delete\",\"detach\",\"updatePosition\",\"activeView\",\"document\",\"requires\",\"getTarget\",\"stopListening\",\"destroy\",\"listenTo\",\"mousedown\",\"visibleView\",\"keystrokes\",\"inlineannotations-detach-not-attached: Cannot detach a UI if it is not attached.\",\"view\",\"change:visibleView\",\"getAnnotationView\",\"editing\",\"change:selectedViews\",\"switchTo\",\"focus\",\"targetRect\",\"isAttached\",\"remove\",\"inline\",\"isFocused\",\"inlineannotations-attach-already-attached: Cannot attach the same annotation twice.\",\"add\",\"focusTracker\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ab,232);const cb=function(e,t){e=e-0;let n=ab[e];return n};class lb extends ve[\"a\"]{static get[cb(\"0xe\")](){return[ob[\"a\"],hb,oa]}static get[cb(\"0x6\")](){return cb(\"0x26\")}constructor(e){super(e),e[cb(\"0x1a\")][cb(\"0x17\")][cb(\"0x2f\")](mn),this[cb(\"0x1f\")]=!1,this[\"v\"]=new Set,this[\"A\"]=e[cb(\"0x3\")][cb(\"0x32\")](oa),this[\"I\"]=new Set}[cb(\"0x0\")](){const e=this[\"editor\"][cb(\"0x3\")][cb(\"0x32\")](ob[\"a\"]);e[cb(\"0x2\")]===this[cb(\"0x8\")]&&(e[cb(\"0x1\")](cb(\"0x21\"),this),this[cb(\"0x8\")][cb(\"0x15\")][\"set\"](cb(\"0x27\"),(t,n)=>{const i=this[\"A\"];this[cb(\"0x1f\")]&&i[\"visibleView\"]&&e[cb(\"0x5\")][cb(\"0x35\")](i[cb(\"0x14\")])&&(this[\"v\"][cb(\"0x24\")](i[\"visibleView\"]),this[\"C\"](i[\"visibleView\"]),n())}))}[cb(\"0x31\")](){const e=this[cb(\"0x8\")][cb(\"0x3\")][cb(\"0x32\")](ob[\"a\"]);e[cb(\"0x2\")]===this[\"editor\"]&&(e[cb(\"0x2b\")]||e[cb(\"0x1c\")](cb(\"0x21\")))}[cb(\"0x11\")](){this[cb(\"0x1f\")]&&this[cb(\"0xa\")]()}[cb(\"0x2c\")](){const e=this[cb(\"0x8\")][cb(\"0x3\")][cb(\"0x32\")](cb(\"0x29\")),t=this[\"A\"];if(this[\"isAttached\"])throw new se[\"b\"](cb(\"0x23\"),this);if(e[\"context\"]!==this[cb(\"0x8\")])throw new se[\"b\"](cb(\"0x4\"),this);this[\"listenTo\"](this[\"editor\"][\"ui\"][\"focusTracker\"],cb(\"0x2d\"),(t,n,i)=>{if(!i)for(const t of e[\"items\"])this[\"C\"](t)}),this[\"listenTo\"](e[cb(\"0x5\")],cb(\"0x20\"),(e,t)=>{this[\"C\"](t)}),this[cb(\"0x12\")](e,cb(\"0x1b\"),(t,n,i,r)=>{for(const t of r)i[cb(\"0x2e\")](t)||this[\"v\"][cb(\"0x9\")](e[cb(\"0x19\")](t));for(const t of e[\"items\"])i[cb(\"0x2e\")](t[cb(\"0x28\")])||this[\"C\"](t);if(this[cb(\"0x8\")][\"ui\"][\"focusTracker\"][\"isFocused\"])for(const t of i)this[\"V\"](e[cb(\"0x19\")](t))}),this[cb(\"0x12\")](e,cb(\"0x34\"),(t,n,i)=>{i&&this[\"editor\"][\"ui\"][cb(\"0x25\")][cb(\"0x22\")]&&this[\"V\"](e[cb(\"0x19\")](i),!0)}),this[cb(\"0x12\")](t,cb(\"0x18\"),(n,i,r,o)=>{o&&this[cb(\"0x10\")](o),r&&e[cb(\"0x5\")][cb(\"0x35\")](r)&&(this[\"listenTo\"](r,\"change:height\",()=>t[cb(\"0xb\")]()),this[cb(\"0x12\")](r,cb(\"0x27\"),()=>{this[\"v\"][cb(\"0x24\")](r),this[\"C\"](r),this[\"editor\"][cb(\"0x1a\")][cb(\"0x17\")][cb(\"0x1d\")]()}),e[cb(\"0xc\")]!==r[cb(\"0x28\")]&&(e[cb(\"0xc\")]=r[cb(\"0x28\")]))}),this[cb(\"0x12\")](this[cb(\"0x8\")][\"ui\"],cb(\"0x30\"),()=>{t[cb(\"0x14\")]&&e[cb(\"0x5\")][cb(\"0x35\")](t[cb(\"0x14\")])&&t[cb(\"0xb\")]()}),this[cb(\"0x12\")](this[\"editor\"][cb(\"0x1a\")][cb(\"0x17\")][cb(\"0xd\")],cb(\"0x13\"),()=>{this[\"v\"][cb(\"0x7\")](),e[\"refresh\"]()}),this[cb(\"0x1f\")]=!0}[cb(\"0xa\")](){if(!this[\"isAttached\"])throw new se[\"b\"](cb(\"0x16\"),this);const e=this[cb(\"0x8\")][cb(\"0x3\")][cb(\"0x32\")](cb(\"0x29\")),t=this[\"A\"];for(const e of this[\"I\"])this[\"C\"](e);this[cb(\"0x10\")](e[cb(\"0x5\")]),this[cb(\"0x10\")](e),this[cb(\"0x10\")](t),this[cb(\"0x10\")](this[cb(\"0x8\")][\"ui\"]),this[cb(\"0x10\")](this[\"editor\"][\"ui\"][\"focusTracker\"]),this[cb(\"0x10\")](this[cb(\"0x8\")][\"editing\"][cb(\"0x17\")][cb(\"0xd\")]),this[cb(\"0x1f\")]=!1}[\"V\"](e,t){const n=this[\"editor\"][\"plugins\"][cb(\"0x32\")](ob[\"a\"]);this[\"v\"][\"has\"](e)||(this[\"I\"][\"has\"](e)||this[\"A\"][cb(\"0x33\")](e)||(this[\"I\"][cb(\"0x24\")](e),this[\"A\"][cb(\"0x24\")]({stackId:e[\"id\"],view:e,position:{target:()=>n[cb(\"0xf\")](e[cb(\"0x28\")])||e[cb(\"0x1e\")]}})),t&&this[\"A\"][cb(\"0x2a\")](e[\"id\"]))}[\"C\"](e){this[\"I\"][cb(\"0x35\")](e)&&this[\"A\"][cb(\"0x33\")](e)&&(this[\"I\"][cb(\"0x9\")](e),this[\"A\"][\"remove\"](e))}}const db=[\"selectedViews\",\"high\",\"refreshSelectedViews\",\"plugins\",\"sort\",\"delete\",\"view\",\"remove\",\"get\",\"keys\",\"change:range\",\"cancel\",\"set\",\"customView\",\"selection\",\"from\",\"focusTracker\",\"refresh\",\"init\",\"getRanges\",\"editing\",\"element\",\"isReadOnly\",\"editorannotations-invalid-source-callback: Function required.\",\"activeView\",\"model\",\"hasDomSelection\",\"listenTo\",\"add\",\"directChange\",\"requires\",\"update\",\"items\",\"map\",\"EditorAnnotations\",\"document\",\"editor\",\"change:isFocused\",\"containsRange\",\"Annotations\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(db,123);const ub=function(e,t){e=e-0;let n=db[e];return n};class hb extends ve[\"a\"]{static get[ub(\"0x1b\")](){return[ob[\"a\"],lb]}static get[\"pluginName\"](){return ub(\"0x1f\")}constructor(e){super(e),this[\"p\"]=new Set}[ub(\"0xf\")](){const e=this[\"editor\"],t=e[ub(\"0x0\")][ub(\"0x5\")](ub(\"0x24\")),n=e[ub(\"0x16\")][\"document\"][ub(\"0xb\")],i=Object(Ze[\"a\"])(()=>this[\"refreshSelectedViews\"](),10);n[\"on\"](ub(\"0x7\"),(e,t)=>{t[ub(\"0x1a\")]&&(i[ub(\"0x8\")](),this[ub(\"0x27\")]())}),this[\"listenTo\"](e[ub(\"0x11\")][ub(\"0x3\")][ub(\"0x20\")],ub(\"0x22\"),(e,t,n)=>{n&&i()}),this[ub(\"0x18\")](e[\"ui\"][\"focusTracker\"],ub(\"0x22\"),(n,i,r)=>{r||e[ub(\"0x13\")]||this[\"g\"][\"has\"](t[\"activeView\"])&&(t[\"activeView\"]=null)}),t[\"focusTracker\"][\"on\"](ub(\"0x22\"),(t,n,r)=>{!r&&e[ub(\"0x11\")][ub(\"0x3\")][ub(\"0x17\")]&&(i[\"cancel\"](),this[ub(\"0x27\")](),t[\"stop\"]())},{priority:ub(\"0x26\")}),this[\"listenTo\"](this[ub(\"0x21\")][\"ui\"],ub(\"0x1c\"),()=>t[ub(\"0xe\")]());const r=new Set;this[ub(\"0x18\")](t[ub(\"0x1d\")],\"add\",(t,n)=>{for(const t of this[\"g\"][ub(\"0x6\")]())if(t===n[ub(\"0xa\")]){e[\"ui\"][\"focusTracker\"][ub(\"0x19\")](n[ub(\"0x12\")]),r[\"add\"](n);break}}),this[ub(\"0x18\")](t[ub(\"0x1d\")],\"remove\",(t,n)=>{r[\"has\"](n)&&(e[\"ui\"][ub(\"0xd\")][ub(\"0x4\")](n[\"element\"]),r[ub(\"0x2\")](n))})}[\"addSourceCollector\"](e){if(\"function\"!=typeof e)throw new se[\"b\"](ub(\"0x14\"));this[\"p\"][ub(\"0x19\")](e)}[\"refreshSelectedViews\"](){const e=this[ub(\"0x21\")][ub(\"0x0\")][ub(\"0x5\")](ub(\"0x24\"));e[\"selectedViews\"]=this[\"k\"](),e[ub(\"0x15\")]=e[ub(\"0x25\")][0]||null}get[\"g\"](){const e=new Map;for(const t of Array[ub(\"0xc\")](this[\"p\"]))for(const[n,i]of t())e[ub(\"0x9\")](n,i);return e}[\"k\"](){const e=[],t=this[ub(\"0x21\")][ub(\"0x16\")][ub(\"0x20\")][\"selection\"],n=Array[ub(\"0xc\")](t[ub(\"0x10\")]()),i=this[ub(\"0x21\")][ub(\"0x0\")][ub(\"0x5\")](ub(\"0x24\"));for(const[t,n]of this[\"g\"]){const i=r(n);i&&e[\"push\"]([t,i])}function r(e){for(const i of e)for(const e of n)if(i[ub(\"0x23\")](e,!t[\"isCollapsed\"]))return i;return null}return e[ub(\"0x1\")]((e,t)=>{const n=e[1],r=t[1];return n[ub(\"0x23\")](r)?1:r[\"containsRange\"](n)||e[0]==i[ub(\"0x15\")]?-1:t[0]==i[\"activeView\"]?1:0})[ub(\"0x1e\")](e=>e[0])}}var fb='\\x3c!--\\n\\n What you\\'re currently looking at is the source code of a legally protected, proprietary software.\\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\\n\\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\\n\\n!--\\x3e\\n\\n<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.5 9.41c0 3.54 3.24 6.42 7.23 6.42 1.03 0 2.02-.19 2.95-.56 1.65.93 1.79.98 3.62 1.63.3.11.57.13.61.05.04-.08.02-.43-.08-.75-.48-1.63-.87-1.77-1.01-3.32a5.87 5.87 0 0 0 1.15-3.47C16.97 5.88 13.72 3 9.73 3S2.5 5.88 2.5 9.41zm9.64 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95zm-3.37 0c0-.52.43-.95.96-.95.54 0 .97.43.97.95 0 .53-.43.95-.97.95a.96.96 0 0 1-.96-.95zm-3.38 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95z\"/></svg>\\n';class mb extends ve[\"a\"]{static get[\"pluginName\"](){return\"CommentsUI\"}static get[\"requires\"](){return[ob[\"a\"],Hm[\"a\"],tb,hb]}[\"init\"](){const e=this[\"editor\"],t=e[\"plugins\"][\"get\"](\"CommentsRepository\"),n=e[\"plugins\"][\"get\"](\"CommentsEditing\"),i=e[\"plugins\"][\"get\"](\"Annotations\"),r=e[\"plugins\"][\"get\"](\"EditorAnnotations\");e[\"ui\"][\"componentFactory\"][\"add\"](\"comment\",()=>this[\"ct\"]()),r[\"addSourceCollector\"](()=>{const e=[];for(const[i,r]of t[\"_threadToController\"]){const t=n[\"getAllMarkersForId\"](i[\"id\"]),o=t[\"map\"](e=>e[\"getRange\"]());t[\"length\"]>0&&e[\"push\"]([r[\"view\"],o])}return e}),this[\"listenTo\"](i,\"change:activeView\",(e,i,r)=>{if(!t[\"_viewToController\"][\"has\"](r))return void(n[\"activeMarker\"]=null);const o=t[\"_viewToController\"][\"get\"](r)[\"model\"][\"id\"],s=\"comment:\"+o;n[\"hasMarkerForId\"](o)&&n[\"activeMarker\"]!=s?n[\"activeMarker\"]=s:n[\"activeMarker\"]&&(n[\"activeMarker\"]=null)}),this[\"listenTo\"](t,\"removeCommentThread\",(t,{threadId:i,isFromAdapter:r})=>{!r&&e[\"ui\"][\"focusTracker\"][\"isFocused\"]&&n[\"hasMarkerForId\"](i)&&e[\"editing\"][\"view\"][\"focus\"]()},{priority:\"highest\"}),this[\"listenTo\"](t,\"addComment\",(i,{threadId:r,isFromAdapter:o})=>{if(o||!n[\"hasMarkerForId\"](r)||!t[\"hasCommentThread\"](r))return;1===t[\"getCommentThread\"](r)[\"length\"]&&(e[\"editing\"][\"view\"][\"focus\"](),i[\"stop\"]())},{priority:\"low\"})}[\"ct\"](){const e=this[\"editor\"],t=new z[\"a\"](e[\"locale\"]),n=e[\"commands\"][\"get\"](\"addCommentThread\"),{t:i}=this[\"editor\"][\"locale\"];return t[\"label\"]=i(\"Comment\"),t[\"tooltip\"]=i(\"Comment\"),t[\"icon\"]=fb,t[\"bind\"](\"isEnabled\")[\"to\"](n),this[\"listenTo\"](t,\"execute\",()=>n[\"execute\"]()),t}}const gb=[\"document\",\"isEnabled\",\"clipboardInput\",\"commands\",\"forceDisabled\",\"has\",\"requires\",\"stop\",\"exportPdf\",\"pluginName\",\"get\",\"addCommentThread\",\"CommentsOnly\",\"commentsOnlyMode\",\"cut\",\"highest\",\"config\",\"editor\",\"view\",\"change:isEnabled\",\"editing\",\"selectAll\",\"listenTo\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(gb,194);const pb=function(e,t){e=e-0;let n=gb[e];return n};class bb extends ve[\"a\"]{static get[pb(\"0x16\")](){return pb(\"0x2\")}static get[pb(\"0x13\")](){return[tb]}constructor(e){super(e),this[\"set\"](pb(\"0xe\"),null),this[\"on\"](pb(\"0x9\"),(e,t,n)=>{n?this[\"Ot\"]():this[\"qt\"]()}),this[\"Nt\"]=new Set([pb(\"0x1\"),pb(\"0xb\"),pb(\"0x15\")])}[\"afterInit\"](){null===this[pb(\"0xe\")]&&(this[pb(\"0xe\")]=!!this[pb(\"0x7\")][pb(\"0x6\")][pb(\"0x0\")](\"commentsOnly\"))}[\"Ot\"](){for(const[e,t]of this[pb(\"0x7\")][pb(\"0x10\")])this[\"Nt\"][pb(\"0x12\")](e)||t[pb(\"0x11\")](pb(\"0x3\"));const e=this[pb(\"0x7\")][pb(\"0xa\")][pb(\"0x8\")][\"document\"];this[\"listenTo\"](e,pb(\"0x4\"),e=>e[pb(\"0x14\")](),{priority:\"highest\"}),this[pb(\"0xc\")](e,pb(\"0xf\"),e=>e[pb(\"0x14\")](),{priority:pb(\"0x5\")}),this[pb(\"0xc\")](e,\"delete\",e=>e[pb(\"0x14\")](),{priority:pb(\"0x5\")})}[\"qt\"](){for(const[e,t]of this[\"editor\"][pb(\"0x10\")])this[\"Nt\"][pb(\"0x12\")](e)||t[\"clearForceDisabled\"](pb(\"0x3\"));this[\"stopListening\"](this[pb(\"0x7\")][pb(\"0xa\")][\"view\"][pb(\"0xd\")])}}var _b=n(451);const wb=[\"bindTemplate\",\"setTemplate\",\"class\",\"minHeight\",\"list\",\"ck-sidebar\",\"set\",\"createCollection\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(wb,137);const vb=function(e,t){e=e-0;let n=wb[e];return n};const kb=kt(\"px\");class xb extends m[\"a\"]{constructor(e){super(e);const t=this[vb(\"0x7\")];this[\"set\"](vb(\"0x2\"),0),this[vb(\"0x5\")](vb(\"0x1\"),\"\"),this[vb(\"0x3\")]=this[vb(\"0x6\")](),this[vb(\"0x0\")]({tag:\"div\",attributes:{class:[\"ck\",vb(\"0x4\"),\"ck-reset\",t[\"to\"](\"class\")],style:{minHeight:t[\"to\"](vb(\"0x2\"),e=>e?kb(e+10):null)}},children:this[vb(\"0x3\")]})}}var yb=n(185);const Cb=[\"content\",\"isAnimationDisabled\",\"render\",\"bottom\",\"destroy\",\"clear\",\"updateHeight\",\"clientHeight\",\"top\",\"change:targetTop\",\"targetTop\",\"ck-sidebar-item\",\"resetTop\",\"createCollection\",\"setTemplate\",\"div\",\"set\",\"height\",\"bindTemplate\",\"attach\",\"bind\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Cb,359);const Ab=function(e,t){e=e-0;let n=Cb[e];return n};const Tb=kt(\"px\");class Eb extends m[\"a\"]{constructor(e){super(e),this[Ab(\"0xe\")](Ab(\"0x6\")),this[Ab(\"0xe\")](Ab(\"0xf\"),0),this[Ab(\"0x12\")](Ab(\"0x1\"))[\"to\"](this,\"top\",this,\"height\",(e,t)=>(e||0)+t),this[Ab(\"0xe\")](Ab(\"0x8\"),0),this[\"on\"](Ab(\"0x7\"),()=>this[Ab(\"0xa\")]()),this[Ab(\"0xe\")](\"isAnimationDisabled\",!1),this[\"O\"]=Object(yb[\"a\"])(()=>this[Ab(\"0x4\")]()),this[\"content\"]=this[Ab(\"0xb\")]();const t=this[Ab(\"0x10\")];this[Ab(\"0xc\")]({tag:Ab(\"0xd\"),attributes:{class:[Ab(\"0x9\"),t[\"to\"](Ab(\"0x14\"),e=>e?\"ck-sidebar-item--no-animation\":\"\")],style:{top:t[\"to\"](Ab(\"0x6\"),Tb)}},children:this[Ab(\"0x13\")]})}[\"render\"](){super[Ab(\"0x0\")](),this[\"O\"][Ab(\"0x11\")](this[\"element\"])}[\"updateHeight\"](){const e=this[\"element\"][Ab(\"0x5\")];e&&(this[\"height\"]=e)}[Ab(\"0xa\")](){this[Ab(\"0x6\")]=this[Ab(\"0x8\")]}[Ab(\"0x2\")](){this[Ab(\"0x13\")][Ab(\"0x3\")](),this[\"O\"][\"detach\"](),super[Ab(\"0x2\")]()}}var Sb=n(489);const Ob=[\"sidebar-setcontainer-invalid-element: Container element is not a HTMLElement.\",\"view\",\"set\",\"requires\",\"minHeight\",\"class\",\"resetTop\",\"stopListening\",\"get\",\"bind\",\"updateHeight\",\"max\",\"add\",\"plugins\",\"getIndex\",\"Sidebar\",\"change:_lastItem\",\"content\",\"destroy\",\"clear\",\"locale\",\"context\",\"config\",\"listenTo\",\"change:top\",\"change:activeView\",\"targetRect\",\"top\",\"setContainer\",\"_detachFromContainer\",\"last\",\"render\",\"pluginName\",\"activeView\",\"container\",\"delete\",\"_annotationViewToSidebarItemView\",\"addView\",\"list\",\"items\",\"getSidebarItemView\",\"refresh\",\"_lastItem\",\"customView\",\"remove\",\"element\",\"bottom\",\"unbind\",\"Annotations\",\"length\",\"_attachToContainer\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Ob,394);const Ib=function(e,t){e=e-0;let n=Ob[e];return n};class Pb extends Hi[\"a\"]{static get[Ib(\"0x11\")](){return[ob[\"a\"]]}static get[Ib(\"0x2e\")](){return Ib(\"0x1d\")}constructor(e){super(e),this[Ib(\"0x10\")](Ib(\"0x5\")),this[Ib(\"0xf\")]=this[\"M\"](),this[Ib(\"0x10\")](Ib(\"0x30\"),null),this[\"H\"]=25,this[\"T\"]=new Map,this[Ib(\"0x32\")]=new Map}[\"init\"](){this[\"q\"]=this[Ib(\"0x23\")][Ib(\"0x1b\")][Ib(\"0x16\")](Ib(\"0xb\"));const e=this[\"context\"][Ib(\"0x24\")][Ib(\"0x16\")](\"sidebar.container\");e&&this[\"setContainer\"](e)}[Ib(\"0x2a\")](e){if(!Object(pe[\"a\"])(e))throw new se[\"b\"](Ib(\"0xe\"));this[Ib(\"0x30\")]=e}[Ib(\"0xd\")]({viewClass:e=\"\",spaceBetweenItems:t=25}={}){const n=this[Ib(\"0x23\")][Ib(\"0x1b\")][Ib(\"0x16\")](ob[\"a\"]);if(!Object(pe[\"a\"])(this[\"container\"]))throw new se[\"b\"](\"sidebar-attachtocontainer-missing-container: Missing container element.\",this);this[\"container\"][\"appendChild\"](this[Ib(\"0xf\")][\"element\"]),this[Ib(\"0xf\")][\"class\"]=e,this[\"H\"]=t,this[\"listenTo\"](n,Ib(\"0x27\"),(e,t,i)=>{if(i){const e=n[\"getAnnotationView\"](i),t=this[\"getSidebarItemView\"](e);t&&t[Ib(\"0x14\")]()}}),this[Ib(\"0x25\")](n[\"items\"],Ib(\"0x7\"),(e,t,n)=>{this[\"F\"](t);const i=this[\"q\"][Ib(\"0x2\")][Ib(\"0x16\")](n-1),r=this[\"q\"][\"items\"][Ib(\"0x16\")](n);i&&this[\"getSidebarItemView\"](i)[Ib(\"0x14\")](),r&&this[Ib(\"0x3\")](r)[Ib(\"0x14\")](),this[\"R\"]()}),n[Ib(\"0x4\")]()}[Ib(\"0x2b\")](){const e=this[\"q\"];this[Ib(\"0x15\")](),this[Ib(\"0xf\")][Ib(\"0x8\")][Ib(\"0x7\")]();for(const t of e[Ib(\"0x2\")])this[\"F\"](t);this[\"view\"][Ib(\"0x1\")][Ib(\"0x21\")](),this[Ib(\"0xf\")][Ib(\"0x13\")]=\"\",this[\"_lastItem\"]=null}[Ib(\"0x0\")](e,t){t||(t=e);const n=this[\"q\"],i=new Eb(this[Ib(\"0x23\")][\"locale\"]);this[\"T\"][Ib(\"0x10\")](i,e),this[\"_annotationViewToSidebarItemView\"][\"set\"](e,i),i[\"content\"][Ib(\"0x1a\")](t),i[Ib(\"0x17\")](\"targetTop\")[\"to\"](e,Ib(\"0x28\"),t=>{if(n[\"getTarget\"](e[Ib(\"0x6\")])instanceof k[\"a\"])return t[\"top\"];const{top:i}=new k[\"a\"](this[Ib(\"0xf\")][\"element\"]);return t[Ib(\"0x29\")]-i}),this[\"listenTo\"](i,Ib(\"0x26\"),Object(Sb[\"a\"])(()=>{if(!i[Ib(\"0x1f\")][Ib(\"0xc\")])return;const e=this[\"j\"](i);if(!e)return;const t=this[\"T\"][\"get\"](e);n[Ib(\"0x2f\")]===t[Ib(\"0x6\")]?this[\"G\"](e,i):this[\"J\"](i,e)},10,{leading:!1})),this[Ib(\"0x25\")](i,\"change:bottom\",Object(Sb[\"a\"])(()=>{if(!i[\"content\"][Ib(\"0xc\")])return;const e=this[\"K\"](i);if(!e)return;const t=this[\"T\"][Ib(\"0x16\")](e);n[Ib(\"0x2f\")]===t[\"customView\"]?this[\"J\"](e,i):this[\"G\"](i,e)},10,{leading:!1}));const r=this[\"j\"](i);if(r){this[\"G\"](r,i)||i[Ib(\"0x14\")]()}else i[Ib(\"0x14\")]();return this[\"R\"](),i}[Ib(\"0x3\")](e){return this[Ib(\"0x32\")][Ib(\"0x16\")](e)}[Ib(\"0x20\")](){this[Ib(\"0xf\")][Ib(\"0x20\")]()}[\"F\"](e){const t=this[\"getSidebarItemView\"](e);this[Ib(\"0x15\")](t),t[Ib(\"0x20\")](),this[\"_annotationViewToSidebarItemView\"][Ib(\"0x31\")](e),this[\"T\"][Ib(\"0x31\")](t)}[\"M\"](){const e=new xb(this[Ib(\"0x23\")][Ib(\"0x22\")]);return e[Ib(\"0x2d\")](),this[\"on\"](Ib(\"0x1e\"),(t,n,i,r)=>{r&&e[Ib(\"0xa\")](Ib(\"0x12\")),i?e[Ib(\"0x17\")](Ib(\"0x12\"))[\"to\"](i,Ib(\"0x9\")):e[Ib(\"0x12\")]=null}),e}[\"R\"](){this[Ib(\"0x5\")]=this[Ib(\"0x3\")](this[\"q\"][Ib(\"0x2\")][Ib(\"0x2c\")])}[\"j\"](e){const t=this[\"q\"][Ib(\"0x2\")],n=this[\"T\"][Ib(\"0x16\")](e),i=t[Ib(\"0x16\")](t[Ib(\"0x1c\")](n)-1);return this[\"getSidebarItemView\"](i)}[\"K\"](e){const t=this[\"q\"][Ib(\"0x2\")],n=this[\"T\"][Ib(\"0x16\")](e),i=t[\"get\"](t[Ib(\"0x1c\")](n)+1);return this[Ib(\"0x3\")](i)}[\"J\"](e,t){e[Ib(\"0x18\")]();const n=Mb(t[Ib(\"0x9\")]+this[\"H\"],e[Ib(\"0x29\")]);return!!n&&(t[Ib(\"0x29\")]-=n,!0)}[\"G\"](e,t){e[\"updateHeight\"]();const n=Mb(e[Ib(\"0x9\")]+this[\"H\"],t[Ib(\"0x29\")]);return!!n&&(t[\"top\"]+=n,!0)}}function Mb(e,t){return Math[Ib(\"0x19\")](e-t,0)}const Rb=[\"Sidebar\",\"context\",\"_detachFromContainer\",\"bindTo\",\"container\",\"requires\",\"plugins\",\"addView\",\"pluginName\",\"stopListening\",\"attach\",\"widesidebar-attach-already-attached: Cannot attach wide sidebar twice.\",\"get\",\"off\",\"ck-sidebar--wide\",\"Annotations\",\"destroy\",\"items\",\"wideSidebar\",\"using\",\"listenTo\",\"register\",\"detach\",\"switchTo\",\"_attachToContainer\",\"isAttached\",\"change:container\",\"widesidebar-detach-not-attached: Cannot detach not attached sidebar.\",\"WideSidebar\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Rb,458);const Nb=function(e,t){e=e-0;let n=Rb[e];return n};class jb extends Hi[\"a\"]{static get[Nb(\"0xb\")](){return[Pb,ob[\"a\"]]}static get[Nb(\"0xe\")](){return Nb(\"0x5\")}constructor(e){super(e),this[Nb(\"0x2\")]=!1}[\"init\"](){const e=this[Nb(\"0x7\")][Nb(\"0xc\")][\"get\"](Nb(\"0x15\")),t=this[Nb(\"0x7\")][\"plugins\"][Nb(\"0x12\")](Nb(\"0x6\"));e[Nb(\"0x1b\")](Nb(\"0x18\"),this),t[Nb(\"0xa\")]&&e[Nb(\"0x0\")](Nb(\"0x18\"))}[Nb(\"0x10\")](){const e=this[Nb(\"0x7\")][Nb(\"0xc\")][Nb(\"0x12\")](Nb(\"0x6\")),t=this[Nb(\"0x7\")][Nb(\"0xc\")][Nb(\"0x12\")](\"Annotations\");if(this[\"isAttached\"])throw new se[\"b\"](Nb(\"0x11\"),this);this[\"isAttached\"]=!0,this[Nb(\"0x1a\")](e,\"set:container\",()=>{this[Nb(\"0x1c\")](),this[\"listenTo\"](e,Nb(\"0x3\"),e=>{e[Nb(\"0x13\")](),this[\"attach\"]()})}),e[Nb(\"0x1\")]({viewClass:Nb(\"0x14\")}),e[\"view\"][\"list\"][Nb(\"0x9\")](t[Nb(\"0x17\")])[Nb(\"0x19\")](t=>e[Nb(\"0xd\")](t))}[\"detach\"](){if(!this[Nb(\"0x2\")])throw new se[\"b\"](Nb(\"0x4\"),this);this[Nb(\"0x7\")][Nb(\"0xc\")][Nb(\"0x12\")](Nb(\"0x6\"))[Nb(\"0x8\")](),this[Nb(\"0xf\")](),this[Nb(\"0x2\")]=!1}[Nb(\"0x16\")](){this[\"isAttached\"]&&this[Nb(\"0x1c\")]()}}var Db='\\x3c!--\\n\\n What you\\'re currently looking at is the source code of a legally protected, proprietary software.\\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\\n\\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\\n\\n!--\\x3e\\n\\n<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 9.4a1 1 0 0 1 2 0c0 .5-.5 1-1 1a1 1 0 0 1-1-1zM8.7 9.4c0-.5.4-1 1-1 .5 0 .9.5.9 1s-.4 1-1 1a1 1 0 0 1-1-1zM6.3 8.5c.5 0 1 .4 1 1 0 .4-.5.9-1 .9a1 1 0 0 1-1-1c0-.5.4-1 1-1z\"/><path d=\"M16 17.4c.6.2 1 .2 1.3-.2V16l-.5-1.1-.3-.7-.3-1.3c.8-1 1.2-2.3 1.2-3.6 0-3.8-3.5-6.9-7.8-6.9-4.2 0-7.7 3-7.7 7 0 3.7 3.5 6.8 7.7 6.8 1 0 2-.1 3-.5 1.4.8 1.6 1 3.4 1.6zm-3.2-2.6h-.4c-.9.4-1.8.5-2.8.5C6 15.3 3 12.7 3 9.4c0-3.2 3-5.9 6.7-5.9 3.8 0 6.8 2.7 6.8 6 0 1-.4 2.2-1 3l-.2.2v.2c0 .7.2 1.2.4 1.8l.3.7a10.4 10.4 0 0 1 .4 1c-1.8-.6-2-.7-3.5-1.6z\"/></svg>\\n';const Lb=[\"setTemplate\",\"isDirty\",\"add\",\"bindTemplate\",\"number\",\"annotationType\",\"icon\",\"_badge\",\"span\",\"counterView\",\"ck-annotation-counter\",\"set\",\"ck-annotation-counter__badge\",\"...\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Lb,345);const Bb=function(e,t){e=e-0;let n=Lb[e];return n};class Fb extends z[\"a\"]{constructor(e){super(e);const t=this[Bb(\"0x8\")];this[Bb(\"0x2\")](Bb(\"0x6\"),!1),this[Bb(\"0x2\")](Bb(\"0x9\"),0),this[\"bind\"](Bb(\"0xc\"))[\"to\"](this,Bb(\"0x6\"),this,Bb(\"0x9\"),(e,t)=>e?Bb(\"0x4\"):t),this[Bb(\"0x2\")](Bb(\"0xa\"),\"\"),this[Bb(\"0xb\")]=Db,this[\"extendTemplate\"]({attributes:{class:[Bb(\"0x1\")]}}),this[Bb(\"0x0\")]=new m[\"a\"],this[Bb(\"0x0\")][Bb(\"0x5\")]({tag:Bb(\"0xd\"),attributes:{class:[Bb(\"0x3\"),t[\"to\"](Bb(\"0xa\"),e=>\"ck-annotation-counter__badge--\"+e),t[\"if\"](Bb(\"0x6\"),\"ck-annotation-counter__badge--edit-mode\")]},children:[{text:t[\"to\"](\"_badge\")}]}),this[\"children\"][Bb(\"0x7\")](this[Bb(\"0x0\")])}}var zb=n(453);const Vb=[\"change:activeView\",\"customView\",\"detachFromDom\",\"items\",\"narrowSidebar\",\"northArrowSouthWest\",\"Annotations\",\"destroy\",\"annotationType\",\"includes\",\"register\",\"pluginName\",\"southArrowNorth\",\"getAnnotationView\",\"high\",\"change:selectedViews\",\"from\",\"attach\",\"plugins\",\"create\",\"listenTo\",\"NarrowSidebar\",\"attachToDom\",\"Sidebar\",\"bind\",\"target\",\"focus\",\"bindTo\",\"isVisible\",\"type\",\"narrowsidebar-attach-already-attached: Cannot attach narrow sidebar twice.\",\"element\",\"keyCode\",\"northArrowSouth\",\"change:container\",\"keydown\",\"locale\",\"first\",\"detach\",\"southArrowNorthWest\",\"stopListening\",\"set:container\",\"balloonPanelView\",\"has\",\"clear\",\"southArrowNorthEast\",\"add\",\"delete\",\"preventDefault\",\"getSidebarItemView\",\"get\",\"list\",\"ck-sidebar--narrow\",\"esc\",\"narrowsidebar-detach-not-attached: Cannot detach not attached sidebar.\",\"values\",\"number\",\"pin\",\"activeView\",\"contains\",\"init\",\"Esc\",\"bodyCollection\",\"isAnimationDisabled\",\"content\",\"off\",\"defaultPositions\",\"_annotationViewToNarrowView\",\"context\",\"isAttached\",\"isDirty\",\"view\",\"remove\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Vb,231);const Ub=function(e,t){e=e-0;let n=Vb[e];return n};class Hb extends Hi[\"a\"]{static get[\"requires\"](){return[Pb,ob[\"a\"]]}static get[Ub(\"0x48\")](){return Ub(\"0x9\")}constructor(e){super(e),this[Ub(\"0x39\")]=!1,this[\"v\"]=new Set,this[\"S\"]=Object[Ub(\"0x7\")](x[\"a\"]),this[Ub(\"0x37\")]=new Map}[Ub(\"0x30\")](){this[Ub(\"0x38\")][\"plugins\"][Ub(\"0x26\")](Ub(\"0x43\"))[Ub(\"0x47\")](Ub(\"0x41\"),this),this[Ub(\"0x32\")]=new $f[\"a\"](this[Ub(\"0x38\")][\"locale\"]),this[Ub(\"0x32\")][Ub(\"0xa\")](),this[Ub(\"0x1e\")]=new At(this[Ub(\"0x38\")][Ub(\"0x18\")]),this[Ub(\"0x32\")][Ub(\"0x22\")](this[Ub(\"0x1e\")])}[Ub(\"0x5\")](){const e=this[\"context\"][\"plugins\"][Ub(\"0x26\")](Ub(\"0xb\")),t=this[\"context\"][Ub(\"0x6\")][\"get\"](\"Annotations\"),n=this[Ub(\"0x1e\")];if(this[Ub(\"0x39\")])throw new se[\"b\"](Ub(\"0x12\"),this);this[\"isAttached\"]=!0,this[Ub(\"0x8\")](e,Ub(\"0x1d\"),()=>{this[Ub(\"0x1a\")](),this[Ub(\"0x8\")](e,Ub(\"0x16\"),e=>{e[Ub(\"0x35\")](),this[\"attach\"]()})}),e[\"_attachToContainer\"]({viewClass:Ub(\"0x28\"),spaceBetweenItems:5}),e[Ub(\"0x3b\")][Ub(\"0x27\")][Ub(\"0xf\")](t[Ub(\"0x40\")])[\"using\"](i=>{const r=new Fb(this[Ub(\"0x38\")][Ub(\"0x18\")]),o=e[\"addView\"](i,r);return this[Ub(\"0x37\")][\"set\"](i,r),r[Ub(\"0xc\")](\"isDirty\",Ub(\"0x45\"),Ub(\"0x2c\"))[\"to\"](i,Ub(\"0x3a\"),Ub(\"0x11\"),\"length\"),r[\"on\"](\"execute\",()=>{this[\"v\"][\"clear\"](),n[Ub(\"0x34\")][Ub(\"0x19\")]!==i?(this[\"_\"](i),i[Ub(\"0x13\")][Ub(\"0xe\")](),t[Ub(\"0x2e\")]=i[Ub(\"0x3e\")]):this[\"B\"]()}),o}),this[Ub(\"0x8\")](t[Ub(\"0x40\")],Ub(\"0x3c\"),(e,t)=>{this[Ub(\"0x37\")][Ub(\"0x26\")](t)[\"destroy\"](),this[\"_annotationViewToNarrowView\"][Ub(\"0x23\")](t)}),this[Ub(\"0x8\")](t,Ub(\"0x3d\"),(n,i,r,o)=>{if(o){const n=t[\"getAnnotationView\"](o);if(!n)return;e[Ub(\"0x25\")](n)[Ub(\"0x33\")]=!1}if(r){const n=t[Ub(\"0x1\")](r);e[Ub(\"0x25\")](n)[\"isAnimationDisabled\"]=!0}},{priority:Ub(\"0x2\")}),this[\"listenTo\"](t,Ub(\"0x3d\"),(n,i,r)=>{const o=t[Ub(\"0x1\")](r),s=e[Ub(\"0x25\")](o);r&&s?this[\"_\"](o):this[\"B\"]()}),this[Ub(\"0x8\")](t,Ub(\"0x3\"),(e,n,i,r)=>{for(const e of r)i[Ub(\"0x46\")](e)||this[\"v\"][Ub(\"0x23\")](t[\"getAnnotationView\"](e))}),this[Ub(\"0x8\")](t,\"refresh\",()=>{n[Ub(\"0x10\")]&&this[\"D\"]()}),this[\"S\"][\"listenTo\"](document,Ub(\"0x17\"),(e,t)=>{t[Ub(\"0x14\")]===gn[\"f\"][Ub(\"0x29\")]&&n[Ub(\"0x10\")]&&(this[\"v\"][Ub(\"0x22\")](n[\"content\"][Ub(\"0x19\")]),this[\"B\"](),t[\"stopPropagation\"](),t[Ub(\"0x24\")]())}),this[\"S\"][Ub(\"0x8\")](document,\"mousedown\",(t,i)=>{const r=i[Ub(\"0xd\")];n[Ub(\"0x10\")]&&n[Ub(\"0x13\")][Ub(\"0x2f\")](r)||e[\"view\"][Ub(\"0x13\")][Ub(\"0x2f\")](r)||(this[\"v\"][Ub(\"0x20\")](),this[\"B\"]())})}[\"detach\"](){if(!this[Ub(\"0x39\")])throw new se[\"b\"](Ub(\"0x2a\"),this);const e=this[\"context\"][\"plugins\"][Ub(\"0x26\")](Ub(\"0xb\"));this[\"B\"](),Array[Ub(\"0x4\")](this[Ub(\"0x37\")][Ub(\"0x2b\")](),e=>e[Ub(\"0x44\")]()),this[Ub(\"0x37\")][Ub(\"0x20\")](),e[\"_detachFromContainer\"](),this[Ub(\"0x1c\")](),this[\"S\"][\"stopListening\"](),this[Ub(\"0x39\")]=!1}[Ub(\"0x44\")](){this[Ub(\"0x39\")]&&this[Ub(\"0x1a\")](),this[\"bodyCollection\"][Ub(\"0x3f\")]()}[\"_\"](e){if(this[\"v\"][Ub(\"0x1f\")](e))return;const t=this[Ub(\"0x1e\")][Ub(\"0x34\")][Ub(\"0x19\")];t!==e?(t&&this[\"L\"](t),this[\"N\"](e),this[\"balloonPanelView\"][Ub(\"0x34\")][Ub(\"0x20\")](),this[Ub(\"0x1e\")][\"content\"][Ub(\"0x22\")](e),this[\"D\"]()):this[\"D\"]()}[\"D\"](){const e=this[Ub(\"0x1e\")][Ub(\"0x34\")][Ub(\"0x19\")];if(!this[\"_annotationViewToNarrowView\"][Ub(\"0x1f\")](e))return;const t=this[\"_annotationViewToNarrowView\"][Ub(\"0x26\")](e)[Ub(\"0x13\")],n=function(){const e=At[Ub(\"0x36\")];return[e[Ub(\"0x21\")],e[\"northArrowSouthEast\"],e[Ub(\"0x0\")],e[Ub(\"0x15\")],e[Ub(\"0x1b\")],e[Ub(\"0x42\")]]}();this[\"balloonPanelView\"][Ub(\"0x2d\")]({target:t,positions:n})}[\"B\"](){const e=this[Ub(\"0x1e\")],t=e[Ub(\"0x34\")][Ub(\"0x19\")];t&&(this[\"L\"](t),e[\"unpin\"](),e[\"content\"][Ub(\"0x20\")]())}[\"N\"](e){this[Ub(\"0x8\")](e,\"change:height\",()=>this[\"D\"]()),this[Ub(\"0x8\")](e,Ub(\"0x31\"),(t,n)=>{this[\"v\"][Ub(\"0x22\")](e),this[\"B\"](),n()})}[\"L\"](e){this[\"stopListening\"](e)}}var Wb=[\"Comments\",\"requires\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Wb,194);var $b=function(e,t){e=e-0;var n=Wb[e];return n};class qb extends ve[\"a\"]{static get[$b(\"0x1\")](){return[Hm[\"a\"],tb,mb,bb,jb,Hb]}static get[\"pluginName\"](){return $b(\"0x0\")}}const Yb=[\"get\",\"collaboration.channelId\",\"init\",\"isThreadsLoadingPaused\",\"pluginName\",\"plugins\",\"setUpService\",\"change:state\",\"destroy\",\"ready\",\"config\",\"RealTimeCollaborativeComments\",\"terminateService\",\"editor\",\"connected\",\"requires\",\"data\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Yb,305);const Jb=function(e,t){e=e-0;let n=Yb[e];return n};class Gb extends ve[\"a\"]{static get[Jb(\"0x10\")](){return[qb,tb,qm,Up,Ff]}static get[Jb(\"0x5\")](){return Jb(\"0xc\")}[Jb(\"0x3\")](){const e=this[Jb(\"0xe\")][\"plugins\"][Jb(\"0x1\")](Ff),t=this[Jb(\"0xe\")][Jb(\"0x6\")][\"get\"](tb),n=this[Jb(\"0xe\")][Jb(\"0x6\")][Jb(\"0x1\")](qm);return this[Jb(\"0xe\")][Jb(\"0x0\")][\"once\"](Jb(\"0xa\"),()=>{this[\"listenTo\"](e,Jb(\"0x8\"),(e,n,i)=>{t[Jb(\"0x4\")]=Jb(\"0xf\")!==i})}),this[\"listenTo\"](e,\"change:state\",(e,t,n)=>{this[Jb(\"0xe\")][Jb(\"0x6\")][\"get\"](Hm[\"a\"])[\"switchReadOnly\"](Jb(\"0xf\")!==n)}),n[Jb(\"0x7\")](this[\"editor\"][Jb(\"0xb\")][Jb(\"0x1\")](Jb(\"0x2\")))}[Jb(\"0x9\")](){this[Jb(\"0xe\")][Jb(\"0x6\")][Jb(\"0x1\")](qm)[Jb(\"0xd\")](this[\"editor\"][\"config\"][Jb(\"0x1\")](\"collaboration.channelId\")),super[Jb(\"0x9\")]()}}class Kb extends $h{constructor(e,t,n,i={},r=null,o){super(),this[\"id\"]=e,this[\"documentId\"]=t,this[\"type\"]=n,this[\"data\"]=i,this[\"originalSuggestionId\"]=r,this[\"attributes\"]=o||null}static get[\"TYPE\"](){return 101}static get[\"READABLE_TYPE_NAME\"](){return\"addSuggestion\"}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesAddSuggestionMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},documentId:{type:\"string\",id:2},type:{type:\"string\",id:3},data:{type:\"string\",id:4},originalSuggestionId:{type:\"string\",id:5},attributes:{type:\"string\",id:6}}}}[\"toJSON\"](){return{id:this[\"id\"],documentId:this[\"documentId\"],type:this[\"type\"],data:JSON[\"stringify\"](this[\"data\"]),originalSuggestionId:this[\"originalSuggestionId\"],attributes:JSON[\"stringify\"](this[\"attributes\"])}}static[\"fromJSON\"](e){return new Kb(e[\"id\"],e[\"documentId\"],e[\"type\"],JSON[\"parse\"](e[\"data\"]),e[\"originalSuggestionId\"]||null,e[\"attributes\"]?JSON[\"parse\"](e[\"attributes\"]):null)}}class Xb extends $h{constructor(e,t,n,i,r,o,s={},a){super(),this[\"id\"]=e,this[\"authorId\"]=t,this[\"type\"]=n,this[\"createdAt\"]=new Date(i),this[\"hasComments\"]=r,this[\"state\"]=o,this[\"data\"]=s,this[\"attributes\"]=a||null}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesAddSuggestionResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},authorId:{type:\"string\",id:2},type:{type:\"string\",id:3},createdAt:{type:\"string\",id:4},data:{type:\"string\",id:5},hasComments:{type:\"bool\",id:6},state:{type:\"string\",id:7},attributes:{type:\"string\",id:8}}}}[\"toJSON\"](){return{id:this[\"id\"],authorId:this[\"authorId\"],type:this[\"type\"],createdAt:this[\"createdAt\"][\"toISOString\"](),data:JSON[\"stringify\"](this[\"data\"]),hasComments:this[\"hasComments\"],state:this[\"state\"],attributes:JSON[\"stringify\"](this[\"attributes\"])}}static[\"fromJSON\"](e){return new Xb(e[\"id\"],e[\"authorId\"],e[\"type\"],e[\"createdAt\"],e[\"hasComments\"],e[\"state\"],JSON[\"parse\"](e[\"data\"]),e[\"attributes\"]?JSON[\"parse\"](e[\"attributes\"]):null)}}class Qb extends $h{constructor(e,t){super(),this[\"id\"]=e,this[\"documentId\"]=t}static get[\"TYPE\"](){return 103}static get[\"READABLE_TYPE_NAME\"](){return\"getSuggestion\"}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesGetSuggestionMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},documentId:{type:\"string\",id:2}}}}[\"toJSON\"](){return{id:this[\"id\"],documentId:this[\"documentId\"]}}static[\"fromJSON\"](e){return new Qb(e[\"id\"],e[\"documentId\"])}}class Zb extends $h{constructor(e,t,n,i,r,o,s={},a){super(),this[\"id\"]=e,this[\"authorId\"]=t,this[\"type\"]=n,this[\"createdAt\"]=new Date(i),this[\"hasComments\"]=r,this[\"state\"]=o,this[\"data\"]=s,this[\"attributes\"]=a||null}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesGetSuggestionResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},authorId:{type:\"string\",id:2},type:{type:\"string\",id:3},createdAt:{type:\"string\",id:4},data:{type:\"string\",id:5},hasComments:{type:\"bool\",id:6},state:{type:\"string\",id:7},attributes:{type:\"string\",id:8}}}}[\"toJSON\"](){return{id:this[\"id\"],authorId:this[\"authorId\"],type:this[\"type\"],createdAt:this[\"createdAt\"][\"toISOString\"](),data:JSON[\"stringify\"](this[\"data\"]),hasComments:this[\"hasComments\"],state:this[\"state\"],attributes:JSON[\"stringify\"](this[\"attributes\"])}}static[\"fromJSON\"](e){return new Zb(e[\"id\"],e[\"authorId\"],e[\"type\"],e[\"createdAt\"],e[\"hasComments\"],e[\"state\"],JSON[\"parse\"](e[\"data\"]),e[\"attributes\"]?JSON[\"parse\"](e[\"attributes\"]):null)}}class e_ extends $h{constructor(e){super(),this[\"documentId\"]=e}static get[\"TYPE\"](){return 102}static get[\"READABLE_TYPE_NAME\"](){return\"getAllSuggestions\"}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesGetAllSuggestionMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{documentId:{type:\"string\",id:1}}}}[\"toJSON\"](){return{documentId:this[\"documentId\"]}}static[\"fromJSON\"](e){return new e_(e[\"documentId\"])}}class t_ extends $h{constructor(e){super(),this[\"suggestions\"]=e}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesGetAllSuggestionsResponse\"}static get[\"DESCRIPTOR\"](){return{fields:{suggestions:{type:\"string\",rule:\"repeated\",id:1}}}}[\"toJSON\"](){return{suggestions:this[\"suggestions\"][\"map\"](e=>JSON[\"stringify\"](e))}}static[\"fromJSON\"](e){return new t_(e[\"suggestions\"][\"map\"](n_))}}function n_(e){const t=JSON[\"parse\"](e);return t[\"createdAt\"]=new Date(t[\"createdAt\"]),t}class i_ extends $h{constructor(e,t,n,i,r,o){super(),this[\"id\"]=e,this[\"documentId\"]=t,this[\"hasComments\"]=n,this[\"isHasCommentsModified\"]=i,this[\"state\"]=r,this[\"attributes\"]=o}static get[\"READABLE_TYPE_NAME\"](){return\"updateSuggestion\"}static get[\"DESCRIPTOR_NAME\"](){return\"TrackChangesUpdateSuggestionMessage\"}static get[\"DESCRIPTOR\"](){return{fields:{id:{type:\"string\",id:1},documentId:{type:\"string\",id:2},hasComments:{type:\"bool\",id:3},isHasCommentsModified:{type:\"bool\",id:4},state:{type:\"string\",id:5},attributes:{type:\"string\",id:6}}}}static get[\"TYPE\"](){return 104}[\"toJSON\"](){return{id:this[\"id\"],documentId:this[\"documentId\"],hasComments:this[\"hasComments\"],isHasCommentsModified:this[\"isHasCommentsModified\"],state:this[\"state\"],attributes:JSON[\"stringify\"](this[\"attributes\"])}}static[\"fromJSON\"](e){return new i_(e[\"id\"],e[\"documentId\"],e[\"hasComments\"],e[\"isHasCommentsModified\"],e[\"state\"],e[\"attributes\"]?JSON[\"parse\"](e[\"attributes\"]):null)}}const r_=10;var o_=class{constructor(e,t){this[\"_wsGateway\"]=t,this[\"_documentId\"]=e}static get[\"_SERVICE\"](){return 10}async[\"add\"](e,t,n,i=null,r){const o=new Kb(e,this[\"_documentId\"],t,n,i,r),s=await this[\"_wsGateway\"][\"_sendRequest\"](10,Kb[\"TYPE\"],ef[\"encode\"](o));return ef[\"decode\"](s,Xb)}async[\"get\"](e,t=1){const n=new Qb(e,this[\"_documentId\"]);try{const e=await this[\"_wsGateway\"][\"_sendRequest\"](10,Qb[\"TYPE\"],ef[\"encode\"](n));return ef[\"decode\"](e,Zb)}catch(n){if(n instanceof lf&&\"404\"===n[\"code\"]&&t<5)return await(i=100*t,new Promise(e=>{setTimeout(e,i)})),this[\"get\"](e,t+1);if(n instanceof lf)throw n;throw new lf(n[\"message\"],this[\"_wsGateway\"])}var i}async[\"getAll\"](){const e=new e_(this[\"_documentId\"]),t=await this[\"_wsGateway\"][\"_sendRequest\"](10,e_[\"TYPE\"],ef[\"encode\"](e)),{suggestions:n}=ef[\"decode\"](t,t_);return n}[\"update\"](e,t={}){const{hasComments:n,state:i,attributes:r}=t,o=void 0!==n,s=new i_(e,this[\"_documentId\"],n,o,i,r);return this[\"_wsGateway\"][\"_sendRequest\"](10,i_[\"TYPE\"],ef[\"encode\"](s))}};var s_=n(2);var a_=n(51);var c_=n(50);const l_=[\"has\",\"clearForceDisabled\",\"isEnabled\",\"TrackChangesCommand\",\"editor\",\"value\",\"execute\",\"commands\",\"forceDisabled\",\"refresh\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(l_,378);const d_=function(e,t){e=e-0;let n=l_[e];return n};class u_ extends ke[\"a\"]{constructor(e,t){super(e),this[\"h\"]=t,this[d_(\"0x7\")]=!1,this[d_(\"0x1\")]()}[\"refresh\"](){this[d_(\"0x4\")]=!0}[d_(\"0x8\")](){this[d_(\"0x7\")]=!this[\"value\"],this[d_(\"0x7\")]?this[\"m\"]():this[\"C\"]()}[\"m\"](){for(const e of this[\"editor\"][d_(\"0x9\")][\"commands\"]())this[\"h\"][\"has\"](e)||e[d_(\"0x0\")](\"TrackChangesCommand\")}[\"C\"](){for(const e of this[d_(\"0x6\")][\"commands\"][d_(\"0x9\")]())this[\"h\"][d_(\"0x2\")](e)||e[d_(\"0x3\")](d_(\"0x5\"))}}const h_=[\"get\",\"track-changes-accept-suggestion-not-found: Suggestion to accept does not exist.\",\"refresh\",\"editor\",\"execute\",\"accept\",\"_suggestions\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(h_,400);const f_=function(e,t){e=e-0;let n=h_[e];return n};class m_ extends ke[\"a\"]{constructor(e,t){super(e),this[f_(\"0x5\")]=t,this[f_(\"0x1\")]()}[f_(\"0x1\")](){this[\"isEnabled\"]=!0}[f_(\"0x3\")](e){const t=this[f_(\"0x5\")][f_(\"0x6\")](e);if(!t)throw new se[\"b\"](f_(\"0x0\"),this);this[f_(\"0x2\")][\"model\"][\"change\"](()=>{for(const e of t[\"getAllAdjacentSuggestions\"]())e[f_(\"0x4\")]()})}}const g_=[\"isEnabled\",\"model\",\"refresh\",\"_suggestions\",\"getAllAdjacentSuggestions\",\"get\",\"discard\",\"track-changes-discard-suggestion-not-found: Suggestion to discard does not exist.\",\"editor\",\"execute\",\"change\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(g_,496);const p_=function(e,t){e=e-0;let n=g_[e];return n};class b_ extends ke[\"a\"]{constructor(e,t){super(e),this[p_(\"0x2\")]=t,this[p_(\"0x1\")]()}[p_(\"0x1\")](){this[p_(\"0xa\")]=!0}[p_(\"0x8\")](e){const t=this[p_(\"0x2\")][p_(\"0x4\")](e);if(!t)throw new se[\"b\"](p_(\"0x6\"),this);this[p_(\"0x7\")][p_(\"0x0\")][p_(\"0x9\")](()=>{for(const e of t[p_(\"0x3\")]())e[p_(\"0x5\")]()})}}var __=[\"type\",\"sort\",\"deletion\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(__,134);var w_=function(e,t){e=e-0;var n=__[e];return n};function v_(e){return e[w_(\"0x2\")]((e,t)=>w_(\"0x0\")==e[w_(\"0x1\")]&&\"deletion\"!=t[w_(\"0x1\")]?-1:w_(\"0x0\")!=e[w_(\"0x1\")]&&w_(\"0x0\")==t[\"type\"]?1:0)}const k_=[\"from\",\"execute\",\"refresh\",\"_suggestions\",\"model\",\"change\",\"isEnabled\",\"values\",\"some\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(k_,201);const x_=function(e,t){e=e-0;let n=k_[e];return n};class y_ extends ke[\"a\"]{constructor(e,t,n){super(e),this[\"s\"]=t,this[x_(\"0x0\")]=n,this[x_(\"0x8\")]()}[x_(\"0x8\")](){const e=this[\"s\"];this[x_(\"0x3\")]=e[x_(\"0x3\")]&&Array[\"from\"](this[x_(\"0x0\")][x_(\"0x4\")]())[x_(\"0x5\")](e=>e[\"isInContent\"])}[\"execute\"](){this[\"editor\"][x_(\"0x1\")][x_(\"0x2\")](()=>{const e=v_(Array[x_(\"0x6\")](this[x_(\"0x0\")][x_(\"0x4\")]()));for(const t of e)t[\"isInContent\"]&&this[\"s\"][x_(\"0x7\")](t[\"id\"])})}}const C_=[\"from\",\"start\",\"isCollapsed\",\"next\",\"add\",\"getRange\",\"getMarkers\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(C_,227);const A_=function(e,t){e=e-0;let n=C_[e];return n};function T_(e,t){const n=Array[A_(\"0x4\")](e[\"getRanges\"]()),i=new Set;for(const r of t)if(r[\"isInContent\"])for(const t of n)for(const n of r[A_(\"0x3\")]()){const o=n[A_(\"0x2\")]();(t[\"isIntersecting\"](o)||e[A_(\"0x6\")]&&r[A_(\"0x0\")]&&o[\"end\"][\"isTouching\"](t[A_(\"0x5\")]))&&i[A_(\"0x1\")](r)}return i}const E_=[\"selection\",\"isEnabled\",\"refresh\",\"document\",\"from\",\"model\",\"size\",\"change\",\"execute\",\"_suggestions\",\"values\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(E_,354);const S_=function(e,t){e=e-0;let n=E_[e];return n};class O_ extends ke[\"a\"]{constructor(e,t,n){super(e),this[\"s\"]=t,this[S_(\"0x7\")]=n,this[\"i\"]=new Set,this[S_(\"0x0\")]()}[S_(\"0x0\")](){const e=this[\"s\"],t=this[\"editor\"][S_(\"0x3\")][S_(\"0x1\")][S_(\"0x9\")],n=Array[S_(\"0x2\")](this[S_(\"0x7\")][S_(\"0x8\")]());this[\"i\"]=T_(t,n),this[S_(\"0xa\")]=e[S_(\"0xa\")]&&!!this[\"i\"][S_(\"0x4\")]}[\"execute\"](){this[\"editor\"][S_(\"0x3\")][S_(\"0x5\")](()=>{const e=v_(Array[\"from\"](this[\"i\"]));for(const t of e)this[\"s\"][S_(\"0x6\")](t[\"id\"])})}}const I_=[\"model\",\"isEnabled\",\"execute\",\"editor\",\"isInContent\",\"values\",\"_suggestions\",\"from\",\"refresh\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(I_,184);const P_=function(e,t){e=e-0;let n=I_[e];return n};class M_ extends ke[\"a\"]{constructor(e,t,n){super(e),this[\"o\"]=t,this[P_(\"0x2\")]=n,this[P_(\"0x4\")]()}[\"refresh\"](){const e=this[\"o\"];this[\"isEnabled\"]=e[P_(\"0x6\")]&&Array[P_(\"0x3\")](this[\"_suggestions\"][P_(\"0x1\")]())[\"some\"](e=>e[\"isInContent\"])}[P_(\"0x7\")](){this[P_(\"0x8\")][P_(\"0x5\")][\"change\"](()=>{for(const e of this[P_(\"0x2\")][P_(\"0x1\")]())e[P_(\"0x0\")]&&this[\"o\"][P_(\"0x7\")](e[\"id\"])})}}const R_=[\"from\",\"values\",\"document\",\"change\",\"isEnabled\",\"model\",\"size\",\"execute\",\"editor\",\"refresh\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(R_,477);const N_=function(e,t){e=e-0;let n=R_[e];return n};class j_ extends ke[\"a\"]{constructor(e,t,n){super(e),this[\"o\"]=t,this[\"_suggestions\"]=n,this[\"i\"]=new Set,this[\"refresh\"]()}[N_(\"0x2\")](){const e=this[\"o\"],t=this[N_(\"0x1\")][N_(\"0x8\")][N_(\"0x5\")][\"selection\"],n=Array[N_(\"0x3\")](this[\"_suggestions\"][N_(\"0x4\")]());this[\"i\"]=T_(t,n),this[\"isEnabled\"]=e[N_(\"0x7\")]&&!!this[\"i\"][N_(\"0x9\")]}[N_(\"0x0\")](){this[N_(\"0x1\")][N_(\"0x8\")][N_(\"0x6\")](()=>{for(const e of this[\"i\"])this[\"o\"][N_(\"0x0\")](e[\"id\"])})}}var D_=n(20);const L_=[\"next\",\"getContainedElement\",\"createdAt\",\"filter\",\"onDiscard\",\"start\",\"accept\",\"reduce\",\"map\",\"data\",\"from\",\"subType\",\"size\",\"add\",\"markers\",\"getMultiRangeId\",\"isInContent\",\"addMarker\",\"removeMarkers\",\"hasComments\",\"_onDiscard\",\"isIntersectingWithRange\",\"addMarkerName\",\"set\",\"clear\",\"removeMarker\",\"commentThread\",\"isMultiRange\",\"discard\",\"author\",\"getItems\",\"type\",\"onAccept\",\"getRanges\",\"getMarkers\",\"previous\",\"nodeAfter\",\"head\",\"suggestion:\",\"get\",\"nodeBefore\",\"addRange\",\"change\",\"delete\",\"decorate\",\"getAllAdjacentSuggestions\",\"getMarkerNames\",\"end\",\"push\",\"getRange\",\"length\",\"getFirstMarker\",\"substr\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(L_,234);const B_=function(e,t){e=e-0;let n=L_[e];return n};class F_{constructor(e,t){this[\"id\"]=t[\"id\"],this[B_(\"0x9\")]=t[B_(\"0x9\")],this[B_(\"0x2a\")]=t[B_(\"0x2a\")]||null,this[B_(\"0x7\")]=t[B_(\"0x7\")],this[B_(\"0x28\")]=null,this[\"_model\"]=e,this[\"k\"]=t[B_(\"0xa\")],this[B_(\"0x33\")]=t[B_(\"0x23\")],this[\"M\"]=new Set,this[B_(\"0x1\")](B_(\"0x21\"),null),this[B_(\"0x1\")](B_(\"0xd\"),null),this[B_(\"0x1\")](B_(\"0x1f\"),null),this[\"set\"](B_(\"0x4\"),null),this[\"decorate\"](\"accept\"),this[B_(\"0x16\")](B_(\"0x6\"))}get[B_(\"0xf\")](){let e=this;for(;e[\"previous\"];)e=e[B_(\"0xd\")];return e}get[B_(\"0x32\")](){return!!this[B_(\"0x4\")]&&this[B_(\"0x4\")][B_(\"0x1c\")]>0}get[B_(\"0x5\")](){if(0==this[\"M\"][B_(\"0x2b\")])return!1;return 6==Array[B_(\"0x29\")](this[\"M\"])[0][\"split\"](\":\")[\"length\"]}get[B_(\"0x2f\")](){return null!==this[B_(\"0x1d\")]()}[B_(\"0x0\")](e){this[\"M\"][B_(\"0x2c\")](e)}[B_(\"0x18\")](){return Array[B_(\"0x29\")](this[\"M\"])}[B_(\"0xc\")](){return this[\"getMarkerNames\"]()[B_(\"0x27\")](e=>this[\"_model\"][B_(\"0x2d\")][B_(\"0x11\")](e))[B_(\"0x22\")](e=>e)}[\"getFirstMarker\"](){return this[B_(\"0xc\")]()[0]||null}[B_(\"0x31\")](){this[\"_model\"][B_(\"0x14\")](e=>{for(const t of this[\"getMarkers\"]())e[B_(\"0x3\")](t)}),this[\"M\"][B_(\"0x2\")]()}[\"removeMarker\"](e){this[\"_model\"][\"change\"](t=>{t[B_(\"0x3\")](e)}),this[\"M\"][B_(\"0x15\")](e)}[B_(\"0x13\")](e){const t=B_(\"0x10\")+this[B_(\"0x9\")]+\":\"+this[\"subType\"]+\":\"+this[\"id\"]+\":\"+this[\"author\"][\"id\"]+\":\"+F_[B_(\"0x2e\")]();this[B_(\"0x0\")](t),this[\"_model\"][B_(\"0x14\")](n=>{n[B_(\"0x30\")](t,{range:e,usingOperation:!0,affectsData:!0})})}[B_(\"0x34\")](e){for(const t of this[B_(\"0xb\")]())if(t[\"isIntersecting\"](e))return!0;return!1}[B_(\"0xb\")](){return this[B_(\"0xc\")]()[B_(\"0x27\")](e=>e[B_(\"0x1b\")]())}[B_(\"0x8\")](){return this[\"getRanges\"]()[B_(\"0x26\")]((e,t)=>[...e,...t[B_(\"0x8\")]()],[])}[\"getFirstRange\"](){return this[B_(\"0x1d\")]()[\"getRange\"]()}[B_(\"0x20\")](){const e=this[B_(\"0xb\")]();if(1!=e[B_(\"0x1c\")])return null;const t=e[0],n=t[B_(\"0x24\")][B_(\"0xe\")],i=t[B_(\"0x19\")][B_(\"0x12\")];return n instanceof D_[\"a\"]?n!=i?null:n:null}[B_(\"0x25\")](){this[\"k\"](this[B_(\"0xb\")](),this[B_(\"0x28\")]),this[\"removeMarkers\"]()}[\"discard\"](){this[\"_onDiscard\"](this[B_(\"0xb\")](),this[\"data\"]),this[B_(\"0x31\")]()}[B_(\"0x17\")](){const e=[];let t=this[B_(\"0xf\")];for(;t;)e[B_(\"0x1a\")](t),t=t[\"next\"];return e}static[B_(\"0x2e\")](){return Object(Gi[\"a\"])()[B_(\"0x1e\")](1,5)}}Object(w[\"a\"])(F_,ze[\"a\"]);class z_{constructor(e,t){this[\"$\"]=[],this[\"v\"]=new Map,this[\"S\"]=e,this[\"locale\"]=t}[\"getDescriptions\"](e){const t=[];for(let n=0;n<e[\"length\"];n++){const i=e[n];let r=!1;for(const e of this[\"$\"]){const n=e(i);if(n){t[\"push\"](n),r=!0;break}}if(!r){this[\"A\"](t,i);const r=e[n+1];if(r&&!i[\"getFirstRange\"]()[\"end\"][\"isEqual\"](r[\"getFirstRange\"]()[\"start\"])){const e=t[t[\"length\"]-1],n=\"insertion\"==i[\"type\"]?\"add\":\"remove\";e&&\"text\"==e[\"type\"]&&(e[n]+=\"\\n\")}}}return this[\"I\"](t)}[\"registerDescriptionCallback\"](e){this[\"$\"][\"push\"](e)}[\"registerElementLabel\"](e,t){this[\"v\"][\"set\"](e,t)}[\"getItemLabel\"](e,t=1){const n=this[\"v\"][\"get\"](e)||e;return\"function\"==typeof n?n(t):1!==t?t+\" \"+n+\"s\":\"\"+n}[\"A\"](e,t){const n=t[\"getFirstRange\"]()[\"getWalker\"](),i=\"insertion\"==t[\"type\"]?\"add\":\"remove\";for(const t of n){const r=t[\"item\"],o=e[e[\"length\"]-1];if(r[\"is\"](\"textProxy\"))o&&o[\"type\"][\"indexOf\"](\"Container\")>-1&&e[\"pop\"](),o&&\"text\"==o[\"type\"]?o[i]+=r[\"data\"]:e[\"push\"]({type:\"text\",add:\"add\"==i?r[\"data\"]:\"\",remove:\"remove\"==i?r[\"data\"]:\"\"});else if(this[\"S\"][\"isObject\"](r)){if(o&&o[\"type\"][\"indexOf\"](\"Container\")>-1&&e[\"pop\"](),\"elementEnd\"==t[\"type\"])continue;o&&o[\"type\"]==i+\"Object\"&&o[\"name\"]==r[\"name\"]?o[\"quantity\"]++:e[\"push\"]({type:i+\"Object\",name:r[\"name\"],quantity:1}),n[\"skip\"](e=>!(\"elementEnd\"==e[\"type\"]&&e[\"item\"]==r))}else if(this[\"S\"][\"checkChild\"](r,\"$text\")||r[\"is\"](\"element\",\"softBreak\")){if(\"add\"==i&&\"elementStart\"==t[\"type\"]||\"remove\"==i&&\"elementEnd\"==t[\"type\"])continue;if(o&&-1==o[\"type\"][\"indexOf\"](\"Container\")){\"text\"==o[\"type\"]&&(o[i]+=\"\\n\");continue}let n;if(n=\"add\"==i?r[\"nextSibling\"]&&!this[\"S\"][\"isObject\"](r[\"nextSibling\"])?r[\"nextSibling\"]:null:r[\"previousSibling\"]&&!this[\"S\"][\"isObject\"](r[\"previousSibling\"])?r[\"previousSibling\"]:null,r[\"isEmpty\"]||n&&n[\"isEmpty\"]){const t=n&&n[\"isEmpty\"]?n[\"name\"]:r[\"name\"];o&&o[\"type\"]==i+\"EmptyContainer\"&&o[\"name\"]==t?o[\"quantity\"]++:e[\"push\"]({type:i+\"EmptyContainer\",name:t,quantity:1})}else e[\"push\"]({type:i+\"Container\",name:r[\"name\"]})}}}[\"I\"](e){const{t:t}=this[\"locale\"],n=[];for(const i of e){switch(i[\"type\"]){case\"text\":if(i[\"add\"]=i[\"add\"][\"replace\"](/(\\S)\\u000A+(\\S)/g,\"$1 $2\")[\"replace\"](/\\u000A/g,\"\"),i[\"remove\"]=i[\"remove\"][\"replace\"](/(\\S)\\u000A+(\\S)/g,\"$1 $2\")[\"replace\"](/\\u000A/g,\"\"),\"\"!=i[\"add\"]&&\"\"!=i[\"remove\"]){n[\"push\"]({type:\"replace\",content:t({string:\"*Replace:* %0 *with* %1\",id:\"REPLACE_TEXT\"},['\"'+i[\"remove\"]+'\"','\"'+i[\"add\"]+'\"'])});continue}if(null!=i[\"add\"][\"match\"](/^ +$/)){n[\"push\"]({type:\"insertion\",content:t(\"*Insert:* %0\",t({string:\"space\",plural:\"%0 spaces\",id:\"ELEMENT_SPACE\"},i[\"add\"][\"length\"]))});continue}if(null!=i[\"remove\"][\"match\"](/^ +$/)){n[\"push\"]({type:\"deletion\",content:t(\"*Remove:* %0\",t({string:\"space\",plural:\"%0 spaces\",id:\"ELEMENT_SPACE\"},i[\"remove\"][\"length\"]))});continue}if(\"\"!=i[\"add\"]){n[\"push\"]({type:\"insertion\",content:t(\"*Insert:* %0\",'\"'+i[\"add\"]+'\"')});continue}n[\"push\"]({type:\"deletion\",content:t(\"*Remove:* %0\",'\"'+i[\"remove\"]+'\"')});continue;case\"addEmptyContainer\":case\"addObject\":n[\"push\"]({type:\"insertion\",content:t(\"*Insert:* %0\",this[\"getItemLabel\"](i[\"name\"],i[\"quantity\"]))});continue;case\"removeEmptyContainer\":case\"removeObject\":n[\"push\"]({type:\"deletion\",content:t(\"*Remove:* %0\",this[\"getItemLabel\"](i[\"name\"],i[\"quantity\"]))});continue;case\"addContainer\":n[\"push\"]({type:\"insertion\",content:t(\"*Split:* %0\",this[\"getItemLabel\"](i[\"name\"],i[\"quantity\"]))});continue;case\"removeContainer\":n[\"push\"]({type:\"deletion\",content:t(\"*Merge:* %0\",this[\"getItemLabel\"](i[\"name\"],i[\"quantity\"]))});continue}n[\"push\"](i)}return n}}var V_=n(261);var U_=n(262);class H_ extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],{t:t}=e[\"locale\"];if(!e[\"plugins\"][\"has\"](\"AlignmentEditing\"))return;const n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");n[\"enableCommand\"](\"alignment\",(t,i={})=>{let r=i[\"value\"];i[\"value\"]||(r=\"ltr\"===e[\"locale\"][\"contentLanguageDirection\"]?\"left\":\"right\");const o=Array[\"from\"](this[\"editor\"][\"model\"][\"document\"][\"selection\"][\"getSelectedBlocks\"]())[\"filter\"](e=>function(e,t,n){const i=e[\"getAttribute\"](\"alignment\")||null;return t[\"checkAttribute\"](e,\"alignment\")&&n!=i}(e,this[\"editor\"][\"model\"][\"schema\"],r));e[\"model\"][\"change\"](()=>{for(const e of o)n[\"markBlockFormat\"](e,{commandName:\"alignment\",commandParams:[{value:r}]})})}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:n}=e;if(n&&\"alignment\"==n[\"commandName\"]){const e=n[\"commandParams\"][0][\"value\"];return{type:\"format\",content:t(\"*Format:* %0\",function(e){switch(e){case\"left\":return t({string:\"align to left\",id:\"FORMAT_ALIGN_TO_LEFT\"});case\"right\":return t({string:\"align to right\",id:\"FORMAT_ALIGN_TO_RIGHT\"});case\"center\":return t({string:\"align to center\",id:\"FORMAT_ALIGN_TO_CENTER\"});case\"justify\":return t({string:\"justify\",id:\"FORMAT_JUSTIFY_TEXT\"})}}(e))}}})}}const W_=[\"createRangeOn\",\"push\",\"getAttribute\",\"element\",\"getItems\",\"hasAttribute\",\"nextSibling\",\"listIndent\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(W_,369);const $_=function(e,t){e=e-0;let n=W_[e];return n};function q_(e,t,n){const i=[];for(const r of t[$_(\"0x3\")]())r[$_(\"0x4\")](e)&&i[$_(\"0x0\")](n[$_(\"0x7\")](r));return i}function Y_(e){const t=[];if(e[\"is\"]($_(\"0x2\"),\"listItem\")){let n=e[$_(\"0x5\")];for(;n&&n[\"is\"](\"element\",\"listItem\")&&n[$_(\"0x1\")]($_(\"0x6\"))>0;)t[$_(\"0x0\")](n),n=n[$_(\"0x5\")]}return t}const J_=[\"BoldEditing\",\"ItalicEditing\",\"UnderlineEditing\",\"CodeEditing\",\"StrikethroughEditing\",\"SubscriptEditing\",\"SuperscriptEditing\"];class G_ extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],t=e[\"model\"],n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),{t:i}=e[\"locale\"];for(const i of J_){if(!e[\"plugins\"][\"has\"](i))continue;const r=i[\"slice\"](0,-7)[\"toLowerCase\"](),o=e[\"commands\"][\"get\"](r);n[\"enableCommand\"](r,(e,i={})=>{const s=t[\"document\"][\"selection\"];if(s[\"isCollapsed\"])return void e(i);const a=void 0!==i[\"forceValue\"]?i[\"forceValue\"]:!o[\"value\"];t[\"change\"](()=>{const e=Array[\"from\"](s[\"getRanges\"]());for(const i of e){const e=a?[i]:q_(r,i,t);for(const t of e)n[\"markInlineFormat\"](t,{commandName:r,commandParams:[{forceValue:a}]})}})})}function r(e,t){n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](n=>{const{data:r}=n;if(r&&r[\"commandName\"]===e)return r[\"commandParams\"][0][\"forceValue\"]?{type:\"format\",content:i(\"*Format:* %0\",t)}:{type:\"format\",content:i(\"*Remove format:* %0\",t)}})}r(\"bold\",i({string:\"bold\",id:\"FORMAT_BOLD\"})),r(\"italic\",i({string:\"italic\",id:\"FORMAT_ITALIC\"})),r(\"underline\",i({string:\"underline\",id:\"FORMAT_UNDERLINE\"})),r(\"code\",i({string:\"code\",id:\"FORMAT_CODE\"})),r(\"strikethrough\",i({string:\"strikethrough\",id:\"FORMAT_STRIKETHROUGH\"})),r(\"subscript\",i({string:\"subscript\",id:\"FORMAT_SUBSCRIPT\"})),r(\"superscript\",i({string:\"superscript\",id:\"FORMAT_SUPERSCRIPT\"}))}}class K_ extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],{t:t}=e[\"locale\"];if(!e[\"plugins\"][\"has\"](\"BlockQuoteEditing\"))return;const n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),i=this[\"editor\"][\"commands\"][\"get\"](\"blockQuote\");n[\"enableCommand\"](\"blockQuote\",(t,r={})=>{const o=this[\"editor\"][\"model\"][\"document\"][\"selection\"],s=r&&void 0!==r[\"forceValue\"]?r[\"forceValue\"]:!i[\"value\"];let a=[];if(s){const t=Array[\"from\"](o[\"getSelectedBlocks\"]())[\"filter\"](e=>X_(e)||function(e,t){const n=t[\"checkChild\"](e[\"parent\"],\"blockQuote\"),i=t[\"checkChild\"]([\"$root\",\"blockQuote\"],e);return n&&i}(e,this[\"editor\"][\"model\"][\"schema\"]));a=Q_(t,e[\"model\"])}else{const t=Array[\"from\"](o[\"getSelectedBlocks\"]())[\"filter\"](e=>X_(e));a=Q_(t,e[\"model\"])}e[\"model\"][\"change\"](()=>{for(const e of a)n[\"markBlockFormat\"](e,{commandName:\"blockQuote\",commandParams:[{forceValue:s}]})})}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:n}=e;if(n&&\"blockQuote\"==n[\"commandName\"]){const e=t({string:\"block quote\",id:\"ELEMENT_BLOCK_QUOTE\"});return n[\"commandParams\"][0][\"forceValue\"]?{type:\"format\",content:t(\"*Format:* %0\",e)}:{type:\"format\",content:t(\"*Remove format:* %0\",e)}}})}}function X_(e){return\"blockQuote\"==e[\"parent\"][\"name\"]}function Q_(e,t){let n,i=0;const r=[],o=t[\"schema\"];for(;i<e[\"length\"];){const s=e[i],a=e[i+1];n||(n=t[\"createPositionBefore\"](s)),Z_(t,s,a)||(r[\"push\"](t[\"createRange\"](n,o[\"isObject\"](s)?t[\"createPositionAfter\"](s):t[\"createPositionAt\"](s,\"end\"))),n=null),i++}return r}function Z_(e,t,n){if(!n)return!1;const i=e[\"createPositionAfter\"](t),r=e[\"createPositionBefore\"](n),o=new c_[\"a\"]({boundaries:e[\"createRange\"](i,r)});for(const t of o)if(\"text\"==t[\"type\"]||e[\"schema\"][\"isObject\"](t[\"item\"]))return!1;return!0}class ew extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],{t:t}=e[\"locale\"];if(!e[\"plugins\"][\"has\"](\"CodeBlock\"))return;e[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"_descriptionFactory\"][\"registerElementLabel\"](\"codeBlock\",e=>t({string:\"code block\",plural:\"%0 code blocks\",id:\"ELEMENT_CODE_BLOCK\"},e))}}var tw=[\"requires\",\"addCommentThread\",\"enableCommand\",\"get\",\"TrackChangesEditing\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(tw,100);var nw=function(e,t){e=e-0;var n=tw[e];return n};class iw extends ve[\"a\"]{static get[nw(\"0x0\")](){return[tb]}[\"init\"](){this[\"editor\"][\"plugins\"][nw(\"0x3\")](nw(\"0x4\"))[nw(\"0x2\")](nw(\"0x1\"))}}var rw=n(202);const ow=[\"name\",\"previousPosition\",\"enableCommand\",\"isObject\",\"downcastDispatcher\",\"mapper\",\"enqueueChange\",\"detach\",\"buffer\",\"$graveyard\",\"requires\",\"isCollapsed\",\"markerNameToElements\",\"model\",\"markerRange\",\"setSelection\",\"editing\",\"createRange\",\"get\",\"addMarker:suggestion:deletion\",\"document\",\"uiElement\",\"init\",\"consumable\",\"remove\",\"getFirstRange\",\"elementStart\",\"lock\",\"forward\",\"delete\",\"commands\",\"removeMarker:suggestion:deletion\",\"writer\",\"bindElementToMarker\",\"rootName\",\"schema\",\"high\",\"forwardDelete\",\"TrackChangesEditing\",\"end\",\"item\",\"activeMarkers\",\"selection\",\"insert\",\"addClass\",\"ck-suggestion-marker--active\",\"getWalker\",\"type\",\"isBlock\",\"test\",\"markerName\",\"unlock\",\"unit\",\"start\",\"createUIElement\",\"plugins\",\"modifySelection\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ow,248);const sw=function(e,t){e=e-0;let n=ow[e];return n};class aw extends ve[\"a\"]{static get[sw(\"0x2f\")](){return[rw[\"a\"]]}[sw(\"0x2\")](){const e=this[\"editor\"],t=e[sw(\"0x23\")][\"get\"](sw(\"0x12\"));t[sw(\"0x27\")](sw(\"0x9\"));const n=e[sw(\"0xa\")][sw(\"0x37\")](sw(\"0x11\"));t[sw(\"0x27\")](sw(\"0x11\"),(t,i)=>{const r=e[sw(\"0x32\")][\"createSelection\"](e[sw(\"0x32\")][sw(\"0x0\")][sw(\"0x16\")]);r[sw(\"0x30\")]&&e[sw(\"0x32\")][sw(\"0x24\")](r,{direction:sw(\"0x8\"),unit:i[sw(\"0x20\")]});const o=r[sw(\"0x5\")](),s=ru[\"a\"][\"fromRange\"](o);let a;t(i),a=sw(\"0x2e\")==s[\"root\"][sw(\"0xe\")]?e[\"model\"][sw(\"0x36\")](o[sw(\"0x21\")]):e[\"model\"][sw(\"0x36\")](s[sw(\"0x21\")],s[sw(\"0x13\")]),s[sw(\"0x2c\")](),e[sw(\"0x32\")][sw(\"0x2b\")](n[sw(\"0x2d\")][\"batch\"],e=>{n[sw(\"0x2d\")][sw(\"0x7\")](),e[sw(\"0x34\")](e[sw(\"0x36\")](a[sw(\"0x13\")])),n[sw(\"0x2d\")][sw(\"0x1f\")]()})}),e[sw(\"0x35\")][sw(\"0x29\")][\"on\"](sw(\"0x38\"),(n,i,r)=>{if(!r[sw(\"0x3\")][sw(\"0x1d\")](i[sw(\"0x33\")],n[sw(\"0x25\")]))return;const o=i[sw(\"0x33\")][sw(\"0x1a\")](),s=e[\"model\"][sw(\"0xf\")];for(const e of o){const n=e[\"item\"];if(sw(\"0x6\")==e[sw(\"0x1b\")]&&s[sw(\"0x28\")](n)&&o[\"skip\"](e=>!(\"elementEnd\"==e[\"type\"]&&e[sw(\"0x14\")]==n)),\"elementEnd\"==e[\"type\"]&&s[sw(\"0x1c\")](n)&&!s[\"isLimit\"](n)){const n=r[sw(\"0xc\")][sw(\"0x22\")](\"span\",{class:\"ck-suggestion-marker-merge\"}),o=r[sw(\"0x2a\")][\"toViewPosition\"](e[sw(\"0x26\")]);t[sw(\"0x15\")][\"includes\"](i[sw(\"0x1e\")])&&r[sw(\"0xc\")][sw(\"0x18\")](sw(\"0x19\"),n),r[sw(\"0xc\")][sw(\"0x17\")](o,n),r[sw(\"0x2a\")][sw(\"0xd\")](n,i[sw(\"0x1e\")])}}},{priority:sw(\"0x10\")}),e[sw(\"0x35\")][\"downcastDispatcher\"][\"on\"](sw(\"0xb\"),(e,t,n)=>{const i=n[\"mapper\"][sw(\"0x31\")](t[sw(\"0x1e\")]);if(i)for(const e of i)e[\"is\"](sw(\"0x1\"))&&(n[sw(\"0x2a\")][\"unbindElementFromMarkerName\"](e,t[sw(\"0x1e\")]),n[sw(\"0xc\")][sw(\"0x4\")](e))},{priority:sw(\"0x10\")})}}var cw=n(203);const lw=[\"getFirstRange\",\"insert\",\"consumable\",\"markerName\",\"isCollapsed\",\"skip\",\"selection\",\"markerNameToElements\",\"addMarker:suggestion:insertion\",\"getWalker\",\"fromRange\",\"high\",\"editing\",\"enableCommand\",\"parent\",\"mapper\",\"ck-suggestion-marker-split\",\"item\",\"downcastDispatcher\",\"setSelection\",\"activeMarkers\",\"markerRange\",\"TrackChangesEditing\",\"isBlock\",\"editor\",\"getFirstPosition\",\"end\",\"removeMarker:suggestion:insertion\",\"nextSibling\",\"isObject\",\"isAtEnd\",\"type\",\"requires\",\"change\",\"elementStart\",\"isLimit\",\"createPositionAt\",\"elementEnd\",\"createRange\",\"remove\",\"writer\",\"createUIElement\",\"addClass\",\"model\",\"enter\",\"schema\",\"start\",\"ck-suggestion-marker--active\",\"hasClass\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(lw,473);const dw=function(e,t){e=e-0;let n=lw[e];return n};class uw extends ve[\"a\"]{static get[dw(\"0x0\")](){return[cw[\"a\"]]}[\"init\"](){const e=this[dw(\"0x29\")],t=e[\"plugins\"][\"get\"](dw(\"0x27\"));t[dw(\"0x1e\")](dw(\"0xc\"),n=>{e[\"model\"][dw(\"0x1\")](i=>{const r=e[dw(\"0xb\")][\"document\"][dw(\"0x17\")],o=r[dw(\"0x2a\")](),s=r[dw(\"0x15\")],a=ru[\"a\"][dw(\"0x1b\")](r[dw(\"0x11\")]()),c=a[dw(\"0xe\")][dw(\"0x1f\")],l=a[dw(\"0x2b\")][dw(\"0x1f\")],d=!(a[\"start\"][\"isAtStart\"]&&a[dw(\"0x2b\")][dw(\"0x2f\")]),u=c==l,h=!(e[dw(\"0xb\")][dw(\"0xd\")][dw(\"0x3\")](c)||e[dw(\"0xb\")][dw(\"0xd\")][dw(\"0x3\")](l))&&(s||d&&u);if(n(),h){const n=e[dw(\"0xb\")][dw(\"0x4\")](o[dw(\"0x1f\")][dw(\"0x2d\")],0),r=i[dw(\"0x6\")](o,n);t[\"markInsertion\"](r)}else i[dw(\"0x24\")](i[\"createRange\"](a[\"end\"]));a[\"detach\"]()})}),e[dw(\"0x1d\")][dw(\"0x23\")][\"on\"](dw(\"0x19\"),(n,i,r)=>{if(!r[dw(\"0x13\")][\"test\"](i[\"markerRange\"],n[\"name\"]))return;const o=i[dw(\"0x26\")][dw(\"0x1a\")](),s=e[\"model\"][dw(\"0xd\")];for(const e of o){const n=e[dw(\"0x22\")];if(dw(\"0x2\")==e[dw(\"0x30\")]&&s[dw(\"0x2e\")](n)&&o[dw(\"0x16\")](e=>!(dw(\"0x5\")==e[\"type\"]&&e[dw(\"0x22\")]==n)),\"elementEnd\"==e[dw(\"0x30\")]&&s[dw(\"0x28\")](n)&&!s[dw(\"0x3\")](n)){const n=r[dw(\"0x8\")][dw(\"0x9\")](\"span\",{class:dw(\"0x21\")}),o=r[dw(\"0x20\")][\"toViewPosition\"](e[\"previousPosition\"]);t[dw(\"0x25\")][\"includes\"](i[\"markerName\"])&&r[dw(\"0x8\")][dw(\"0xa\")](dw(\"0xf\"),n),r[dw(\"0x8\")][dw(\"0x12\")](o,n),r[dw(\"0x20\")][\"bindElementToMarker\"](n,i[dw(\"0x14\")])}}},{priority:dw(\"0x1c\")}),e[dw(\"0x1d\")][\"downcastDispatcher\"][\"on\"](dw(\"0x2c\"),(e,t,n)=>{const i=n[\"mapper\"][dw(\"0x18\")](t[dw(\"0x14\")]);if(i)for(const e of i)e[dw(\"0x10\")](dw(\"0x21\"))&&(n[\"mapper\"][\"unbindElementFromMarkerName\"](e,t[dw(\"0x14\")]),n[dw(\"0x8\")][dw(\"0x7\")](e))},{priority:\"high\"})}}const hw=[\"plugins\",\"enableCommand\",\"get\",\"TrackChangesEditing\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(hw,395);const fw=function(e,t){e=e-0;let n=hw[e];return n};class mw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];e[\"plugins\"][\"has\"](\"ExportPdf\")&&e[fw(\"0x1\")][fw(\"0x3\")](fw(\"0x0\"))[fw(\"0x2\")](\"exportPdf\")}}const gw=[{pluginName:\"FontSizeEditing\",commandName:\"fontSize\"},{pluginName:\"FontFamilyEditing\",commandName:\"fontFamily\"},{pluginName:\"FontColorEditing\",commandName:\"fontColor\"},{pluginName:\"FontBackgroundColorEditing\",commandName:\"fontBackgroundColor\"}];class pw extends ve[\"a\"]{[\"afterInit\"](){const{t:e}=this[\"editor\"][\"locale\"];for(const{pluginName:e,commandName:t}of gw)this[\"editor\"][\"plugins\"][\"has\"](e)&&this[\"l\"](t);this[\"editor\"][\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"_descriptionFactory\"][\"registerDescriptionCallback\"](t=>{const{data:n}=t;if(null!=n){if(\"fontSize\"==n[\"commandName\"]){const t=n[\"commandParams\"][0][\"value\"];if(t){const n=No(this[\"editor\"][\"config\"][\"get\"](\"fontSize.options\"))[\"find\"](e=>e[\"model\"]==t)[\"title\"],i=this[\"editor\"][\"locale\"][\"_t\"](n)[\"toLowerCase\"]();return{type:\"format\",content:e(\"*Set font size:* %0\",i)}}return{type:\"format\",content:e(\"*Reset font size*\")}}if(\"fontFamily\"==n[\"commandName\"]){const t=n[\"commandParams\"][0][\"value\"];return t?{type:\"format\",content:e(\"*Set font family:* %0\",t)}:{type:\"format\",content:e(\"*Reset font family*\")}}if(\"fontColor\"==n[\"commandName\"]){const t=n[\"commandParams\"][0][\"value\"];if(t){const n=bo(this[\"editor\"][\"config\"][\"get\"](\"fontColor.colors\"))[\"find\"](e=>e[\"model\"]==t)[\"label\"],i=this[\"editor\"][\"locale\"][\"_t\"](n)[\"toLowerCase\"]();return{type:\"format\",content:e(\"*Set font color:* %0\",i)}}return{type:\"format\",content:e(\"*Reset font color*\")}}if(\"fontBackgroundColor\"==n[\"commandName\"]){const t=n[\"commandParams\"][0][\"value\"];if(t){const n=bo(this[\"editor\"][\"config\"][\"get\"](\"fontBackgroundColor.colors\"))[\"find\"](e=>e[\"model\"]==t)[\"label\"],i=this[\"editor\"][\"locale\"][\"_t\"](n)[\"toLowerCase\"]();return{type:\"format\",content:e(\"*Set font background color:* %0\",i)}}return{type:\"format\",content:e(\"*Reset font background color*\")}}}})}[\"l\"](e){const t=this[\"editor\"];t[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"enableCommand\"](e,(n,i={})=>{const r=t[\"model\"][\"document\"][\"selection\"],o=i[\"value\"];r[\"isCollapsed\"]?n(i):t[\"model\"][\"change\"](()=>{const n=Array[\"from\"](r[\"getRanges\"]());for(const i of n){const n=o?[i]:q_(e,i,t[\"model\"]);for(const i of n)t[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"markInlineFormat\"](i,{commandName:e,commandParams:[{value:o}]})}})})}}class bw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],{t:t}=e[\"locale\"];if(!e[\"plugins\"][\"has\"](\"HeadingEditing\"))return;const n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");n[\"enableCommand\"](\"heading\",(t,i)=>{const r=i[\"value\"],o=Array[\"from\"](this[\"editor\"][\"model\"][\"document\"][\"selection\"][\"getSelectedBlocks\"]())[\"filter\"](e=>function(e,t,n){return n[\"checkChild\"](e[\"parent\"],t)&&!n[\"isObject\"](e)&&e[\"name\"]!=t}(e,r,this[\"editor\"][\"model\"][\"schema\"]));e[\"model\"][\"change\"](()=>{for(const e of o)n[\"markBlockFormat\"](e,{commandName:\"heading\",commandParams:[i],formatGroupId:\"blockName\"},Y_(e))})});for(const t of e[\"config\"][\"get\"](\"heading.options\"))\"paragraph\"!=t[\"model\"]&&n[\"_descriptionFactory\"][\"registerElementLabel\"](t[\"model\"],e=>i(e,t[\"model\"][\"slice\"](-1)));function i(e,n){return t({string:\"heading (level %1)\",plural:\"%0 headings (level %1)\",id:\"ELEMENT_HEADING\"},[e,n])}n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{type:n,data:r}=e;if(\"formatBlock\"==n&&\"heading\"==r[\"commandName\"]){const e=r[\"commandParams\"][0][\"value\"],n=/\\d+/[\"exec\"](e)[0];return{type:\"format\",content:t(\"*Change to:* %0\",i(1,n))}}})}}class _w extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"HighlightEditing\"))return;const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");t[\"enableCommand\"](\"highlight\",(n,i={})=>{const r=e[\"model\"][\"document\"][\"selection\"],o=r[\"getAttribute\"](\"highlight\");let s=i[\"value\"],a=[];if(r[\"isCollapsed\"]){const t=r[\"getFirstPosition\"]();if(!r[\"hasAttribute\"](\"highlight\"))return void n(i);{const n=e=>e[\"item\"][\"getAttribute\"](\"highlight\")===o,i=t[\"getLastMatchingPosition\"](n,{direction:\"backward\"}),r=t[\"getLastMatchingPosition\"](n);a=[e[\"model\"][\"createRange\"](i,r)],s==o&&(s=null)}}else for(const t of r[\"getRanges\"]())s?a[\"push\"](t):a[\"push\"](...q_(\"highlight\",t,e[\"model\"]));e[\"model\"][\"change\"](()=>{for(const e of a)t[\"markInlineFormat\"](e,{commandName:\"highlight\",commandParams:[{value:s}]})})});const{t:n}=e[\"locale\"];t[\"_descriptionFactory\"][\"registerDescriptionCallback\"](t=>{const{type:i,data:r}=t;if(\"formatInline\"==i&&\"highlight\"==r[\"commandName\"]){const t=r[\"commandParams\"][0][\"value\"];if(t){const i=e[\"config\"][\"get\"](\"highlight.options\")[\"find\"](e=>e[\"model\"]==t)[\"title\"],r=e[\"locale\"][\"_t\"](i)[\"toLowerCase\"]();return{type:\"format\",content:n(\"*Format:* %0\",n({string:\"%0 highlight\",id:\"FORMAT_CUSTOM_HIGHLIGHT\"},r))}}return{type:\"format\",content:n(\"*Remove format:* %0\",n({string:\"highlight\",id:\"FORMAT_HIGHLIGHT\"}))}}})}}var ww=n(457);class vw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"HorizontalLineEditing\"))return;e[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"enableCommand\"](\"horizontalLine\");const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),{t:n}=e[\"locale\"];t[\"_descriptionFactory\"][\"registerElementLabel\"](\"horizontalLine\",e=>n({string:\"horizontal line\",plural:\"%0 horizontal lines\",id:\"ELEMENT_HORIZONTAL_LINE\"},e))}}var kw=n(459);class xw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"ImageEditing\"))return;const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),{t:n}=e[\"locale\"];t[\"enableCommand\"](\"imageInsert\"),t[\"_descriptionFactory\"][\"registerElementLabel\"](\"image\",e=>n({string:\"image\",plural:\"%0 images\",id:\"ELEMENT_IMAGE\"},e)),e[\"plugins\"][\"has\"](\"ImageUploadEditing\")&&t[\"enableCommand\"](\"imageUpload\"),e[\"plugins\"][\"has\"](\"ImageStyleEditing\")&&t[\"enableCommand\"](\"imageStyle\",(n,i)=>{const r=e[\"commands\"][\"get\"](\"imageStyle\"),o=e[\"model\"][\"document\"][\"selection\"][\"getFirstRange\"]()[\"start\"][\"nodeAfter\"];(o[\"hasAttribute\"](\"imageStyle\")?o[\"getAttribute\"](\"imageStyle\"):r[\"defaultStyle\"])!=i[\"value\"]&&e[\"model\"][\"change\"](()=>{t[\"markBlockFormat\"](o,{commandName:\"imageStyle\",commandParams:[i]})})}),e[\"plugins\"][\"has\"](\"ImageResize\")&&t[\"enableCommand\"](\"imageResize\",(n,i)=>{const r=e[\"model\"][\"document\"][\"selection\"][\"getFirstRange\"]()[\"start\"][\"nodeAfter\"];r[\"getAttribute\"](\"width\")!=i[\"width\"]&&e[\"model\"][\"change\"](()=>{t[\"markBlockFormat\"](r,{commandName:\"imageResize\",commandParams:[i]})})}),e[\"plugins\"][\"has\"](\"ImageTextAlternativeEditing\")&&t[\"enableCommand\"](\"imageTextAlternative\",(n,i)=>{const r=e[\"model\"][\"document\"][\"selection\"][\"getFirstRange\"]()[\"start\"][\"nodeAfter\"];(r[\"hasAttribute\"](\"alt\")?r[\"getAttribute\"](\"alt\"):\"\")!=i[\"newValue\"]&&e[\"model\"][\"change\"](()=>{t[\"markBlockFormat\"](r,{commandName:\"imageTextAlternative\",commandParams:[i]})})});const i={},r=La(this[\"editor\"][\"config\"][\"get\"](\"image.styles\"));for(const e of r)i[e[\"name\"]]=e[\"title\"][\"toLowerCase\"]();t[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:t}=e;if(t)if(\"imageStyle\"==t[\"commandName\"]){const e=t[\"commandParams\"][0][\"value\"];switch(e){case\"full\":return r(n({string:\"full width image\",id:\"FORMAT_FULL_WIDTH_IMAGE\"}));case\"side\":return r(n({string:\"side image\",id:\"FORMAT_SIDE_IMAGE\"}));default:return r(i[e]||e)}}else{if(\"imageTextAlternative\"==t[\"commandName\"]){const e=t[\"commandParams\"][0][\"newValue\"];return e?{type:\"format\",content:n(\"*Set image text alternative:* %0\",'\"'+e+'\"')}:{type:\"format\",content:n(\"*Remove image text alternative*\")}}if(\"imageResize\"==t[\"commandName\"]){const e=t[\"commandParams\"][0][\"width\"];return e?{type:\"format\",content:n(\"*Set image width:* %0\",e)}:{type:\"format\",content:n(\"*Reset image width*\")}}}function r(e){return{type:\"format\",content:n(\"*Format:* %0\",e)}}})}}class yw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");e[\"plugins\"][\"has\"](\"IndentEditing\")&&(t[\"enableCommand\"](\"indent\"),t[\"enableCommand\"](\"outdent\"));const{t:n}=e[\"locale\"];if(e[\"plugins\"][\"has\"](\"IndentBlock\")){for(const n of[\"indentBlock\",\"outdentBlock\"])t[\"enableCommand\"](n,()=>{const i=Array[\"from\"](this[\"editor\"][\"model\"][\"document\"][\"selection\"][\"getSelectedBlocks\"]())[\"filter\"](e=>this[\"editor\"][\"model\"][\"schema\"][\"checkAttribute\"](e,\"blockIndent\"));e[\"model\"][\"change\"](()=>{for(const e of i)t[\"markBlockFormat\"](e,{commandName:n,commandParams:[{value:\"\"}],formatGroupId:\"indentBlock\"})})});t[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:i}=e;if(!i)return;if(\"indentBlock\"!=i[\"commandName\"]&&\"outdentBlock\"!=i[\"commandName\"])return;const r=e[\"getItems\"]()[0],o=t[\"_descriptionFactory\"][\"getItemLabel\"](r[\"name\"]);return\"indentBlock\"==i[\"commandName\"]?{type:\"format\",content:n(\"*Indent:* %0\",o)}:\"outdentBlock\"==i[\"commandName\"]?{type:\"format\",content:n(\"*Outdent:* %0\",o)}:void 0})}}}var Cw=[\"input\",\"get\",\"plugins\",\"enableCommand\",\"editor\",\"requires\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Cw,102);var Aw=function(e,t){e=e-0;var n=Cw[e];return n};class Tw extends ve[\"a\"]{static get[Aw(\"0x5\")](){return[Tn[\"a\"]]}[\"init\"](){this[Aw(\"0x4\")][Aw(\"0x2\")][Aw(\"0x1\")](\"TrackChangesEditing\")[Aw(\"0x3\")](Aw(\"0x0\"))}}class Ew extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"LinkEditing\"))return;const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");t[\"enableCommand\"](\"link\",(n,i)=>{const r=e[\"model\"][\"document\"][\"selection\"];let o=[];if(r[\"isCollapsed\"]){if(!r[\"hasAttribute\"](\"linkHref\"))return void n(i);{const t=yn(r[\"getFirstPosition\"](),\"linkHref\",r[\"getAttribute\"](\"linkHref\"),e[\"model\"]);o=[t]}}else o=Array[\"from\"](r[\"getRanges\"]());e[\"model\"][\"change\"](()=>{for(const e of o)t[\"markInlineFormat\"](e,{commandName:\"link\",commandParams:[i]})})}),t[\"enableCommand\"](\"unlink\",()=>{const n=this[\"editor\"][\"model\"],i=n[\"document\"][\"selection\"];n[\"change\"](()=>{let n=[];if(i[\"isCollapsed\"]){n=[yn(i[\"getFirstPosition\"](),\"linkHref\",i[\"getAttribute\"](\"linkHref\"),e[\"model\"])]}else n=q_(\"linkHref\",i[\"getFirstRange\"](),e[\"model\"]);for(const e of n)t[\"markInlineFormat\"](e,{commandName:\"unlink\",commandParams:[]})})}),t[\"_descriptionFactory\"][\"registerDescriptionCallback\"](t=>{const{data:n}=t,{t:i}=e[\"locale\"];if(n){if(\"link\"==n[\"commandName\"]){return{type:\"format\",content:i(\"*Set link:* %0\",'\"'+n[\"commandParams\"][0]+'\"')}}return\"unlink\"==n[\"commandName\"]?{type:\"format\",content:i(\"*Remove link*\")}:void 0}})}}class Sw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"ListEditing\"))return;const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),n=e[\"plugins\"][\"has\"](\"TodoListEditing\");function i(n){return()=>{const i=e[\"model\"][\"document\"][\"selection\"];if(e[\"commands\"][\"get\"](n)[\"value\"])return void e[\"execute\"](\"paragraph\",{});const r=n[\"slice\"](0,-4),o=function(e,t,n){let i=Array[\"from\"](e)[\"filter\"](e=>function(e,t){return t[\"checkChild\"](e[\"parent\"],\"listItem\")&&!t[\"isObject\"](e)}(e,n));i=i[\"filter\"](e=>!e[\"is\"](\"element\",\"listItem\")||e[\"getAttribute\"](\"listType\")!=t);const r=new Set;for(const e of i)e[\"is\"](\"element\",\"listItem\")?r[\"add\"](Ow(e)):r[\"add\"](e);return Array[\"from\"](r)}(i[\"getSelectedBlocks\"](),r,e[\"model\"][\"schema\"]);e[\"model\"][\"change\"](()=>{for(const e of o)t[\"markBlockFormat\"](e,{commandName:n,commandParams:[],formatGroupId:\"blockName\"},Iw(e))})}}function r(n){return()=>{const i=function(e){const t=(e=Array[\"from\"](e))[\"findIndex\"](e=>\"listItem\"!=e[\"name\"]);t>-1&&(e=e[\"slice\"](0,t));return e}(e[\"model\"][\"document\"][\"selection\"][\"getSelectedBlocks\"]()),r=e[\"model\"][\"createRange\"](e[\"model\"][\"createPositionAt\"](i[0],\"before\"),e[\"model\"][\"createPositionAt\"](i[i[\"length\"]-1],\"end\"));e[\"model\"][\"change\"](()=>{t[\"markBlockFormat\"](r,{commandName:n,commandParams:[],formatGroupId:\"listIndent\"},function(e){const t=new Set;for(const n of e){let e=n[\"nextSibling\"];for(;e&&e[\"getAttribute\"](\"listIndent\")>n[\"getAttribute\"](\"listIndent\");)t[\"add\"](e),e=e[\"nextSibling\"]}return Array[\"from\"](t)}(i))})}}t[\"enableCommand\"](\"numberedList\",i(\"numberedList\")),t[\"enableCommand\"](\"bulletedList\",i(\"bulletedList\")),n&&t[\"enableCommand\"](\"todoList\",i(\"todoList\")),t[\"enableCommand\"](\"indentList\",r(\"indentList\")),t[\"enableCommand\"](\"outdentList\",r(\"outdentList\")),n&&t[\"enableCommand\"](\"todoListCheck\",()=>{const n=e[\"commands\"][\"get\"](\"todoListCheck\"),i=Array[\"from\"](n[\"_selectedElements\"]);i[\"filter\"](e=>e[\"getAttribute\"](\"todoListChecked\")!=n[\"value\"]),e[\"model\"][\"change\"](()=>{for(const e of i)t[\"markBlockFormat\"](e,{commandName:\"todoListCheck\",commandParams:[{forceValue:!n[\"value\"]}]})})});const{t:o}=e[\"locale\"];t[\"_descriptionFactory\"][\"registerElementLabel\"](\"listItem\",e=>o({string:\"list item\",plural:\"%0 list items\",id:\"ELEMENT_LIST_ITEM\"},e)),t[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:t}=e;if(t){if(\"numberedList\"==t[\"commandName\"]||\"bulletedList\"==t[\"commandName\"]||\"todoList\"==t[\"commandName\"]){switch(t[\"commandName\"][\"replace\"](\"List\",\"\")){case\"bulleted\":return n(o({string:\"bulleted list\",id:\"ELEMENT_BULLETED_LIST\"}));case\"numbered\":return n(o({string:\"numbered list\",id:\"ELEMENT_NUMBERED_LIST\"}));case\"todo\":return n(o({string:\"to-do list\",id:\"ELEMENT_TODO_LIST\"}))}}if(\"indentList\"==t[\"commandName\"])return{type:\"format\",content:o(\"*Indent:* %0\",o({string:\"list item\",id:\"ELEMENT_LIST_ITEM\"}))};if(\"outdentList\"==t[\"commandName\"])return{type:\"format\",content:o(\"*Outdent:* %0\",o({string:\"list item\",id:\"ELEMENT_LIST_ITEM\"}))};if(\"todoListCheck\"==t[\"commandName\"]){return t[\"commandParams\"][0][\"forceValue\"]?{type:\"format\",content:o(\"*Check item*\")}:{type:\"format\",content:o(\"*Uncheck item*\")}}}function n(e){return{type:\"format\",content:o(\"*Change to:* %0\",e)}}})}}function Ow(e){const t=e[\"getAttribute\"](\"listIndent\");if(0==t)return e;let n=e;for(;e[\"previousSibling\"]&&e[\"previousSibling\"][\"is\"](\"element\",\"listItem\");){const i=e[\"previousSibling\"][\"getAttribute\"](\"listIndent\");if(i==t)n=e[\"previousSibling\"];else if(i<t)break;e=e[\"previousSibling\"]}return n}function Iw(e){const t=[];if(e[\"is\"](\"element\",\"listItem\")&&e[\"getAttribute\"](\"listIndent\")>0){let n=e[\"nextSibling\"];for(;n&&\"listItem\"==n[\"name\"]&&n[\"getAttribute\"](\"listIndent\")==e[\"getAttribute\"](\"listIndent\");)t[\"push\"](n),n=n[\"nextSibling\"]}return t}var Pw=n(461);class Mw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"MediaEmbedEditing\"))return;const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),{t:n}=e[\"locale\"];t[\"enableCommand\"](\"mediaEmbed\"),t[\"_descriptionFactory\"][\"registerElementLabel\"](\"media\",e=>n({string:\"media item\",plural:\"%0 media items\",id:\"ELEMENT_MEDIA\"},e))}}const Rw=[\"plugins\",\"enableCommand\",\"has\",\"MentionEditing\",\"TrackChangesEditing\",\"mention\",\"get\",\"editor\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Rw,177);const Nw=function(e,t){e=e-0;let n=Rw[e];return n};class jw extends ve[\"a\"]{[\"afterInit\"](){const e=this[Nw(\"0x6\")];e[Nw(\"0x7\")][Nw(\"0x1\")](Nw(\"0x2\"))&&e[Nw(\"0x7\")][Nw(\"0x5\")](Nw(\"0x3\"))[Nw(\"0x0\")](Nw(\"0x4\"))}}var Dw=n(463);class Lw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"PageBreakEditing\"))return;e[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"enableCommand\"](\"pageBreak\");const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),{t:n}=e[\"locale\"];t[\"_descriptionFactory\"][\"registerElementLabel\"](\"pageBreak\",e=>n({string:\"page break\",plural:\"%0 page breaks\",id:\"ELEMENT_PAGE_BREAK\"},e))}}class Bw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"Paragraph\"))return;const{t:t}=e[\"locale\"],n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");n[\"_descriptionFactory\"][\"registerElementLabel\"](\"paragraph\",e=>t({string:\"paragraph\",plural:\"%0 paragraphs\",id:\"ELEMENT_PARAGRAPH\"},e)),n[\"enableCommand\"](\"paragraph\",(t,i={})=>{const r=e[\"model\"][\"document\"],o=i[\"selection\"]||r[\"selection\"],s=Array[\"from\"](o[\"getSelectedBlocks\"]())[\"filter\"](e=>function(e,t){return t[\"checkChild\"](e[\"parent\"],\"paragraph\")&&!t[\"isObject\"](e)&&\"paragraph\"!=e[\"name\"]}(e,this[\"editor\"][\"model\"][\"schema\"]));e[\"model\"][\"change\"](()=>{for(const e of s)n[\"markBlockFormat\"](e,{commandName:\"paragraph\",commandParams:[],formatGroupId:\"blockName\"},Y_(e))})}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:n}=e;if(n&&\"paragraph\"==n[\"commandName\"])return{type:\"format\",content:t(\"*Change to:* %0\",t({string:\"paragraph\",plural:\"%0 paragraphs\",id:\"ELEMENT_PARAGRAPH\"}))}}),n[\"enableCommand\"](\"insertParagraph\"),e[\"editing\"][\"downcastDispatcher\"][\"on\"](\"addMarker:suggestion:insertion\",(e,t,i)=>{const r=t[\"markerRange\"][\"start\"],o=t[\"markerRange\"][\"end\"];if(r[\"isTouching\"](o)&&r[\"nodeAfter\"]&&r[\"nodeAfter\"][\"is\"](\"element\",\"paragraph\")){if(!i[\"consumable\"][\"consume\"](t[\"markerRange\"],e[\"name\"]))return;const r=i[\"writer\"][\"createUIElement\"](\"span\",{class:\"ck-suggestion-marker-split\"}),s=i[\"mapper\"][\"toViewPosition\"](o);n[\"activeMarkers\"][\"includes\"](t[\"markerName\"])&&i[\"writer\"][\"addClass\"](\"ck-suggestion-marker--active\",r),i[\"writer\"][\"insert\"](s,r),i[\"mapper\"][\"bindElementToMarker\"](r,t[\"markerName\"])}},{priority:\"highest\"});const i=n[\"_descriptionFactory\"];i[\"registerDescriptionCallback\"](e=>{const{start:n,end:r}=e[\"getFirstRange\"]();if(n[\"isTouching\"](r)&&n[\"nodeAfter\"]&&n[\"nodeAfter\"][\"is\"](\"element\",\"paragraph\")&&\"insertion\"==e[\"type\"])return{type:\"insertion\",content:t(\"*Insert:* %0\",i[\"getItemLabel\"](\"paragraph\",1))}})}}class Fw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"RemoveFormatEditing\"))return;const t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\");t[\"enableCommand\"](\"removeFormat\",n=>{const i=e[\"model\"][\"document\"][\"selection\"];i[\"isCollapsed\"]?n():e[\"model\"][\"change\"](()=>{const n=Array[\"from\"](i[\"getRanges\"]());for(const i of n)for(const n of i[\"getItems\"]())zw(n,e[\"model\"][\"schema\"])&&t[\"markInlineFormat\"](e[\"model\"][\"createRangeOn\"](n),{commandName:\"removeFormat\",commandParams:[]})})});const{t:n}=e[\"locale\"];t[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:t}=e;if(t&&\"removeFormat\"==t[\"commandName\"])return{type:\"format\",content:n(\"*Remove all formatting*\")}})}}function zw(e,t){for(const[n]of e[\"getAttributes\"]()){const e=t[\"getAttributeProperties\"](n);if(e&&e[\"isFormatting\"])return!0}return!1}const Vw=[\"editor\",\"acceptSuggestion\",\"trackChanges\",\"plugins\",\"discardSelectedSuggestions\",\"TrackChangesEditing\",\"acceptAllSuggestions\",\"RestrictedEditingModeEditing\",\"enableCommand\",\"get\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Vw,170);const Uw=function(e,t){e=e-0;let n=Vw[e];return n};class Hw extends ve[\"a\"]{[\"afterInit\"](){const e=this[Uw(\"0x0\")];if(!e[Uw(\"0x3\")][\"has\"](\"RestrictedEditingModeEditing\"))return;const t=e[Uw(\"0x3\")][Uw(\"0x9\")](Uw(\"0x5\"));t[Uw(\"0x8\")](\"goToPreviousRestrictedEditingException\"),t[Uw(\"0x8\")](\"goToNextRestrictedEditingException\");const n=e[Uw(\"0x3\")][Uw(\"0x9\")](Uw(\"0x7\"));n[Uw(\"0x8\")](Uw(\"0x2\")),n[\"enableCommand\"](Uw(\"0x1\")),n[Uw(\"0x8\")](\"discardSuggestion\"),n[Uw(\"0x8\")](Uw(\"0x6\")),n[Uw(\"0x8\")](\"discardAllSuggestions\"),n[\"enableCommand\"](\"acceptSelectedSuggestions\"),n[Uw(\"0x8\")](Uw(\"0x4\"))}}const Ww=[\"plugins\",\"selectAll\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Ww,317);const $w=function(e,t){e=e-0;let n=Ww[e];return n};class qw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[$w(\"0x1\")][\"has\"](\"SelectAll\"))return;e[$w(\"0x1\")][\"get\"](\"TrackChangesEditing\")[\"enableCommand\"]($w(\"0x0\"))}}class Yw extends ve[\"a\"]{static get[\"requires\"](){return[br[\"a\"]]}[\"init\"](){const e=this[\"editor\"],t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),n=e[\"t\"];t[\"enableCommand\"](\"shiftEnter\"),e[\"editing\"][\"downcastDispatcher\"][\"on\"](\"addMarker:suggestion\",(n,i,r)=>{if(!r[\"consumable\"][\"test\"](i[\"markerRange\"],n[\"name\"]))return;const o=e[\"model\"];for(const e of i[\"markerRange\"][\"getItems\"]()){if(!e[\"is\"](\"element\",\"softBreak\"))continue;const n=\"deletion\"==i[\"markerName\"][\"split\"](\":\")[1]?\"merge\":\"split\",s=r[\"writer\"][\"createUIElement\"](\"span\",{class:\"ck-suggestion-marker-\"+n}),a=r[\"mapper\"][\"toViewPosition\"](o[\"createPositionBefore\"](e));t[\"activeMarkers\"][\"includes\"](i[\"markerName\"])&&r[\"writer\"][\"addClass\"](\"ck-suggestion-marker--active\",s),r[\"writer\"][\"insert\"](a,s),r[\"mapper\"][\"bindElementToMarker\"](s,i[\"markerName\"])}},{priority:\"high\"}),t[\"_descriptionFactory\"][\"registerElementLabel\"](\"softBreak\",e=>n({id:\"ELEMENT_LINE_BREAK\",string:\"line break\",plural:\"%0 line breaks\"},e))}}class Jw extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],t=e[\"model\"];if(!e[\"plugins\"][\"has\"](\"StandardEditingModeEditing\"))return;const n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),i=\"restrictedEditingException\",r=e[\"commands\"][\"get\"](i);n[\"enableCommand\"](i,(e,o={})=>{const s=t[\"document\"][\"selection\"];if(s[\"isCollapsed\"])return void e(o);const a=void 0!==o[\"forceValue\"]?o[\"forceValue\"]:!r[\"value\"];t[\"change\"](()=>{const e=Array[\"from\"](s[\"getRanges\"]());for(const r of e){const e=a?[r]:q_(i,r,t);for(const t of e)n[\"markInlineFormat\"](t,{commandName:i,commandParams:[{forceValue:a}]})}})});const o=e[\"t\"];n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:t}=e;if(t&&t[\"commandName\"]==i)return t[\"commandParams\"][0][\"forceValue\"]?{type:\"format\",content:o({string:\"*Enable in restricted editing mode*\",id:\"FORMAT_RESTRICTED_ENABLED\"})}:{type:\"format\",content:o({string:\"*Disable in restricted editing mode*\",id:\"FORMAT_RESTRICTED_DISABLED\"})}})}}class Gw{constructor(e,t={}){this._table=e;this._startRow=t.row!==undefined?t.row:t.startRow||0;this._endRow=t.row!==undefined?t.row:t.endRow;this._startColumn=t.column!==undefined?t.column:t.startColumn||0;this._endColumn=t.column!==undefined?t.column:t.endColumn;this._includeAllSlots=!!t.includeAllSlots;this._skipRows=new Set;this._row=0;this._column=0;this._cellIndex=0;this._spannedCells=new Map;this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._row);if(!e||this._isOverEndRow()){return{done:true}}if(this._isOverEndColumn()){return this._advanceToNextRow()}let t=null;const n=this._getSpanned();if(n){if(this._includeAllSlots&&!this._shouldSkipSlot()){t=this._formatOutValue(n.cell,n.row,n.column)}}else{const n=e.getChild(this._cellIndex);if(!n){return this._advanceToNextRow()}const i=parseInt(n.getAttribute(\"colspan\")||1);const r=parseInt(n.getAttribute(\"rowspan\")||1);if(i>1||r>1){this._recordSpans(n,r,i)}if(!this._shouldSkipSlot()){t=this._formatOutValue(n)}this._nextCellAtColumn=this._column+i}this._column++;if(this._column==this._nextCellAtColumn){this._cellIndex++}return t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){this._row++;this._column=0;this._cellIndex=0;this._nextCellAtColumn=-1;return this.next()}_isOverEndRow(){return this._endRow!==undefined&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==undefined&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:false,value:new Kw(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row);const t=this._row<this._startRow;const n=this._column<this._startColumn;const i=this._endColumn!==undefined&&this._column>this._endColumn;return e||t||n||i}_getSpanned(){const e=this._spannedCells.get(this._row);if(!e){return null}return e.get(this._column)||null}_recordSpans(e,t,n){const i={cell:e,row:this._row,column:this._column};for(let e=this._row;e<this._row+t;e++){for(let t=this._column;t<this._column+n;t++){if(e!=this._row||t!=this._column){this._markSpannedCell(e,t,i)}}}}_markSpannedCell(e,t,n){if(!this._spannedCells.has(e)){this._spannedCells.set(e,new Map)}const i=this._spannedCells.get(e);i.set(t,n)}}class Kw{constructor(e,t,n,i){this.cell=t;this.row=e._row;this.column=e._column;this.cellAnchorRow=n;this.cellAnchorColumn=i;this._cellIndex=e._cellIndex;this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute(\"colspan\")||1)}get cellHeight(){return parseInt(this.cell.getAttribute(\"rowspan\")||1)}getPositionBefore(){const e=this._table.root.document.model;return e.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Xw(e){const t=[];for(const n of iv(e.getRanges())){const e=n.getContainedElement();if(e&&e.is(\"element\",\"tableCell\")){t.push(e)}}return t}function Qw(e){const t=[];for(const n of e.getRanges()){const e=n.start.findAncestor(\"tableCell\");if(e){t.push(e)}}return t}function Zw(e){const t=Xw(e);if(t.length){return t}return Qw(e)}function ev(e){const t=e.map(e=>e.parent.index);return rv(t)}function tv(e){const t=e[0].findAncestor(\"table\");const n=[...new Gw(t)];const i=n.filter(t=>e.includes(t.cell)).map(e=>e.column);return rv(i)}function nv(e,t){if(e.length<2||!av(e)){return false}const n=new Set;const i=new Set;let r=0;for(const o of e){const{row:e,column:s}=t.getCellLocation(o);const a=parseInt(o.getAttribute(\"rowspan\")||1);const c=parseInt(o.getAttribute(\"colspan\")||1);n.add(e);i.add(s);if(a>1){n.add(e+a-1)}if(c>1){i.add(s+c-1)}r+=a*c}const o=sv(n,i);return o==r}function iv(e){return Array.from(e).sort(ov)}function rv(e){const t=e.sort((e,t)=>e-t);const n=t[0];const i=t[t.length-1];return{first:n,last:i}}function ov(e,t){const n=e.start;const i=t.start;return n.isBefore(i)?-1:1}function sv(e,t){const n=Array.from(e.values());const i=Array.from(t.values());const r=Math.max(...n);const o=Math.min(...n);const s=Math.max(...i);const a=Math.min(...i);return(r-o+1)*(s-a+1)}function av(e){const t=e[0].findAncestor(\"table\");const n=ev(e);const i=parseInt(t.getAttribute(\"headingRows\")||0);if(!cv(n,i)){return false}const r=parseInt(t.getAttribute(\"headingColumns\")||0);const o=tv(e);return cv(o,r)}function cv({first:e,last:t},n){const i=e<n;const r=t<n;return i===r}var lv=n(465);class dv extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"];if(!e[\"plugins\"][\"has\"](\"TableEditing\"))return;const{t:t}=e[\"locale\"],n=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),i=e[\"plugins\"][\"get\"](\"TableUtils\");n[\"_descriptionFactory\"][\"registerElementLabel\"](\"table\",e=>t({string:\"table\",plural:\"%0 tables\",id:\"ELEMENT_TABLE\"},e)),this[\"u\"]=new Set,e[\"model\"][\"document\"][\"on\"](\"change:data\",()=>{const t=Array[\"from\"](e[\"model\"][\"document\"][\"differ\"][\"getChangedMarkers\"]());for(const{name:e,data:i}of t){const{group:t,id:r,subType:o}=n[\"_splitMarkerName\"](e);if(\"suggestion\"!=t)continue;if(null!=i[\"oldRange\"])continue;const s=n[\"getSuggestion\"](r);\"tableRow\"!=o&&\"tableColumn\"!=o&&\"mergeTableCells\"!=o||this[\"u\"][\"add\"](s)}},{priority:\"low\"}),n[\"enableCommand\"](\"insertTable\"),n[\"enableCommand\"](\"selectTableRow\"),n[\"enableCommand\"](\"selectTableColumn\");for(const t of[\"insertTableRowAbove\",\"insertTableRowBelow\"]){const i=e[\"commands\"][\"get\"](t);n[\"enableCommand\"](t,t=>{e[\"model\"][\"change\"](r=>{t();const o=e[\"model\"][\"document\"][\"selection\"],s=\"above\"===i[\"order\"],a=Zw(o),c=ev(a),l=s?c[\"first\"]-1:c[\"last\"]+1,d=uv(\"table\",a[0]),u=new Gw(d,{startRow:l,endRow:l}),h=Array[\"from\"](u)[\"map\"](e=>r[\"createRangeOn\"](e[\"cell\"]));n[\"markMultiRangeInsertion\"](h,\"tableRow\")})})}for(const t of[\"insertTableColumnLeft\",\"insertTableColumnRight\"]){const i=e[\"commands\"][\"get\"](t);n[\"enableCommand\"](t,t=>{e[\"model\"][\"change\"](r=>{t();const o=e[\"model\"][\"document\"][\"selection\"],s=\"left\"===i[\"order\"],a=Zw(o),c=tv(a),l=s?c[\"first\"]-1:c[\"last\"]+1,d=uv(\"table\",a[0]),u=new Gw(d,{startRow:0,column:l,includeAllSlots:!1}),h=Array[\"from\"](u)[\"map\"](e=>r[\"createRangeOn\"](e[\"cell\"]));n[\"markMultiRangeInsertion\"](h,\"tableColumn\")})})}for(const t of[\"removeTableRow\",\"removeTableColumn\"]){const r=t[\"substr\"](11),o=r[\"toLowerCase\"](),s=o[\"substr\"](0,3)+\"span\",a=\"table\"+r,c=\"min\"+r,l=\"max\"+r;n[\"enableCommand\"](t,()=>{e[\"model\"][\"change\"](r=>{const d=Zw(e[\"model\"][\"document\"][\"selection\"]),u=uv(\"table\",d[0]);let h;if(\"removeTableRow\"==t){const e=ev(d);h={startRow:e[\"first\"],endRow:e[\"last\"],includeAllSlots:!0}}else{const e=tv(d);h={startColumn:e[\"first\"],endColumn:e[\"last\"],includeAllSlots:!0}}const f=new Gw(u,h),m=Array[\"from\"](f),g=m[\"filter\"](e=>e[\"cell\"][\"hasAttribute\"](s)),p=m[\"filter\"](e=>!e[\"cell\"][\"hasAttribute\"](s))[\"map\"](e=>r[\"createRangeOn\"](e[\"cell\"])),b=n[\"markMultiRangeDeletion\"](p,a);if(b&&(\"tableRow\"==b[\"subType\"]||\"tableColumn\"==b[\"subType\"])){const e=this[\"T\"](b);for(const t of g){const n=r[\"createRangeOn\"](t[\"cell\"]),a=i[\"getCellLocation\"](t[\"cell\"]),d=t[\"cell\"][\"getAttribute\"](s)-1,u=e[c],h=e[l];u<=a[o]&&a[o]+d<=h&&b[\"addRange\"](n)}}})})}n[\"enableCommand\"](\"setTableRowHeader\",(t,i)=>{const r=Zw(e[\"model\"][\"document\"][\"selection\"]),o=ev(r),s=uv(\"table\",r[0]),a=s[\"getAttribute\"](\"headingRows\")||0,c=i&&null!==i[\"forceValue\"]?i[\"forceValue\"]:!e[\"commands\"][\"get\"](\"setTableRowHeader\")[\"value\"],l=c?o[\"last\"]:o[\"first\"],d=s[\"getChild\"](l);let u;if(c){const t=s[\"getChild\"](a);if(d[\"index\"]<t[\"index\"])return;u=e[\"model\"][\"createRange\"](e[\"model\"][\"createPositionBefore\"](t[\"getChild\"](0)),e[\"model\"][\"createPositionAfter\"](d[\"getChild\"](d[\"childCount\"]-1)))}else{const t=s[\"getChild\"](a-1);if(!t)return;u=e[\"model\"][\"createRange\"](e[\"model\"][\"createPositionBefore\"](d[\"getChild\"](0)),e[\"model\"][\"createPositionAfter\"](t[\"getChild\"](t[\"childCount\"]-1)))}e[\"model\"][\"change\"](()=>{n[\"markBlockFormat\"](u,{commandName:\"setTableRowHeader\",commandParams:[{forceValue:c}]},[],\"setTableRowHeader\")})}),n[\"enableCommand\"](\"setTableColumnHeader\",(t,i)=>{const r=Zw(e[\"model\"][\"document\"][\"selection\"]),o=tv(r),s=uv(\"table\",r[0]),a=s[\"getAttribute\"](\"headingColumns\")||0,c=i&&null!==i[\"forceValue\"]?i[\"forceValue\"]:!e[\"commands\"][\"get\"](\"setTableColumnHeader\")[\"value\"];let l;const d=s[\"getChild\"](0),u=c?o[\"last\"]:o[\"first\"],h=new Gw(s,{startRow:0,column:u,includeAllSlots:!1}),f=Array[\"from\"](h)[0][\"cell\"];if(c){const t=d[\"getChild\"](a);if(f[\"isBefore\"](t))return;l=e[\"model\"][\"createRange\"](e[\"model\"][\"createPositionBefore\"](t),e[\"model\"][\"createPositionAfter\"](f))}else{const t=d[\"getChild\"](a-1);if(!t)return;l=e[\"model\"][\"createRange\"](e[\"model\"][\"createPositionBefore\"](f),e[\"model\"][\"createPositionAfter\"](t))}e[\"model\"][\"change\"](()=>{n[\"markBlockFormat\"](l,{commandName:\"setTableColumnHeader\",commandParams:[{forceValue:c}]},[],\"setTableColumnHeader\")})});for(const t of[\"mergeTableCellUp\",\"mergeTableCellRight\",\"mergeTableCellDown\",\"mergeTableCellLeft\"]){const i=e[\"commands\"][\"get\"](t);n[\"enableCommand\"](t,()=>{const t=e[\"model\"][\"document\"][\"selection\"][\"getFirstPosition\"]()[\"getAncestors\"]()[\"find\"](e=>e[\"is\"](\"element\",\"tableCell\")),r=i[\"value\"];e[\"model\"][\"change\"](()=>{n[\"markMultiRangeBlockFormat\"]([t,r],{commandName:\"mergeTableCells\",commandParams:[]},[],\"mergeTableCells\")})})}for(const t of[\"splitTableCellVertically\",\"splitTableCellHorizontally\"]){const r=e[\"commands\"][\"get\"](t);n[\"enableCommand\"](t,()=>{const o=e[\"model\"][\"document\"][\"selection\"][\"getFirstPosition\"]()[\"getAncestors\"]()[\"find\"](e=>e[\"is\"](\"element\",\"tableCell\")),s=o[\"parent\"][\"parent\"],{column:a,row:c}=i[\"getCellLocation\"](o);let l=[];if(\"horizontally\"==r[\"direction\"]){const e=new Gw(s,{startRow:c,endRow:c,includeAllSlots:!0});l=Array[\"from\"](e)[\"map\"](e=>e[\"cell\"])}else{const e=new Gw(s,{column:a,includeAllSlots:!0});l=Array[\"from\"](e)[\"map\"](e=>e[\"cell\"])}e[\"model\"][\"change\"](e=>{n[\"markBlockFormat\"](e[\"createRangeOn\"](o),{commandName:t,commandParams:[]},l,t)})})}e[\"editing\"][\"downcastDispatcher\"][\"on\"](\"addMarker:suggestion\",(e,t,r)=>{const{type:o,id:s}=n[\"_splitMarkerName\"](t[\"markerName\"]),a=n[\"getSuggestion\"](s);if(!a[\"data\"]||\"setTableColumnHeader\"!=a[\"data\"][\"commandName\"])return;if(t[\"item\"])return void e[\"stop\"]();if(!r[\"consumable\"][\"consume\"](t[\"markerRange\"],e[\"name\"]))return;const c=t[\"markerRange\"][\"start\"][\"nodeAfter\"],l=t[\"markerRange\"][\"end\"][\"nodeBefore\"],d=c[\"parent\"][\"parent\"],{column:u}=i[\"getCellLocation\"](c),{column:h}=i[\"getCellLocation\"](l);for(let e=u;e<=h;e++){const i=new Gw(d,{column:e,includeAllSlots:!1});for(const e of i){const i=e[\"cell\"],s=r[\"mapper\"][\"toViewElement\"](i);r[\"writer\"][\"addClass\"](\"ck-suggestion-marker-\"+o,s),r[\"mapper\"][\"bindElementToMarker\"](s,t[\"markerName\"]),n[\"activeMarkers\"][\"includes\"](t[\"markerName\"])?r[\"writer\"][\"addClass\"](\"ck-suggestion-marker--active\",s):r[\"writer\"][\"removeClass\"](\"ck-suggestion-marker--active\",s)}}},{priority:\"highest\"}),e[\"editing\"][\"downcastDispatcher\"][\"on\"](\"removeMarker:suggestion\",(e,t,i)=>{const{type:r,id:o}=n[\"_splitMarkerName\"](t[\"markerName\"]),s=n[\"getSuggestion\"](o);if(!s[\"data\"]||\"setTableColumnHeader\"!=s[\"data\"][\"commandName\"])return;const a=i[\"mapper\"][\"markerNameToElements\"](t[\"markerName\"]);if(a)for(const e of a)i[\"writer\"][\"removeClass\"](\"ck-suggestion-marker-\"+r,e),i[\"writer\"][\"removeClass\"](\"ck-suggestion-marker--active\",e),i[\"mapper\"][\"unbindElementFromMarkerName\"](e,t[\"markerName\"])},{priority:\"highest\"}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{if(\"insertion\"!=e[\"type\"]&&\"deletion\"!=e[\"type\"])return;const n=e[\"getContainedElement\"]();if(null!=n&&n[\"is\"](\"element\",\"table\")){if(\"insertion\"==e[\"type\"]){const n=e[\"getItems\"]()[\"filter\"](e=>e[\"is\"](\"textProxy\"))[\"map\"](e=>e[\"data\"]);if(n[\"length\"])return{type:\"insertion\",content:t(\"*Insert:* %0\",t({string:\"table *with text* %0\",id:\"ELEMENT_TABLE_WITH_TEXT\"},'\"'+n[\"join\"](\" \")+'\"'))}}if(\"deletion\"==e[\"type\"]){const n=e[\"getItems\"]()[\"filter\"](e=>e[\"is\"](\"textProxy\"))[\"map\"](e=>e[\"data\"]);if(n[\"length\"])return{type:\"deletion\",content:t(\"*Remove:* %0\",t({string:\"table *with text* %0\",id:\"ELEMENT_TABLE_WITH_TEXT\"},'\"'+n[\"join\"](\" \")+'\"'))}}}}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{if(\"tableRow\"==e[\"subType\"]){const n=e[\"getItems\"]()[\"filter\"](e=>e[\"is\"](\"textProxy\"))[\"map\"](e=>e[\"data\"]),i=this[\"T\"](e),r=i[\"maxRow\"]-i[\"minRow\"]+1;if(\"insertion\"==e[\"type\"])return n[\"length\"]?{type:\"insertion\",content:t(\"*Insert:* %0\",t({string:\"table row *with text* %1\",plural:\"%0 table rows *with text* %1\",id:\"ELEMENT_TABLE_ROW_WITH_TEXT\"},[r,'\"'+n[\"join\"](\" \")+'\"']))}:{type:\"insertion\",content:t(\"*Insert:* %0\",t({string:\"table row\",plural:\"%0 table rows\",id:\"ELEMENT_TABLE_ROW\"},r))};if(\"deletion\"==e[\"type\"])return n[\"length\"]?{type:\"deletion\",content:t(\"*Remove:* %0\",t({string:\"table row *with text* %1\",plural:\"%0 table rows *with text* %1\",id:\"ELEMENT_TABLE_ROW_WITH_TEXT\"},[r,'\"'+n[\"join\"](\" \")+'\"']))}:{type:\"deletion\",content:t(\"*Remove:* %0\",t({string:\"table row\",plural:\"%0 table rows\",id:\"ELEMENT_TABLE_ROW\"},r))}}if(\"tableColumn\"==e[\"subType\"]){const n=e[\"getItems\"]()[\"filter\"](e=>e[\"is\"](\"textProxy\"))[\"map\"](e=>e[\"data\"]),i=this[\"T\"](e),r=i[\"maxColumn\"]-i[\"minColumn\"]+1;if(\"insertion\"==e[\"type\"])return n[\"length\"]?{type:\"insertion\",content:t(\"*Insert:* %0\",t({string:\"table column *with text* %1\",plural:\"%0 table columns *with text* %1\",id:\"ELEMENT_TABLE_COLUMN_WITH_TEXT\"},[r,'\"'+n[\"join\"](\" \")+'\"']))}:{type:\"insertion\",content:t(\"*Insert:* %0\",t({string:\"table column\",plural:\"%0 table columns\",id:\"ELEMENT_TABLE_COLUMN\"},r))};if(\"deletion\"==e[\"type\"])return n[\"length\"]?{type:\"deletion\",content:t(\"*Remove:* %0\",t({string:\"table column *with text* %1\",plural:\"%0 table columns *with text* %1\",id:\"ELEMENT_TABLE_COLUMN_WITH_TEXT\"},[r,'\"'+n[\"join\"](\" \")+'\"']))}:{type:\"deletion\",content:t(\"*Remove:* %0\",t({string:\"table column\",plural:\"%0 table columns\",id:\"ELEMENT_TABLE_COLUMN\"},r))}}}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:n}=e;if(n){if(\"setTableRowHeader\"==n[\"commandName\"]){const e=n[\"commandParams\"][0][\"forceValue\"];return i(t(e?{string:\"header row\",id:\"FORMAT_HEADER_ROW\"}:{string:\"regular row\",id:\"FORMAT_REGULAR_ROW\"}))}if(\"setTableColumnHeader\"==n[\"commandName\"]){const e=n[\"commandParams\"][0][\"forceValue\"];return i(t(e?{string:\"header column\",id:\"FORMAT_HEADER_COLUMN\"}:{string:\"regular column\",id:\"FORMAT_REGULAR_COLUMN\"}))}}function i(e){return{type:\"format\",content:t(\"*Format:* %0\",e)}}});for(const e of[\"mergeTableCellUp\",\"mergeTableCellRight\",\"mergeTableCellDown\",\"mergeTableCellLeft\"])n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"formatBlock\",e,\"accept\",s);n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:n}=e;if(n)return\"splitTableCellVertically\"==n[\"commandName\"]?{type:\"format\",content:t(\"*Split cell:* vertically\")}:\"splitTableCellHorizontally\"==n[\"commandName\"]?{type:\"format\",content:t(\"*Split cell:* horizontally\")}:void 0});for(const e of[\"splitTableCellVertically\",\"splitTableCellHorizontally\"])n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"formatBlock\",e,\"accept\",s);const r=(e,t)=>{let n=!1;const r=t[\"createRangeOn\"](e),o=e[\"parent\"][\"parent\"],s=i[\"getCellLocation\"](e);for(const t of this[\"u\"]){const i=t[\"subType\"][\"substr\"](5),a=i[\"toLowerCase\"](),c=a[\"substr\"](0,3)+\"span\",l=\"min\"+i,d=\"max\"+i;if(!t[\"isInContent\"])continue;if(o!=t[\"getFirstRange\"]()[\"start\"][\"parent\"][\"parent\"])continue;if(t[\"isIntersectingWithRange\"](r))continue;const u=e[\"hasAttribute\"](c)?e[\"getAttribute\"](c)-1:0,h=this[\"T\"](t),f=h[l],m=h[d];f<=s[a]&&s[a]+u<=m&&(t[\"addRange\"](r),n=!0)}return n};e[\"model\"][\"document\"][\"registerPostFixer\"](t=>{let n=!1;for(const i of e[\"model\"][\"document\"][\"differ\"][\"getChanges\"]())if(\"insert\"==i[\"type\"])if(\"tableRow\"==i[\"name\"])for(const e of i[\"position\"][\"nodeAfter\"][\"getChildren\"]())n=n||r(e,t);else\"tableCell\"==i[\"name\"]&&(n=n||r(i[\"position\"][\"nodeAfter\"],t));return n});for(const t of[\"mergeTableCellUp\",\"mergeTableCellDown\",\"mergeTableCellLeft\",\"mergeTableCellRight\"]){const n=e[\"commands\"][\"get\"](t);n[\"on\"](\"set:isEnabled\",(t,i,r)=>{if(r){const i=e[\"model\"][\"document\"][\"selection\"][\"getFirstPosition\"]()[\"getAncestors\"]()[\"find\"](e=>e[\"is\"](\"element\",\"tableCell\"));this[\"g\"](n[\"value\"],i)||(t[\"return\"]=!1,t[\"stop\"]())}},{priority:\"low\"})}n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"formatBlock\",\"setTableRowHeader\",\"accept\",s),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"formatBlock\",\"setTableColumnHeader\",\"accept\",s);const o=e[\"model\"][\"document\"][\"selection\"];function s(t,n){e[\"model\"][\"change\"](i=>{const{commandName:r,commandParams:s}=n;let a=t[0][\"end\"][\"nodeBefore\"];s&&s[0]&&!1===s[0][\"forceValue\"]&&(a=t[0][\"start\"][\"nodeAfter\"]);const c=i[\"createRangeIn\"](a);if(\"$graveyard\"==c[\"root\"][\"rootName\"])return;const l=Array[\"from\"](o[\"getRanges\"]())[\"map\"](e=>ru[\"a\"][\"fromRange\"](e));i[\"setSelection\"](c),e[\"commands\"][\"get\"](r)[\"refresh\"](),s[\"push\"]({forceDefaultExecution:!0}),e[\"execute\"](r,...s);const d=l[\"filter\"](e=>\"$graveyard\"!=e[\"root\"][\"rootName\"]);d[\"length\"]>0&&i[\"setSelection\"](d);for(const e of l)e[\"detach\"]()})}function a(t){const n=Array[\"from\"](o[\"getRanges\"]())[\"map\"](e=>ru[\"a\"][\"fromRange\"](e));e[\"model\"][\"change\"](i=>{const r=i[\"batch\"];t=t[\"filter\"](e=>\"$graveyard\"!=e[\"root\"][\"rootName\"]),i[\"setSelection\"](t),e[\"commands\"][\"get\"](\"removeTableRow\")[\"refresh\"](),e[\"execute\"](\"removeTableRow\",{forceDefaultExecution:!0}),e[\"model\"][\"enqueueChange\"](()=>{e[\"model\"][\"enqueueChange\"](r,e=>{const t=n[\"filter\"](e=>\"$graveyard\"!=e[\"root\"][\"rootName\"]);t[\"length\"]>0&&e[\"setSelection\"](t);for(const e of n)e[\"detach\"]()})})})}function c(t){e[\"model\"][\"change\"](n=>{const i=Array[\"from\"](o[\"getRanges\"]())[\"map\"](e=>ru[\"a\"][\"fromRange\"](e)),r=[];for(const e of t)for(const t of e[\"getItems\"]({shallow:!0}))r[\"push\"](t);for(const t of r)\"$graveyard\"!=t[\"root\"][\"rootName\"]&&(n[\"setSelection\"](n[\"createPositionAt\"](t,0)),e[\"commands\"][\"get\"](\"removeTableColumn\")[\"refresh\"](),e[\"execute\"](\"removeTableColumn\",{forceDefaultExecution:!0}));const s=i[\"filter\"](e=>\"$graveyard\"!=e[\"root\"][\"rootName\"]);s[\"length\"]>0&&n[\"setSelection\"](s);for(const e of i)e[\"detach\"]()})}function l(e,t){return t[\"every\"](t=>e[\"some\"](e=>e[\"end\"][\"isEqual\"](t[\"start\"])||t[\"end\"][\"isEqual\"](e[\"start\"])))}function d(e,t){return e[\"some\"](e=>t[\"some\"](t=>e[\"end\"][\"isTouching\"](t[\"start\"])))}n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"insertion\",\"tableRow\",\"discard\",a),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"deletion\",\"tableRow\",\"accept\",a),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"insertion\",\"tableColumn\",\"discard\",c),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"deletion\",\"tableColumn\",\"accept\",c),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"insertion\",\"tableColumn\",\"join\",l),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"deletion\",\"tableColumn\",\"join\",l),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"insertion\",\"tableRow\",\"join\",d),n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"deletion\",\"tableRow\",\"join\",d),n[\"enableCommand\"](\"mergeTableCells\",()=>{const t=Zw(e[\"model\"][\"document\"][\"selection\"]);e[\"model\"][\"change\"](()=>{n[\"markMultiRangeBlockFormat\"](t,{commandName:\"mergeTableCells\",commandParams:[]},[],\"mergeTableCells\")})}),n[\"_descriptionFactory\"][\"registerDescriptionCallback\"](e=>{const{data:n}=e;if(n)return\"mergeTableCells\"==n[\"commandName\"]?{type:\"format\",content:t(\"*Merge cells*\")}:void 0});let u=!1;n[\"_suggestionFactory\"][\"registerCustomCallback\"](\"formatBlock\",\"mergeTableCells\",\"accept\",t=>{e[\"model\"][\"change\"](n=>{const i=Array[\"from\"](o[\"getRanges\"]())[\"map\"](e=>ru[\"a\"][\"fromRange\"](e));n[\"setSelection\"](t),u=!0,e[\"commands\"][\"get\"](\"mergeTableCells\")[\"refresh\"](),e[\"execute\"](\"mergeTableCells\",{forceDefaultExecution:!0}),u=!1;const r=i[\"filter\"](e=>\"$graveyard\"!=e[\"root\"][\"rootName\"]);r[\"length\"]>0&&n[\"setSelection\"](r);for(const e of i)e[\"detach\"]()})});e[\"commands\"][\"get\"](\"mergeTableCells\")[\"on\"](\"set:isEnabled\",(t,n,i)=>{if(!u&&i){const n=Zw(e[\"model\"][\"document\"][\"selection\"]);for(const e of n)for(const i of n)e!=i&&(this[\"g\"](e,i)||(t[\"return\"]=!1,t[\"stop\"]()))}})}[\"p\"](e){const t=this[\"editor\"][\"plugins\"][\"get\"](\"TableUtils\");let n=Number[\"MAX_SAFE_INTEGER\"],i=Number[\"MIN_SAFE_INTEGER\"],r=Number[\"MAX_SAFE_INTEGER\"],o=Number[\"MIN_SAFE_INTEGER\"];for(const s of e){const{row:e,column:a}=t[\"getCellLocation\"](s),c=s[\"hasAttribute\"](\"rowspan\")?s[\"getAttribute\"](\"rowspan\")-1:0,l=s[\"hasAttribute\"](\"colspan\")?s[\"getAttribute\"](\"colspan\")-1:0;n=e<n?e:n,i=e+c>i?e+c:i,r=a<r?a:r,o=a+l>o?a+l:o}return{minRow:n,maxRow:i,minColumn:r,maxColumn:o}}[\"T\"](e){return this[\"p\"](e[\"getRanges\"]()[\"map\"](e=>e[\"start\"][\"nodeAfter\"]))}[\"g\"](e,t){const n=this[\"editor\"][\"plugins\"][\"get\"](\"TrackChangesEditing\"),i=this[\"editor\"][\"model\"][\"createRangeOn\"](e),r=this[\"editor\"][\"model\"][\"createRangeOn\"](t),o=new Set,s=new Set;for(const e of n[\"getSuggestions\"]())if((\"insertion\"==e[\"type\"]||\"deletion\"==e[\"type\"]||\"mergeTableCells\"==e[\"subType\"])&&e[\"isInContent\"])for(const t of e[\"getRanges\"]())t[\"containsRange\"](i,!0)&&o[\"add\"](e[\"type\"]+\":\"+e[\"author\"][\"id\"]),t[\"containsRange\"](r,!0)&&s[\"add\"](e[\"type\"]+\":\"+e[\"author\"][\"id\"]);if(o[\"size\"]!=s[\"size\"])return!1;for(const e of o)if(!s[\"has\"](e))return!1;return!0}}function uv(e,t){let n=t[\"parent\"];for(;n;){if(n[\"name\"]===e)return n;n=n[\"parent\"]}}class hv extends ve[\"a\"]{[\"afterInit\"](){const e=this[\"editor\"],t=e[\"t\"];if(!e[\"plugins\"][\"has\"](\"Title\"))return;e[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"_descriptionFactory\"][\"registerElementLabel\"](\"title-content\",()=>t({id:\"ELEMENT_TITLE\",string:\"title\"}))}}const fv=[\"editor\",\"afterInit\",\"plugins\",\"UndoEditing\",\"has\",\"TrackChangesEditing\",\"undo\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(fv,351);const mv=function(e,t){e=e-0;let n=fv[e];return n};class gv extends ve[\"a\"]{[mv(\"0x0\")](){const e=this[mv(\"0x6\")],t=e[\"plugins\"][\"get\"](mv(\"0x4\"));e[mv(\"0x1\")][mv(\"0x3\")](mv(\"0x2\"))&&(t[\"enableCommand\"](mv(\"0x5\")),t[\"enableCommand\"](\"redo\"))}}const pv=[\"toString\",\"keys\",\"number\",\"object\",\"charCodeAt\",\"isArray\",\"string\",\"sort\",\"sign\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(pv,281);const bv=function(e,t){e=e-0;let n=pv[e];return n};function _v(e){let t=0,n=0;for(const i of vv(e))t=(t<<5)-t+i,t&=t,[t,n]=[n,t];return yv(t)+yv(n)}function*wv(e){e?\"boolean\"==typeof e?yield 1:Array[bv(\"0x3\")](e)?yield*function*(e){for(const t of e)yield*wv(t)}(e):bv(\"0x1\")==typeof e?yield*vv(e):bv(\"0x4\")==typeof e?yield*kv(e):bv(\"0x0\")==typeof e&&(yield e):yield 0}function*vv(e){if(yield xv(\"{\"),e){const t=Object[bv(\"0x8\")](e)[bv(\"0x5\")]();for(const n of t){yield*kv(n),yield xv(\":\");const t=e[n];yield*wv(t)}}yield xv(\"}\")}function*kv(e){yield xv('\"');for(const t of e)yield xv(t);yield xv('\"')}function xv(e){return e[bv(\"0x2\")](0)}function yv(e){return(e*=Math[bv(\"0x6\")](e))[bv(\"0x7\")](36)}class Cv extends ve[\"a\"]{static get[\"requires\"](){return[Vf[\"a\"],Qe[\"a\"],Hm[\"a\"],H_,G_,K_,ew,iw,aw,uw,mw,pw,bw,_w,vw,xw,yw,Tw,Ew,Sw,Mw,jw,Lw,Bw,Fw,Hw,qw,Yw,Jw,dv,hv,gv]}static get[\"pluginName\"](){return\"TrackChangesEditing\"}constructor(e){function t(e){return e[\"map\"](e=>String[\"fromCharCode\"](e))[\"join\"](\"\")}super(e),this[\"set\"](\"activeMarkers\",[]),this[\"on\"](\"change:activeMarkers\",(e,t,n,i)=>{this[\"_model\"][\"change\"](e=>{for(const t of[...i,...n])this[\"_model\"][\"markers\"][\"has\"](t)&&e[\"updateMarker\"](t)})}),this[\"D\"]=null,this[\"_descriptionFactory\"]=new z_(this[\"editor\"][\"model\"][\"schema\"],this[\"editor\"][\"locale\"]),this[\"_suggestionFactory\"]=new Av(this[\"editor\"]),this[\"_suggestions\"]=new Map,this[\"_\"]=e[\"plugins\"][\"get\"](Hm[\"a\"]),this[\"h\"]=new Set,this[\"_model\"]=this[\"editor\"][\"model\"],this[\"B\"]=new WeakMap,this[t([95,101,120,101,99,117,116,101,83,117,103,103,101,115,116,105,111,110])]=t([52,48,52,48,49,52,53,56])}[\"init\"](){const e=this[\"editor\"];e[\"conversion\"][\"for\"](\"editingDowncast\")[\"markerToHighlight\"]({model:\"suggestion\",view:e=>{const{id:t,type:n}=this[\"_splitMarkerName\"](e[\"markerName\"]),i=[\"ck-suggestion-marker\",\"ck-suggestion-marker-\"+n],r=this[\"activeMarkers\"][\"includes\"](e[\"markerName\"]);return r&&i[\"push\"](\"ck-suggestion-marker--active\"),{classes:i,attributes:{\"data-suggestion\":t},priority:r?3010:3e3}}}),e[\"conversion\"][\"for\"](\"dataDowncast\")[\"markerToData\"]({model:\"suggestion\"}),e[\"conversion\"][\"for\"](\"upcast\")[\"elementToElement\"]({view:{name:\"suggestion\",attribute:{id:/^\\w/,suggestionType:/^\\w/}},model:(e,t)=>{let n=\"suggestion:\"+e[\"getAttribute\"](\"suggestion-type\")+\":\"+e[\"getAttribute\"](\"id\");return e[\"getAttribute\"](\"marker-count\")&&(n+=\":\"+e[\"getAttribute\"](\"marker-count\")),t[\"createElement\"](\"$marker\",{\"data-name\":n})}}),e[\"conversion\"][\"for\"](\"upcast\")[\"dataToMarker\"]({view:\"suggestion\"}),e[\"conversion\"][\"for\"](\"editingDowncast\")[\"add\"](t=>{t[\"on\"](\"addMarker:suggestion:formatBlock\",(t,n,i)=>{if(!n[\"item\"])return;if(n[\"item\"][\"is\"](\"selection\"))return void i[\"consumable\"][\"consume\"](n[\"item\"],t[\"name\"]);const r=i[\"mapper\"][\"toViewElement\"](n[\"item\"]);if(!(n[\"item\"][\"is\"](\"element\")&&e[\"model\"][\"schema\"][\"isBlock\"](n[\"item\"])&&!r[\"getCustomProperty\"](\"addHighlight\")))return;const{id:o}=this[\"_splitMarkerName\"](n[\"markerName\"]);i[\"writer\"][\"addClass\"]([\"ck-suggestion-marker\",\"ck-suggestion-marker-formatBlock\"],r),i[\"writer\"][\"setAttribute\"](\"data-suggestion\",o,r),i[\"mapper\"][\"bindElementToMarker\"](r,n[\"markerName\"]),this[\"activeMarkers\"][\"includes\"](n[\"markerName\"])?i[\"writer\"][\"addClass\"](\"ck-suggestion-marker--active\",r):i[\"writer\"][\"removeClass\"](\"ck-suggestion-marker--active\",r);for(const r of e[\"model\"][\"createRangeIn\"](n[\"item\"])[\"getItems\"]())i[\"consumable\"][\"consume\"](r,t[\"name\"]);i[\"consumable\"][\"consume\"](n[\"item\"],t[\"name\"])},{priority:\"high\"}),t[\"on\"](\"removeMarker:suggestion:formatBlock\",(e,t,n)=>{const i=n[\"mapper\"][\"markerNameToElements\"](t[\"markerName\"]);if(i)for(const e of i)e[\"getCustomProperty\"](\"addHighlight\")||(n[\"writer\"][\"removeClass\"]([\"ck-suggestion-marker\",\"ck-suggestion-marker-formatBlock\",\"ck-suggestion-marker--active\"],e),n[\"writer\"][\"removeAttribute\"](\"data-suggestion\",e),n[\"mapper\"][\"unbindElementFromMarkerName\"](e,t[\"markerName\"]))},{priority:\"high\"})}),e[\"model\"][\"document\"][\"registerPostFixer\"](t=>{let n=!1;const i=Array[\"from\"](e[\"model\"][\"document\"][\"differ\"][\"getChangedMarkers\"]());for(const{name:r,data:o}of i){const{group:i,type:s,id:a}=this[\"_splitMarkerName\"](r);if(\"suggestion\"!==i)continue;const c=this[\"_suggestions\"][\"get\"](a);if(null!=o[\"newRange\"]){\"formatInline\"==s&&(n=n||Ev(o[\"newRange\"],r,t,e[\"model\"][\"schema\"]));if(o[\"newRange\"][\"isCollapsed\"]||\"$graveyard\"==o[\"newRange\"][\"root\"][\"rootName\"]||\"formatBlock\"==s&&!Ov(o[\"newRange\"]))t[\"removeMarker\"](r),n=!0;else{if(!c||!c[\"isInContent\"])continue;n=!!this[\"j\"](c)||n}}}return n}),e[\"model\"][\"document\"][\"registerPostFixer\"](t=>{let n=!1;for(const i of e[\"model\"][\"document\"][\"differ\"][\"getChanges\"]()){if(\"insert\"!=i[\"type\"])continue;const r=i[\"position\"][\"getShiftedBy\"](i[\"length\"]);if(r[\"isAtEnd\"])for(const o of this[\"_suggestions\"][\"values\"]()){if(o[\"isMultiRange\"]||!o[\"isInContent\"])continue;if(\"formatBlock\"!=o[\"type\"])continue;const s=o[\"getFirstRange\"]();if(s[\"start\"][\"parent\"]!=s[\"end\"][\"parent\"]&&s[\"end\"][\"isEqual\"](i[\"position\"])){const i=e[\"model\"][\"createRange\"](s[\"start\"],r);t[\"updateMarker\"](o[\"getFirstMarker\"](),{range:i}),n=!0}}}return n}),e[\"model\"][\"markers\"][\"on\"](\"update:suggestion\",(e,t,n)=>{if(null==n){const{id:e}=this[\"_splitMarkerName\"](t[\"name\"]),n=this[\"_suggestions\"][\"get\"](e);n&&n[\"addMarkerName\"](t[\"name\"])}}),e[\"model\"][\"document\"][\"on\"](\"change:data\",()=>{const t=Array[\"from\"](e[\"model\"][\"document\"][\"differ\"][\"getChangedMarkers\"]());t[\"sort\"]((e,t)=>{const n=e[\"data\"][\"oldRange\"],i=t[\"data\"][\"oldRange\"];return null===n&&null===i?0:null===n&&null!==i?-1:null!==n&&null===i?1:n[\"start\"][\"isBefore\"](i[\"start\"])?-1:1});const n=new Set;for(const{name:e,data:i}of t){const{group:t,id:r}=this[\"_splitMarkerName\"](e);if(\"suggestion\"===t&&(null===i[\"oldRange\"]&&this[\"U\"](e),null===i[\"newRange\"])){const e=this[\"_suggestions\"][\"get\"](r);e[\"isInContent\"]?n[\"add\"](e):this[\"N\"](e)}}for(const{name:e,data:i}of t){const{group:t,id:r}=this[\"_splitMarkerName\"](e);if(\"suggestion\"!==t)continue;const o=this[\"_suggestions\"][\"get\"](r);null!=i[\"newRange\"]&&null!=i[\"oldRange\"]&&(this[\"R\"](o),n[\"add\"](o[\"head\"]))}for(const e of n)this[\"fire\"](\"suggestionChanged\",e);n[\"clear\"]()}),e[\"model\"][\"on\"](\"applyOperation\",(t,n)=>{const i=n[0];if(!this[\"_suggestions\"][\"size\"])return;if(!i[\"isDocumentOperation\"])return;if(\"transparent\"==i[\"batch\"][\"type\"])return;let r,o;switch(i[\"type\"]){case\"insert\":r=e[\"model\"][\"createPositionAt\"](i[\"position\"]),o=r[\"getShiftedBy\"](i[\"howMany\"]);break;case\"split\":r=e[\"model\"][\"createPositionAt\"](i[\"splitPosition\"]),o=e[\"model\"][\"createPositionAt\"](i[\"moveTargetPosition\"]);break;case\"move\":r=e[\"model\"][\"createPositionAt\"](i[\"targetPosition\"]),o=r[\"getShiftedBy\"](i[\"howMany\"]);break;default:return}const s=e[\"model\"][\"createRange\"](r,o);e[\"model\"][\"change\"](()=>{for(const{suggestion:e,meta:t}of this[\"O\"](s)){if(e[\"isMultiRange\"])continue;if(\"formatInline\"==e[\"type\"])continue;const n=e[\"data\"]&&e[\"data\"][\"multipleBlocks\"];(\"formatBlock\"!=e[\"type\"]||\"split\"==i[\"type\"]&&!n)&&(t[\"containsRangeInObject\"]||\"insertion\"==e[\"type\"]&&t[\"isOwn\"]||e[\"getFirstRange\"]()[\"containsRange\"](s)&&this[\"P\"](e,r,o))}})},{priority:\"lowest\"}),e[\"model\"][\"on\"](\"deleteContent\",(t,n)=>{const i=n[0],r=n[1];if(r&&r[\"forceDefaultExecution\"])return;if(!this[\"trackChangesCommand\"][\"value\"])return;if(i[\"isCollapsed\"])return;const o=e[\"model\"][\"schema\"],{start:s,end:a}=i[\"getFirstRange\"](),c=s[\"nodeAfter\"]&&o[\"isObject\"](s[\"nodeAfter\"])?null:o[\"getNearestSelectionRange\"](s,\"forward\"),l=a[\"nodeBefore\"]&&o[\"isObject\"](a[\"nodeBefore\"])?null:o[\"getNearestSelectionRange\"](a,\"backward\"),d=e[\"model\"][\"createRange\"](c?c[\"start\"]:s,l?l[\"end\"]:a);e[\"model\"][\"change\"](t=>{this[\"markDeletion\"](d);const n=e[\"model\"][\"schema\"][\"getNearestSelectionRange\"](d[\"start\"]);i instanceof a_[\"a\"]?t[\"setSelection\"](n):i[\"setTo\"](n)}),t[\"stop\"]()},{priority:pn[\"a\"][\"normal\"]+10}),e[\"model\"][\"on\"](\"insertContent\",(t,n)=>{const i=n[n[\"length\"]-1];i&&i[\"forceDefaultExecution\"]||this[\"trackChangesCommand\"][\"value\"]&&(e[\"model\"][\"change\"](()=>{let i=e[\"model\"][\"insertContent\"](n[0],n[1],n[2],n[3],{forceDefaultExecution:!0});if(!i)return;t[\"return\"]=i[\"clone\"]();const r=i[\"end\"][\"nodeBefore\"],o=e[\"model\"][\"schema\"];r&&o[\"isBlock\"](r)&&!o[\"isObject\"](r)&&(i=e[\"model\"][\"createRange\"](i[\"start\"],e[\"model\"][\"createPositionAt\"](r,\"end\"))),this[\"markInsertion\"](i)}),t[\"stop\"]())},{priority:\"high\"}),this[\"trackChangesCommand\"]=new u_(e,this[\"h\"]),this[\"editor\"][\"commands\"][\"add\"](\"trackChanges\",this[\"trackChangesCommand\"]),this[\"enableCommand\"](\"trackChanges\");const t=new m_(e,this[\"_suggestions\"]);e[\"commands\"][\"add\"](\"acceptSuggestion\",t),this[\"enableCommand\"](\"acceptSuggestion\");const n=new b_(e,this[\"_suggestions\"]);e[\"commands\"][\"add\"](\"discardSuggestion\",n),this[\"enableCommand\"](\"discardSuggestion\"),e[\"commands\"][\"add\"](\"acceptAllSuggestions\",new y_(e,t,this[\"_suggestions\"])),this[\"enableCommand\"](\"acceptAllSuggestions\"),e[\"commands\"][\"add\"](\"discardAllSuggestions\",new M_(e,n,this[\"_suggestions\"])),this[\"enableCommand\"](\"discardAllSuggestions\"),e[\"commands\"][\"add\"](\"acceptSelectedSuggestions\",new O_(e,t,this[\"_suggestions\"])),this[\"enableCommand\"](\"acceptSelectedSuggestions\"),e[\"commands\"][\"add\"](\"discardSelectedSuggestions\",new j_(e,n,this[\"_suggestions\"])),this[\"enableCommand\"](\"discardSelectedSuggestions\");const i=e[\"plugins\"][\"get\"](Hm[\"a\"]);this[\"listenTo\"](i,\"addComment\",(e,{threadId:t})=>{const n=this[\"_suggestions\"][\"get\"](t);n&&n[\"commentThread\"]&&1===n[\"commentThread\"][\"length\"]&&this[\"G\"](t,{hasComments:!0})},{priority:\"low\"}),this[\"listenTo\"](i,\"removeComment\",(e,{threadId:t})=>{const n=this[\"_suggestions\"][\"get\"](t);n&&n[\"commentThread\"]&&!n[\"commentThread\"][\"length\"]&&this[\"G\"](t,{hasComments:!1})},{priority:\"low\"})}set[\"adapter\"](e){if(this[\"D\"])throw new se[\"b\"](\"track-changes-adapter-already-set: Cannot set an adapter more than once.\",this);this[\"D\"]=e}get[\"adapter\"](){return this[\"D\"]}[\"getSuggestions\"](){return Array[\"from\"](this[\"_suggestions\"][\"values\"]())}[\"getSuggestion\"](e){const t=this[\"_suggestions\"][\"get\"](e);if(!t)throw new se[\"b\"](\"track-changes-suggestion-not-found: Suggestion with given id not found.\",this);return t}[\"hasSuggestion\"](e){return this[\"_suggestions\"][\"has\"](e)}[\"addSuggestionData\"](e){const{id:t,authorId:n}=e,[i,r]=e[\"type\"][\"split\"](\":\"),o=this[\"_suggestions\"][\"get\"](t)||this[\"F\"](i,r,t,n);switch(this[\"L\"](o),this[\"q\"](o,i,r||null,n),o[\"createdAt\"]=e[\"createdAt\"],e[\"data\"]&&(o[\"data\"]=e[\"data\"]),this[\"B\"][\"get\"](o)){case\"notReady\":this[\"B\"][\"set\"](o,\"dataReady\");break;case\"markerReady\":o[\"isInContent\"]?(this[\"B\"][\"set\"](o,\"ready\"),this[\"fire\"](\"suggestionLoaded\",o)):this[\"B\"][\"set\"](o,\"removed\")}return o}[\"enableCommand\"](e,t){const n=this[\"editor\"][\"commands\"][\"get\"](e);if(!n)throw new se[\"b\"](\"track-changes-command-not-found: Trying to enable command that does not exist.\",this);this[\"h\"][\"add\"](n),t&&n[\"on\"](\"execute\",(e,i)=>{this[\"trackChangesCommand\"][\"value\"]&&(i[\"length\"]>0&&i[i[\"length\"]-1]&&i[i[\"length\"]-1][\"forceDefaultExecution\"]||(t((...e)=>n[\"execute\"](...e,{forceDefaultExecution:!0}),...i),e[\"stop\"]()))},{priority:\"high\"})}[\"markInsertion\"](e,t=null){if(e[\"isCollapsed\"])return null;const n=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"];for(const{suggestion:n,meta:i}of this[\"O\"](e,\"insertion\"))if(i[\"isOwn\"]){if(i[\"isNextTo\"]&&t==n[\"subType\"]){const t=n[\"getFirstRange\"]();t[\"start\"][\"isEqual\"](e[\"end\"])?this[\"H\"](n,this[\"_model\"][\"createRange\"](e[\"start\"],t[\"end\"])):this[\"H\"](n,this[\"_model\"][\"createRange\"](t[\"start\"],e[\"end\"]))}return n}const i=Object(Gi[\"a\"])(),r=n[\"id\"],o=t?\"insertion:\"+t:\"insertion\",s=this[\"W\"]({id:i,type:o,createdAt:new Date,authorId:r});return this[\"J\"](o,i,r,e),s}[\"markMultiRangeInsertion\"](e,t=\"multi\"){const n=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"],i=this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"insertion\",t,\"join\");for(const r of this[\"getSuggestions\"]())if(r[\"author\"][\"id\"]==n[\"id\"]&&\"insertion\"==r[\"type\"]&&r[\"subType\"]==t&&(i(r[\"getRanges\"](),e)||i(e,r[\"getRanges\"]()))){for(const t of e)r[\"addRange\"](t);return r}for(const t of e)for(const{suggestion:n,meta:i}of this[\"O\"](t,\"insertion\")){if(!i[\"isOwn\"])continue;let t=!0;for(const i of n[\"getRanges\"]())for(const n of e)if(!i[\"containsRange\"](n)){t=!1;break}if(t)return n}const r=Object(Gi[\"a\"])(),o=n[\"id\"],s=\"insertion:\"+t,a=this[\"W\"]({id:r,type:s,createdAt:new Date,authorId:o});for(const t of e)this[\"J\"](s,r,o,t,F_[\"getMultiRangeId\"]());return a}[\"markInlineFormat\"](e,t,n=null){if(n=n||Sv(t),e[\"isCollapsed\"])return;const i=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"],r=[];for(const{suggestion:t,meta:n}of this[\"O\"](e,\"insertion\"))n[\"isOwn\"]&&!n[\"isInsideObject\"]&&r[\"push\"](...t[\"getRanges\"]());const o=function(e,t){const n=[];for(const i of t){const t=e[\"getIntersection\"](i);t&&n[\"push\"](t)}return n}(e,r),s=function(e,t){const n=[e];for(const e of t){let t=0;for(;t<n[\"length\"];){const i=n[t][\"getDifference\"](e);n[\"splice\"](t,1,...i),t+=i[\"length\"]}}return n}(e,r);o[\"length\"]&&this[\"_model\"][\"change\"](()=>{for(const e of o){this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"formatInline\",n,\"accept\")([e],t)}});for(const e of s){let r=null,o=e[\"start\"],s=e[\"end\"];for(const{suggestion:t,meta:i}of this[\"O\"](e,\"formatInline\")){if(!i[\"isOwn\"])continue;if(t[\"subType\"]!=n)continue;const a=t[\"getFirstRange\"]();if(a[\"containsRange\"](e,!0))return;o=o[\"isBefore\"](a[\"start\"])?o:a[\"start\"],s=s[\"isAfter\"](a[\"end\"])?s:a[\"end\"],r?a[\"start\"][\"isBefore\"](r[\"getFirstRange\"]()[\"start\"])?(r[\"removeMarkers\"](),r=t):t[\"removeMarkers\"]():r=t}const a=this[\"_model\"][\"createRange\"](o,s);if(r)this[\"H\"](r,a);else{const e=Object(Gi[\"a\"])(),r=i[\"id\"];this[\"W\"]({id:e,type:\"formatInline:\"+n,data:t,createdAt:new Date,authorId:r}),this[\"J\"](\"formatInline:\"+n,e,r,a)}}}[\"markBlockFormat\"](e,t,n=[],i=null){t[\"formatGroupId\"]||(t[\"formatGroupId\"]=t[\"commandName\"]),t[\"multipleBlocks\"]=e instanceof s_[\"a\"],i=i||Sv(t);const r=n[\"map\"](e=>Iv(e,this[\"_model\"])),o=e instanceof s_[\"a\"]?e:Iv(e,this[\"_model\"]);r[\"push\"](o);let s=!0;for(const e of r)if(!this[\"K\"](e)){s=!1;break}if(s){return void this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"formatBlock\",i,\"accept\")([o],t)}let a=null,c=o[\"start\"],l=o[\"end\"];for(const{suggestion:e,meta:n}of this[\"O\"](o,\"formatBlock\")){if(!n[\"isOwn\"]||n[\"isNextTo\"]||n[\"containsRangeInObject\"]||n[\"isInsideObject\"])continue;if(e[\"data\"][\"formatGroupId\"]!=t[\"formatGroupId\"])continue;const r=e[\"getFirstRange\"]();if(e[\"subType\"]==i){if(r[\"containsRange\"](o,!0))return;c=c[\"isBefore\"](r[\"start\"])?c:r[\"start\"],l=l[\"isAfter\"](r[\"end\"])?l:r[\"end\"],a?r[\"start\"][\"isBefore\"](a[\"getFirstRange\"]()[\"start\"])?(a[\"removeMarkers\"](),a=e):e[\"removeMarkers\"]():a=e}else{const t=o[\"getIntersection\"](r);this[\"V\"](e,t)}}const d=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"],u=Object(Gi[\"a\"])(),h=d[\"id\"];a?this[\"H\"](a,this[\"_model\"][\"createRange\"](c,l)):(this[\"W\"]({id:u,type:\"formatBlock:\"+i,data:t,createdAt:new Date,authorId:h}),this[\"J\"](\"formatBlock:\"+i,u,h,this[\"_model\"][\"createRange\"](c,l)))}[\"markMultiRangeBlockFormat\"](e,t,n=[],i=null){t[\"formatGroupId\"]||(t[\"formatGroupId\"]=t[\"commandName\"]),t[\"multipleBlocks\"]=!1,i=i||Sv(t);const r=n[\"map\"](e=>Iv(e,this[\"_model\"])),o=e[\"map\"](e=>Iv(e,this[\"_model\"]));r[\"push\"](...o);let s=!0;for(const e of r)if(!this[\"K\"](e)){s=!1;break}if(s){return void this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"formatBlock\",i,\"accept\")(o,t)}const a=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"];for(const e of this[\"getSuggestions\"]()){if(e[\"author\"][\"id\"]!=a[\"id\"])continue;if(\"formatBlock\"!=e[\"type\"]||e[\"data\"][\"formatGroupId\"]!=t[\"formatGroupId\"])continue;const n=e[\"subType\"]==i;for(let t=0;t<o[\"length\"];t++){const i=o[t];for(const r of e[\"getMarkers\"]()){const s=r[\"getRange\"]();if(i[\"isEqual\"](s)){n?(o[\"splice\"](t,1),t--):e[\"removeMarker\"](r[\"name\"]);break}}}}if(0==o[\"length\"])return;const c=this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"formatBlock\",i,\"join\");for(const e of this[\"getSuggestions\"]())if(e[\"author\"][\"id\"]==a[\"id\"]&&\"formatBlock\"==e[\"type\"]&&e[\"data\"][\"formatGroupId\"]==t[\"formatGroupId\"]&&e[\"subType\"]==i&&(c(e[\"getRanges\"](),o)||c(o,e[\"getRanges\"]()))){for(const t of o)e[\"addRange\"](t);return e}const l=Object(Gi[\"a\"])(),d=a[\"id\"],u=\"formatBlock:\"+i,h=this[\"W\"]({id:l,type:u,data:t,createdAt:new Date,authorId:d});for(const e of o)this[\"J\"](u,l,d,e,F_[\"getMultiRangeId\"]());return h}[\"markDeletion\"](e,t=null){if(e[\"isCollapsed\"])return null;const n=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"],i=new ru[\"a\"](e[\"start\"],e[\"end\"]);for(const{suggestion:e,meta:n}of this[\"O\"](i,\"insertion\"))if(n[\"isOwn\"]&&!n[\"isNextTo\"])if(e[\"isMultiRange\"]){const n=e[\"getRanges\"]();n[\"every\"](e=>i[\"containsRange\"](e,!0))&&e[\"discard\"]();if(n[\"some\"](e=>e[\"containsRange\"](i,!0))){return this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"deletion\",t,\"accept\")([i]),null}}else{const t=i[\"getIntersection\"](e[\"getFirstRange\"]());e[\"_onDiscard\"]([t])}if(i[\"detach\"](),i[\"isCollapsed\"]||\"$graveyard\"==i[\"root\"][\"rootName\"])return null;let r=null,o=i[\"start\"],s=i[\"end\"];for(const{suggestion:e,meta:t}of this[\"O\"](i,\"deletion\"))if(t[\"isOwn\"])if(e[\"isMultiRange\"]){let t=!0;for(const n of e[\"getRanges\"]()){if(n[\"containsRange\"](i,!0))return e;i[\"containsRange\"](n)||(t=!1)}t&&e[\"discard\"]()}else{const t=e[\"getFirstRange\"]();if(t[\"containsRange\"](i,!0))return e;o=o[\"isBefore\"](t[\"start\"])?o:t[\"start\"],s=s[\"isAfter\"](t[\"end\"])?s:t[\"end\"],r?t[\"start\"][\"isBefore\"](r[\"getFirstRange\"]()[\"start\"])?(r[\"removeMarkers\"](),r=e):e[\"removeMarkers\"]():r=e}if(r)return this[\"H\"](r,this[\"_model\"][\"createRange\"](o,s)),r;{const e=Object(Gi[\"a\"])(),i=this[\"_model\"][\"createRange\"](o,s),r=n[\"id\"],a=t?\"deletion:\"+t:\"deletion\",c=this[\"W\"]({id:e,type:a,createdAt:new Date,authorId:r});return this[\"J\"](a,e,r,i),c}}[\"markMultiRangeDeletion\"](e,t=\"multi\"){const n=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"],i=e[\"map\"](e=>new ru[\"a\"](e[\"start\"],e[\"end\"])),r=new Set;for(const e of i)for(const{suggestion:t,meta:n}of this[\"O\"](e,\"insertion\"))n[\"isOwn\"]&&!n[\"isNextTo\"]&&r[\"add\"](t);for(const n of r)if(n[\"isMultiRange\"]){const r=n[\"getRanges\"]();r[\"every\"](e=>i[\"some\"](t=>t[\"containsRange\"](e,!0)))&&n[\"discard\"]();if(i[\"every\"](e=>r[\"some\"](t=>t[\"containsRange\"](e,!0)))){return this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"deletion\",t,\"accept\")(e),null}}else{const e=n[\"getFirstRange\"]();i[\"some\"](t=>t[\"containsRange\"](e,!0))&&n[\"discard\"]();if(i[\"every\"](t=>e[\"containsRange\"](t,!0))){return this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"deletion\",t,\"accept\")(i),null}}const o=this[\"_suggestionFactory\"][\"getSuggestionCallback\"](\"deletion\",t,\"join\");let s=null;for(const i of this[\"getSuggestions\"]())if(i[\"author\"][\"id\"]==n[\"id\"]&&i[\"isInContent\"]&&\"deletion\"==i[\"type\"]&&i[\"subType\"]==t&&(o(i[\"getRanges\"](),e)||o(e,i[\"getRanges\"]())))if(s){if(i[\"commentThread\"]&&i[\"commentThread\"][\"length\"])continue;for(const e of i[\"getRanges\"]())s[\"isIntersectingWithRange\"](e)||s[\"addRange\"](e);i[\"removeMarkers\"]()}else{s=i;for(const t of e)i[\"isIntersectingWithRange\"](t)||i[\"addRange\"](t)}if(s)return s;r[\"clear\"]();for(const e of i)for(const{suggestion:t,meta:n}of this[\"O\"](e,\"deletion\"))n[\"isOwn\"]&&r[\"add\"](t);for(const e of r){const t=e[\"getRanges\"]();if(i[\"every\"](e=>t[\"some\"](t=>t[\"containsRange\"](e,!0))))return e;t[\"every\"](e=>i[\"some\"](t=>t[\"containsRange\"](e,!0)))&&e[\"discard\"]()}const a=Object(Gi[\"a\"])(),c=n[\"id\"],l=\"deletion:\"+t,d=this[\"W\"]({id:a,type:l,createdAt:new Date,authorId:c});for(const e of i)e[\"detach\"](),e[\"isCollapsed\"]||\"$graveyard\"==e[\"root\"][\"rootName\"]||this[\"J\"](l,a,c,e,F_[\"getMultiRangeId\"]());return d}[\"H\"](e,t){const n=e[\"getFirstMarker\"]();this[\"_model\"][\"change\"](e=>{e[\"updateMarker\"](n,{range:t})})}[\"L\"](e){const t=e[\"id\"],n=this[\"editor\"][\"config\"][\"get\"](\"collaboration.channelId\");this[\"_\"][\"hasCommentThread\"](t)||this[\"_\"][\"addCommentThread\"]({channelId:n,threadId:t}),e[\"commentThread\"]=this[\"_\"][\"getCommentThread\"](t)}[\"q\"](e,t,n,i){if(e[\"type\"]!=t||e[\"subType\"]!=n||e[\"author\"][\"id\"]!=i)throw this[\"editor\"][\"isReadOnly\"]=!0,new se[\"b\"](\"track-changes-suggestion-data-mismatch: Suggestion marker name does not match loaded suggestion data.\",this)}[\"V\"](e,t){const n=e[\"getFirstRange\"]();if(t[\"isEqual\"](n))e[\"removeMarkers\"]();else if(n[\"containsRange\"](t)){const i=this[\"_model\"][\"createPositionAt\"](t[\"start\"][\"nodeBefore\"],\"end\");this[\"H\"](e,this[\"_model\"][\"createRange\"](n[\"start\"],i));const r=Object(Gi[\"a\"])(),o=e[\"author\"][\"id\"],s=e[\"type\"]+\":\"+e[\"subType\"];this[\"W\"]({id:r,type:s,createdAt:new Date,authorId:o,data:e[\"data\"]});const a=this[\"_model\"][\"createPositionAt\"](t[\"end\"][\"parent\"],\"after\"),c=this[\"_model\"][\"createRange\"](a,n[\"end\"]);this[\"J\"](s,r,o,c)}else if(n[\"containsPosition\"](t[\"start\"])){const i=this[\"_model\"][\"createPositionAt\"](t[\"start\"][\"nodeBefore\"],\"end\");this[\"H\"](e,this[\"_model\"][\"createRange\"](n[\"start\"],i))}else{const i=this[\"_model\"][\"createPositionAt\"](t[\"end\"][\"parent\"],\"after\");this[\"H\"](e,this[\"_model\"][\"createRange\"](i,n[\"end\"]))}}[\"K\"](e){for(const{suggestion:t,meta:n}of this[\"O\"](e,\"insertion\")){if(!n[\"isOwn\"])continue;const i=t[\"getRanges\"]();for(const t of i)if(!e[\"getDifference\"](t)[\"length\"])return!0}return!1}[\"X\"](e){const t=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"getUser\"](e);if(!t)throw new se[\"b\"](\"track-changes-user-not-found: User with given id not found.\",this);return t}[\"F\"](e,t,n,i){const r=this[\"X\"](i),o=this[\"_suggestionFactory\"][\"buildSuggestion\"](e,t,n,r);return this[\"listenTo\"](o,\"accept\",()=>{this[\"G\"](n,{state:\"accepted\"})},{priority:\"high\"}),this[\"listenTo\"](o,\"discard\",()=>{this[\"G\"](n,{state:\"rejected\"})},{priority:\"high\"}),this[\"_suggestions\"][\"set\"](n,o),this[\"B\"][\"set\"](o,\"notReady\"),o}[\"_splitMarkerName\"](e){const t=e[\"split\"](\":\");return{group:t[0],type:t[1],subType:t[\"length\"]>=5?t[2]:null,id:t[\"length\"]<5?t[2]:t[3],authorId:t[\"length\"]<5?t[3]:t[4],markerCount:6==t[\"length\"]?t[5]:null}}[\"P\"](e,t,n){const i=e[\"getFirstRange\"](),r=i[\"start\"],o=i[\"end\"];this[\"H\"](e,this[\"_model\"][\"createRange\"](r,t));const s=Object(Gi[\"a\"])(),a=e[\"author\"][\"id\"],c=e[\"type\"]+(e[\"subType\"]?\":\"+e[\"subType\"]:\"\");this[\"W\"]({id:s,type:c,createdAt:new Date,authorId:a,originalSuggestionId:e[\"id\"],data:e[\"data\"]}),\"formatBlock\"==e[\"type\"]&&(n=this[\"_model\"][\"createPositionBefore\"](n[\"parent\"])),this[\"J\"](c,s,a,this[\"_model\"][\"createRange\"](n,o))}[\"O\"](e,t=null){const n=[],i=this[\"_model\"][\"schema\"],r=this[\"editor\"][\"plugins\"][\"get\"](\"Users\")[\"me\"];for(const o of this[\"getSuggestions\"]())if(o[\"isInContent\"]&&(!t||o[\"type\"]==t))for(const t of o[\"getRanges\"]()){const s=e[\"start\"][\"isEqual\"](t[\"end\"])||e[\"end\"][\"isEqual\"](t[\"start\"]);if(s||e[\"getIntersection\"](t)){const a=e[\"containsRange\"](t)&&Tv(i,t[\"start\"],e),c=t[\"containsRange\"](e)&&Tv(i,e[\"start\"],t);n[\"push\"]({suggestion:o,meta:{isOwn:r==o[\"author\"],isNextTo:s,isInsideObject:a,containsRangeInObject:c}});break}}return n}[\"J\"](e,t,n,i,r=null){this[\"_model\"][\"change\"](o=>{let s=\"suggestion:\"+e+\":\"+t+\":\"+n;r&&(s=s+\":\"+r),o[\"addMarker\"](s,{range:i,usingOperation:!0,affectsData:!0})})}[\"N\"](e){const t=e[\"previous\"],n=e[\"next\"];e[\"previous\"]=null,null!=t&&(t[\"next\"]=null),e[\"next\"]=null,\"ready\"==this[\"B\"][\"get\"](e)&&(this[\"B\"][\"set\"](e,\"removed\"),this[\"fire\"](\"suggestionUnloaded\",e,t,n)),null!=n&&(n[\"previous\"]=null)}[\"W\"](e){const t=e[\"id\"],n=this[\"addSuggestionData\"](e);if(this[\"D\"]&&this[\"D\"][\"addSuggestion\"]){const i=this[\"editor\"][\"plugins\"][\"get\"](\"PendingActions\"),r=n[\"hasComments\"],o=n[\"subType\"]?n[\"type\"]+\":\"+n[\"subType\"]:n[\"type\"],s=this[\"editor\"][\"locale\"][\"t\"],a=i[\"add\"](s({string:\"Unsaved change in suggestion.\",id:\"PENDING_ACTION_SUGGESTION\"})),c={id:t,type:o,hasComments:r,data:e[\"data\"]||null,originalSuggestionId:e[\"originalSuggestionId\"]||null};this[\"D\"][\"addSuggestion\"](c)[\"then\"](e=>{i[\"remove\"](a),e&&e[\"createdAt\"]&&(this[\"_suggestions\"][\"get\"](t)[\"createdAt\"]=e[\"createdAt\"])})}return n}[\"G\"](e,t){const n=this[\"editor\"][\"plugins\"][\"get\"](\"PendingActions\");if(this[\"D\"]&&this[\"D\"][\"updateSuggestion\"]){const i=this[\"editor\"][\"locale\"][\"t\"],r=n[\"add\"](i({string:\"Unsaved change in suggestion.\",id:\"PENDING_ACTION_SUGGESTION\"}));this[\"D\"][\"updateSuggestion\"](e,t)[\"then\"](()=>{n[\"remove\"](r)})}}[\"Y\"](e){if(!this[\"D\"]||!this[\"D\"][\"getSuggestion\"])throw new se[\"b\"](\"track-changes-adapter-missing-getsuggestion: Adapter not set or is missing `getSuggestion()` method.\",this);return this[\"D\"][\"getSuggestion\"](e)}[\"U\"](e){const{id:t,type:n,subType:i,authorId:r}=this[\"_splitMarkerName\"](e),o=this[\"_suggestions\"][\"get\"](t)||this[\"F\"](n,i,t,r);switch(this[\"q\"](o,n,i,r),this[\"B\"][\"get\"](o)){case\"notReady\":this[\"Y\"](t)[\"then\"](e=>{let n=Promise[\"resolve\"]();e[\"hasComments\"]&&(n=this[\"_\"][\"fetchCommentThread\"]({channelId:this[\"editor\"][\"config\"][\"get\"](\"collaboration.channelId\"),threadId:t})),n[\"then\"](()=>{this[\"addSuggestionData\"](e)})}),this[\"B\"][\"set\"](o,\"markerReady\");break;case\"removed\":this[\"G\"](t,{state:\"open\"});case\"dataReady\":this[\"B\"][\"set\"](o,\"ready\"),this[\"fire\"](\"suggestionLoaded\",o);break;case\"ready\":this[\"fire\"](\"suggestionChanged\",o)}o[\"addMarkerName\"](e),this[\"R\"](o)}[\"R\"](e){if(\"formatInline\"==e[\"type\"]||\"formatBlock\"==e[\"type\"])return;if(e[\"isMultiRange\"])return;let t=!0;for(const n of this[\"getSuggestions\"]())if(!n[\"isMultiRange\"]&&n!=e&&n[\"isInContent\"]&&\"formatInline\"!=n[\"type\"]&&\"formatBlock\"!=n[\"type\"]&&n[\"author\"][\"id\"]==e[\"author\"][\"id\"]){if(this[\"Z\"](n,e)){if(e[\"commentThread\"]&&e[\"commentThread\"][\"length\"])continue;n[\"next\"]=e,e[\"previous\"]=n,t=!1}if(this[\"Z\"](e,n)){if(n[\"commentThread\"]&&n[\"commentThread\"][\"length\"])continue;e[\"next\"]=n,n[\"previous\"]=e}}e[\"previous\"]&&t&&(e[\"previous\"][\"next\"]=null,e[\"previous\"]=null)}[\"Z\"](e,t){const n=e[\"getFirstRange\"](),i=t[\"getFirstRange\"]();if(n[\"end\"][\"isEqual\"](i[\"start\"]))return!0;if(e[\"type\"]!=t[\"type\"])return!1;if(!n[\"end\"][\"isTouching\"](i[\"start\"]))return!1;const r=new c_[\"a\"]({boundaries:this[\"editor\"][\"model\"][\"createRange\"](n[\"end\"],i[\"start\"])});for(const e of r)if(\"elementEnd\"==e[\"type\"]&&this[\"editor\"][\"model\"][\"schema\"][\"isLimit\"](e[\"item\"]))return!1;return!0}[\"j\"](e){for(const t of this[\"_suggestions\"][\"values\"]()){if(t==e||!t[\"isInContent\"])continue;if(t[\"type\"]!=e[\"type\"]||t[\"author\"][\"id\"]!=e[\"author\"][\"id\"]||t[\"subType\"]!=e[\"subType\"])continue;const n=this[\"_suggestionFactory\"][\"getSuggestionCallback\"](e[\"type\"],e[\"subType\"],\"join\");if(n(t[\"getRanges\"](),e[\"getRanges\"]())){if(e[\"commentThread\"]&&e[\"commentThread\"][\"length\"])continue;return this[\"tt\"](t,e),!0}if(n(e[\"getRanges\"](),t[\"getRanges\"]())){if(t[\"commentThread\"]&&t[\"commentThread\"][\"length\"])continue;return this[\"tt\"](e,t),!0}}return!1}[\"tt\"](e,t){if(e[\"isMultiRange\"])for(const n of t[\"getRanges\"]())e[\"addRange\"](n);else{const n=t[\"getFirstRange\"]()[\"end\"];this[\"H\"](e,this[\"_model\"][\"createRange\"](e[\"getFirstRange\"]()[\"start\"],n))}t[\"removeMarkers\"]()}}Object(w[\"a\"])(Cv,gt[\"c\"]);class Av{constructor(e){this[\"it\"]=e,this[\"_model\"]=e[\"model\"],this[\"$\"]=new Map,this[\"ot\"]=new Map,this[\"et\"]()}[\"buildSuggestion\"](e,t,n,i){return new F_(this[\"_model\"],{type:e,subType:t,id:n,author:i,onAccept:(...n)=>this[\"getSuggestionCallback\"](e,t,\"accept\")(...n),onDiscard:(...n)=>this[\"getSuggestionCallback\"](e,t,\"discard\")(...n)})}[\"registerCustomCallback\"](e,t,n,i){const r=e+\":\"+t+\":\"+n;this[\"$\"][\"set\"](r,i)}[\"getSuggestionCallback\"](e,t,n){const i=e+\":\"+t+\":\"+n;return this[\"$\"][\"get\"](i)||this[\"ot\"][\"get\"](e+\":\"+n)}[\"et\"](){const e=()=>{},t=e=>{e[\"sort\"]((e,t)=>e[\"start\"][\"isBefore\"](t[\"start\"])?1:-1),this[\"_model\"][\"change\"](t=>{for(const n of e){let e;e=n[\"end\"][\"isAtEnd\"]&&n[\"end\"][\"parent\"]==n[\"start\"][\"nodeAfter\"]?t[\"createSelection\"](n[\"start\"][\"nodeAfter\"],\"on\"):t[\"createSelection\"](n),this[\"_model\"][\"deleteContent\"](e,{forceDefaultExecution:!0,doNotAutoparagraph:!0})}})},n=(e,t)=>{this[\"_model\"][\"change\"](n=>{const{commandName:i,commandParams:r}=t,o=e[0];if(\"$graveyard\"==o[\"root\"][\"rootName\"])return;const s=Array[\"from\"](this[\"_model\"][\"document\"][\"selection\"][\"getRanges\"]())[\"map\"](e=>ru[\"a\"][\"fromRange\"](e));var a;(a=o)[\"end\"][\"parent\"]==a[\"start\"][\"nodeAfter\"]&&0==a[\"end\"][\"offset\"]?n[\"setSelection\"](this[\"_model\"][\"createRange\"](o[\"end\"])):n[\"setSelection\"](o),this[\"it\"][\"commands\"][\"get\"](i)[\"refresh\"](),r[\"push\"]({forceDefaultExecution:!0}),this[\"it\"][\"execute\"](i,...r);const c=s[\"filter\"](e=>\"$graveyard\"!=e[\"root\"][\"rootName\"]);c[\"length\"]>0&&n[\"setSelection\"](c);for(const e of s)e[\"detach\"]()})},i=(e,t)=>1==e[\"length\"]&&1==t[\"length\"]&&e[0][\"end\"][\"isEqual\"](t[0][\"start\"]);this[\"ot\"][\"set\"](\"insertion:accept\",e),this[\"ot\"][\"set\"](\"insertion:discard\",t),this[\"ot\"][\"set\"](\"insertion:join\",i),this[\"ot\"][\"set\"](\"deletion:accept\",t),this[\"ot\"][\"set\"](\"deletion:discard\",e),this[\"ot\"][\"set\"](\"deletion:join\",i),this[\"ot\"][\"set\"](\"formatInline:accept\",n),this[\"ot\"][\"set\"](\"formatInline:discard\",e),this[\"ot\"][\"set\"](\"formatInline:join\",i),this[\"ot\"][\"set\"](\"formatBlock:accept\",n),this[\"ot\"][\"set\"](\"formatBlock:discard\",e),this[\"ot\"][\"set\"](\"formatBlock:join\",i)}}function Tv(e,t,n){for(const i of t[\"parent\"][\"getAncestors\"]({includeSelf:!0,parentFirst:!0})){if(i[\"root\"]==i)return!1;if(!n[\"containsItem\"](i))return!1;if(e[\"isObject\"](i)||e[\"isLimit\"](i))return!0}}function Ev(e,t,n,i){const r=e[\"start\"][\"getLastMatchingPosition\"](e=>!e[\"item\"][\"is\"](\"textProxy\")&&!i[\"isObject\"](e[\"item\"])),o=e[\"end\"][\"getLastMatchingPosition\"](e=>!e[\"item\"][\"is\"](\"textProxy\")&&!i[\"isObject\"](e[\"item\"]),{direction:\"backward\"});if(!e[\"start\"][\"isEqual\"](r)||!e[\"end\"][\"isEqual\"](o)){const e=n[\"createRange\"](r,o);return n[\"updateMarker\"](t,{range:e}),!0}return!1}function Sv(e){return _v(e)}function Ov(e){const t=e[\"start\"][\"nodeAfter\"];return t&&t[\"is\"](\"element\")}function Iv(e,t){return t[\"createRange\"](t[\"createPositionAt\"](e,\"before\"),t[\"schema\"][\"isObject\"](e)?t[\"createPositionAfter\"](e):t[\"createPositionAt\"](e,\"end\"))}const Pv=[\"plugins\",\"map\",\"getAll\",\"addUser\",\"editor\",\"state\",\"config\",\"get\",\"adapter\",\"delete\",\"reconnect\",\"data\",\"open\",\"addToReconnectionStack\",\"getUser\",\"TrackChangesService\",\"init\",\"race\",\"then\",\"update\",\"add\",\"set\",\"collaboration.channelId\",\"connection\",\"type\",\"resolve\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Pv,482);const Mv=function(e,t){e=e-0;let n=Pv[e];return n};class Rv extends ve[\"a\"]{static get[\"requires\"](){return[qm,Cv,Ff]}constructor(e){super(e),this[\"tt\"]=new Map}[Mv(\"0x2\")](){const e=this[Mv(\"0x10\")][Mv(\"0xc\")][Mv(\"0x13\")](Ff),t=this[Mv(\"0x10\")][\"plugins\"][Mv(\"0x13\")](Cv),n=this[Mv(\"0x10\")][Mv(\"0x12\")][Mv(\"0x13\")](Mv(\"0x8\"));return e[Mv(\"0x19\")](this),this[\"ot\"]=new(Rv[Mv(\"0x1\")])(n,e[Mv(\"0x9\")]),t[Mv(\"0x14\")]={getSuggestion:async e=>{const t=await this[\"ot\"][Mv(\"0x13\")](e);return await this[\"m\"]([t]),t},addSuggestion:async({id:e,type:t,data:n,originalSuggestionId:i})=>{const r={id:e,type:t,data:n,originalSuggestionId:i},o=new Promise(t=>{this[\"tt\"][Mv(\"0x7\")](e,{resolve:t,suggestionData:r})}),s=await Promise[Mv(\"0x3\")]([this[\"ot\"][Mv(\"0x6\")](e,t,n,i),o]);return this[\"tt\"][Mv(\"0x15\")](e),s},updateSuggestion:(e,t)=>Mv(\"0x18\")!==t[Mv(\"0x11\")]?this[\"ot\"][Mv(\"0x5\")](e,t):Promise[Mv(\"0xb\")]()},this[\"ot\"][Mv(\"0xe\")]()[Mv(\"0x4\")](e=>this[\"m\"](e)[Mv(\"0x4\")](()=>{for(const n of e)t[\"addSuggestionData\"](n)}))}async[Mv(\"0x16\")](){const e=this[Mv(\"0x10\")][Mv(\"0xc\")][Mv(\"0x13\")](Cv),t=await this[\"ot\"][\"getAll\"]();for(const{suggestionData:e,resolve:n}of this[\"tt\"][\"values\"]()){let i=t[\"find\"](t=>t[\"id\"]===e[\"id\"]);i||(i=await this[\"ot\"][Mv(\"0x6\")](e[\"id\"],e[Mv(\"0xa\")],e[Mv(\"0x17\")],e[\"originalSuggestionId\"])),n(i)}for(const n of t)e[\"hasSuggestion\"](n[\"id\"])||e[\"addSuggestionData\"](n)}[\"m\"](e){const t=this[\"editor\"][\"plugins\"][Mv(\"0x13\")](Vf[\"a\"]),{connection:n}=this[Mv(\"0x10\")][Mv(\"0xc\")][\"get\"](Ff),i=new Set;for(const{authorId:n}of e)t[Mv(\"0x0\")](n)||i[\"add\"](n);return Promise[\"all\"](Array[\"from\"](i)[Mv(\"0xd\")](e=>af[Mv(\"0x13\")](n,e)[Mv(\"0x4\")](n=>{t[\"getUser\"](e)||t[Mv(\"0xf\")](n)})))}}Rv[Mv(\"0x1\")]=o_;var Nv=n(186);var jv=[\"destroy\",\"unbind\",\"acceptSuggestion\",\"listenTo\",\"view\",\"discardSuggestion\",\"commentThreadController\",\"commentThread\",\"execute\",\"bind\",\"model\",\"isEnabled\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(jv,108);var Dv=function(e,t){e=e-0;var n=jv[e];return n};class Lv{constructor(e,t,n,i){this[Dv(\"0xa\")]=e,this[\"view\"]=t,this[Dv(\"0x6\")]=new Nv[\"a\"](e[Dv(\"0x7\")],t),this[\"ht\"]=n,this[\"dt\"]=i,this[Dv(\"0x4\")][Dv(\"0x9\")](\"isEnabled\")[\"to\"](this[\"ht\"]),this[\"listenTo\"](t,Dv(\"0x2\"),()=>this[Dv(\"0x2\")]()),this[Dv(\"0x3\")](t,\"discardSuggestion\",()=>this[Dv(\"0x5\")]())}[Dv(\"0x2\")](){this[\"ht\"][Dv(\"0x8\")](this[Dv(\"0xa\")][\"id\"])}[\"discardSuggestion\"](){this[\"dt\"][Dv(\"0x8\")](this[Dv(\"0xa\")][\"id\"])}[Dv(\"0x0\")](){this[Dv(\"0x4\")][Dv(\"0x1\")](Dv(\"0xb\")),this[\"stopListening\"](),this[Dv(\"0x6\")][Dv(\"0x0\")]()}}Object(w[\"a\"])(Lv,ze[\"a\"]);var Bv=n(210);var Fv=n(188);const zv=[\"_config\",\"setData\",\"commentThreadInputView\",\"cancel\",\"addComment\",\"length\",\"fire\",\"delegate\",\"commentInputView\",\"CommentView\",\"submit\",\"removeComment\",\"isDirty\",\"focus\",\"value\",\"showInput\",\"createdAt\",\"set\",\"locale\",\"commentsListView\",\"isActive\",\"bind\",\"disabledSubmit\",\"editor\",\"destroy\",\"isReadOnly\",\"_model\",\"commentThread\",\"isEnabled\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(zv,427);const Vv=function(e,t){e=e-0;let n=zv[e];return n};class Uv extends m[\"a\"]{constructor(e,t,n,i){super(e),this[\"set\"](\"isActive\",!1),this[Vv(\"0x19\")](Vv(\"0x18\"),t[\"createdAt\"]),this[Vv(\"0x0\")](Vv(\"0x18\"))[\"to\"](t),this[Vv(\"0x19\")](\"descriptionParts\",[]),this[\"set\"](Vv(\"0x14\"),!1),this[\"set\"](Vv(\"0x7\"),!1),this[Vv(\"0x5\")]=t,this[\"_localUser\"]=n,this[Vv(\"0x8\")]=i,this[Vv(\"0x1b\")]=new Bv[\"a\"](e,t[Vv(\"0x6\")],Object[\"assign\"]({CommentView:this[\"_config\"][Vv(\"0x11\")]},i)),this[\"commentsListView\"][Vv(\"0xf\")](Vv(\"0x13\"))[\"to\"](this),this[Vv(\"0x1b\")][Vv(\"0xf\")](\"updateComment\")[\"to\"](this),this[Vv(\"0x1b\")][\"bind\"](Vv(\"0x1c\"))[\"to\"](this),this[\"set\"](Vv(\"0xd\"),this[\"commentsListView\"][Vv(\"0xd\")]+1),this[Vv(\"0x0\")](Vv(\"0xd\"))[\"to\"](this[\"commentsListView\"],Vv(\"0xd\"),e=>e+1),this[Vv(\"0xa\")]=this[\"ut\"](),this[\"on\"](Vv(\"0x13\"),()=>this[Vv(\"0x15\")]()),this[\"bind\"](\"isDirty\")[\"to\"](this[Vv(\"0x1b\")],\"hasDirtyComment\",this[Vv(\"0xa\")][\"commentInputView\"],\"value\",(e,t)=>e||!!t)}[\"focus\"](){this[\"element\"][Vv(\"0x15\")]()}[Vv(\"0x3\")](){this[Vv(\"0x14\")]=!1,this[Vv(\"0x1b\")][Vv(\"0x3\")](),this[\"commentThreadInputView\"][Vv(\"0x3\")](),super[\"destroy\"]()}[\"ut\"](){const e=new Fv[\"a\"](this[Vv(\"0x1a\")],this[\"_localUser\"],this[\"_config\"][\"editorConfig\"]),t=e[Vv(\"0x10\")];return e[Vv(\"0x0\")](Vv(\"0x17\"))[\"to\"](this,Vv(\"0x1c\"),this[Vv(\"0x5\")][Vv(\"0x6\")],Vv(\"0x4\"),t,Vv(\"0x16\"),(e,t,n)=>!!n||e&&!t),t[\"on\"](Vv(\"0x12\"),(e,n)=>{this[Vv(\"0xe\")](Vv(\"0xc\"),n),t[Vv(\"0x2\")][Vv(\"0x9\")](\"\")}),t[\"on\"](Vv(\"0xb\"),()=>this[Vv(\"0x15\")]()),t[\"bind\"](Vv(\"0x1\"))[\"to\"](this[Vv(\"0x5\")][Vv(\"0x6\")],Vv(\"0x4\")),e}}var Hv=n(189);class Wv extends Uv{constructor(e,t,n,i){super(e,t,n,i);const{t:r}=e;this[\"set\"](\"type\",\"\"),this[\"bind\"](\"type\")[\"to\"](this,\"descriptionParts\",e=>e&&e[0]?e[0][\"type\"]:\"\"),this[\"bind\"](\"description\")[\"to\"](this,\"descriptionParts\",this,\"isActive\",(e,t)=>{let n=\"\";for(const t of e)n+=\"<p>\"+$v(t[\"content\"])+\"</p>\";return t?n:Object(Hv[\"a\"])(n,{limit:140})}),this[\"gt\"]=null,this[\"acceptButton\"]=this[\"pt\"](r(\"Accept suggestion\"),Ks[\"a\"],\"ck-suggestion--accept\",\"acceptSuggestion\"),this[\"discardButton\"]=this[\"pt\"](r(\"Discard suggestion\"),Xs[\"a\"],\"ck-suggestion--discard\",\"discardSuggestion\"),this[\"userView\"]=new im[\"a\"](e,this[\"_model\"][\"author\"]),this[\"userView\"][\"extendTemplate\"]({attributes:{class:[\"ck-suggestion__user\",\"ck-annotation__user\"]}}),this[\"setTemplate\"](this[\"lt\"]())}[\"lt\"](){const e=this[\"bindTemplate\"];return{tag:\"div\",attributes:{class:[\"ck-suggestion-wrapper\",e[\"if\"](\"isActive\",\"ck-suggestion-wrapper--active\"),e[\"to\"](\"type\",e=>\"ck-suggestion-\"+e)],\"data-suggestion-id\":this[\"_model\"][\"id\"],\"data-thread-id\":this[\"_model\"][\"commentThread\"][\"id\"],\"data-author-id\":this[\"_model\"][\"author\"][\"id\"],tabindex:-1},children:[{tag:\"div\",attributes:{class:[\"ck-suggestion\",\"ck-annotation\"]},children:[this[\"userView\"],{tag:\"div\",attributes:{class:[\"ck-suggestion__main\",\"ck-annotation__main\"]},children:[{tag:\"div\",attributes:{class:[\"ck-suggestion__info\",\"ck-annotation__info\"]},children:[{tag:\"span\",children:[{text:this[\"userView\"][\"name\"]}],attributes:{class:[\"ck-suggestion__info-name\",\"ck-annotation__info-name\"]}},{tag:\"time\",attributes:{datetime:e[\"to\"](\"createdAt\"),class:[\"ck-comment__info-time\",\"ck-annotation__info-time\"]},children:[{text:e[\"to\"](\"createdAt\",e=>this[\"_config\"][\"formatDateTime\"](e))}]}]},{tag:\"div\",attributes:{class:[\"ck-suggestion__actions\",\"ck-annotation__actions\"]},children:[this[\"acceptButton\"],this[\"discardButton\"]]},{tag:\"div\",attributes:{class:[\"ck-annotation__content-wrapper\"]}}]}]},this[\"commentsListView\"],this[\"commentThreadInputView\"]]}}[\"render\"](){super[\"render\"](),this[\"gt\"]=this[\"element\"][\"querySelector\"](\".ck-annotation__content-wrapper\"),this[\"gt\"][\"innerHTML\"]=this[\"description\"],this[\"on\"](\"change:description\",(e,t,n)=>{this[\"gt\"][\"innerHTML\"]=n})}[\"pt\"](e,t,n,i){const r=new z[\"a\"](this[\"locale\"]);return r[\"set\"]({label:e,icon:t,tooltip:!0}),r[\"extendTemplate\"]({attributes:{class:n}}),r[\"on\"](\"execute\",()=>{this[\"fire\"](i,this[\"_model\"][\"id\"])}),r[\"bind\"](\"isEnabled\")[\"to\"](this),r}}function $v(e){let t=\"\";return t+=e[\"split\"](\"*\")[\"map\"]((e,t)=>t%2!=0?'<span class=\"ck-suggestion-type\">'+qv(e)+\"</span>\":qv(e))[\"join\"](\"\"),t}function qv(e){const t=document[\"createElement\"](\"span\");return t[\"innerText\"]=e,t[\"innerHTML\"]}var Yv=n(187);var Jv='\\x3c!--\\n\\n What you\\'re currently looking at is the source code of a legally protected, proprietary software.\\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\\n\\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\\n\\n!--\\x3e\\n\\n<svg viewBox=\"0 0 20 20\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M1 3.28C1 2.574 1.574 2 2.272 2h10.23c.703 0 1.272.573 1.272 1.28v12.768c0 .708-.574 1.281-1.271 1.281H2.272A1.276 1.276 0 0 1 1 16.049V3.28zm11.503 12.954c-.008 0-.006-12.77-.006-12.77 0-.003-10.225-.004-10.225-.004.007 0 .005 12.77.005 12.77 0 .003 10.226.004 10.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351 0 .636.284.636.64a.641.641 0 0 1-.636.638H4.829a.636.636 0 0 1-.635-.639zm0 2.554c0-.352.292-.638.636-.638h5.116c.351 0 .636.283.636.638a.641.641 0 0 1-.636.639H4.829a.636.636 0 0 1-.635-.639zm0 2.555c0-.353.289-.639.633-.639h2.567c.35 0 .633.284.633.64a.639.639 0 0 1-.633.638H4.826a.634.634 0 0 1-.632-.639z\"/><path d=\"M10.515 17.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319 0-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6 1.059-.56 2.11.119 1.051.68 1.443 1.271 1.177 1.771L14.53 17.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954 2.954 0 0 0-.487.21 2.044 2.044 0 0 0-.347.31c-.193.174-.332.262-.416.262-.064 0-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z\"/></g></svg>\\n';class Gv extends ve[\"a\"]{static get[\"requires\"](){return[ob[\"a\"],hb,Cv,Hm[\"a\"],Vf[\"a\"]]}static get[\"pluginName\"](){return\"TrackChangesUI\"}constructor(e){super(e),this[\"_suggestionToController\"]=new Map,this[\"_viewToController\"]=new Map,this[\"st\"]=new Map;this[\"editor\"][\"config\"][\"define\"](\"trackChanges.SuggestionThreadView\",Wv)}[\"init\"](){const e=this[\"editor\"],t=e[\"plugins\"][\"get\"](\"TrackChangesEditing\"),n=e[\"plugins\"][\"get\"](\"Annotations\"),i=e[\"plugins\"][\"get\"](\"EditorAnnotations\"),r=e[\"plugins\"][\"get\"](\"CommentsRepository\");e[\"ui\"][\"componentFactory\"][\"add\"](\"trackChanges\",e=>this[\"nt\"](e)),i[\"addSourceCollector\"](()=>{const e=[];for(const[t,n]of Array[\"from\"](this[\"_suggestionToController\"])){const i=t[\"getAllAdjacentSuggestions\"](),r=[];for(const e of i){const t=e[\"getRanges\"]();for(let e=0;e<t[\"length\"];e++)0==e&&r[\"length\"]>0?r[0][\"end\"]=t[0][\"end\"][\"clone\"]():r[\"push\"](t[e])}e[\"push\"]([n[\"view\"],r])}return e}),this[\"listenTo\"](t,\"suggestionLoaded\",(e,t)=>{let n=!1;const r=Object(Ze[\"a\"])(e=>{n||e?n&&e&&(this[\"rt\"](t),i[\"refreshSelectedViews\"](),n=!1):(this[\"ct\"](t),i[\"refreshSelectedViews\"](),n=!0)},10);this[\"st\"][\"set\"](t,r),this[\"listenTo\"](t,\"change:previous\",(e,n,i,o)=>{t[\"isInContent\"]&&(null==i?(this[\"at\"](o[\"head\"]),r(!1)):(this[\"at\"](i[\"head\"]),r(!0)))}),null===t[\"previous\"]?r(!1):this[\"at\"](t[\"head\"])}),this[\"listenTo\"](t,\"suggestionUnloaded\",(e,t,n)=>{this[\"stopListening\"](t,\"change:previous\"),this[\"st\"][\"get\"](t)[\"cancel\"](),this[\"st\"][\"delete\"](t);const i=n?n[\"head\"]:t,r=this[\"_suggestionToController\"][\"get\"](i);null!==n&&this[\"at\"](i),null===n&&r&&this[\"rt\"](t)}),this[\"listenTo\"](t,\"suggestionChanged\",(e,t)=>{this[\"at\"](t)}),this[\"listenTo\"](n,\"change:activeView\",(e,n,i,r)=>{if(r&&this[\"_viewToController\"][\"has\"](r)&&(r[\"isActive\"]=!1),i&&this[\"_viewToController\"][\"has\"](i)){const e=this[\"_viewToController\"][\"get\"](i)[\"model\"][\"getAllAdjacentSuggestions\"]();i[\"isActive\"]=!0,t[\"activeMarkers\"]=e[\"reduce\"]((e,t)=>[...e,...t[\"getMarkerNames\"]()],[])}else t[\"activeMarkers\"]=[]}),this[\"listenTo\"](r,\"addComment\",(e,{threadId:n,isFromAdapter:i})=>{if(i||!t[\"hasSuggestion\"](n))return;const r=t[\"getSuggestion\"](n);this[\"_suggestionToController\"][\"get\"](r)[\"view\"][\"focus\"]()},{priority:\"lowest\"})}[\"nt\"](e){const t=Z(e,Vr),n=this[\"editor\"][\"commands\"][\"get\"](\"trackChanges\"),{t:i}=this[\"editor\"];t[\"buttonView\"][\"set\"]({tooltip:i(\"Track changes\"),label:i(\"Track changes\"),icon:Jv}),t[\"buttonView\"][\"bind\"](\"isOn\")[\"to\"](n,\"value\"),t[\"buttonView\"][\"on\"](\"execute\",()=>n[\"execute\"]());const r=new On[\"a\"],o=[{type:\"switchbutton\",model:{withText:!0,label:i(\"Track changes\"),commandName:\"trackChanges\"}},{type:\"separator\"},{type:\"button\",model:{withText:!0,label:i(\"Accept all suggestions\"),commandName:\"acceptAllSuggestions\"}},{type:\"button\",model:{withText:!0,label:i(\"Accept all selected suggestions\"),commandName:\"acceptSelectedSuggestions\"}},{type:\"button\",model:{withText:!0,label:i(\"Discard all suggestions\"),commandName:\"discardAllSuggestions\"}},{type:\"button\",model:{withText:!0,label:i(\"Discard all selected suggestions\"),commandName:\"discardSelectedSuggestions\"}}];for(const e of o){const t={type:e[\"type\"]};if(e[\"model\"]){const n=new Fr(e[\"model\"]),i=this[\"editor\"][\"commands\"][\"get\"](n[\"commandName\"]);n[\"bind\"](\"isOn\",\"isEnabled\")[\"to\"](i,\"value\",\"isEnabled\"),t[\"model\"]=n}r[\"add\"](t)}te(t,r);const s=o[\"filter\"](e=>null!=e[\"model\"])[\"map\"](e=>this[\"editor\"][\"commands\"][\"get\"](e[\"model\"][\"commandName\"]));return t[\"buttonView\"][\"actionView\"][\"unbind\"](\"isEnabled\"),t[\"buttonView\"][\"arrowView\"][\"unbind\"](\"isEnabled\"),t[\"buttonView\"][\"actionView\"][\"bind\"](\"isEnabled\")[\"to\"](n,\"isEnabled\"),t[\"buttonView\"][\"arrowView\"][\"bind\"](\"isEnabled\")[\"toMany\"](s,\"isEnabled\",(...e)=>e[\"some\"](e=>e)),t[\"on\"](\"execute\",e=>this[\"editor\"][\"execute\"](e[\"source\"][\"commandName\"])),t}[\"ct\"](e){const t=this[\"editor\"],n=t[\"config\"],i=t[\"plugins\"][\"get\"](\"Annotations\"),r=e[\"getAllAdjacentSuggestions\"]()[\"filter\"](e=>e[\"isInContent\"]),o=t[\"plugins\"][\"get\"](\"Users\")[\"me\"],s=t[\"commands\"][\"get\"](\"acceptSuggestion\"),a=t[\"commands\"][\"get\"](\"discardSuggestion\"),c=new(0,n[\"get\"](\"trackChanges\")[\"SuggestionThreadView\"])(t[\"locale\"],e,o,{editorConfig:n[\"get\"](\"comments.editorConfig\"),maxCommentsWhenCollapsed:n[\"get\"](\"comments.maxCommentsWhenCollapsed\"),maxThreadTotalWeight:n[\"get\"](\"comments.maxThreadTotalWeight\"),maxCommentCharsWhenCollapsed:n[\"get\"](\"comments.maxCommentCharsWhenCollapsed\"),formatDateTime:Object(Yv[\"a\"])(n[\"get\"](\"locale\")),CommentView:n[\"get\"](\"comments\")[\"CommentView\"]}),l=new Lv(e,c,s,a);c[\"descriptionParts\"]=t[\"plugins\"][\"get\"](\"TrackChangesEditing\")[\"_descriptionFactory\"][\"getDescriptions\"](r),this[\"_suggestionToController\"][\"set\"](e,l),this[\"_viewToController\"][\"set\"](c,l);const d=i[\"add\"](c,()=>{const e=r[0][\"getFirstMarker\"]();return Jp(t[\"editing\"],e)});d[\"bind\"](\"type\")[\"to\"](l[\"view\"],\"type\",e=>\"suggestion-\"+e),d[\"bind\"](\"hasChanges\")[\"to\"](c,\"isDirty\"),d[\"bind\"](\"length\")[\"to\"](c);const u=t[\"plugins\"][\"get\"](\"PendingActions\");let h;c[\"on\"](\"change:isDirty\",(e,t,n)=>{if(n){const e=this[\"editor\"][\"locale\"][\"t\"];h=u[\"add\"](e({string:\"Unsaved change in suggestion.\",id:\"PENDING_ACTION_SUGGESTION\"}))}else u[\"remove\"](h),h=null})}[\"rt\"](e){const t=this[\"editor\"][\"plugins\"][\"get\"](\"Annotations\"),n=this[\"_suggestionToController\"][\"get\"](e),i=n[\"view\"];t[\"remove\"](i),this[\"_suggestionToController\"][\"delete\"](e),this[\"_viewToController\"][\"delete\"](i),n[\"destroy\"](),i[\"destroy\"]()}[\"at\"](e){if(!this[\"_suggestionToController\"][\"has\"](e))return;const t=this[\"editor\"][\"plugins\"][\"get\"](\"TrackChangesEditing\"),n=this[\"_suggestionToController\"][\"get\"](e),i=e[\"getAllAdjacentSuggestions\"]();n[\"view\"][\"descriptionParts\"]=t[\"_descriptionFactory\"][\"getDescriptions\"](i)}[\"destroy\"](){super[\"destroy\"]();for(const e of this[\"_suggestionToController\"][\"keys\"]())this[\"rt\"](e);for(const e of this[\"st\"][\"values\"]())e[\"cancel\"]();this[\"st\"][\"clear\"]()}}const Kv=[\"editor\",\"isInContent\",\"data\",\"requires\",\"push\",\"getSuggestion\",\"subType\",\"pluginName\",\"addSuggestionData\",\"author\",\"hasComments\",\"get\",\"adapter\",\"getSuggestions\",\"addSuggestion\",\"plugins\"];(function(e,t){const n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(Kv,321);const Xv=function(e,t){e=e-0;let n=Kv[e];return n};class Qv extends ve[\"a\"]{static get[Xv(\"0x2\")](){return[Cv,Gv,qb,jb,Hb]}static get[Xv(\"0x6\")](){return\"TrackChanges\"}set[Xv(\"0xb\")](e){this[Xv(\"0xf\")][Xv(\"0xe\")][\"get\"](Cv)[\"adapter\"]=e}get[\"adapter\"](){return this[\"editor\"][\"plugins\"][\"get\"](Cv)[Xv(\"0xb\")]}[Xv(\"0xd\")](e){return this[\"editor\"][\"plugins\"][\"get\"](Cv)[Xv(\"0x7\")](e)}[\"getSuggestions\"](){const e=[];for(const t of this[Xv(\"0xf\")][Xv(\"0xe\")][Xv(\"0xa\")](Cv)[Xv(\"0xc\")]())t[Xv(\"0x0\")]&&e[Xv(\"0x3\")](Zv(t));return e}[Xv(\"0x4\")](e){return Zv(this[\"editor\"][Xv(\"0xe\")][Xv(\"0xa\")](Cv)[Xv(\"0x4\")](e))}}function Zv(e){return{id:e[\"id\"],type:e[Xv(\"0x5\")]?e[\"type\"]+\":\"+e[Xv(\"0x5\")]:e[\"type\"],authorId:e[Xv(\"0x8\")][\"id\"],createdAt:e[\"createdAt\"],hasComments:e[Xv(\"0x9\")],data:e[Xv(\"0x1\")]}}var ek=[\"pluginName\",\"requires\"];(function(e,t){var n=function(t){while(--t){e[\"push\"](e[\"shift\"]())}};n(++t)})(ek,231);var tk=function(e,t){e=e-0;var n=ek[e];return n};class nk extends ve[\"a\"]{static get[tk(\"0x0\")](){return[Gb,Rv,Qv]}static get[tk(\"0x1\")](){return\"RealTimeCollaborativeTrackChanges\"}}class ik extends ke[\"a\"]{constructor(e,t){super(e);this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=rk(this.editor.model,this._direction);this.editor.model.change(t=>{t.setSelection(e)})}_checkEnabled(){return!!rk(this.editor.model,this._direction)}}function rk(e,t){const n=e.document.selection;const i=n.getFirstPosition();const r=[];for(const n of e.markers.getMarkersGroup(\"restrictedEditingException\")){const e=n.getRange();const o=i.isTouching(e.start)&&i.hasSameParentAs(e.start)||i.isTouching(e.end)&&i.hasSameParentAs(e.end);if(e.containsPosition(i)||o){continue}if(t===\"forward\"&&e.start.isAfter(i)){r.push(e)}else if(t===\"backward\"&&e.end.isBefore(i)){r.push(e)}}if(!r.length){return null}return r.sort((e,n)=>{if(t===\"forward\"){return e.start.isAfter(n.start)?1:-1}else{return e.start.isBefore(n.start)?1:-1}}).shift()}function ok(e,t){for(const n of e.model.markers){const e=n.getRange();if(sk(e,t)){if(n.name.startsWith(\"restrictedEditingException:\")){return n}}}}function sk(e,t){return e.containsPosition(t)||e.end.isEqual(t)||e.start.isEqual(t)}function ak(e,t){if(!t){return false}const n=t.getRange();if(e.isCollapsed){return sk(n,e.focus)}return n.containsRange(e.getFirstRange(),true)}const ck=\"restricted-editing-exception_selected\";function lk(e){const t=e.editing.view;const n=e.model;const i=new Set;t.document.registerPostFixer(t=>{const r=n.document.selection;const o=ok(e,r.anchor);if(!o){return}for(const n of e.editing.mapper.markerNameToElements(o.name)){t.addClass(ck,n);i.add(n)}});e.conversion.for(\"editingDowncast\").add(e=>{e.on(\"insert\",n,{priority:\"highest\"});e.on(\"remove\",n,{priority:\"highest\"});e.on(\"attribute\",n,{priority:\"highest\"});e.on(\"selection\",n,{priority:\"highest\"});function n(){t.change(e=>{for(const t of i.values()){e.removeClass(ck,t);i.delete(t)}})}})}function dk(e){return t=>{let n=false;for(const[i,r]of e.model.document.differ._changedMarkers){if(i.startsWith(\"restrictedEditingException\")&&r.newRange.root.rootName==\"$graveyard\"){t.updateMarker(i,{range:t.createRange(t.createPositionAt(e.model.document.selection.focus))});n=true}}return n}}function uk(e){return t=>{let n=false;for(const i of e.model.document.differ.getChanges()){if(i.type==\"insert\"&&i.name==\"$text\"){n=fk(e,i.position,i.length,t)||n;n=mk(e,i.position,i.length,t)||n}}return false}}function hk(e){return t=>t.on(\"element:span\",(t,n,i)=>{const{writer:r}=i;const o=new rh[\"a\"](e.view);const s=o.match(n.viewItem);if(!s){return}const a=s.match;a.name=true;const{modelRange:c}=i.convertChildren(n.viewItem,n.modelCursor);i.consumable.consume(n.viewItem,a);const l=e.model(n.viewItem);const d=r.createElement(\"$marker\",{\"data-name\":l});const u=r.createElement(\"$marker\",{\"data-name\":l});r.insert(u,c.end);r.insert(d,c.start);n.modelRange=r.createRange(r.createPositionBefore(d),r.createPositionAfter(u));n.modelCursor=n.modelRange.end})}function fk(e,t,n,i){const r=ok(e,t.getShiftedBy(n));if(r&&r.getStart().isEqual(t.getShiftedBy(n))){i.updateMarker(r,{range:i.createRange(r.getStart().getShiftedBy(-n),r.getEnd())});return true}return false}function mk(e,t,n,i){const r=ok(e,t);if(r&&r.getEnd().isEqual(t)){i.updateMarker(r,{range:i.createRange(r.getStart(),r.getEnd().getShiftedBy(n))});return true}return false}const gk=\"RestrictedEditingMode\";class pk extends ve[\"a\"]{static get pluginName(){return\"RestrictedEditingModeEditing\"}constructor(e){super(e);e.config.define(\"restrictedEditing\",{allowedCommands:[\"bold\",\"italic\",\"link\",\"unlink\"],allowedAttributes:[\"bold\",\"italic\",\"linkHref\"]});this._alwaysEnabled=new Set([\"undo\",\"redo\",\"goToPreviousRestrictedEditingException\",\"goToNextRestrictedEditingException\"]);this._allowedInException=new Set([\"input\",\"delete\",\"forwardDelete\"])}init(){const e=this.editor;const t=e.editing.view;const n=e.config.get(\"restrictedEditing.allowedCommands\");n.forEach(e=>this._allowedInException.add(e));this._setupConversion();this._setupCommandsToggling();this._setupRestrictions();e.commands.add(\"goToPreviousRestrictedEditingException\",new ik(e,\"backward\"));e.commands.add(\"goToNextRestrictedEditingException\",new ik(e,\"forward\"));e.keystrokes.set(\"Tab\",bk(e,\"goToNextRestrictedEditingException\"));e.keystrokes.set(\"Shift+Tab\",bk(e,\"goToPreviousRestrictedEditingException\"));e.keystrokes.set(\"Ctrl+A\",_k(e));t.change(e=>{for(const n of t.document.roots){e.addClass(\"ck-restricted-editing_mode_restricted\",n)}})}enableCommand(e){const t=this.editor.commands.get(e);t.clearForceDisabled(gk);this._alwaysEnabled.add(e)}_setupConversion(){const e=this.editor;const t=e.model;const n=t.document;let i=0;e.conversion.for(\"upcast\").add(hk({view:{name:\"span\",classes:\"restricted-editing-exception\"},model:()=>{i++;return`restrictedEditingException:${i}`}}));e.conversion.for(\"downcast\").markerToHighlight({model:\"restrictedEditingException\",view:()=>({name:\"span\",classes:\"restricted-editing-exception\",priority:-10})});e.conversion.for(\"editingDowncast\").markerToElement({model:\"restrictedEditingException\",view:(e,t)=>t.createUIElement(\"span\",{class:\"restricted-editing-exception restricted-editing-exception_collapsed\"})});e.conversion.for(\"dataDowncast\").markerToElement({model:\"restrictedEditingException\",view:(e,t)=>t.createEmptyElement(\"span\",{class:\"restricted-editing-exception\"})});n.registerPostFixer(uk(e));n.registerPostFixer(dk(e));t.markers.on(\"update:restrictedEditingException\",yk(e));lk(e)}_setupRestrictions(){const e=this.editor;const t=e.model;const n=t.document.selection;const i=e.editing.view.document;this.listenTo(t,\"deleteContent\",vk(e),{priority:\"high\"});const r=e.commands.get(\"input\");if(r){this.listenTo(r,\"execute\",kk(e),{priority:\"high\"})}this.listenTo(i,\"clipboardInput\",(function(t){if(!xk(e,n.getFirstRange())){t.stop()}}),{priority:\"high\"});this.listenTo(i,\"clipboardOutput\",(t,i)=>{if(i.method==\"cut\"&&!xk(e,n.getFirstRange())){t.stop()}},{priority:\"high\"});const o=e.config.get(\"restrictedEditing.allowedAttributes\");t.schema.addAttributeCheck(Ck(o));t.schema.addChildCheck(Ak)}_setupCommandsToggling(){const e=this.editor;const t=e.model;const n=t.document;this._disableCommands(e);this.listenTo(n.selection,\"change\",this._checkCommands.bind(this));this.listenTo(n,\"change:data\",this._checkCommands.bind(this))}_checkCommands(){const e=this.editor;const t=e.model.document.selection;if(t.rangeCount>1){this._disableCommands(e);return}const n=ok(e,t.focus);this._disableCommands();if(ak(t,n)){this._enableCommands(n)}}_enableCommands(e){const t=this.editor;const n=this._getCommandNamesToToggle(t,this._allowedInException).filter(e=>this._allowedInException.has(e)).filter(wk(t.model.document.selection,e.getRange())).map(e=>t.commands.get(e));for(const e of n){e.clearForceDisabled(gk)}}_disableCommands(){const e=this.editor;const t=this._getCommandNamesToToggle(e).map(t=>e.commands.get(t));for(const e of t){e.forceDisabled(gk)}}_getCommandNamesToToggle(e){return Array.from(e.commands.names()).filter(e=>!this._alwaysEnabled.has(e))}}function bk(e,t){return(n,i)=>{const r=e.commands.get(t);if(r.isEnabled){e.execute(t);i()}}}function _k(e){return(t,n)=>{const i=e.model;const r=e.model.document.selection;const o=ok(e,r.focus);if(!o){return}const s=r.getFirstRange();const a=o.getRange();if(a.containsRange(s,true)||r.isCollapsed){n();i.change(e=>{e.setSelection(o.getRange())})}}}function wk(e,t){return n=>{if(n==\"delete\"&&t.start.isEqual(e.focus)){return false}if(n==\"forwardDelete\"&&e.isCollapsed&&t.end.isEqual(e.focus)){return false}return true}}function vk(e){return(t,n)=>{const[i]=n;const r=ok(e,i.focus)||ok(e,i.anchor);if(!r){t.stop();return}if(i.isCollapsed){return}const o=r.getRange().getIntersection(i.getFirstRange());if(i.is(\"documentSelection\")){e.model.change(e=>{e.setSelection(o)})}else{i.setTo(o)}}}function kk(e){return(t,n)=>{const[i]=n;const{range:r}=i;if(!r){return}if(!xk(e,r)){t.stop()}}}function xk(e,t){const n=ok(e,t.start);const i=ok(e,t.end);return n&&i&&i===n}function yk(e){const t=e.model;return(e,n,i,r)=>{if(!i&&!r.isFlat){t.change(e=>{const t=r.start;const i=r.end;const o=t.path.length>i.path.length;const s=o?r.start:e.createPositionAt(i.parent,0);const a=o?e.createPositionAt(t.parent,\"end\"):r.end;e.updateMarker(n,{range:e.createRange(s,a)})})}}}function Ck(e){return(t,n)=>{if(t.startsWith(\"$clipboardHolder\")){return e.includes(n)}}}function Ak(e,t){if(e.startsWith(\"$clipboardHolder\")){return t.name===\"$text\"}}var Tk='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.5 6.5a3.5 3.5 0 0 1 3.495 3.308L19 10v2a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1v-2l.005-.192A3.5 3.5 0 0 1 15.5 6.5zm0 7.5a.5.5 0 0 0-.492.41L15 14.5v2a.5.5 0 0 0 .992.09L16 16.5v-2a.5.5 0 0 0-.5-.5zm0-6a2 2 0 0 0-2 2v2h4v-2a2 2 0 0 0-2-2zm-9.25 8a.75.75 0 1 1 0 1.5H.75a.75.75 0 1 1 0-1.5h5.5zm0-5a.75.75 0 1 1 0 1.5H.75a.75.75 0 1 1 0-1.5h5.5zm3-5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1 0-1.5h8.5zm6-5a.75.75 0 1 1 0 1.5H.75a.75.75 0 0 1 0-1.5h14.5z\"/></svg>';class Ek extends ve[\"a\"]{static get pluginName(){return\"RestrictedEditingModeUI\"}init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(\"restrictedEditing\",n=>{const i=Z(n);const r=new On[\"a\"];r.add(this._getButtonDefinition(\"goToPreviousRestrictedEditingException\",t(\"Previous editable region\"),\"Shift+Tab\"));r.add(this._getButtonDefinition(\"goToNextRestrictedEditingException\",t(\"Next editable region\"),\"Tab\"));te(i,r);i.buttonView.set({label:t(\"Navigate editable regions\"),icon:Tk,tooltip:true,isEnabled:true,isOn:false});this.listenTo(i,\"execute\",t=>{e.execute(t.source._commandName);e.editing.view.focus()});return i})}_getButtonDefinition(e,t,n){const i=this.editor;const r=i.commands.get(e);const o={type:\"button\",model:new Fr({label:t,withText:true,keystroke:n,withKeystroke:true,_commandName:e})};o.model.bind(\"isEnabled\").to(r,\"isEnabled\");return o}}var Sk=n(467);class Ok extends ve[\"a\"]{static get pluginName(){return\"RestrictedEditingMode\"}static get requires(){return[pk,Ek]}}var Ik=n(181);var Pk=n(469);class Mk extends m[\"a\"]{constructor(e,t={}){super(e);const n=this.bindTemplate;this.set(\"label\",t.label||\"\");this.set(\"class\",t.class||null);this.children=this.createCollection();this.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-form__header\",n.to(\"class\")]},children:this.children});const i=new m[\"a\"](e);i.setTemplate({tag:\"span\",attributes:{class:[\"ck\",\"ck-form__header__label\"]},children:[{text:n.to(\"label\")}]});this.children.add(i)}}class Rk extends Mk{constructor(e,t){super(e);const n=e.t;this.set(\"class\",\"ck-special-characters-navigation\");this.groupDropdownView=this._createGroupDropdown(t);this.groupDropdownView.panelPosition=e.uiLanguageDirection===\"rtl\"?\"se\":\"sw\";this.label=n(\"Special characters\");this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}_createGroupDropdown(e){const t=this.locale;const n=t.t;const i=Z(t);const r=this._getCharacterGroupListItemDefinitions(i,e);i.set(\"value\",r.first.model.label);i.buttonView.bind(\"label\").to(i,\"value\");i.buttonView.set({isOn:false,withText:true,tooltip:n(\"Character categories\"),class:[\"ck-dropdown__button_label-width_auto\"]});i.on(\"execute\",e=>{i.value=e.source.label});i.delegate(\"execute\").to(this);te(i,r);return i}_getCharacterGroupListItemDefinitions(e,t){const n=new On[\"a\"];for(const i of t){const t={type:\"button\",model:new Fr({label:i,withText:true})};t.model.bind(\"isOn\").to(e,\"value\",e=>e===t.model.label);n.add(t)}return n}}var Nk=n(471);class jk extends m[\"a\"]{constructor(e){super(e);this.tiles=this.createCollection();this.setTemplate({tag:\"div\",children:[{tag:\"div\",attributes:{class:[\"ck\",\"ck-character-grid__tiles\"]},children:this.tiles}],attributes:{class:[\"ck\",\"ck-character-grid\"]}})}createTile(e,t){const n=new z[\"a\"](this.locale);n.set({label:e,withText:true,class:\"ck-character-grid__tile\"});n.extendTemplate({attributes:{title:t},on:{mouseover:n.bindTemplate.to(\"mouseover\")}});n.on(\"mouseover\",()=>{this.fire(\"tileHover\",{name:t,character:e})});n.on(\"execute\",()=>{this.fire(\"execute\",{name:t,character:e})});return n}}var Dk=n(473);class Lk extends m[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;this.set(\"character\",null);this.set(\"name\",null);this.bind(\"code\").to(this,\"character\",Bk);this.setTemplate({tag:\"div\",children:[{tag:\"span\",attributes:{class:[\"ck-character-info__name\"]},children:[{text:t.to(\"name\",e=>e?e:\"​\")}]},{tag:\"span\",attributes:{class:[\"ck-character-info__code\"]},children:[{text:t.to(\"code\")}]}],attributes:{class:[\"ck\",\"ck-character-info\"]}})}}function Bk(e){if(e===null){return\"\"}const t=e.codePointAt(0).toString(16);return\"U+\"+(\"0000\"+t).slice(-4)}var Fk='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z\"/></svg>';var zk=n(475);const Vk=\"All\";class Uk extends ve[\"a\"]{static get requires(){return[Ik[\"a\"]]}static get pluginName(){return\"SpecialCharacters\"}constructor(e){super(e);this._characters=new Map;this._groups=new Map}init(){const e=this.editor;const t=e.t;const n=e.commands.get(\"input\");e.ui.componentFactory.add(\"specialCharacters\",i=>{const r=Z(i);let o;r.buttonView.set({label:t(\"Special characters\"),icon:Fk,tooltip:true});r.bind(\"isEnabled\").to(n);r.on(\"execute\",(t,n)=>{e.execute(\"input\",{text:n.character});e.editing.view.focus()});r.on(\"change:isOpen\",()=>{if(!o){o=this._createDropdownPanelContent(i,r);r.panelView.children.add(o.navigationView);r.panelView.children.add(o.gridView);r.panelView.children.add(o.infoView)}o.infoView.set({character:null,name:null})});return r})}addItems(e,t){if(e===Vk){throw new se[\"b\"](`special-character-invalid-group-name: The name \"${Vk}\" is reserved and cannot be used.`)}const n=this._getGroup(e);for(const e of t){n.add(e.title);this._characters.set(e.title,e.character)}}getGroups(){return this._groups.keys()}getCharactersForGroup(e){if(e===Vk){return new Set(this._characters.keys())}return this._groups.get(e)}getCharacter(e){return this._characters.get(e)}_getGroup(e){if(!this._groups.has(e)){this._groups.set(e,new Set)}return this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();const n=this.getCharactersForGroup(e);for(const e of n){const n=this.getCharacter(e);t.tiles.add(t.createTile(n,e))}}_createDropdownPanelContent(e,t){const n=[...this.getGroups()];n.unshift(Vk);const i=new Rk(e,n);const r=new jk(e);const o=new Lk(e);r.delegate(\"execute\").to(t);r.on(\"tileHover\",(e,t)=>{o.set(t)});i.on(\"execute\",()=>{this._updateGrid(i.currentGroupName,r)});this._updateGrid(i.currentGroupName,r);return{navigationView:i,gridView:r,infoView:o}}}const Hk=\"strikethrough\";class Wk extends ve[\"a\"]{static get pluginName(){return\"StrikethroughEditing\"}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:Hk});e.model.schema.setAttributeProperties(Hk,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:Hk,view:\"s\",upcastAlso:[\"del\",\"strike\",{styles:{\"text-decoration\":\"line-through\"}}]});e.commands.add(Hk,new cr[\"a\"](e,Hk));e.keystrokes.set(\"CTRL+SHIFT+X\",\"strikethrough\")}}var $k='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z\"/><path d=\"M3 10.5V9h14v1.5z\"/></svg>';const qk=\"strikethrough\";class Yk extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(qk,n=>{const i=e.commands.get(qk);const r=new z[\"a\"](n);r.set({label:t(\"Strikethrough\"),icon:$k,keystroke:\"CTRL+SHIFT+X\",tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(qk);e.editing.view.focus()});return r})}}class Jk extends ve[\"a\"]{static get requires(){return[Wk,Yk]}static get pluginName(){return\"Strikethrough\"}}const Gk=\"subscript\";class Kk extends ve[\"a\"]{static get pluginName(){return\"SubscriptEditing\"}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:Gk});e.model.schema.setAttributeProperties(Gk,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:Gk,view:\"sub\",upcastAlso:[{styles:{\"vertical-align\":\"sub\"}}]});e.commands.add(Gk,new cr[\"a\"](e,Gk))}}var Xk='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z\"/></svg>';const Qk=\"subscript\";class Zk extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(Qk,n=>{const i=e.commands.get(Qk);const r=new z[\"a\"](n);r.set({label:t(\"Subscript\"),icon:Xk,tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(Qk);e.editing.view.focus()});return r})}}class ex extends ve[\"a\"]{static get requires(){return[Kk,Zk]}static get pluginName(){return\"Subscript\"}}const tx=\"superscript\";class nx extends ve[\"a\"]{static get pluginName(){return\"SuperscriptEditing\"}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:tx});e.model.schema.setAttributeProperties(tx,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:tx,view:\"sup\",upcastAlso:[{styles:{\"vertical-align\":\"super\"}}]});e.commands.add(tx,new cr[\"a\"](e,tx))}}var ix='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z\"/></svg>';const rx=\"superscript\";class ox extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(rx,n=>{const i=e.commands.get(rx);const r=new z[\"a\"](n);r.set({label:t(\"Superscript\"),icon:ix,tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(rx);e.editing.view.focus()});return r})}}class sx extends ve[\"a\"]{static get requires(){return[nx,ox]}static get pluginName(){return\"Superscript\"}}function ax(e,t,n,i,r=1){if(t>r){i.setAttribute(e,t,n)}else{i.removeAttribute(e,n)}}function cx(e,t,n={}){const i=e.createElement(\"tableCell\",n);e.insertElement(\"paragraph\",i);e.insert(i,t);return i}function lx(e,t){const n=t.parent.parent;const i=parseInt(n.getAttribute(\"headingColumns\")||0);const{column:r}=e.getCellLocation(t);return!!i&&r<i}function dx(){return e=>{e.on(\"element:table\",(e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:true})){return}const{rows:r,headingRows:o,headingColumns:s}=fx(i);const a={};if(s){a.headingColumns=s}if(o){a.headingRows=o}const c=n.writer.createElement(\"table\",a);const l=n.splitToAllowedParent(c,t.modelCursor);if(!l){return}n.writer.insert(c,l.position);n.consumable.consume(i,{name:true});r.forEach(e=>n.convertItem(e,n.writer.createPositionAt(c,\"end\")));if(c.isEmpty){const e=n.writer.createElement(\"tableRow\");n.writer.insert(e,n.writer.createPositionAt(c,\"end\"));cx(n.writer,n.writer.createPositionAt(e,\"end\"))}t.modelRange=n.writer.createRange(n.writer.createPositionBefore(c),n.writer.createPositionAfter(c));if(l.cursorParent){t.modelCursor=n.writer.createPositionAt(l.cursorParent,0)}else{t.modelCursor=t.modelRange.end}})}}function ux(){return e=>{e.on(\"element:tr\",(e,t)=>{if(t.viewItem.isEmpty&&t.modelCursor.index==0){e.stop()}},{priority:\"high\"})}}function hx(e){return t=>{t.on(`element:${e}`,(e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:true})){return}const r=n.writer.createElement(\"tableCell\");const o=n.splitToAllowedParent(r,t.modelCursor);if(!o){return}n.writer.insert(r,o.position);n.consumable.consume(i,{name:true});const s=n.writer.createPositionAt(r,0);n.convertChildren(i,s);if(!r.childCount){n.writer.insertElement(\"paragraph\",s)}t.modelRange=n.writer.createRange(n.writer.createPositionBefore(r),n.writer.createPositionAfter(r));t.modelCursor=t.modelRange.end})}}function fx(e){const t={headingRows:0,headingColumns:0};const n=[];const i=[];let r;for(const o of Array.from(e.getChildren())){if(o.name===\"tbody\"||o.name===\"thead\"||o.name===\"tfoot\"){if(o.name===\"thead\"&&!r){r=o}const e=Array.from(o.getChildren()).filter(e=>e.is(\"element\",\"tr\"));for(const o of e){if(o.parent.name===\"thead\"&&o.parent===r){t.headingRows++;n.push(o)}else{i.push(o);const e=mx(o,t,r);if(e>t.headingColumns){t.headingColumns=e}}}}}t.rows=[...n,...i];return t}function mx(e){let t=0;let n=0;const i=Array.from(e.getChildren()).filter(e=>e.name===\"th\"||e.name===\"td\");while(n<i.length&&i[n].name===\"th\"){const e=i[n];const r=parseInt(e.getAttribute(\"colspan\")||1);t=t+r;n++}return t}function gx(e={}){return t=>t.on(\"insert:table\",(t,n,i)=>{const r=n.item;if(!i.consumable.consume(r,\"insert\")){return}i.consumable.consume(r,\"attribute:headingRows:table\");i.consumable.consume(r,\"attribute:headingColumns:table\");const o=e&&e.asWidget;const s=i.writer.createContainerElement(\"figure\",{class:\"table\"});const a=i.writer.createContainerElement(\"table\");i.writer.insert(i.writer.createPositionAt(s,0),a);let c;if(o){c=vx(s,i.writer)}const l=new Gw(r);const d={headingRows:r.getAttribute(\"headingRows\")||0,headingColumns:r.getAttribute(\"headingColumns\")||0};const u=new Map;for(const t of l){const{row:n,cell:o}=t;const s=r.getChild(n);const c=u.get(n)||Cx(a,s,n,d,i);u.set(n,c);i.consumable.consume(o,\"insert\");const l=i.writer.createPositionAt(c,\"end\");yx(t,d,l,i,e)}for(const e of r.getChildren()){const t=e.index;if(!u.has(t)){u.set(t,Cx(a,e,t,d,i))}}const h=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(r,o?c:s);i.writer.insert(h,o?c:s)})}function px(){return e=>e.on(\"insert:tableRow\",(e,t,n)=>{const i=t.item;if(!n.consumable.consume(i,\"insert\")){return}const r=i.parent;const o=n.mapper.toViewElement(r);const s=Px(o);const a=r.getChildIndex(i);const c=new Gw(r,{row:a});const l={headingRows:r.getAttribute(\"headingRows\")||0,headingColumns:r.getAttribute(\"headingColumns\")||0};const d=new Map;for(const e of c){const t=d.get(a)||Cx(s,i,a,l,n);d.set(a,t);n.consumable.consume(e.cell,\"insert\");const r=n.writer.createPositionAt(t,\"end\");yx(e,l,r,n,{asWidget:true})}})}function bx(){return e=>e.on(\"insert:tableCell\",(e,t,n)=>{const i=t.item;if(!n.consumable.consume(i,\"insert\")){return}const r=i.parent;const o=r.parent;const s=o.getChildIndex(r);const a=new Gw(o,{row:s});const c={headingRows:o.getAttribute(\"headingRows\")||0,headingColumns:o.getAttribute(\"headingColumns\")||0};for(const e of a){if(e.cell===i){const t=n.mapper.toViewElement(r);const o=n.writer.createPositionAt(t,r.getChildIndex(i));yx(e,c,o,n,{asWidget:true});return}}})}function _x(){return e=>e.on(\"attribute:headingColumns:table\",(e,t,n)=>{const i=t.item;if(!n.consumable.consume(t.item,e.name)){return}const r={headingRows:i.getAttribute(\"headingRows\")||0,headingColumns:i.getAttribute(\"headingColumns\")||0};const o=t.attributeOldValue;const s=t.attributeNewValue;const a=(o>s?o:s)-1;for(const e of new Gw(i,{endColumn:a})){xx(e,r,n)}})}function wx(){return e=>e.on(\"remove:tableRow\",(e,t,n)=>{e.stop();const i=n.writer;const r=n.mapper;const o=r.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is(\"element\",\"tr\"));const s=o.nodeAfter;const a=s.parent;const c=a.parent;const l=i.createRangeOn(s);const d=i.remove(l);for(const e of i.createRangeIn(d).getItems()){r.unbindViewElement(e)}Ix(\"thead\",c,n);Ix(\"tbody\",c,n)},{priority:\"higher\"})}function vx(e,t){t.setCustomProperty(\"table\",true,e);return Ft(e,t,{hasSelectionHandle:true})}function kx(e,t,n){const i=n.writer;const r=n.mapper.toViewElement(e);const o=i.createEditableElement(t,r.getAttributes());const s=Ht(o,i);zt(s,i,(e,t,n)=>n.addClass(Rx(t.classes),e),(e,t,n)=>n.removeClass(Rx(t.classes),e));i.insert(i.createPositionAfter(r),s);i.move(i.createRangeIn(r),i.createPositionAt(s,0));i.remove(i.createRangeOn(r));n.mapper.unbindViewElement(r);n.mapper.bindElements(e,s)}function xx(e,t,n){const{cell:i}=e;const r=Ax(e,t);const o=n.mapper.toViewElement(i);if(o&&o.name!==r){kx(i,r,n)}}function yx(e,t,n,i,r){const o=r&&r.asWidget;const s=Ax(e,t);const a=o?Ht(i.writer.createEditableElement(s),i.writer):i.writer.createContainerElement(s);if(o){zt(a,i.writer,(e,t,n)=>n.addClass(Rx(t.classes),e),(e,t,n)=>n.removeClass(Rx(t.classes),e))}const c=e.cell;const l=c.getChild(0);const d=c.childCount===1&&l.name===\"paragraph\";i.writer.insert(n,a);if(d&&!Mx(l)){const e=c.getChild(0);const t=i.writer.createPositionAt(a,\"end\");i.consumable.consume(e,\"insert\");if(o){const n=i.writer.createContainerElement(\"span\",{style:\"display:inline-block\"});i.mapper.bindElements(e,n);i.writer.insert(t,n);i.mapper.bindElements(c,a)}else{i.mapper.bindElements(c,a);i.mapper.bindElements(e,a)}}else{i.mapper.bindElements(c,a)}}function Cx(e,t,n,i,r){r.consumable.consume(t,\"insert\");const o=t.isEmpty?r.writer.createEmptyElement(\"tr\"):r.writer.createContainerElement(\"tr\");r.mapper.bindElements(t,o);const s=i.headingRows;const a=Ex(Tx(n,i),e,r);const c=s>0&&n>=s?n-s:n;const l=r.writer.createPositionAt(a,c);r.writer.insert(l,o);return o}function Ax(e,t){const{row:n,column:i}=e;const{headingColumns:r,headingRows:o}=t;const s=o&&o>n;if(s){return\"th\"}const a=r&&r>i;return a?\"th\":\"td\"}function Tx(e,t){return e<t.headingRows?\"thead\":\"tbody\"}function Ex(e,t,n){const i=Sx(e,t);return i?i:Ox(e,t,n)}function Sx(e,t){for(const n of t.getChildren()){if(n.name==e){return n}}}function Ox(e,t,n){const i=n.writer.createContainerElement(e);const r=n.writer.createPositionAt(t,e==\"tbody\"?\"end\":0);n.writer.insert(r,i);return i}function Ix(e,t,n){const i=Sx(e,t);if(i&&i.childCount===0){n.writer.remove(n.writer.createRangeOn(i))}}function Px(e){for(const t of e.getChildren()){if(t.name===\"table\"){return t}}}function Mx(e){return!![...e.getAttributeKeys()].length}function Rx(e){return Array.isArray(e)?e:[e]}class Nx extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=e.document.selection;const n=e.schema;const i=jx(t.getFirstPosition());this.isEnabled=n.checkChild(i,\"table\")}execute(e={}){const t=this.editor.model;const n=t.document.selection;const i=this.editor.plugins.get(\"TableUtils\");const r=Wt(n,t);t.change(n=>{const o=i.createTable(n,e);t.insertContent(o,r);n.setSelection(n.createPositionAt(o.getNodeByPath([0,0,0]),0))})}}function jx(e){const t=e.parent;return t===t.root?t:t.parent}class Dx extends ke[\"a\"]{constructor(e,t={}){super(e);this.order=t.order||\"below\"}refresh(){const e=this.editor.model.document.selection;const t=e.getFirstPosition().findAncestor(\"table\");this.isEnabled=!!t}execute(){const e=this.editor;const t=e.model.document.selection;const n=e.plugins.get(\"TableUtils\");const i=this.order===\"above\";const r=Zw(t);const o=ev(r);const s=i?o.first:o.last;const a=r[0].findAncestor(\"table\");n.insertRows(a,{at:i?s:s+1,copyStructureFromAbove:!i})}}class Lx extends ke[\"a\"]{constructor(e,t={}){super(e);this.order=t.order||\"right\"}refresh(){const e=this.editor.model.document.selection;const t=e.getFirstPosition().findAncestor(\"table\");this.isEnabled=!!t}execute(){const e=this.editor;const t=e.model.document.selection;const n=e.plugins.get(\"TableUtils\");const i=this.order===\"left\";const r=Zw(t);const o=tv(r);const s=i?o.first:o.last;const a=r[0].findAncestor(\"table\");n.insertColumns(a,{columns:1,at:i?s:s+1})}}class Bx extends ke[\"a\"]{constructor(e,t={}){super(e);this.direction=t.direction||\"horizontally\"}refresh(){const e=Zw(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=Zw(this.editor.model.document.selection)[0];const t=this.direction===\"horizontally\";const n=this.editor.plugins.get(\"TableUtils\");if(t){n.splitCellHorizontally(e,2)}else{n.splitCellVertically(e,2)}}}function Fx(e,t,n){const{startRow:i,startColumn:r,endRow:o,endColumn:s}=t;const a=n.createElement(\"table\");const c=o-i+1;for(let e=0;e<c;e++){n.insertElement(\"tableRow\",a,\"end\")}const l=[...new Gw(e,{startRow:i,endRow:o,startColumn:r,endColumn:s,includeAllSlots:true})];for(const{row:e,column:t,cell:c,isAnchor:d,cellAnchorRow:u,cellAnchorColumn:h}of l){const l=e-i;const f=a.getChild(l);if(!d){if(u<i||h<r){cx(n,n.createPositionAt(f,\"end\"))}}else{const i=n.cloneElement(c);n.append(i,f);Wx(i,e,t,o,s,n)}}$x(a,e,i,r,n);return a}function zx(e,t,n=0){const i=[];const r=new Gw(e,{startRow:n,endRow:t-1});for(const e of r){const{row:n,cellHeight:r}=e;const o=n+r-1;if(n<t&&t<=o){i.push(e)}}return i}function Vx(e,t,n){const i=e.parent;const r=i.parent;const o=i.index;const s=parseInt(e.getAttribute(\"rowspan\"));const a=t-o;const c={};const l=s-a;if(l>1){c.rowspan=l}const d=parseInt(e.getAttribute(\"colspan\")||1);if(d>1){c.colspan=d}const u=o;const h=u+a;const f=[...new Gw(r,{startRow:u,endRow:h,includeAllSlots:true})];let m=null;let g;for(const t of f){const{row:i,column:r,cell:o}=t;if(o===e&&g===undefined){g=r}if(g!==undefined&&g===r&&i===h){m=cx(n,t.getPositionBefore(),c)}}ax(\"rowspan\",a,e,n);return m}function Ux(e,t){const n=[];const i=new Gw(e);for(const e of i){const{column:i,cellWidth:r}=e;const o=i+r-1;if(i<t&&t<=o){n.push(e)}}return n}function Hx(e,t,n,i){const r=parseInt(e.getAttribute(\"colspan\"));const o=n-t;const s={};const a=r-o;if(a>1){s.colspan=a}const c=parseInt(e.getAttribute(\"rowspan\")||1);if(c>1){s.rowspan=c}const l=cx(i,i.createPositionAfter(e),s);ax(\"colspan\",o,e,i);return l}function Wx(e,t,n,i,r,o){const s=parseInt(e.getAttribute(\"colspan\")||1);const a=parseInt(e.getAttribute(\"rowspan\")||1);const c=n+s-1;if(c>r){const t=r-n+1;ax(\"colspan\",t,e,o,1)}const l=t+a-1;if(l>i){const n=i-t+1;ax(\"rowspan\",n,e,o,1)}}function $x(e,t,n,i,r){const o=parseInt(t.getAttribute(\"headingRows\")||0);if(o>0){const t=o-n;ax(\"headingRows\",t,e,r,0)}const s=parseInt(t.getAttribute(\"headingColumns\")||0);if(s>0){const t=s-i;ax(\"headingColumns\",t,e,r,0)}}function qx(e,t){const n=t.getColumns(e);const i=new Array(n).fill(0);for(const{column:t}of new Gw(e)){i[t]++}const r=i.reduce((e,t,n)=>t?e:[...e,n],[]);if(r.length>0){const n=r[r.length-1];t.removeColumns(e,{at:n});return true}return false}function Yx(e,t){const n=[];for(let t=0;t<e.childCount;t++){const i=e.getChild(t);if(i.isEmpty){n.push(t)}}if(n.length>0){const i=n[n.length-1];t.removeRows(e,{at:i});return true}return false}function Jx(e,t){const n=qx(e,t);if(!n){Yx(e,t)}}function Gx(e,t){const n=Array.from(new Gw(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));const i=n.every(({cellHeight:e})=>e===1);if(i){return t.lastRow}const r=n[0].cellHeight-1;return t.lastRow+r}function Kx(e,t){const n=Array.from(new Gw(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));const i=n.every(({cellWidth:e})=>e===1);if(i){return t.lastColumn}const r=n[0].cellWidth-1;return t.lastColumn+r}class Xx extends ke[\"a\"]{constructor(e,t){super(e);this.direction=t.direction;this.isHorizontal=this.direction==\"right\"||this.direction==\"left\"}refresh(){const e=this._getMergeableCell();this.value=e;this.isEnabled=!!e}execute(){const e=this.editor.model;const t=e.document;const n=Qw(t.selection)[0];const i=this.value;const r=this.direction;e.change(e=>{const t=r==\"right\"||r==\"down\";const o=t?n:i;const s=t?i:n;const a=s.parent;ey(s,o,e);const c=this.isHorizontal?\"colspan\":\"rowspan\";const l=parseInt(n.getAttribute(c)||1);const d=parseInt(i.getAttribute(c)||1);e.setAttribute(c,l+d,o);e.setSelection(e.createRangeIn(o));const u=this.editor.plugins.get(\"TableUtils\");const h=a.findAncestor(\"table\");Jx(h,u)})}_getMergeableCell(){const e=this.editor.model;const t=e.document;const n=Qw(t.selection)[0];if(!n){return}const i=this.editor.plugins.get(\"TableUtils\");const r=this.isHorizontal?Qx(n,this.direction,i):Zx(n,this.direction);if(!r){return}const o=this.isHorizontal?\"rowspan\":\"colspan\";const s=parseInt(n.getAttribute(o)||1);const a=parseInt(r.getAttribute(o)||1);if(a===s){return r}}}function Qx(e,t,n){const i=e.parent;const r=i.parent;const o=t==\"right\"?e.nextSibling:e.previousSibling;const s=(r.getAttribute(\"headingColumns\")||0)>0;if(!o){return}const a=t==\"right\"?e:o;const c=t==\"right\"?o:e;const{column:l}=n.getCellLocation(a);const{column:d}=n.getCellLocation(c);const u=parseInt(a.getAttribute(\"colspan\")||1);const h=lx(n,a,r);const f=lx(n,c,r);if(s&&h!=f){return}const m=l+u===d;return m?o:undefined}function Zx(e,t){const n=e.parent;const i=n.parent;const r=i.getChildIndex(n);if(t==\"down\"&&r===i.childCount-1||t==\"up\"&&r===0){return}const o=parseInt(e.getAttribute(\"rowspan\")||1);const s=i.getAttribute(\"headingRows\")||0;const a=t==\"down\"&&r+o===s;const c=t==\"up\"&&r===s;if(s&&(a||c)){return}const l=parseInt(e.getAttribute(\"rowspan\")||1);const d=t==\"down\"?r+l:r;const u=[...new Gw(i,{endRow:d})];const h=u.find(t=>t.cell===e);const f=h.column;const m=u.find(({row:e,cellHeight:n,column:i})=>{if(i!==f){return false}if(t==\"down\"){return e===d}else{return d===e+n}});return m&&m.cell}function ey(e,t,n){if(!ty(e)){if(ty(t)){n.remove(n.createRangeIn(t))}n.move(n.createRangeIn(e),n.createPositionAt(t,\"end\"))}n.remove(e)}function ty(e){return e.childCount==1&&e.getChild(0).is(\"element\",\"paragraph\")&&e.getChild(0).isEmpty}class ny extends ke[\"a\"]{refresh(){const e=Zw(this.editor.model.document.selection);const t=e[0];if(t){const n=t.findAncestor(\"table\");const i=this.editor.plugins.get(\"TableUtils\").getRows(n);const r=i-1;const o=ev(e);const s=o.first===0&&o.last===r;this.isEnabled=!s}else{this.isEnabled=false}}execute(){const e=this.editor.model;const t=Zw(e.document.selection);const n=ev(t);const i=t[0];const r=i.findAncestor(\"table\");const o=this.editor.plugins.get(\"TableUtils\").getCellLocation(i).column;e.change(e=>{const t=n.last-n.first+1;this.editor.plugins.get(\"TableUtils\").removeRows(r,{at:n.first,rows:t});const i=iy(r,n.first,o);e.setSelection(e.createPositionAt(i,0))})}}function iy(e,t,n){const i=e.getChild(t)||e.getChild(e.childCount-1);let r=i.getChild(0);let o=0;for(const e of i.getChildren()){if(o>n){return r}r=e;o+=parseInt(e.getAttribute(\"colspan\")||1)}return r}class ry extends ke[\"a\"]{refresh(){const e=Zw(this.editor.model.document.selection);const t=e[0];if(t){const n=t.findAncestor(\"table\");const i=this.editor.plugins.get(\"TableUtils\").getColumns(n);const{first:r,last:o}=tv(e);this.isEnabled=o-r<i-1}else{this.isEnabled=false}}execute(){const[e,t]=sy(this.editor.model.document.selection);const n=e.parent.parent;const i=[...new Gw(n)];const r={first:i.find(t=>t.cell===e).column,last:i.find(e=>e.cell===t).column};const o=oy(i,e,t,r);this.editor.model.change(e=>{const t=r.last-r.first+1;this.editor.plugins.get(\"TableUtils\").removeColumns(n,{at:r.first,columns:t});e.setSelection(e.createPositionAt(o,0))})}}function oy(e,t,n,i){const r=parseInt(n.getAttribute(\"colspan\")||1);if(r>1){return n}else if(t.previousSibling||n.nextSibling){return n.nextSibling||t.previousSibling}else{if(i.first){return e.reverse().find(({column:e})=>e<i.first).cell}else{return e.reverse().find(({column:e})=>e>i.last).cell}}}function sy(e){const t=Zw(e);const n=t[0];const i=t.pop();const r=[n,i];return n.isBefore(i)?r:r.reverse()}class ay extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=Zw(e.document.selection);const n=t.length>0;this.isEnabled=n;this.value=n&&t.every(e=>this._isInHeading(e,e.parent.parent))}execute(e={}){if(e.forceValue===this.value){return}const t=this.editor.model;const n=Zw(t.document.selection);const i=n[0].findAncestor(\"table\");const{first:r,last:o}=ev(n);const s=this.value?r:o+1;const a=i.getAttribute(\"headingRows\")||0;t.change(e=>{if(s){const t=s>a?a:0;const n=zx(i,s,t);for(const{cell:t}of n){Vx(t,s,e)}}ax(\"headingRows\",s,i,e,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute(\"headingRows\")||0);return!!n&&e.parent.index<n}}class cy extends ke[\"a\"]{refresh(){const e=this.editor.model;const t=Zw(e.document.selection);const n=this.editor.plugins.get(\"TableUtils\");const i=t.length>0;this.isEnabled=i;this.value=i&&t.every(e=>lx(n,e))}execute(e={}){if(e.forceValue===this.value){return}const t=this.editor.model;const n=Zw(t.document.selection);const i=n[0].findAncestor(\"table\");const{first:r,last:o}=tv(n);const s=this.value?r:o+1;t.change(e=>{if(s){const t=Ux(i,s);for(const{cell:n,column:i}of t){Hx(n,i,s,e)}}ax(\"headingColumns\",s,i,e,0)})}}class ly extends ve[\"a\"]{static get pluginName(){return\"TableUtils\"}getCellLocation(e){const t=e.parent;const n=t.parent;const i=n.getChildIndex(t);const r=new Gw(n,{row:i});for(const{cell:t,row:n,column:i}of r){if(t===e){return{row:n,column:i}}}}createTable(e,t){const n=e.createElement(\"table\");const i=parseInt(t.rows)||2;const r=parseInt(t.columns)||2;dy(e,n,0,i,r);if(t.headingRows){ax(\"headingRows\",t.headingRows,n,e,0)}if(t.headingColumns){ax(\"headingColumns\",t.headingColumns,n,e,0)}return n}insertRows(e,t={}){const n=this.editor.model;const i=t.at||0;const r=t.rows||1;const o=t.copyStructureFromAbove!==undefined;const s=t.copyStructureFromAbove?i-1:i;const a=this.getRows(e);const c=this.getColumns(e);n.change(t=>{const n=e.getAttribute(\"headingRows\")||0;if(n>i){ax(\"headingRows\",n+r,e,t,0)}if(!o&&(i===0||i===a)){dy(t,e,i,r,c);return}const l=o?Math.max(i,s):i;const d=new Gw(e,{endRow:l});const u=new Array(c).fill(1);for(const{row:e,column:n,cellHeight:a,cellWidth:c,cell:l}of d){const d=e+a-1;const h=e<i&&i<=d;const f=e<=s&&s<=d;if(h){t.setAttribute(\"rowspan\",a+r,l);u[n]=-c}else if(o&&f){u[n]=c}}for(let n=0;n<r;n++){const n=t.createElement(\"tableRow\");t.insert(n,e,i);for(let e=0;e<u.length;e++){const i=u[e];const r=t.createPositionAt(n,\"end\");if(i>0){cx(t,r,i>1?{colspan:i}:null)}e+=Math.abs(i)-1}}})}insertColumns(e,t={}){const n=this.editor.model;const i=t.at||0;const r=t.columns||1;n.change(t=>{const n=e.getAttribute(\"headingColumns\");if(i<n){t.setAttribute(\"headingColumns\",n+r,e)}const o=this.getColumns(e);if(i===0||o===i){for(const n of e.getChildren()){uy(r,t,t.createPositionAt(n,i?\"end\":0))}return}const s=new Gw(e,{column:i,includeAllSlots:true});for(const e of s){const{row:n,cell:o,cellAnchorColumn:a,cellAnchorRow:c,cellWidth:l,cellHeight:d}=e;if(a<i){t.setAttribute(\"colspan\",l+r,o);const e=c+d-1;for(let t=n;t<=e;t++){s.skipRow(t)}}else{uy(r,t,e.getPositionBefore())}}})}removeRows(e,t){const n=this.editor.model;const i=t.rows||1;const r=t.at;const o=r+i-1;n.change(t=>{const{cellsToMove:n,cellsToTrim:i}=gy(e,r,o);if(n.size){const i=o+1;py(e,i,n,t)}for(let n=o;n>=r;n--){t.remove(e.getChild(n))}for(const{rowspan:e,cell:n}of i){ax(\"rowspan\",e,n,t)}my(e,r,o,t);if(!qx(e,this)){Yx(e,this)}})}removeColumns(e,t){const n=this.editor.model;const i=t.at;const r=t.columns||1;const o=t.at+r-1;n.change(t=>{fy(e,{first:i,last:o},t);for(let n=o;n>=i;n--){for(const{cell:i,column:r,cellWidth:o}of[...new Gw(e)]){if(r<=n&&o>1&&r+o>n){ax(\"colspan\",o-1,i,t)}else if(r===n){t.remove(i)}}}if(!Yx(e,this)){qx(e,this)}})}splitCellVertically(e,t=2){const n=this.editor.model;const i=e.parent;const r=i.parent;const o=parseInt(e.getAttribute(\"rowspan\")||1);const s=parseInt(e.getAttribute(\"colspan\")||1);n.change(n=>{if(s>1){const{newCellsSpan:i,updatedSpan:r}=hy(s,t);ax(\"colspan\",r,e,n);const a={};if(i>1){a.colspan=i}if(o>1){a.rowspan=o}const c=s>t?t-1:s-1;uy(c,n,n.createPositionAfter(e),a)}if(s<t){const i=t-s;const a=[...new Gw(r)];const{column:c}=a.find(({cell:t})=>t===e);const l=a.filter(({cell:t,cellWidth:n,column:i})=>{const r=t!==e&&i===c;const o=i<c&&i+n>c;return r||o});for(const{cell:e,cellWidth:t}of l){n.setAttribute(\"colspan\",t+i,e)}const d={};if(o>1){d.rowspan=o}uy(i,n,n.createPositionAfter(e),d);const u=r.getAttribute(\"headingColumns\")||0;if(u>c){ax(\"headingColumns\",u+i,r,n)}}})}splitCellHorizontally(e,t=2){const n=this.editor.model;const i=e.parent;const r=i.parent;const o=r.getChildIndex(i);const s=parseInt(e.getAttribute(\"rowspan\")||1);const a=parseInt(e.getAttribute(\"colspan\")||1);n.change(n=>{if(s>1){const i=[...new Gw(r,{startRow:o,endRow:o+s-1,includeAllSlots:true})];const{newCellsSpan:c,updatedSpan:l}=hy(s,t);ax(\"rowspan\",l,e,n);const{column:d}=i.find(({cell:t})=>t===e);const u={};if(c>1){u.rowspan=c}if(a>1){u.colspan=a}for(const e of i){const{column:t,row:i}=e;const r=i>=o+l;const s=t===d;const a=(i+o+l)%c===0;if(r&&s&&a){uy(1,n,e.getPositionBefore(),u)}}}if(s<t){const i=t-s;const c=[...new Gw(r,{startRow:0,endRow:o})];for(const{cell:t,cellHeight:r,row:s}of c){if(t!==e&&s+r>o){const e=r+i;n.setAttribute(\"rowspan\",e,t)}}const l={};if(a>1){l.colspan=a}dy(n,r,o+1,i,1,l);const d=r.getAttribute(\"headingRows\")||0;if(d>o){ax(\"headingRows\",d+i,r,n)}}})}getColumns(e){const t=e.getChild(0);return[...t.getChildren()].reduce((e,t)=>{const n=parseInt(t.getAttribute(\"colspan\")||1);return e+n},0)}getRows(e){return e.childCount}}function dy(e,t,n,i,r,o={}){for(let s=0;s<i;s++){const i=e.createElement(\"tableRow\");e.insert(i,t,n);uy(r,e,e.createPositionAt(i,\"end\"),o)}}function uy(e,t,n,i={}){for(let r=0;r<e;r++){cx(t,n,i)}}function hy(e,t){if(e<t){return{newCellsSpan:1,updatedSpan:1}}const n=Math.floor(e/t);const i=e-n*t+n;return{newCellsSpan:n,updatedSpan:i}}function fy(e,t,n){const i=e.getAttribute(\"headingColumns\")||0;if(i&&t.first<i){const r=Math.min(i-1,t.last)-t.first+1;n.setAttribute(\"headingColumns\",i-r,e)}}function my(e,t,n,i){const r=e.getAttribute(\"headingRows\")||0;if(t<r){const o=n<r?r-(n-t+1):t;ax(\"headingRows\",o,e,i,0)}}function gy(e,t,n){const i=new Map;const r=[];for(const{row:o,column:s,cellHeight:a,cell:c}of new Gw(e,{endRow:n})){const e=o+a-1;const l=o>=t&&o<=n&&e>n;if(l){const e=n-o+1;const t=a-e;i.set(s,{cell:c,rowspan:t})}const d=o<t&&e>=t;if(d){let i;if(e>=n){i=n-t+1}else{i=e-t+1}r.push({cell:c,rowspan:a-i})}}return{cellsToMove:i,cellsToTrim:r}}function py(e,t,n,i){const r=new Gw(e,{includeAllSlots:true,row:t});const o=[...r];const s=e.getChild(t);let a;for(const{column:e,cell:t,isAnchor:r}of o){if(n.has(e)){const{cell:t,rowspan:r}=n.get(e);const o=a?i.createPositionAfter(a):i.createPositionAt(s,0);i.move(i.createRangeOn(t),o);ax(\"rowspan\",r,t,i);a=t}else if(r){a=t}}}class by extends ke[\"a\"]{refresh(){const e=Xw(this.editor.model.document.selection);this.isEnabled=nv(e,this.editor.plugins.get(ly))}execute(){const e=this.editor.model;const t=this.editor.plugins.get(ly);e.change(n=>{const i=Xw(e.document.selection);const r=i.shift();const{mergeWidth:o,mergeHeight:s}=vy(r,i,t);ax(\"colspan\",o,r,n);ax(\"rowspan\",s,r,n);for(const e of i){_y(e,r,n)}const a=r.findAncestor(\"table\");Jx(a,t);n.setSelection(r,\"in\")})}}function _y(e,t,n){if(!wy(e)){if(wy(t)){n.remove(n.createRangeIn(t))}n.move(n.createRangeIn(e),n.createPositionAt(t,\"end\"))}n.remove(e)}function wy(e){return e.childCount==1&&e.getChild(0).is(\"element\",\"paragraph\")&&e.getChild(0).isEmpty}function vy(e,t,n){let i=0;let r=0;for(const e of t){const{row:t,column:o}=n.getCellLocation(e);i=ky(e,o,i,\"colspan\");r=ky(e,t,r,\"rowspan\")}const{row:o,column:s}=n.getCellLocation(e);const a=i-s;const c=r-o;return{mergeWidth:a,mergeHeight:c}}function ky(e,t,n,i){const r=parseInt(e.getAttribute(i)||1);return Math.max(n,t+r)}class xy extends ke[\"a\"]{refresh(){const e=Zw(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model;const t=Zw(e.document.selection);const n=ev(t);const i=t[0].findAncestor(\"table\");const r=[];for(let t=n.first;t<=n.last;t++){for(const n of i.getChild(t).getChildren()){r.push(e.createRangeOn(n))}}e.change(e=>{e.setSelection(r)})}}class yy extends ke[\"a\"]{refresh(){const e=Zw(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model;const t=Zw(e.document.selection);const n=t[0];const i=t.pop();const r=n.findAncestor(\"table\");const o=this.editor.plugins.get(\"TableUtils\");const s=o.getCellLocation(n);const a=o.getCellLocation(i);const c=Math.min(s.column,a.column);const l=Math.max(s.column,a.column);const d=[];for(const t of new Gw(r,{startColumn:c,endColumn:l})){d.push(e.createRangeOn(t.cell))}e.change(e=>{e.setSelection(d)})}}function Cy(e){e.document.registerPostFixer(t=>Ay(t,e))}function Ay(e,t){const n=t.document.differ.getChanges();let i=false;const r=new Set;for(const t of n){let n;if(t.name==\"table\"&&t.type==\"insert\"){n=t.position.nodeAfter}if(t.name==\"tableRow\"||t.name==\"tableCell\"){n=t.position.findAncestor(\"table\")}if(Iy(t)){n=t.range.start.findAncestor(\"table\")}if(n&&!r.has(n)){i=Ty(n,e)||i;i=Ey(n,e)||i;r.add(n)}}return i}function Ty(e,t){let n=false;const i=Sy(e);if(i.length){n=true;for(const e of i){ax(\"rowspan\",e.rowspan,e.cell,t,1)}}return n}function Ey(e,t){let n=false;const i=Oy(e);const r=[];for(const[e,t]of i.entries()){if(!t){r.push(e)}}if(r.length){n=true;for(const n of r.reverse()){t.remove(e.getChild(n));i.splice(n,1)}}const o=i[0];const s=i.every(e=>e===o);if(!s){const r=i.reduce((e,t)=>t>e?t:e,0);for(const[o,s]of i.entries()){const i=r-s;if(i){for(let n=0;n<i;n++){cx(t,t.createPositionAt(e.getChild(o),\"end\"))}n=true}}}return n}function Sy(e){const t=parseInt(e.getAttribute(\"headingRows\")||0);const n=e.childCount;const i=[];for(const{row:r,cell:o,cellHeight:s}of new Gw(e)){if(s<2){continue}const e=r<t;const a=e?t:n;if(r+s>a){const e=a-r;i.push({cell:o,rowspan:e})}}return i}function Oy(e){const t=new Array(e.childCount).fill(0);for(const{row:n}of new Gw(e,{includeAllSlots:true})){t[n]++}return t}function Iy(e){const t=e.type===\"attribute\";const n=e.attributeKey;return t&&(n===\"headingRows\"||n===\"colspan\"||n===\"rowspan\")}function Py(e){e.document.registerPostFixer(t=>My(t,e))}function My(e,t){const n=t.document.differ.getChanges();let i=false;for(const t of n){if(t.type==\"insert\"&&t.name==\"table\"){i=Ry(t.position.nodeAfter,e)||i}if(t.type==\"insert\"&&t.name==\"tableRow\"){i=Ny(t.position.nodeAfter,e)||i}if(t.type==\"insert\"&&t.name==\"tableCell\"){i=jy(t.position.nodeAfter,e)||i}if(Dy(t)){i=jy(t.position.parent,e)||i}}return i}function Ry(e,t){let n=false;for(const i of e.getChildren()){n=Ny(i,t)||n}return n}function Ny(e,t){let n=false;for(const i of e.getChildren()){n=jy(i,t)||n}return n}function jy(e,t){if(e.childCount==0){t.insertElement(\"paragraph\",e);return true}const n=Array.from(e.getChildren()).filter(e=>e.is(\"$text\"));for(const e of n){t.wrap(t.createRangeOn(e),\"paragraph\")}return!!n.length}function Dy(e){if(!e.position||!e.position.parent.is(\"element\",\"tableCell\")){return false}return e.type==\"insert\"&&e.name==\"$text\"||e.type==\"remove\"}function Ly(e){e.document.registerPostFixer(()=>By(e))}function By(e){const t=e.document.differ;const n=new Set;let i=0;for(const e of t.getChanges()){const t=e.type==\"insert\"||e.type==\"remove\"?e.position.parent:e.range.start.parent;if(!t.is(\"element\",\"tableCell\")){continue}if(e.type==\"insert\"){i++}if(Fy(t,e.type,i)){n.add(t)}}if(n.size){for(const e of n.values()){t.refreshItem(e)}return true}return false}function Fy(e,t,n){const i=Array.from(e.getChildren()).some(e=>e.is(\"element\",\"paragraph\"));if(!i){return false}if(t==\"attribute\"){const t=Array.from(e.getChild(0).getAttributeKeys()).length;return e.childCount===1&&t<2}return e.childCount<=(t==\"insert\"?n+1:1)}function zy(e){e.document.registerPostFixer(()=>Vy(e))}function Vy(e){const t=e.document.differ;const n=new Set;for(const e of t.getChanges()){if(e.type!=\"attribute\"){continue}const t=e.range.start.nodeAfter;if(t&&t.is(\"element\",\"table\")&&e.attributeKey==\"headingRows\"){n.add(t)}}if(n.size){for(const e of n.values()){t.refreshItem(e)}return true}return false}var Uy=n(477);class Hy extends ve[\"a\"]{static get pluginName(){return\"TableEditing\"}init(){const e=this.editor;const t=e.model;const n=t.schema;const i=e.conversion;n.register(\"table\",{allowWhere:\"$block\",allowAttributes:[\"headingRows\",\"headingColumns\"],isLimit:true,isObject:true,isBlock:true});n.register(\"tableRow\",{allowIn:\"table\",isLimit:true});n.register(\"tableCell\",{allowIn:\"tableRow\",allowAttributes:[\"colspan\",\"rowspan\"],isObject:true});n.extend(\"$block\",{allowIn:\"tableCell\"});n.addChildCheck((e,t)=>{if(t.name==\"table\"&&Array.from(e.getNames()).includes(\"table\")){return false}});i.for(\"upcast\").add(dx());i.for(\"editingDowncast\").add(gx({asWidget:true}));i.for(\"dataDowncast\").add(gx());i.for(\"upcast\").elementToElement({model:\"tableRow\",view:\"tr\"});i.for(\"upcast\").add(ux());i.for(\"editingDowncast\").add(px());i.for(\"editingDowncast\").add(wx());i.for(\"upcast\").add(hx(\"td\"));i.for(\"upcast\").add(hx(\"th\"));i.for(\"editingDowncast\").add(bx());i.attributeToAttribute({model:\"colspan\",view:\"colspan\"});i.attributeToAttribute({model:\"rowspan\",view:\"rowspan\"});i.for(\"editingDowncast\").add(_x());e.commands.add(\"insertTable\",new Nx(e));e.commands.add(\"insertTableRowAbove\",new Dx(e,{order:\"above\"}));e.commands.add(\"insertTableRowBelow\",new Dx(e,{order:\"below\"}));e.commands.add(\"insertTableColumnLeft\",new Lx(e,{order:\"left\"}));e.commands.add(\"insertTableColumnRight\",new Lx(e,{order:\"right\"}));e.commands.add(\"removeTableRow\",new ny(e));e.commands.add(\"removeTableColumn\",new ry(e));e.commands.add(\"splitTableCellVertically\",new Bx(e,{direction:\"vertically\"}));e.commands.add(\"splitTableCellHorizontally\",new Bx(e,{direction:\"horizontally\"}));e.commands.add(\"mergeTableCells\",new by(e));e.commands.add(\"mergeTableCellRight\",new Xx(e,{direction:\"right\"}));e.commands.add(\"mergeTableCellLeft\",new Xx(e,{direction:\"left\"}));e.commands.add(\"mergeTableCellDown\",new Xx(e,{direction:\"down\"}));e.commands.add(\"mergeTableCellUp\",new Xx(e,{direction:\"up\"}));e.commands.add(\"setTableColumnHeader\",new cy(e));e.commands.add(\"setTableRowHeader\",new ay(e));e.commands.add(\"selectTableRow\",new xy(e));e.commands.add(\"selectTableColumn\",new yy(e));zy(t);Cy(t);Ly(t);Py(t)}static get requires(){return[ly]}}var Wy=n(479);class $y extends m[\"a\"]{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection();this.set(\"rows\",0);this.set(\"columns\",0);this.bind(\"label\").to(this,\"columns\",this,\"rows\",(e,t)=>`${t} × ${e}`);this.setTemplate({tag:\"div\",attributes:{class:[\"ck\"]},children:[{tag:\"div\",attributes:{class:[\"ck-insert-table-dropdown__grid\"]},on:{\"mouseover@.ck-insert-table-dropdown-grid-box\":t.to(\"boxover\")},children:this.items},{tag:\"div\",attributes:{class:[\"ck-insert-table-dropdown__label\"]},children:[{text:t.to(\"label\")}]}],on:{mousedown:t.to(e=>{e.preventDefault()}),click:t.to(()=>{this.fire(\"execute\")})}});this.on(\"boxover\",(e,t)=>{const{row:n,column:i}=t.target.dataset;this.set({rows:parseInt(n),columns:parseInt(i)})});this.on(\"change:columns\",()=>{this._highlightGridBoxes()});this.on(\"change:rows\",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const e=this.rows;const t=this.columns;this.items.map((n,i)=>{const r=Math.floor(i/10);const o=i%10;const s=r<e&&o<t;n.set(\"isOn\",s)})}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10);const i=t%10;e.push(new qy(this.locale,n+1,i+1))}return this.createCollection(e)}}class qy extends m[\"a\"]{constructor(e,t,n){super(e);const i=this.bindTemplate;this.set(\"isOn\",false);this.setTemplate({tag:\"div\",attributes:{class:[\"ck-insert-table-dropdown-grid-box\",i.if(\"isOn\",\"ck-on\")],\"data-row\":t,\"data-column\":n}})}}var Yy='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z\"/></svg>';var Jy='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\" opacity=\".6\"/><path d=\"M18 7v1H2V7h16zm0 5v1H2v-1h16z\" opacity=\".6\"/><path d=\"M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z\"/></svg>';var Gy='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\" opacity=\".6\"/><path d=\"M7 2h1v16H7V2zm5 0h1v16h-1V2z\" opacity=\".6\"/><path d=\"M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z\"/></svg>';var Ky='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\" opacity=\".6\"/><path d=\"M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z\" opacity=\".6\"/><path d=\"M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z\"/></svg>';class Xy extends ve[\"a\"]{init(){const e=this.editor;const t=this.editor.t;const n=e.locale.contentLanguageDirection;const i=n===\"ltr\";e.ui.componentFactory.add(\"insertTable\",n=>{const i=e.commands.get(\"insertTable\");const r=Z(n);r.bind(\"isEnabled\").to(i);r.buttonView.set({icon:Yy,label:t(\"Insert table\"),tooltip:true});let o;r.on(\"change:isOpen\",()=>{if(o){return}o=new $y(n);r.panelView.children.add(o);o.delegate(\"execute\").to(r);r.buttonView.on(\"open\",()=>{o.rows=0;o.columns=0});r.on(\"execute\",()=>{e.execute(\"insertTable\",{rows:o.rows,columns:o.columns});e.editing.view.focus()})});return r});e.ui.componentFactory.add(\"tableColumn\",e=>{const n=[{type:\"switchbutton\",model:{commandName:\"setTableColumnHeader\",label:t(\"Header column\"),bindIsOn:true}},{type:\"separator\"},{type:\"button\",model:{commandName:i?\"insertTableColumnLeft\":\"insertTableColumnRight\",label:t(\"Insert column left\")}},{type:\"button\",model:{commandName:i?\"insertTableColumnRight\":\"insertTableColumnLeft\",label:t(\"Insert column right\")}},{type:\"button\",model:{commandName:\"removeTableColumn\",label:t(\"Delete column\")}},{type:\"button\",model:{commandName:\"selectTableColumn\",label:t(\"Select column\")}}];return this._prepareDropdown(t(\"Column\"),Jy,n,e)});e.ui.componentFactory.add(\"tableRow\",e=>{const n=[{type:\"switchbutton\",model:{commandName:\"setTableRowHeader\",label:t(\"Header row\"),bindIsOn:true}},{type:\"separator\"},{type:\"button\",model:{commandName:\"insertTableRowAbove\",label:t(\"Insert row above\")}},{type:\"button\",model:{commandName:\"insertTableRowBelow\",label:t(\"Insert row below\")}},{type:\"button\",model:{commandName:\"removeTableRow\",label:t(\"Delete row\")}},{type:\"button\",model:{commandName:\"selectTableRow\",label:t(\"Select row\")}}];return this._prepareDropdown(t(\"Row\"),Gy,n,e)});e.ui.componentFactory.add(\"mergeTableCells\",e=>{const n=[{type:\"button\",model:{commandName:\"mergeTableCellUp\",label:t(\"Merge cell up\")}},{type:\"button\",model:{commandName:i?\"mergeTableCellRight\":\"mergeTableCellLeft\",label:t(\"Merge cell right\")}},{type:\"button\",model:{commandName:\"mergeTableCellDown\",label:t(\"Merge cell down\")}},{type:\"button\",model:{commandName:i?\"mergeTableCellLeft\":\"mergeTableCellRight\",label:t(\"Merge cell left\")}},{type:\"separator\"},{type:\"button\",model:{commandName:\"splitTableCellVertically\",label:t(\"Split cell vertically\")}},{type:\"button\",model:{commandName:\"splitTableCellHorizontally\",label:t(\"Split cell horizontally\")}}];return this._prepareMergeSplitButtonDropdown(t(\"Merge cells\"),Ky,n,e)})}_prepareDropdown(e,t,n,i){const r=this.editor;const o=Z(i);const s=this._fillDropdownWithListOptions(o,n);o.buttonView.set({label:e,icon:t,tooltip:true});o.bind(\"isEnabled\").toMany(s,\"isEnabled\",(...e)=>e.some(e=>e));this.listenTo(o,\"execute\",e=>{r.execute(e.source.commandName);r.editing.view.focus()});return o}_prepareMergeSplitButtonDropdown(e,t,n,i){const r=this.editor;const o=Z(i,Vr);const s=\"mergeTableCells\";this._fillDropdownWithListOptions(o,n);o.buttonView.set({label:e,icon:t,tooltip:true,isEnabled:true});this.listenTo(o.buttonView,\"execute\",()=>{r.execute(s);r.editing.view.focus()});this.listenTo(o,\"execute\",e=>{r.execute(e.source.commandName);r.editing.view.focus()});return o}_fillDropdownWithListOptions(e,t){const n=this.editor;const i=[];const r=new On[\"a\"];for(const e of t){Qy(e,n,i,r)}te(e,r,n.ui.componentFactory);return i}}function Qy(e,t,n,i){const r=e.model=new Fr(e.model);const{commandName:o,bindIsOn:s}=e.model;if(e.type===\"button\"||e.type===\"switchbutton\"){const e=t.commands.get(o);n.push(e);r.set({commandName:o});r.bind(\"isEnabled\").to(e);if(s){r.bind(\"isOn\").to(e,\"value\")}}r.set({withText:true});i.add(e)}var Zy=n(481);class eC extends ve[\"a\"]{static get pluginName(){return\"TableSelection\"}static get requires(){return[ly]}init(){const e=this.editor;const t=e.model;this.listenTo(t,\"deleteContent\",(e,t)=>this._handleDeleteContent(e,t),{priority:\"high\"});this._defineSelectionConverter();this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.model.document.selection;const t=Xw(e);if(t.length==0){return null}return t}getSelectionAsFragment(){const e=this.getSelectedTableCells();if(!e){return null}return this.editor.model.change(t=>{const n=t.createDocumentFragment();const i=this.editor.plugins.get(\"TableUtils\");const{first:r,last:o}=tv(e);const{first:s,last:a}=ev(e);const c=e[0].findAncestor(\"table\");let l=a;let d=o;if(nv(e,i)){const e={firstColumn:r,lastColumn:o,firstRow:s,lastRow:a};l=Gx(c,e);d=Kx(c,e)}const u={startRow:s,startColumn:r,endRow:l,endColumn:d};const h=Fx(c,u,t);t.insert(h,n,0);return n})}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(e=>{e.setSelection(n.cells.map(t=>e.createRangeOn(t)),{backward:n.backward})})}getFocusCell(){const e=this.editor.model.document.selection;const t=[...e.getRanges()].pop();const n=t.getContainedElement();if(n&&n.is(\"element\",\"tableCell\")){return n}return null}getAnchorCell(){const e=this.editor.model.document.selection;const t=Object(xe[\"a\"])(e.getRanges());const n=t.getContainedElement();if(n&&n.is(\"element\",\"tableCell\")){return n}return null}_defineSelectionConverter(){const e=this.editor;const t=new Set;e.conversion.for(\"editingDowncast\").add(e=>e.on(\"selection\",(e,i,r)=>{const o=r.writer;n(o);const s=this.getSelectedTableCells();if(!s){return}for(const e of s){const n=r.mapper.toViewElement(e);o.addClass(\"ck-editor__editable_selected\",n);t.add(n)}const a=r.mapper.toViewElement(s[s.length-1]);o.setSelection(a,0)},{priority:\"lowest\"}));function n(e){for(const n of t){e.removeClass(\"ck-editor__editable_selected\",n)}t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on(\"change:isEnabled\",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t){return}e.model.change(n=>{const i=n.createPositionAt(t[0],0);const r=e.model.schema.getNearestSelectionRange(i);n.setSelection(r)})}})}_handleDeleteContent(e,t){const[n,i]=t;const r=this.editor.model;const o=!i||i.direction==\"backward\";const s=Xw(n);if(!s.length){return}e.stop();r.change(e=>{const t=s[o?s.length-1:0];r.change(e=>{for(const t of s){r.deleteContent(e.createSelection(t,\"in\"))}});const i=r.schema.getNearestSelectionRange(e.createPositionAt(t,0));if(n.is(\"documentSelection\")){e.setSelection(i)}else{n.setTo(i)}})}_getCellsToSelect(e,t){const n=this.editor.plugins.get(\"TableUtils\");const i=n.getCellLocation(e);const r=n.getCellLocation(t);const o=Math.min(i.row,r.row);const s=Math.max(i.row,r.row);const a=Math.min(i.column,r.column);const c=Math.max(i.column,r.column);const l=new Array(s-o+1).fill(null).map(()=>[]);const d={startRow:o,endRow:s,startColumn:a,endColumn:c};for(const{row:t,cell:n}of new Gw(e.findAncestor(\"table\"),d)){l[t-o].push(n)}const u=r.row<i.row;const h=r.column<i.column;if(u){l.reverse()}if(h){l.forEach(e=>e.reverse())}return{cells:l.flat(),backward:u||h}}}class tC extends ve[\"a\"]{static get pluginName(){return\"TableClipboard\"}static get requires(){return[eC,ly]}init(){const e=this.editor;const t=e.editing.view.document;this.listenTo(t,\"copy\",(e,t)=>this._onCopyCut(e,t));this.listenTo(t,\"cut\",(e,t)=>this._onCopyCut(e,t));this.listenTo(e.model,\"insertContent\",(e,t)=>this._onInsertContent(e,...t),{priority:\"high\"})}_onCopyCut(e,t){const n=this.editor.plugins.get(eC);if(!n.getSelectedTableCells()){return}if(e.name==\"cut\"&&this.editor.isReadOnly){return}t.preventDefault();e.stop();const i=this.editor.data;const r=this.editor.editing.view.document;const o=i.toView(n.getSelectionAsFragment());r.fire(\"clipboardOutput\",{dataTransfer:t.dataTransfer,content:o,method:e.name})}_onInsertContent(e,t,n){if(n&&!n.is(\"documentSelection\")){return}const i=this.editor.model;const r=this.editor.plugins.get(ly);let o=oC(t,i);if(!o){return}const s=Zw(i.document.selection);if(!s.length){Jx(o,r);return}e.stop();i.change(e=>{const t={width:r.getColumns(o),height:r.getRows(o)};const n=nC(s,t,e,r);const i=n.lastRow-n.firstRow+1;const a=n.lastColumn-n.firstColumn+1;const c={startRow:0,startColumn:0,endRow:Math.min(i,t.height)-1,endColumn:Math.min(a,t.width)-1};o=Fx(o,c,e);const l=s[0].findAncestor(\"table\");const d=iC(o,t,l,n,e);if(this.editor.plugins.get(\"TableSelection\").isEnabled){const t=iv(d.map(t=>e.createRangeOn(t)));e.setSelection(t)}else{e.setSelection(d[0],0)}})}}function nC(e,t,n,i){const r=e[0].findAncestor(\"table\");const o=tv(e);const s=ev(e);const a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last};const c=e.length===1;if(c){a.lastRow+=t.height-1;a.lastColumn+=t.width-1;rC(r,a.lastRow+1,a.lastColumn+1,i)}if(c||!nv(e,i)){aC(r,a,n)}else{a.lastRow=Gx(r,a);a.lastColumn=Kx(r,a)}return a}function iC(e,t,n,i,r){const{width:o,height:s}=t;const a=sC(e,o,s);const c=[...new Gw(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:true})];const l=[];let d;for(const e of c){const{row:t,column:n,cell:c,isAnchor:u}=e;if(n===i.firstColumn){d=e.getPositionBefore()}if(u){r.remove(c)}const h=t-i.firstRow;const f=n-i.firstColumn;const m=a[h%s][f%o];if(!m){continue}const g=r.cloneElement(m);Wx(g,t,n,i.lastRow,i.lastColumn,r);r.insert(g,d);l.push(g);d=r.createPositionAfter(g)}const u=parseInt(n.getAttribute(\"headingRows\")||0);const h=parseInt(n.getAttribute(\"headingColumns\")||0);const f=i.firstRow<u&&u<=i.lastRow;const m=i.firstColumn<h&&h<=i.lastColumn;if(f){const e={first:i.firstColumn,last:i.lastColumn};const t=cC(n,u,e,r,i.firstRow);l.push(...t)}if(m){const e={first:i.firstRow,last:i.lastRow};const t=lC(n,h,e,r);l.push(...t)}return l}function rC(e,t,n,i){const r=i.getColumns(e);const o=i.getRows(e);if(n>r){i.insertColumns(e,{at:r,columns:n-r})}if(t>o){i.insertRows(e,{at:o,rows:t-o})}}function oC(e,t){if(!e.is(\"documentFragment\")&&!e.is(\"element\")){return null}if(e.is(\"element\",\"table\")){return e}if(e.childCount==1&&e.getChild(0).is(\"element\",\"table\")){return e.getChild(0)}const n=t.createRangeIn(e);for(const e of n.getItems()){if(e.is(\"element\",\"table\")){const i=t.createRange(n.start,t.createPositionBefore(e));if(t.hasContent(i,{ignoreWhitespaces:true})){return null}const r=t.createRange(t.createPositionAfter(e),n.end);if(t.hasContent(r,{ignoreWhitespaces:true})){return null}return e}}return null}function sC(e,t,n){const i=new Array(n).fill(null).map(()=>new Array(t).fill(null));for(const{column:t,row:n,cell:r}of new Gw(e)){i[n][t]=r}return i}function aC(e,t,n){const{firstRow:i,lastRow:r,firstColumn:o,lastColumn:s}=t;const a={first:i,last:r};const c={first:o,last:s};lC(e,o,a,n);lC(e,s+1,a,n);cC(e,i,c,n);cC(e,r+1,c,n,i)}function cC(e,t,n,i,r=0){if(t<1){return}const o=zx(e,t,r);const s=o.filter(({column:e,cellWidth:t})=>dC(e,t,n));return s.map(({cell:e})=>Vx(e,t,i))}function lC(e,t,n,i){if(t<1){return}const r=Ux(e,t);const o=r.filter(({row:e,cellHeight:t})=>dC(e,t,n));return o.map(({cell:e,column:n})=>Hx(e,n,t,i))}function dC(e,t,n){const i=e+t-1;const{first:r,last:o}=n;const s=e>=r&&e<=o;const a=e<r&&i>=r;return s||a}class uC extends ve[\"a\"]{static get pluginName(){return\"TableKeyboard\"}static get requires(){return[eC]}init(){const e=this.editor.editing.view;const t=e.document;this.editor.keystrokes.set(\"Tab\",(...e)=>this._handleTabOnSelectedTable(...e),{priority:\"low\"});this.editor.keystrokes.set(\"Tab\",this._getTabHandler(true),{priority:\"low\"});this.editor.keystrokes.set(\"Shift+Tab\",this._getTabHandler(false),{priority:\"low\"});this.listenTo(t,\"keydown\",(...e)=>this._onKeydown(...e),{priority:pn[\"a\"].get(\"high\")-10})}_handleTabOnSelectedTable(e,t){const n=this.editor;const i=n.model.document.selection;if(!i.isCollapsed&&i.rangeCount===1&&i.getFirstRange().isFlat){const e=i.getSelectedElement();if(!e||!e.is(\"element\",\"table\")){return}t();n.model.change(t=>{t.setSelection(t.createRangeIn(e.getChild(0).getChild(0)))})}}_getTabHandler(e){const t=this.editor;return(n,i)=>{const r=t.model.document.selection;const o=Qw(r)[0];if(!o){return}i();const s=o.parent;const a=s.parent;const c=a.getChildIndex(s);const l=s.getChildIndex(o);const d=l===0;if(!e&&d&&c===0){return}const u=l===s.childCount-1;const h=c===a.childCount-1;if(e&&h&&u){t.execute(\"insertTableRowBelow\");if(c===a.childCount-1){return}}let f;if(e&&u){const e=a.getChild(c+1);f=e.getChild(0)}else if(!e&&d){const e=a.getChild(c-1);f=e.getChild(e.childCount-1)}else{f=s.getChild(l+(e?1:-1))}t.model.change(e=>{e.setSelection(e.createRangeIn(f))})}}_onKeydown(e,t){const n=this.editor;const i=t.keyCode;if(!Object(gn[\"d\"])(i)){return}const r=Object(gn[\"c\"])(i,n.locale.contentLanguageDirection);const o=this._handleArrowKeys(r,t.shiftKey);if(o){t.preventDefault();t.stopPropagation();e.stop()}}_handleArrowKeys(e,t){const n=this.editor.model;const i=n.document.selection;const r=[\"right\",\"down\"].includes(e);const o=Xw(i);if(o.length){let n;if(t){n=this.editor.plugins.get(\"TableSelection\").getFocusCell()}else{n=r?o[o.length-1]:o[0]}this._navigateFromCellInDirection(n,e,t);return true}const s=i.focus.findAncestor(\"tableCell\");if(!s){return false}const a=n.createRangeIn(s);if(this._isSelectionAtCellEdge(i,r)){this._navigateFromCellInDirection(s,e,t);return true}const c=this._findTextRangeFromSelection(a,i,r);if(!c){this._navigateFromCellInDirection(s,e,t);return true}if([\"left\",\"right\"].includes(e)){return false}if(this._isSingleLineRange(c,r)){n.change(e=>{const o=r?a.end:a.start;if(t){const t=n.createSelection(i.anchor);t.setFocus(o);e.setSelection(t)}else{e.setSelection(o)}});return true}}_isSelectionAtCellEdge(e,t){const n=this.editor.model;const i=this.editor.model.schema;const r=t?e.getLastPosition():e.getFirstPosition();if(!i.getLimitElement(r).is(\"element\",\"tableCell\")){return false}const o=n.createSelection(r);n.modifySelection(o,{direction:t?\"forward\":\"backward\"});return r.isEqual(o.focus)}_findTextRangeFromSelection(e,t,n){const i=this.editor.model;if(n){const n=t.getLastPosition();const r=this._getNearestVisibleTextPosition(e,\"backward\");if(r&&n.isBefore(r)){return i.createRange(n,r)}return null}else{const n=t.getFirstPosition();const r=this._getNearestVisibleTextPosition(e,\"forward\");if(r&&n.isAfter(r)){return i.createRange(r,n)}return null}}_getNearestVisibleTextPosition(e,t){const n=this.editor.model.schema;const i=this.editor.editing.mapper;for(const{nextPosition:r,item:o}of e.getWalker({direction:t})){if(n.checkChild(r,\"$text\")){const e=i.toViewElement(o);if(e&&!e.hasClass(\"ck-hidden\")){return r}}}}_isSingleLineRange(e,t){const n=this.editor.model;const i=this.editor.editing;const r=i.view.domConverter;if(t){const t=n.createSelection(e.start);n.modifySelection(t);if(!t.focus.isAtEnd&&!e.start.isEqual(t.focus)){e=n.createRange(t.focus,e.end)}}const o=i.mapper.toViewRange(e);const s=r.viewRangeToDom(o);const a=k[\"a\"].getDomRangeRects(s);let c;for(const e of a){if(c===undefined){c=Math.round(e.bottom);continue}if(Math.round(e.top)>=c){return false}c=Math.max(c,Math.round(e.bottom))}return true}_navigateFromCellInDirection(e,t,n=false){const i=this.editor.model;const r=e.findAncestor(\"table\");const o=[...new Gw(r,{includeAllSlots:true})];const{row:s,column:a}=o[o.length-1];const c=o.find(({cell:t})=>t==e);let{row:l,column:d}=c;switch(t){case\"left\":d--;break;case\"up\":l--;break;case\"right\":d+=c.cellWidth;break;case\"down\":l+=c.cellHeight;break}const u=l<0||l>s;const h=d<0&&l<=0;const f=d>a&&l>=s;if(u||h||f){i.change(e=>{e.setSelection(e.createRangeOn(r))});return}if(d<0){d=n?0:a;l--}else if(d>a){d=n?a:0;l++}const m=o.find(e=>e.row==l&&e.column==d).cell;const g=[\"right\",\"down\"].includes(t);const p=this.editor.plugins.get(\"TableSelection\");if(n&&p.isEnabled){const t=p.getAnchorCell()||e;p.setCellSelection(t,m)}else{const e=i.createPositionAt(m,g?0:\"end\");i.change(t=>{t.setSelection(e)})}}}class hC extends fn[\"a\"]{constructor(e){super(e);this.domEventType=[\"mousemove\",\"mouseup\",\"mouseleave\"]}onDomEvent(e){this.fire(e.type,e)}}class fC extends ve[\"a\"]{static get pluginName(){return\"TableMouse\"}static get requires(){return[eC]}init(){const e=this.editor;e.editing.view.addObserver(hC);this._enableShiftClickSelection();this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor;let t=false;const n=e.plugins.get(eC);this.listenTo(e.editing.view.document,\"mousedown\",(i,r)=>{if(!this.isEnabled||!n.isEnabled){return}if(!r.domEvent.shiftKey){return}const o=n.getAnchorCell()||Qw(e.model.document.selection)[0];if(!o){return}const s=this._getModelTableCellFromDomEvent(r);if(s&&mC(o,s)){t=true;n.setCellSelection(o,s);r.preventDefault()}});this.listenTo(e.editing.view.document,\"mouseup\",()=>{t=false});this.listenTo(e.editing.view.document,\"selectionChange\",e=>{if(t){e.stop()}},{priority:\"highest\"})}_enableMouseDragSelection(){const e=this.editor;let t,n;let i=false;let r=false;const o=e.plugins.get(eC);this.listenTo(e.editing.view.document,\"mousedown\",(e,n)=>{if(!this.isEnabled||!o.isEnabled){return}if(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey){return}t=this._getModelTableCellFromDomEvent(n)});this.listenTo(e.editing.view.document,\"mousemove\",(e,s)=>{if(!s.domEvent.buttons){return}if(!t){return}const a=this._getModelTableCellFromDomEvent(s);if(a&&mC(t,a)){n=a;if(!i&&n!=t){i=true}}if(!i){return}r=true;o.setCellSelection(t,n);s.preventDefault()});this.listenTo(e.editing.view.document,\"mouseup\",()=>{i=false;r=false;t=null;n=null});this.listenTo(e.editing.view.document,\"selectionChange\",e=>{if(r){e.stop()}},{priority:\"highest\"})}_getModelTableCellFromDomEvent(e){const t=e.target;const n=this.editor.editing.view.createPositionAt(t,0);const i=this.editor.editing.mapper.toModelPosition(n);const r=i.parent;return r.findAncestor(\"tableCell\",{includeSelf:true})}}function mC(e,t){return e.parent.parent==t.parent.parent}var gC=n(483);class pC extends ve[\"a\"]{static get requires(){return[Hy,Xy,eC,fC,uC,tC,Ls]}static get pluginName(){return\"Table\"}}function bC(e){const t=e.getSelectedElement();if(t&&wC(t)){return t}return null}function _C(e){const t=vC(\"table\",e.getFirstPosition());if(t&&wC(t.parent)){return t.parent}return null}function wC(e){return!!e.getCustomProperty(\"table\")&&Bt(e)}function vC(e,t){let n=t.parent;while(n){if(n.name===e){return n}n=n.parent}}class kC extends ve[\"a\"]{static get requires(){return[Wa]}static get pluginName(){return\"TableToolbar\"}afterInit(){const e=this.editor;const t=e.t;const n=e.plugins.get(Wa);const i=e.config.get(\"table.contentToolbar\");const r=e.config.get(\"table.tableToolbar\");if(i){n.register(\"tableContent\",{ariaLabel:t(\"Table toolbar\"),items:i,getRelatedElement:_C})}if(r){n.register(\"table\",{ariaLabel:t(\"Table toolbar\"),items:r,getRelatedElement:bC})}}}var xC=/[\\\\^$.*+?()[\\]{}|]/g,yC=RegExp(xC.source);function CC(e){e=Object(pi[\"a\"])(e);return e&&yC.test(e)?e.replace(xC,\"\\\\$&\"):e}var AC=CC;const TC={copyright:{from:\"(c)\",to:\"©\"},registeredTrademark:{from:\"(r)\",to:\"®\"},trademark:{from:\"(tm)\",to:\"™\"},oneHalf:{from:\"1/2\",to:\"½\"},oneThird:{from:\"1/3\",to:\"⅓\"},twoThirds:{from:\"2/3\",to:\"⅔\"},oneForth:{from:\"1/4\",to:\"¼\"},threeQuarters:{from:\"3/4\",to:\"¾\"},lessThanOrEqual:{from:\"<=\",to:\"≤\"},greaterThanOrEqual:{from:\">=\",to:\"≥\"},notEqual:{from:\"!=\",to:\"≠\"},arrowLeft:{from:\"<-\",to:\"←\"},arrowRight:{from:\"->\",to:\"→\"},horizontalEllipsis:{from:\"...\",to:\"…\"},enDash:{from:/(^| )(--)( )$/,to:[null,\"–\",null]},emDash:{from:/(^| )(---)( )$/,to:[null,\"—\",null]},quotesPrimary:{from:RC('\"'),to:[null,\"“\",null,\"”\"]},quotesSecondary:{from:RC(\"'\"),to:[null,\"‘\",null,\"’\"]},quotesPrimaryEnGb:{from:RC(\"'\"),to:[null,\"‘\",null,\"’\"]},quotesSecondaryEnGb:{from:RC('\"'),to:[null,\"“\",null,\"”\"]},quotesPrimaryPl:{from:RC('\"'),to:[null,\"„\",null,\"”\"]},quotesSecondaryPl:{from:RC(\"'\"),to:[null,\"‚\",null,\"’\"]}};const EC={symbols:[\"copyright\",\"registeredTrademark\",\"trademark\"],mathematical:[\"oneHalf\",\"oneThird\",\"twoThirds\",\"oneForth\",\"threeQuarters\",\"lessThanOrEqual\",\"greaterThanOrEqual\",\"notEqual\",\"arrowLeft\",\"arrowRight\"],typography:[\"horizontalEllipsis\",\"enDash\",\"emDash\"],quotes:[\"quotesPrimary\",\"quotesSecondary\"]};const SC=[\"symbols\",\"mathematical\",\"typography\",\"quotes\"];class OC extends ve[\"a\"]{static get pluginName(){return\"TextTransformation\"}constructor(e){super(e);e.config.define(\"typing\",{transformations:{include:SC}})}init(){const e=this.editor.model;const t=e.document.selection;t.on(\"change:range\",()=>{this.isEnabled=!t.anchor.parent.is(\"element\",\"codeBlock\")});this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor;const t=e.model;const n=e.plugins.get(\"Input\");const i=NC(e.config.get(\"typing.transformations\"));const r=e=>{for(const t of i){const n=t.from;const i=n.test(e);if(i){return{normalizedTransformation:t}}}};const o=(e,i)=>{if(!n.isInput(i.batch)){return}const{from:r,to:o}=i.normalizedTransformation;const s=r.exec(i.text);const a=o(s.slice(1));const c=i.range;let l=s.index;t.enqueueChange(e=>{for(let n=1;n<s.length;n++){const i=s[n];const r=a[n-1];if(r==null){l+=i.length;continue}const o=c.start.getShiftedBy(l);const d=t.createRange(o,o.getShiftedBy(i.length));const u=MC(o);t.insertContent(e.createText(r,u),d);l+=r.length}})};const s=new Ue(e.model,r);s.on(\"matched:data\",o);s.bind(\"isEnabled\").to(this)}}function IC(e){if(typeof e==\"string\"){return new RegExp(`(${AC(e)})$`)}return e}function PC(e){if(typeof e==\"string\"){return()=>[e]}else if(e instanceof Array){return()=>e}return e}function MC(e){const t=e.textNode?e.textNode:e.nodeAfter;return t.getAttributes()}function RC(e){return new RegExp(`(^|\\\\s)(${e})([^${e}]*)(${e})$`)}function NC(e){const t=e.extra||[];const n=e.remove||[];const i=e=>!n.includes(e);const r=e.include.concat(t).filter(i);return jC(r).filter(i).map(e=>TC[e]||e).map(e=>({from:IC(e.from),to:PC(e.to)}))}function jC(e){const t=new Set;for(const n of e){if(EC[n]){for(const e of EC[n]){t.add(e)}}else{t.add(n)}}return Array.from(t)}var DC=n(151);var LC=n(201);const BC=\"todoListChecked\";class FC extends ke[\"a\"]{constructor(e){super(e);this._selectedElements=[];this.on(\"execute\",()=>{this.refresh()},{priority:\"highest\"})}refresh(){this._selectedElements=this._getSelectedItems();this.value=this._selectedElements.every(e=>!!e.getAttribute(\"todoListChecked\"));this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const e=this.editor.model;const t=e.schema;const n=e.document.selection.getFirstRange();const i=n.start.parent;const r=[];if(t.checkAttribute(i,BC)){r.push(i)}for(const e of n.getItems()){if(t.checkAttribute(e,BC)&&!r.includes(e)){r.push(e)}}return r}execute(e={}){this.editor.model.change(t=>{for(const n of this._selectedElements){const i=e.forceValue===undefined?!this.value:e.forceValue;if(i){t.setAttribute(BC,true,n)}else{t.removeAttribute(BC,n)}}})}}var zC=n(30);var VC=n(207);function UC(e,t){return(n,i,r)=>{const o=r.consumable;if(!o.test(i.item,\"insert\")||!o.test(i.item,\"attribute:listType\")||!o.test(i.item,\"attribute:listIndent\")){return}if(i.item.getAttribute(\"listType\")!=\"todo\"){return}const s=i.item;o.consume(s,\"insert\");o.consume(s,\"attribute:listType\");o.consume(s,\"attribute:listIndent\");o.consume(s,\"attribute:todoListChecked\");const a=r.writer;const c=Object(zC[\"c\"])(s,r);const l=!!s.getAttribute(\"todoListChecked\");const d=JC(s,a,l,t);const u=a.createContainerElement(\"span\",{class:\"todo-list__label__description\"});a.addClass(\"todo-list\",c.parent);a.insert(a.createPositionAt(c,0),d);a.insert(a.createPositionAfter(d),u);Object(zC[\"e\"])(s,c,r,e)}}function HC(e){return(t,n,i)=>{const r=i.consumable;if(!r.test(n.item,\"insert\")||!r.test(n.item,\"attribute:listType\")||!r.test(n.item,\"attribute:listIndent\")){return}if(n.item.getAttribute(\"listType\")!=\"todo\"){return}const o=n.item;r.consume(o,\"insert\");r.consume(o,\"attribute:listType\");r.consume(o,\"attribute:listIndent\");r.consume(o,\"attribute:todoListChecked\");const s=i.writer;const a=Object(zC[\"c\"])(o,i);s.addClass(\"todo-list\",a.parent);const c=s.createContainerElement(\"label\",{class:\"todo-list__label\"});const l=s.createEmptyElement(\"input\",{type:\"checkbox\",disabled:\"disabled\"});const d=s.createContainerElement(\"span\",{class:\"todo-list__label__description\"});if(o.getAttribute(\"todoListChecked\")){s.setAttribute(\"checked\",\"checked\",l)}s.insert(s.createPositionAt(a,0),c);s.insert(s.createPositionAt(c,0),l);s.insert(s.createPositionAfter(l),d);Object(zC[\"e\"])(o,a,i,e)}}function WC(e,t,n){const i=t.modelCursor;const r=i.parent;const o=t.viewItem;if(o.getAttribute(\"type\")!=\"checkbox\"||r.name!=\"listItem\"||!i.isAtStart){return}if(!n.consumable.consume(o,{name:true})){return}const s=n.writer;s.setAttribute(\"listType\",\"todo\",r);if(t.viewItem.hasAttribute(\"checked\")){s.setAttribute(\"todoListChecked\",true,r)}t.modelRange=s.createRange(i)}function $C(e,t){return(n,i,r)=>{const o=r.mapper.toViewElement(i.item);const s=r.writer;const a=GC(o,t);if(i.attributeNewValue==\"todo\"){const t=!!i.item.getAttribute(\"todoListChecked\");const n=JC(i.item,s,t,e);const r=s.createContainerElement(\"span\",{class:\"todo-list__label__description\"});const a=s.createRangeIn(o);const c=Object(zC[\"b\"])(o);const l=Object(zC[\"g\"])(a.start);const d=c?s.createPositionBefore(c):a.end;const u=s.createRange(l,d);s.addClass(\"todo-list\",o.parent);s.move(u,s.createPositionAt(r,0));s.insert(s.createPositionAt(o,0),n);s.insert(s.createPositionAfter(n),r)}else if(i.attributeOldValue==\"todo\"){const e=KC(o,t);s.removeClass(\"todo-list\",o.parent);s.remove(a);s.move(s.createRangeIn(e),s.createPositionBefore(e));s.remove(e)}}}function qC(e){return(t,n,i)=>{if(n.item.getAttribute(\"listType\")!=\"todo\"){return}if(!i.consumable.consume(n.item,\"attribute:todoListChecked\")){return}const{mapper:r,writer:o}=i;const s=!!n.item.getAttribute(\"todoListChecked\");const a=r.toViewElement(n.item);const c=a.getChild(0);const l=JC(n.item,o,s,e);o.insert(o.createPositionAfter(c),l);o.remove(c)}}function YC(e){return(t,n)=>{const i=n.modelPosition;const r=i.parent;if(!r.is(\"element\",\"listItem\")||r.getAttribute(\"listType\")!=\"todo\"){return}const o=n.mapper.toViewElement(r);const s=KC(o,e);if(s){n.viewPosition=n.mapper.findPositionIn(s,i.offset)}}}function JC(e,t,n,i){const r=t.createUIElement(\"label\",{class:\"todo-list__label\",contenteditable:false},(function(t){const r=Object(VC[\"a\"])(document,\"input\",{type:\"checkbox\"});if(n){r.setAttribute(\"checked\",\"checked\")}r.addEventListener(\"change\",()=>i(e));const o=this.toDomElement(t);o.appendChild(r);return o}));return r}function GC(e,t){const n=t.createRangeIn(e);for(const e of n){if(e.item.is(\"uiElement\",\"label\")){return e.item}}}function KC(e,t){const n=t.createRangeIn(e);for(const e of n){if(e.item.is(\"containerElement\",\"span\")&&e.item.hasClass(\"todo-list__label__description\")){return e.item}}}class XC extends ve[\"a\"]{static get pluginName(){return\"TodoListEditing\"}static get requires(){return[LC[\"a\"]]}init(){const e=this.editor;const{editing:t,data:n,model:i}=e;i.schema.extend(\"listItem\",{allowAttributes:[\"todoListChecked\"]});i.schema.addAttributeCheck((e,t)=>{const n=e.last;if(t==\"todoListChecked\"&&n.name==\"listItem\"&&n.getAttribute(\"listType\")!=\"todo\"){return false}});e.commands.add(\"todoList\",new DC[\"a\"](e,\"todo\"));e.commands.add(\"todoListCheck\",new FC(e));n.downcastDispatcher.on(\"insert:listItem\",HC(i),{priority:\"high\"});n.upcastDispatcher.on(\"element:input\",WC,{priority:\"high\"});t.downcastDispatcher.on(\"insert:listItem\",UC(i,e=>this._handleCheckmarkChange(e)),{priority:\"high\"});t.downcastDispatcher.on(\"attribute:listType:listItem\",$C(e=>this._handleCheckmarkChange(e),t.view));t.downcastDispatcher.on(\"attribute:todoListChecked:listItem\",qC(e=>this._handleCheckmarkChange(e)));t.mapper.on(\"modelToViewPosition\",YC(t.view));n.mapper.on(\"modelToViewPosition\",YC(t.view));this.listenTo(t.view.document,\"keydown\",QC(i,e.locale));e.keystrokes.set(\"Ctrl+space\",()=>e.execute(\"todoListCheck\"));const r=new Set;this.listenTo(i,\"applyOperation\",(e,t)=>{const n=t[0];if(n.type==\"rename\"&&n.oldName==\"listItem\"){const e=n.position.nodeAfter;if(e.hasAttribute(\"todoListChecked\")){r.add(e)}}else if(n.type==\"changeAttribute\"&&n.key==\"listType\"&&n.oldValue===\"todo\"){for(const e of n.range.getItems()){if(e.hasAttribute(\"todoListChecked\")&&e.getAttribute(\"listType\")!==\"todo\"){r.add(e)}}}});i.document.registerPostFixer(e=>{let t=false;for(const n of r){e.removeAttribute(\"todoListChecked\",n);t=true}r.clear();return t})}_handleCheckmarkChange(e){const t=this.editor;const n=t.model;const i=Array.from(n.document.selection.getRanges());n.change(n=>{n.setSelection(e,\"end\");t.execute(\"todoListCheck\");n.setSelection(i)})}}function QC(e,t){return(n,i)=>{const r=Object(gn[\"c\"])(i.keyCode,t.contentLanguageDirection);if(r!=\"left\"){return}const o=e.schema;const s=e.document.selection;if(!s.isCollapsed){return}const a=s.getFirstPosition();const c=a.parent;if(c.name===\"listItem\"&&c.getAttribute(\"listType\")==\"todo\"&&a.isAtStart){const t=o.getNearestSelectionRange(e.createPositionBefore(c),\"backward\");if(t){e.change(e=>e.setSelection(t))}i.preventDefault();i.stopPropagation();n.stop()}}}var ZC='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.315 14.705l2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z\"/></svg>';class eA extends ve[\"a\"]{init(){const e=this.editor.t;Object(zC[\"a\"])(this.editor,\"todoList\",e(\"To-do List\"),ZC)}}var tA=n(485);class nA extends ve[\"a\"]{static get requires(){return[XC,eA]}static get pluginName(){return\"TodoList\"}}const iA=\"underline\";class rA extends ve[\"a\"]{static get pluginName(){return\"UnderlineEditing\"}init(){const e=this.editor;e.model.schema.extend(\"$text\",{allowAttributes:iA});e.model.schema.setAttributeProperties(iA,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:iA,view:\"u\",upcastAlso:{styles:{\"text-decoration\":\"underline\"}}});e.commands.add(iA,new cr[\"a\"](e,iA));e.keystrokes.set(\"CTRL+U\",\"underline\")}}var oA='<svg viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z\"/></svg>';const sA=\"underline\";class aA extends ve[\"a\"]{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(sA,n=>{const i=e.commands.get(sA);const r=new z[\"a\"](n);r.set({label:t(\"Underline\"),icon:oA,keystroke:\"CTRL+U\",tooltip:true,isToggleable:true});r.bind(\"isOn\",\"isEnabled\").to(i,\"value\",\"isEnabled\");this.listenTo(r,\"execute\",()=>{e.execute(sA);e.editing.view.focus()});return r})}}class cA extends ve[\"a\"]{static get requires(){return[rA,aA]}static get pluginName(){return\"Underline\"}}function lA(e){if(e.is(\"$text\")||e.is(\"$textProxy\")){return e.data}let t=\"\";let n=null;for(const i of e.getChildren()){const e=lA(i);if(n&&n.is(\"element\")){t+=\"\\n\"}t+=e;n=i}return t}class dA extends ve[\"a\"]{constructor(e){super(e);this.set(\"characters\",0);this.set(\"words\",0);Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters()}},words:{get(){return this.words=this._getWords()}}});this.set(\"_wordsLabel\");this.set(\"_charactersLabel\");this._config=e.config.get(\"wordCount\")||{};this._outputView;this._wordsMatchRegExp=js[\"a\"].features.isRegExpUnicodePropertySupported?new RegExp(\"[\\\\p{L}\\\\p{N}\\\\p{M}\\\\p{Pd}\\\\p{Pc}]+\",\"gu\"):/[_\\-a-zA-Z0-9À-ž]+/gu}static get pluginName(){return\"WordCount\"}init(){const e=this.editor;e.model.document.on(\"change:data\",Object(Sb[\"a\"])(this._refreshStats.bind(this),250));if(typeof this._config.onUpdate==\"function\"){this.on(\"update\",(e,t)=>{this._config.onUpdate(t)})}if(Object(pe[\"a\"])(this._config.container)){this._config.container.appendChild(this.wordCountContainer)}}destroy(){if(this._outputView){this._outputView.element.remove();this._outputView.destroy()}super.destroy()}get wordCountContainer(){const e=this.editor;const t=e.t;const n=e.config.get(\"wordCount.displayWords\");const i=e.config.get(\"wordCount.displayCharacters\");const r=eo[\"a\"].bind(this,this);const o=[];if(!this._outputView){this._outputView=new m[\"a\"];if(n||n===undefined){this.bind(\"_wordsLabel\").to(this,\"words\",e=>t(\"Words: %0\",[e]));o.push({tag:\"div\",children:[{text:[r.to(\"_wordsLabel\")]}],attributes:{class:\"ck-word-count__words\"}})}if(i||i===undefined){this.bind(\"_charactersLabel\").to(this,\"characters\",e=>t(\"Characters: %0\",[e]));o.push({tag:\"div\",children:[{text:[r.to(\"_charactersLabel\")]}],attributes:{class:\"ck-word-count__characters\"}})}this._outputView.setTemplate({tag:\"div\",attributes:{class:[\"ck\",\"ck-word-count\"]},children:o});this._outputView.render()}return this._outputView.element}_getCharacters(){const e=lA(this.editor.model.document.getRoot());return e.replace(/\\n/g,\"\").length}_getWords(){const e=lA(this.editor.model.document.getRoot());const t=e.match(this._wordsMatchRegExp)||[];return t.length}_refreshStats(){const e=this.words=this._getWords();const t=this.characters=this._getCharacters();this.fire(\"update\",{words:e,characters:t})}}class uA extends _e{}uA.builtinPlugins=[Be,Fe[\"a\"],Ye,et,lt,dt[\"a\"],ar,or,pr,$r,qr[\"a\"],xo,Mo,Yo,ns,hs,ys,ma,Ta,Ha,Ja,Rc,Fc,bl,_l[\"a\"],Ml,Rl[\"a\"],Ud,gu,$u,nh,Jo[\"a\"],Bh,wm,Gb,Up,nk,Ok,Uk,Jk,ex,sx,pC,kC,OC,nA,cA,dA];var hA=t[\"default\"]=uA},function(e,t,n){\"use strict\";var i=n(131);var r=4;function o(e){return Object(i[\"a\"])(e,r)}t[\"a\"]=o},function(e,t,n){\"use strict\";var i=n(271);var r=n(28);var o=\"Expected a function\";function s(e,t,n){var s=true,a=true;if(typeof e!=\"function\"){throw new TypeError(o)}if(Object(r[\"a\"])(n)){s=\"leading\"in n?!!n.leading:s;a=\"trailing\"in n?!!n.trailing:a}return Object(i[\"a\"])(e,t,{leading:s,maxWait:t,trailing:a})}t[\"a\"]=s},,function(e,t,n){\"use strict\";var i=n(168);function r(e,t,n){var r=e==null?undefined:Object(i[\"a\"])(e,t);return r===undefined?n:r}t[\"a\"]=r},function(e,t,n){\"use strict\";var i=n(131);var r=1,o=4;function s(e){return Object(i[\"a\"])(e,r|o)}t[\"a\"]=s}])[\"default\"]}));"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}